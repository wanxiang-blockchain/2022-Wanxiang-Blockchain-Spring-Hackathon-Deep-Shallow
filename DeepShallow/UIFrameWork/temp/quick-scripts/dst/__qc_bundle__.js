
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/Script/AutoScripts/UIAbout_Auto');
require('./assets/Script/AutoScripts/UICapture_Auto');
require('./assets/Script/AutoScripts/UIDungeon_Auto');
require('./assets/Script/AutoScripts/UIECSView_Auto');
require('./assets/Script/AutoScripts/UIFunction_Auto');
require('./assets/Script/AutoScripts/UIGame_Auto');
require('./assets/Script/AutoScripts/UIHome_Auto');
require('./assets/Script/AutoScripts/UILevel_Auto');
require('./assets/Script/AutoScripts/UILight_Auto');
require('./assets/Script/AutoScripts/UILoading_Auto');
require('./assets/Script/AutoScripts/UILogin_Auto');
require('./assets/Script/AutoScripts/UIMap_Auto');
require('./assets/Script/AutoScripts/UIMobx_Auto');
require('./assets/Script/AutoScripts/UINavigator_Auto');
require('./assets/Script/AutoScripts/UIPop_Auto');
require('./assets/Script/AutoScripts/UISetting_Auto');
require('./assets/Script/AutoScripts/UISkills_Auto');
require('./assets/Script/AutoScripts/UISplitTexture_Auto');
require('./assets/Script/AutoScripts/UITips_Auto');
require('./assets/Script/Common/Assemblers/BaseAssembler');
require('./assets/Script/Common/Assemblers/BatchAssembler');
require('./assets/Script/Common/Assemblers/MeshAssembler');
require('./assets/Script/Common/Assemblers/TextureAssembler');
require('./assets/Script/Common/BroadCasts/BroadcastCenter');
require('./assets/Script/Common/Components/BatchComponent');
require('./assets/Script/Common/Components/ButtonPlus');
require('./assets/Script/Common/Components/CacheUtils');
require('./assets/Script/Common/Components/CameraCapture');
require('./assets/Script/Common/Components/DrawBorad');
require('./assets/Script/Common/Components/GridScrollList');
require('./assets/Script/Common/Components/MaskPlus');
require('./assets/Script/Common/Components/MeshTexture');
require('./assets/Script/Common/Components/PropController');
require('./assets/Script/Common/Components/PropSelector');
require('./assets/Script/Common/Components/QuadTree');
require('./assets/Script/Common/Components/ScrollViewHelper');
require('./assets/Script/Common/Components/Shake');
require('./assets/Script/Common/Components/SpinePlus');
require('./assets/Script/Common/Components/TexturePlus');
require('./assets/Script/Common/Components/TouchPlus');
require('./assets/Script/Common/GameConfig');
require('./assets/Script/Common/Light/Light');
require('./assets/Script/Common/Light/LightStruct');
require('./assets/Script/Common/Light/LightUtils');
require('./assets/Script/Common/Light/Obstacle');
require('./assets/Script/Common/Mobx/mobx');
require('./assets/Script/Common/StateMachine/StateMachine');
require('./assets/Script/Common/Utils/BigNumUtils');
require('./assets/Script/Common/Utils/BroadCast');
require('./assets/Script/Common/Utils/CommonUtils');
require('./assets/Script/Common/Utils/DebugWindowUtils');
require('./assets/Script/Common/Utils/DrawingBoard');
require('./assets/Script/Common/Utils/Dungeon');
require('./assets/Script/Common/Utils/EnumUtils');
require('./assets/Script/Common/Utils/GlobalHelper');
require('./assets/Script/Common/Utils/LRUCache');
require('./assets/Script/Common/Utils/MatchUtils');
require('./assets/Script/Common/Utils/Measure');
require('./assets/Script/Common/Utils/PolygonUtil');
require('./assets/Script/Common/Utils/Pool');
require('./assets/Script/Common/Utils/PriorityQueue');
require('./assets/Script/Common/Utils/PriorityStack');
require('./assets/Script/Common/Utils/PropBind');
require('./assets/Script/Common/Utils/Queue');
require('./assets/Script/Common/Utils/TaskMgr');
require('./assets/Script/Logic/Game');
require('./assets/Script/Logic/Manager/BaseMgr');
require('./assets/Script/Logic/Manager/ConfigMgr');
require('./assets/Script/Logic/Manager/PlayerMgr');
require('./assets/Script/Main');
require('./assets/Script/Scene/Scene');
require('./assets/Script/UIConfig');
require('./assets/Script/UIFrame/AdapterMgr');
require('./assets/Script/UIFrame/CocosHelper');
require('./assets/Script/UIFrame/EventCenter');
require('./assets/Script/UIFrame/EventType');
require('./assets/Script/UIFrame/FixedMgr');
require('./assets/Script/UIFrame/FormMgr');
require('./assets/Script/UIFrame/ModalMgr');
require('./assets/Script/UIFrame/ResMgr');
require('./assets/Script/UIFrame/SceneMgr');
require('./assets/Script/UIFrame/SoundMgr');
require('./assets/Script/UIFrame/Struct');
require('./assets/Script/UIFrame/TipsMgr');
require('./assets/Script/UIFrame/ToastMgr');
require('./assets/Script/UIFrame/UIBase');
require('./assets/Script/UIFrame/UIForm');
require('./assets/Script/UIFrame/UIManager');
require('./assets/Script/UIFrame/UIModalScript');
require('./assets/Script/UIFrame/UIToast');
require('./assets/Script/UIFrame/WindowMgr');
require('./assets/Script/UIFrame/config/SysConfig');
require('./assets/Script/UIFrame/config/SysDefine');
require('./assets/Script/UIScript/UIAbout');
require('./assets/Script/UIScript/UICapture');
require('./assets/Script/UIScript/UIDungeon');
require('./assets/Script/UIScript/UIECSView');
require('./assets/Script/UIScript/UIFunction');
require('./assets/Script/UIScript/UIGame');
require('./assets/Script/UIScript/UIHome');
require('./assets/Script/UIScript/UILight');
require('./assets/Script/UIScript/UILoading');
require('./assets/Script/UIScript/UIMap');
require('./assets/Script/UIScript/UIMeshTexture');
require('./assets/Script/UIScript/UIMobx');
require('./assets/Script/UIScript/UINavigator');
require('./assets/Script/UIScript/UIPop');
require('./assets/Script/UIScript/UIScrollPlus');
require('./assets/Script/UIScript/UIScrollTexture');
require('./assets/Script/UIScript/UISetting');
require('./assets/Script/UIScript/UISkills');
require('./assets/Script/UIScript/UISound');
require('./assets/Script/UIScript/UISplitTexture');
require('./assets/Script/UIScript/UITips');
require('./assets/Script/UIScript/UIWave');
require('./assets/Script/config/GuideConfig');
require('./assets/Script/test/Item');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/config/SysConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6147akOR5tLFILrfDfQBCbo', 'SysConfig');
// Script/UIFrame/config/SysConfig.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SysConfig = void 0;
var SysConfig = /** @class */ (function () {
    function SysConfig() {
    }
    SysConfig.useLRUCache = false;
    return SysConfig;
}());
exports.SysConfig = SysConfig;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9jb25maWcvU3lzQ29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUFHQSxDQUFDO0lBRlUscUJBQVcsR0FBRyxLQUFLLENBQUM7SUFFL0IsZ0JBQUM7Q0FIRCxBQUdDLElBQUE7QUFIWSw4QkFBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBTeXNDb25maWcge1xuICAgIHN0YXRpYyB1c2VMUlVDYWNoZSA9IGZhbHNlO1xuICAgIFxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Main.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e1b90/rohdEk4SdmmEZANaD', 'Main');
// Script/Main.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIConfig_1 = require("./UIConfig");
var FormMgr_1 = require("./UIFrame/FormMgr");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Main = /** @class */ (function (_super) {
    __extends(Main, _super);
    function Main() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Main.prototype.onLoad = function () {
    };
    Main.prototype.start = function () {
        // UINavigator.open();
        FormMgr_1.default.open(UIConfig_1.default.UIHome);
    };
    Main.prototype.onDestroy = function () {
    };
    Main = __decorate([
        ccclass
    ], Main);
    return Main;
}(cc.Component));
exports.default = Main;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvTWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx1Q0FBa0M7QUFDbEMsNkNBQXdDO0FBR2xDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtDLHdCQUFZO0lBQTlDOztJQWNBLENBQUM7SUFaRyxxQkFBTSxHQUFOO0lBRUEsQ0FBQztJQUVELG9CQUFLLEdBQUw7UUFDSSxzQkFBc0I7UUFDdEIsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsd0JBQVMsR0FBVDtJQUVBLENBQUM7SUFiZ0IsSUFBSTtRQUR4QixPQUFPO09BQ2EsSUFBSSxDQWN4QjtJQUFELFdBQUM7Q0FkRCxBQWNDLENBZGlDLEVBQUUsQ0FBQyxTQUFTLEdBYzdDO2tCQWRvQixJQUFJIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJQ29uZmlnIGZyb20gXCIuL1VJQ29uZmlnXCI7XG5pbXBvcnQgRm9ybU1nciBmcm9tIFwiLi9VSUZyYW1lL0Zvcm1NZ3JcIjtcbmltcG9ydCBVSU5hdmlnYXRvciBmcm9tIFwiLi9VSVNjcmlwdC9VSU5hdmlnYXRvclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW4gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIFxuICAgIG9uTG9hZCgpIHtcblxuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgLy8gVUlOYXZpZ2F0b3Iub3BlbigpO1xuICAgICAgICBGb3JtTWdyLm9wZW4oVUlDb25maWcuVUlIb21lKTtcbiAgICB9XG4gICAgXG4gICAgb25EZXN0cm95KCkge1xuICAgICAgICBcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/FormMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b34acXq9c1L/Yaf2AaOKH2s', 'FormMgr');
// Script/UIFrame/FormMgr.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var SysDefine_1 = require("./config/SysDefine");
var FixedMgr_1 = require("./FixedMgr");
var SceneMgr_1 = require("./SceneMgr");
var TipsMgr_1 = require("./TipsMgr");
var WindowMgr_1 = require("./WindowMgr");
var FormMgr = /** @class */ (function () {
    function FormMgr() {
    }
    /**
     * 打开窗体
     * @param form 窗体配置信息
     * @param param 自定义参数
     * @param formData 窗体处理时的一些数据
     */
    FormMgr.prototype.open = function (form, param, formData) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = form.type;
                        switch (_a) {
                            case SysDefine_1.FormType.Screen: return [3 /*break*/, 1];
                            case SysDefine_1.FormType.Window: return [3 /*break*/, 3];
                            case SysDefine_1.FormType.Fixed: return [3 /*break*/, 5];
                            case SysDefine_1.FormType.Tips: return [3 /*break*/, 7];
                        }
                        return [3 /*break*/, 9];
                    case 1: return [4 /*yield*/, SceneMgr_1.default.open(form.prefabUrl, param, formData)];
                    case 2: return [2 /*return*/, _b.sent()];
                    case 3: return [4 /*yield*/, WindowMgr_1.default.open(form.prefabUrl, param, formData)];
                    case 4: return [2 /*return*/, _b.sent()];
                    case 5: return [4 /*yield*/, FixedMgr_1.default.open(form.prefabUrl, param, formData)];
                    case 6: return [2 /*return*/, _b.sent()];
                    case 7: return [4 /*yield*/, TipsMgr_1.default.open(form.prefabUrl, param, formData)];
                    case 8: return [2 /*return*/, _b.sent()];
                    case 9:
                        cc.error("\u672A\u77E5\u7C7B\u578B\u7684\u7A97\u4F53: " + form.type);
                        return [2 /*return*/, null];
                }
            });
        });
    };
    FormMgr.prototype.close = function (form) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = form.type;
                        switch (_a) {
                            case SysDefine_1.FormType.Screen: return [3 /*break*/, 1];
                            case SysDefine_1.FormType.Window: return [3 /*break*/, 3];
                            case SysDefine_1.FormType.Fixed: return [3 /*break*/, 5];
                            case SysDefine_1.FormType.Tips: return [3 /*break*/, 7];
                        }
                        return [3 /*break*/, 9];
                    case 1: return [4 /*yield*/, SceneMgr_1.default.close(form.prefabUrl)];
                    case 2: return [2 /*return*/, _b.sent()];
                    case 3: return [4 /*yield*/, WindowMgr_1.default.close(form.prefabUrl)];
                    case 4: return [2 /*return*/, _b.sent()];
                    case 5: return [4 /*yield*/, FixedMgr_1.default.close(form.prefabUrl)];
                    case 6: return [2 /*return*/, _b.sent()];
                    case 7: return [4 /*yield*/, TipsMgr_1.default.close(form.prefabUrl)];
                    case 8: return [2 /*return*/, _b.sent()];
                    case 9:
                        cc.error("\u672A\u77E5\u7C7B\u578B\u7684\u7A97\u4F53: " + form.type);
                        return [2 /*return*/, null];
                }
            });
        });
    };
    FormMgr.prototype.backScene = function (params, formData) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, SceneMgr_1.default.back(params, formData)];
            });
        });
    };
    FormMgr.prototype.closeAllWindows = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, WindowMgr_1.default.closeAll()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return FormMgr;
}());
exports.default = new FormMgr();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9Gb3JtTWdyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0RBQThDO0FBQzlDLHVDQUFrQztBQUNsQyx1Q0FBa0M7QUFFbEMscUNBQWdDO0FBQ2hDLHlDQUFvQztBQUVwQztJQUFBO0lBK0NBLENBQUM7SUE5Q0c7Ozs7O09BS0c7SUFDRyxzQkFBSSxHQUFWLFVBQVcsSUFBaUIsRUFBRSxLQUFXLEVBQUUsUUFBb0I7Ozs7Ozt3QkFDcEQsS0FBQSxJQUFJLENBQUMsSUFBSSxDQUFBOztpQ0FDUCxvQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFoQix3QkFBZTtpQ0FFZixvQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFoQix3QkFBZTtpQ0FFZixvQkFBUSxDQUFDLEtBQUssQ0FBQyxDQUFmLHdCQUFjO2lDQUVkLG9CQUFRLENBQUMsSUFBSSxDQUFDLENBQWQsd0JBQWE7Ozs0QkFMUCxxQkFBTSxrQkFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUMsRUFBQTs0QkFBM0Qsc0JBQU8sU0FBb0QsRUFBQzs0QkFFckQscUJBQU0sbUJBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLEVBQUE7NEJBQTVELHNCQUFPLFNBQXFELEVBQUM7NEJBRXRELHFCQUFNLGtCQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxFQUFBOzRCQUEzRCxzQkFBTyxTQUFvRCxFQUFDOzRCQUVyRCxxQkFBTSxpQkFBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUMsRUFBQTs0QkFBMUQsc0JBQU8sU0FBbUQsRUFBQzs7d0JBRTNELEVBQUUsQ0FBQyxLQUFLLENBQUMsaURBQVksSUFBSSxDQUFDLElBQU0sQ0FBQyxDQUFDO3dCQUNsQyxzQkFBTyxJQUFJLEVBQUM7Ozs7S0FFdkI7SUFFSyx1QkFBSyxHQUFYLFVBQVksSUFBaUI7Ozs7Ozt3QkFDbEIsS0FBQSxJQUFJLENBQUMsSUFBSSxDQUFBOztpQ0FDUCxvQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFoQix3QkFBZTtpQ0FFZixvQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFoQix3QkFBZTtpQ0FFZixvQkFBUSxDQUFDLEtBQUssQ0FBQyxDQUFmLHdCQUFjO2lDQUVkLG9CQUFRLENBQUMsSUFBSSxDQUFDLENBQWQsd0JBQWE7Ozs0QkFMUCxxQkFBTSxrQkFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUE7NEJBQTNDLHNCQUFPLFNBQW9DLEVBQUM7NEJBRXJDLHFCQUFNLG1CQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBQTs0QkFBNUMsc0JBQU8sU0FBcUMsRUFBQzs0QkFFdEMscUJBQU0sa0JBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFBOzRCQUEzQyxzQkFBTyxTQUFvQyxFQUFDOzRCQUVyQyxxQkFBTSxpQkFBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUE7NEJBQTFDLHNCQUFPLFNBQW1DLEVBQUM7O3dCQUUzQyxFQUFFLENBQUMsS0FBSyxDQUFDLGlEQUFZLElBQUksQ0FBQyxJQUFNLENBQUMsQ0FBQzt3QkFDbEMsc0JBQU8sSUFBSSxFQUFDOzs7O0tBRXZCO0lBRUssMkJBQVMsR0FBZixVQUFnQixNQUFZLEVBQUUsUUFBb0I7OztnQkFDOUMsc0JBQU8sa0JBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUFDOzs7S0FDMUM7SUFFSyxpQ0FBZSxHQUFyQjs7Ozs0QkFDSSxxQkFBTSxtQkFBUyxDQUFDLFFBQVEsRUFBRSxFQUFBOzt3QkFBMUIsU0FBMEIsQ0FBQzs7Ozs7S0FDOUI7SUFFTCxjQUFDO0FBQUQsQ0EvQ0EsQUErQ0MsSUFBQTtBQUVELGtCQUFlLElBQUksT0FBTyxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb3JtVHlwZSB9IGZyb20gXCIuL2NvbmZpZy9TeXNEZWZpbmVcIjtcbmltcG9ydCBGaXhlZE1nciBmcm9tIFwiLi9GaXhlZE1nclwiO1xuaW1wb3J0IFNjZW5lTWdyIGZyb20gXCIuL1NjZW5lTWdyXCI7XG5pbXBvcnQgeyBJRm9ybUNvbmZpZywgSUZvcm1EYXRhIH0gZnJvbSBcIi4vU3RydWN0XCI7XG5pbXBvcnQgVGlwc01nciBmcm9tIFwiLi9UaXBzTWdyXCI7XG5pbXBvcnQgV2luZG93TWdyIGZyb20gXCIuL1dpbmRvd01nclwiO1xuXG5jbGFzcyBGb3JtTWdyIHtcbiAgICAvKipcbiAgICAgKiDmiZPlvIDnqpfkvZNcbiAgICAgKiBAcGFyYW0gZm9ybSDnqpfkvZPphY3nva7kv6Hmga9cbiAgICAgKiBAcGFyYW0gcGFyYW0g6Ieq5a6a5LmJ5Y+C5pWwXG4gICAgICogQHBhcmFtIGZvcm1EYXRhIOeql+S9k+WkhOeQhuaXtueahOS4gOS6m+aVsOaNrlxuICAgICAqL1xuICAgIGFzeW5jIG9wZW4oZm9ybTogSUZvcm1Db25maWcsIHBhcmFtPzogYW55LCBmb3JtRGF0YT86IElGb3JtRGF0YSkge1xuICAgICAgICBzd2l0Y2goZm9ybS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEZvcm1UeXBlLlNjcmVlbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgU2NlbmVNZ3Iub3Blbihmb3JtLnByZWZhYlVybCwgcGFyYW0sIGZvcm1EYXRhKTtcbiAgICAgICAgICAgIGNhc2UgRm9ybVR5cGUuV2luZG93OlxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBXaW5kb3dNZ3Iub3Blbihmb3JtLnByZWZhYlVybCwgcGFyYW0sIGZvcm1EYXRhKTtcbiAgICAgICAgICAgIGNhc2UgRm9ybVR5cGUuRml4ZWQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IEZpeGVkTWdyLm9wZW4oZm9ybS5wcmVmYWJVcmwsIHBhcmFtLCBmb3JtRGF0YSk7XG4gICAgICAgICAgICBjYXNlIEZvcm1UeXBlLlRpcHM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFRpcHNNZ3Iub3Blbihmb3JtLnByZWZhYlVybCwgcGFyYW0sIGZvcm1EYXRhKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY2MuZXJyb3IoYOacquefpeexu+Wei+eahOeql+S9kzogJHtmb3JtLnR5cGV9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBjbG9zZShmb3JtOiBJRm9ybUNvbmZpZykge1xuICAgICAgICBzd2l0Y2goZm9ybS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEZvcm1UeXBlLlNjcmVlbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgU2NlbmVNZ3IuY2xvc2UoZm9ybS5wcmVmYWJVcmwpO1xuICAgICAgICAgICAgY2FzZSBGb3JtVHlwZS5XaW5kb3c6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFdpbmRvd01nci5jbG9zZShmb3JtLnByZWZhYlVybCk7XG4gICAgICAgICAgICBjYXNlIEZvcm1UeXBlLkZpeGVkOlxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBGaXhlZE1nci5jbG9zZShmb3JtLnByZWZhYlVybCk7XG4gICAgICAgICAgICBjYXNlIEZvcm1UeXBlLlRpcHM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFRpcHNNZ3IuY2xvc2UoZm9ybS5wcmVmYWJVcmwpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjYy5lcnJvcihg5pyq55+l57G75Z6L55qE56qX5L2TOiAke2Zvcm0udHlwZX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGJhY2tTY2VuZShwYXJhbXM/OiBhbnksIGZvcm1EYXRhPzogSUZvcm1EYXRhKSB7XG4gICAgICAgIHJldHVybiBTY2VuZU1nci5iYWNrKHBhcmFtcywgZm9ybURhdGEpO1xuICAgIH1cblxuICAgIGFzeW5jIGNsb3NlQWxsV2luZG93cygpIHtcbiAgICAgICAgYXdhaXQgV2luZG93TWdyLmNsb3NlQWxsKCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBGb3JtTWdyKCk7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UICapture.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '26449d5Y5lJSqtiyJTfLcTr', 'UICapture');
// Script/UIScript/UICapture.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var CameraCapture_1 = require("../Common/Components/CameraCapture");
var DrawBorad_1 = require("../Common/Components/DrawBorad");
var TouchPlus_1 = require("../Common/Components/TouchPlus");
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UICapture = /** @class */ (function (_super) {
    __extends(UICapture, _super);
    function UICapture() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sprite = null;
        _this.camereCapture = null;
        _this.drawBorad = null;
        _this.touchPlus = null;
        return _this;
        // update (dt) {}
    }
    // onLoad () {}
    UICapture.prototype.start = function () {
        var _this = this;
        this.touchPlus.addEvent(null, function (e) {
            var delta = e.getDelta();
            _this.touchPlus.node.x += delta.x;
            _this.touchPlus.node.y += delta.y;
        });
        this.view.Back.addClick(function () {
            FormMgr_1.default.backScene();
        }, this);
        this.view.Capture.addClick(this.onClickCapture, this);
        this.view.Pen.addClick(this.onClickPen, this);
        this.view.Reaser.addClick(this.onClickReaser, this);
        this.onClickCapture();
    };
    UICapture.prototype.onClickCapture = function () {
        var data = this.camereCapture.captureTexture();
        var texture = new cc.Texture2D();
        texture.initWithData(data, cc.Texture2D.PixelFormat.RGBA8888, this.drawBorad.node.width, this.drawBorad.node.height);
        this.sprite.spriteFrame = new cc.SpriteFrame(texture);
        this.sprite.spriteFrame.setFlipY(true);
        this.drawBorad.setData(data);
    };
    UICapture.prototype.onClickPen = function () {
        this.drawBorad.setPen();
    };
    UICapture.prototype.onClickReaser = function () {
        this.drawBorad.setReaser();
    };
    __decorate([
        property(cc.Sprite)
    ], UICapture.prototype, "sprite", void 0);
    __decorate([
        property(CameraCapture_1.default)
    ], UICapture.prototype, "camereCapture", void 0);
    __decorate([
        property(DrawBorad_1.default)
    ], UICapture.prototype, "drawBorad", void 0);
    __decorate([
        property(TouchPlus_1.default)
    ], UICapture.prototype, "touchPlus", void 0);
    UICapture = __decorate([
        ccclass
    ], UICapture);
    return UICapture;
}(UIForm_1.UIScreen));
exports.default = UICapture;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlDYXB0dXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLG9FQUErRDtBQUMvRCw0REFBdUQ7QUFDdkQsNERBQXVEO0FBQ3ZELDhDQUF5QztBQUN6Qyw0Q0FBNkM7QUFFdkMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVE7SUFBL0M7UUFBQSxxRUFrREM7UUEvQ0csWUFBTSxHQUFjLElBQUksQ0FBQztRQUd6QixtQkFBYSxHQUFrQixJQUFJLENBQUM7UUFFcEMsZUFBUyxHQUFjLElBQUksQ0FBQztRQUU1QixlQUFTLEdBQWMsSUFBSSxDQUFDOztRQXVDNUIsaUJBQWlCO0lBQ3JCLENBQUM7SUFwQ0csZUFBZTtJQUVmLHlCQUFLLEdBQUw7UUFBQSxpQkFlQztRQWRHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxVQUFDLENBQUM7WUFDNUIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ3pCLEtBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ2pDLEtBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3BCLGlCQUFPLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFcEQsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxrQ0FBYyxHQUFkO1FBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMvQyxJQUFJLE9BQU8sR0FBRyxJQUFJLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQTtRQUNoQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JILElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxHQUFHLElBQUksRUFBRSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELDhCQUFVLEdBQVY7UUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFDRCxpQ0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBNUNEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NkNBQ0s7SUFHekI7UUFEQyxRQUFRLENBQUMsdUJBQWEsQ0FBQztvREFDWTtJQUVwQztRQURDLFFBQVEsQ0FBQyxtQkFBUyxDQUFDO2dEQUNRO0lBRTVCO1FBREMsUUFBUSxDQUFDLG1CQUFTLENBQUM7Z0RBQ1E7SUFWWCxTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBa0Q3QjtJQUFELGdCQUFDO0NBbERELEFBa0RDLENBbERzQyxpQkFBUSxHQWtEOUM7a0JBbERvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJQ2FwdHVyZV9BdXRvIGZyb20gXCIuLi9BdXRvU2NyaXB0cy9VSUNhcHR1cmVfQXV0b1wiO1xuaW1wb3J0IENhbWVyYUNhcHR1cmUgZnJvbSBcIi4uL0NvbW1vbi9Db21wb25lbnRzL0NhbWVyYUNhcHR1cmVcIjtcbmltcG9ydCBEcmF3Qm9yYWQgZnJvbSBcIi4uL0NvbW1vbi9Db21wb25lbnRzL0RyYXdCb3JhZFwiO1xuaW1wb3J0IFRvdWNoUGx1cyBmcm9tIFwiLi4vQ29tbW9uL0NvbXBvbmVudHMvVG91Y2hQbHVzXCI7XG5pbXBvcnQgRm9ybU1nciBmcm9tIFwiLi4vVUlGcmFtZS9Gb3JtTWdyXCI7XG5pbXBvcnQgeyBVSVNjcmVlbiB9IGZyb20gXCIuLi9VSUZyYW1lL1VJRm9ybVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJQ2FwdHVyZSBleHRlbmRzIFVJU2NyZWVuIHtcblxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXG4gICAgc3ByaXRlOiBjYy5TcHJpdGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KENhbWVyYUNhcHR1cmUpXG4gICAgY2FtZXJlQ2FwdHVyZTogQ2FtZXJhQ2FwdHVyZSA9IG51bGw7XG4gICAgQHByb3BlcnR5KERyYXdCb3JhZClcbiAgICBkcmF3Qm9yYWQ6IERyYXdCb3JhZCA9IG51bGw7XG4gICAgQHByb3BlcnR5KFRvdWNoUGx1cylcbiAgICB0b3VjaFBsdXM6IFRvdWNoUGx1cyA9IG51bGw7XG5cbiAgICB2aWV3OiBVSUNhcHR1cmVfQXV0bztcblxuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgc3RhcnQgKCkgeyAgICAgICAgXG4gICAgICAgIHRoaXMudG91Y2hQbHVzLmFkZEV2ZW50KG51bGwsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGVsdGEgPSBlLmdldERlbHRhKCk7XG4gICAgICAgICAgICB0aGlzLnRvdWNoUGx1cy5ub2RlLnggKz0gZGVsdGEueDtcbiAgICAgICAgICAgIHRoaXMudG91Y2hQbHVzLm5vZGUueSArPSBkZWx0YS55O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZpZXcuQmFjay5hZGRDbGljaygoKSA9PiB7XG4gICAgICAgICAgICBGb3JtTWdyLmJhY2tTY2VuZSgpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3LkNhcHR1cmUuYWRkQ2xpY2sodGhpcy5vbkNsaWNrQ2FwdHVyZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlldy5QZW4uYWRkQ2xpY2sodGhpcy5vbkNsaWNrUGVuLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3LlJlYXNlci5hZGRDbGljayh0aGlzLm9uQ2xpY2tSZWFzZXIsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMub25DbGlja0NhcHR1cmUoKTtcbiAgICB9XG5cbiAgICBvbkNsaWNrQ2FwdHVyZSgpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmNhbWVyZUNhcHR1cmUuY2FwdHVyZVRleHR1cmUoKTtcbiAgICAgICAgbGV0IHRleHR1cmUgPSBuZXcgY2MuVGV4dHVyZTJEKClcbiAgICAgICAgdGV4dHVyZS5pbml0V2l0aERhdGEoZGF0YSwgY2MuVGV4dHVyZTJELlBpeGVsRm9ybWF0LlJHQkE4ODg4LCB0aGlzLmRyYXdCb3JhZC5ub2RlLndpZHRoLCB0aGlzLmRyYXdCb3JhZC5ub2RlLmhlaWdodCk7ICAgICAgICBcbiAgICAgICAgdGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUgPSBuZXcgY2MuU3ByaXRlRnJhbWUodGV4dHVyZSk7ICAgICAgICBcbiAgICAgICAgdGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUuc2V0RmxpcFkodHJ1ZSk7XG4gICAgICAgIHRoaXMuZHJhd0JvcmFkLnNldERhdGEoZGF0YSk7XG4gICAgfVxuXG4gICAgb25DbGlja1BlbigpIHtcbiAgICAgICAgdGhpcy5kcmF3Qm9yYWQuc2V0UGVuKCk7XG4gICAgfVxuICAgIG9uQ2xpY2tSZWFzZXIoKSB7XG4gICAgICAgIHRoaXMuZHJhd0JvcmFkLnNldFJlYXNlcigpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/config/GuideConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6b6deMaiAZPKpVJ6DlxM7ea', 'GuideConfig');
// Script/config/GuideConfig.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GuideConfig = void 0;
exports.GuideConfig = [
    "你好，我是小精灵莎莎，从今天开始协助元宇宙小镇的经营，请多关照！",
    "你：这里是？",
    "这里是虚空之地，曾经也是有过美好繁华的过去，然而人们在逐步的发展中忘记了拥有的美好……",
    "你：？？？我怎么会来到了这里？",
    "呃……这里的时空会稍微有些错乱……",
    "你：时空错乱？",
    "嗯……没错！虚空之地是时空之门破碎之后，碎片凝聚成的地方，你会在这里遇到过去或者未来的旅行者！",
    "你：这么……厉害？",
    "当然不止这么厉害咯~我们还发现，时空之门的碎片会通过旅行者和小镇的活力重新凝聚！",
    "你：那时空之门恢复的话……",
    "那你就可以回到你自己的那个时代里了呢！",
    "让我们一起为这里找回活力，打造梦想中的小镇吧！",
    "那么，在菜单里选择建造来搭建新的店铺吧！",
    "嘿！快看！第一位旅行者来到我们的小镇了!看起来是一位冒险者呢！",
    "冒险者是我们的贵客，他们来到城镇后，会在商店筹备物资，前去冒险，既带动了小镇的经济，还保护了小镇的安全！",
    "你：保护小镇的安全？",
    "嗯呢！因为时空扭曲，小镇也会受到不同的怪兽攻击，这时候小镇附近的冒险者都会出手相助哟！",
    "新设施建成，右下角的城镇声望升高了！",
    "要注意不同的设施吸引不同的旅行者哟！",
    "我对后续的发展越来越有信心了呢！",
    "活动对提升城镇人气和旅行者能力很有帮助哦！",
    "城镇人气高了，会有更多的旅行者被吸引而来！",
    "在城镇外打倒怪物后，冒险者会获得经验值和资金，才有钱更新装备哟！",
    "可以向冒险者送礼物，你们会成为很好的朋友呢！",
];

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvY29uZmlnL0d1aWRlQ29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFXLFFBQUEsV0FBVyxHQUFPO0lBQ3pCLGtDQUFrQztJQUNsQyxRQUFRO0lBQ1IsNkNBQTZDO0lBRTdDLGlCQUFpQjtJQUVqQixtQkFBbUI7SUFFbkIsU0FBUztJQUVULGlEQUFpRDtJQUVqRCxXQUFXO0lBRVgsMENBQTBDO0lBRTFDLGVBQWU7SUFFZixxQkFBcUI7SUFFckIseUJBQXlCO0lBRXpCLHNCQUFzQjtJQUV0QixpQ0FBaUM7SUFFakMsc0RBQXNEO0lBRXRELFlBQVk7SUFFWiw2Q0FBNkM7SUFFN0Msb0JBQW9CO0lBRXBCLG9CQUFvQjtJQUVwQixrQkFBa0I7SUFFbEIsdUJBQXVCO0lBRXZCLHVCQUF1QjtJQUV2QixrQ0FBa0M7SUFFbEMsd0JBQXdCO0NBQzNCLENBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgbGV0IEd1aWRlQ29uZmlnOmFueVtdPVtcbiAgICBcIuS9oOWlve+8jOaIkeaYr+Wwj+eyvueBteiOjuiOju+8jOS7juS7iuWkqeW8gOWni+WNj+WKqeWFg+Wuh+WumeWwj+mVh+eahOe7j+iQpe+8jOivt+WkmuWFs+eFp++8gVwiLFxuICAgIFwi5L2g77ya6L+Z6YeM5piv77yfXCIsXG4gICAgXCLov5nph4zmmK/omZrnqbrkuYvlnLDvvIzmm77nu4/kuZ/mmK/mnInov4fnvo7lpb3nuYHljY7nmoTov4fljrvvvIznhLbogIzkurrku6zlnKjpgJDmraXnmoTlj5HlsZXkuK3lv5jorrDkuobmi6XmnInnmoTnvo7lpb3igKbigKZcIixcblxuICAgIFwi5L2g77ya77yf77yf77yf5oiR5oCO5LmI5Lya5p2l5Yiw5LqG6L+Z6YeM77yfXCIsXG5cbiAgICBcIuWRg+KApuKApui/memHjOeahOaXtuepuuS8mueojeW+ruacieS6m+mUmeS5seKApuKAplwiLFxuXG4gICAgXCLkvaDvvJrml7bnqbrplJnkubHvvJ9cIixcblxuICAgIFwi5Zev4oCm4oCm5rKh6ZSZ77yB6Jma56m65LmL5Zyw5piv5pe256m65LmL6Zeo56C056KO5LmL5ZCO77yM56KO54mH5Yed6IGa5oiQ55qE5Zyw5pa577yM5L2g5Lya5Zyo6L+Z6YeM6YGH5Yiw6L+H5Y675oiW6ICF5pyq5p2l55qE5peF6KGM6ICF77yBXCIsXG5cbiAgICBcIuS9oO+8mui/meS5iOKApuKApuWOieWus++8n1wiLFxuXG4gICAgXCLlvZPnhLbkuI3mraLov5nkuYjljonlrrPlkq9+5oiR5Lus6L+Y5Y+R546w77yM5pe256m65LmL6Zeo55qE56KO54mH5Lya6YCa6L+H5peF6KGM6ICF5ZKM5bCP6ZWH55qE5rS75Yqb6YeN5paw5Yed6IGa77yBXCIsXG5cbiAgICBcIuS9oO+8mumCo+aXtuepuuS5i+mXqOaBouWkjeeahOivneKApuKAplwiLFxuXG4gICAgXCLpgqPkvaDlsLHlj6/ku6Xlm57liLDkvaDoh6rlt7HnmoTpgqPkuKrml7bku6Pph4zkuoblkaLvvIFcIixcblxuICAgIFwi6K6p5oiR5Lus5LiA6LW35Li66L+Z6YeM5om+5Zue5rS75Yqb77yM5omT6YCg5qKm5oOz5Lit55qE5bCP6ZWH5ZCn77yBXCIsXG5cbiAgICBcIumCo+S5iO+8jOWcqOiPnOWNlemHjOmAieaLqeW7uumAoOadpeaQreW7uuaWsOeahOW6l+mTuuWQp++8gVwiLFxuXG4gICAgXCLlmL/vvIHlv6vnnIvvvIHnrKzkuIDkvY3ml4XooYzogIXmnaXliLDmiJHku6znmoTlsI/plYfkuoYh55yL6LW35p2l5piv5LiA5L2N5YaS6Zmp6ICF5ZGi77yBXCIsXG5cbiAgICBcIuWGkumZqeiAheaYr+aIkeS7rOeahOi0teWuou+8jOS7luS7rOadpeWIsOWfjumVh+WQju+8jOS8muWcqOWVhuW6l+etueWkh+eJqei1hO+8jOWJjeWOu+WGkumZqe+8jOaXouW4puWKqOS6huWwj+mVh+eahOe7j+a1ju+8jOi/mOS/neaKpOS6huWwj+mVh+eahOWuieWFqO+8gVwiLFxuXG4gICAgXCLkvaDvvJrkv53miqTlsI/plYfnmoTlronlhajvvJ9cIixcblxuICAgIFwi5Zev5ZGi77yB5Zug5Li65pe256m65omt5puy77yM5bCP6ZWH5Lmf5Lya5Y+X5Yiw5LiN5ZCM55qE5oCq5YW95pS75Ye777yM6L+Z5pe25YCZ5bCP6ZWH6ZmE6L+R55qE5YaS6Zmp6ICF6YO95Lya5Ye65omL55u45Yqp5ZOf77yBXCIsXG5cbiAgICBcIuaWsOiuvuaWveW7uuaIkO+8jOWPs+S4i+inkueahOWfjumVh+WjsOacm+WNh+mrmOS6hu+8gVwiLFxuXG4gICAgXCLopoHms6jmhI/kuI3lkIznmoTorr7mlr3lkLjlvJXkuI3lkIznmoTml4XooYzogIXlk5/vvIFcIixcblxuICAgIFwi5oiR5a+55ZCO57ut55qE5Y+R5bGV6LaK5p2l6LaK5pyJ5L+h5b+D5LqG5ZGi77yBXCIsXG5cbiAgICBcIua0u+WKqOWvueaPkOWNh+WfjumVh+S6uuawlOWSjOaXheihjOiAheiDveWKm+W+iOacieW4ruWKqeWTpu+8gVwiLFxuXG4gICAgXCLln47plYfkurrmsJTpq5jkuobvvIzkvJrmnInmm7TlpJrnmoTml4XooYzogIXooqvlkLjlvJXogIzmnaXvvIFcIixcblxuICAgIFwi5Zyo5Z+O6ZWH5aSW5omT5YCS5oCq54mp5ZCO77yM5YaS6Zmp6ICF5Lya6I635b6X57uP6aqM5YC85ZKM6LWE6YeR77yM5omN5pyJ6ZKx5pu05paw6KOF5aSH5ZOf77yBXCIsXG5cbiAgICBcIuWPr+S7peWQkeWGkumZqeiAhemAgeekvOeJqe+8jOS9oOS7rOS8muaIkOS4uuW+iOWlveeahOaci+WPi+WRou+8gVwiLFxuXSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/ResMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a1946LwxMZELpC3XyersJGl', 'ResMgr');
// Script/UIFrame/ResMgr.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var CocosHelper_1 = require("./CocosHelper");
/**
 * 资源加载, 针对的是Form
 * 首先将资源分为两类
 * 一种是在编辑器时将其拖上去图片, 这里将其称为静态图片,
 * 一种是在代码中使用cc.loader加载的图片, 这里将其称为动态图片
 *
 * 对于静态资源
 * 1, 加载  在加载prefab时, cocos会将其依赖的图片一并加载, 所有不需要我们担心
 * 2, 释放  这里采用的引用计数的管理方法, 只需要调用destoryForm即可
 *
 * 加载一个窗体
 * 第一步 加载prefab, 第二步 实例化prefab 获得 node
 * 所以销毁一个窗体 也需要两步, 销毁node, 销毁prefab
 */
var ResMgr = /** @class */ (function () {
    function ResMgr() {
        /**
         * 采用计数管理的办法, 管理form所依赖的资源
         */
        this._prefabDepends = cc.js.createMap();
        this._dynamicTags = cc.js.createMap();
        this._tmpAssetsDepends = []; // 临时缓存
        this._assetsReference = cc.js.createMap(); // 资源引用计数
        this._prefabs = cc.js.createMap(); // 预制体缓存
    }
    Object.defineProperty(ResMgr, "inst", {
        get: function () {
            if (this.instance === null) {
                this.instance = new ResMgr();
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    /** 加载窗体 */
    ResMgr.prototype.loadFormPrefab = function (fid) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, res, deps;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (this._prefabs[fid])
                            return [2 /*return*/, this._prefabs[fid]];
                        return [4 /*yield*/, this._loadResWithReference(fid, cc.Prefab)];
                    case 1:
                        _a = _b.sent(), res = _a.res, deps = _a.deps;
                        this._prefabDepends[fid] = deps;
                        this._prefabs[fid] = res;
                        return [2 /*return*/, res];
                }
            });
        });
    };
    /** 销毁窗体 */
    ResMgr.prototype.destoryFormPrefab = function (fid) {
        if (this._prefabs[fid]) {
            this._prefabs[fid].destroy();
            this._prefabs[fid] = null;
            delete this._prefabs[fid];
        }
        // 销毁依赖的资源
        this._destoryResWithReference(this._prefabDepends[fid]);
        // 删除缓存
        this._prefabDepends[fid] = null;
        delete this._prefabDepends[fid];
    };
    /** 动态资源管理, 通过tag标记当前资源, 统一释放 */
    ResMgr.prototype.loadDynamicRes = function (url, type, tag) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, res, deps;
            var _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0: return [4 /*yield*/, this._loadResWithReference(url, type)];
                    case 1:
                        _a = _c.sent(), res = _a.res, deps = _a.deps;
                        if (!this._dynamicTags[tag]) {
                            this._dynamicTags[tag] = [];
                        }
                        (_b = this._dynamicTags[tag]).push.apply(_b, deps);
                        return [2 /*return*/, res];
                }
            });
        });
    };
    /** 销毁动态资源  */
    ResMgr.prototype.destoryDynamicRes = function (tag) {
        if (!this._dynamicTags[tag]) { // 销毁
            return false;
        }
        this._destoryResWithReference(this._dynamicTags[tag]);
        this._dynamicTags[tag] = null;
        delete this._dynamicTags[tag];
        return true;
    };
    /** 加载资源并添加引用计数 */
    ResMgr.prototype._loadResWithReference = function (url, type) {
        return __awaiter(this, void 0, void 0, function () {
            var res, deps;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, CocosHelper_1.default.loadResSync(url, type, this._addTmpAssetsDepends.bind(this))];
                    case 1:
                        res = _a.sent();
                        if (!res) {
                            this._clearTmpAssetsDepends();
                            return [2 /*return*/, null];
                        }
                        this._clearTmpAssetsDepends();
                        deps = cc.assetManager.dependUtil.getDepsRecursively(res['_uuid']) || [];
                        deps.push(res['_uuid']);
                        this.addAssetsDepends(deps);
                        return [2 /*return*/, {
                                res: res,
                                deps: deps
                            }];
                }
            });
        });
    };
    /** 更加引用销毁资源 */
    ResMgr.prototype._destoryResWithReference = function (deps) {
        var _toDeletes = this.removeAssetsDepends(deps);
        this._destoryAssets(_toDeletes);
        return true;
    };
    /** 添加资源计数 */
    ResMgr.prototype.addAssetsDepends = function (deps) {
        for (var _i = 0, deps_1 = deps; _i < deps_1.length; _i++) {
            var s = deps_1[_i];
            if (this._checkIsBuiltinAssets(s))
                continue;
            if (this._assetsReference[s]) {
                this._assetsReference[s] += 1;
            }
            else {
                this._assetsReference[s] = 1;
            }
        }
    };
    /** 删除资源计数 */
    ResMgr.prototype.removeAssetsDepends = function (deps) {
        var _deletes = [];
        for (var _i = 0, deps_2 = deps; _i < deps_2.length; _i++) {
            var s = deps_2[_i];
            if (!this._assetsReference[s] || this._assetsReference[s] === 0)
                continue;
            this._assetsReference[s]--;
            if (this._assetsReference[s] === 0) {
                _deletes.push(s);
                delete this._assetsReference[s]; // 删除key;
            }
        }
        return _deletes;
    };
    ResMgr.prototype._destoryAssets = function (urls) {
        for (var _i = 0, urls_1 = urls; _i < urls_1.length; _i++) {
            var url = urls_1[_i];
            this._destoryAsset(url);
        }
    };
    /** 销毁资源 */
    ResMgr.prototype._destoryAsset = function (url) {
        if (this._checkIsBuiltinAssets(url))
            return;
        cc.assetManager.assets.remove(url); // 从缓存中清除
        var asset = cc.assetManager.assets.get(url); // 销毁该资源
        asset && asset.destroy();
        cc.assetManager.dependUtil['remove'](url); // 从依赖中删除
    };
    /** 临时添加资源计数 */
    ResMgr.prototype._addTmpAssetsDepends = function (completedCount, totalCount, item) {
        var _a;
        var deps = (cc.assetManager.dependUtil.getDepsRecursively(item.uuid) || []);
        deps.push(item.uuid);
        this.addAssetsDepends(deps);
        (_a = this._tmpAssetsDepends).push.apply(_a, deps);
    };
    /** 删除临时添加的计数 */
    ResMgr.prototype._clearTmpAssetsDepends = function () {
        for (var _i = 0, _a = this._tmpAssetsDepends; _i < _a.length; _i++) {
            var s = _a[_i];
            if (!this._assetsReference[s] || this._assetsReference[s] === 0)
                continue;
            this._assetsReference[s]--;
            if (this._assetsReference[s] === 0) {
                delete this._assetsReference[s]; // 这里不清理缓存
            }
        }
        this._tmpAssetsDepends = [];
    };
    /** 检查是否是builtin内的资源 */
    ResMgr.prototype._checkIsBuiltinAssets = function (url) {
        var asset = cc.assetManager.assets.get(url);
        if (asset && asset['_name'].indexOf("builtin") != -1) {
            return true;
        }
        return false;
    };
    /** 计算当前纹理数量和缓存 */
    ResMgr.prototype.computeTextureCache = function () {
        var cache = cc.assetManager.assets;
        var totalTextureSize = 0;
        var count = 0;
        cache.forEach(function (item, key) {
            var type = (item && item['__classname__']) ? item['__classname__'] : '';
            if (type == 'cc.Texture2D') {
                var texture = item;
                var textureSize = texture.width * texture.height * ((texture['_native'] === '.jpg' ? 3 : 4) / 1024 / 1024);
                // debugger
                totalTextureSize += textureSize;
                count++;
            }
        });
        return "\u7F13\u5B58 [\u7EB9\u7406\u603B\u6570:" + count + "][\u7EB9\u7406\u7F13\u5B58:" + (totalTextureSize.toFixed(2) + 'M') + "]";
    };
    ResMgr.instance = null;
    return ResMgr;
}());
exports.default = ResMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9SZXNNZ3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBd0M7QUFJeEM7Ozs7Ozs7Ozs7Ozs7R0FhRztBQUNIO0lBQUE7UUFTSTs7V0FFRztRQUNLLG1CQUFjLEdBQW1DLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDbkUsaUJBQVksR0FBbUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUVqRSxzQkFBaUIsR0FBYSxFQUFFLENBQUMsQ0FBdUMsT0FBTztRQUMvRSxxQkFBZ0IsR0FBNEIsRUFBRSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFVLFNBQVM7UUFFakYsYUFBUSxHQUErQixFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQWUsUUFBUTtJQWlLNUYsQ0FBQztJQWpMRyxzQkFBa0IsY0FBSTthQUF0QjtZQUNJLElBQUcsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQzthQUNoQztZQUNELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN6QixDQUFDOzs7T0FBQTtJQWNELFdBQVc7SUFDRSwrQkFBYyxHQUEzQixVQUE0QixHQUFXOzs7Ozs7d0JBQ25DLElBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUM7NEJBQUUsc0JBQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBQzt3QkFDL0IscUJBQU0sSUFBSSxDQUFDLHFCQUFxQixDQUFZLEdBQUcsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUE7O3dCQUF6RSxLQUFjLFNBQTJELEVBQXhFLEdBQUcsU0FBQSxFQUFFLElBQUksVUFBQTt3QkFDZCxJQUFJ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Q0ksSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUM7UUFDbkMsSUFBSSxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7UUFDekIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQWMsRUFBRSxHQUFXO1lBQ3RDLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUN4RSxJQUFHLElBQUksSUFBSSxjQUFjLEVBQUU7Z0JBQ3ZCLElBQUksT0FBTyxHQUFHLElBQW9CLENBQUM7Z0JBQ25DLElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUM7Z0JBQzNHLFdBQVc7Z0JBQ1gsZ0JBQWdCLElBQUksV0FBVyxDQUFDO2dCQUNoQyxLQUFLLEVBQUcsQ0FBQzthQUNaO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLDRDQUFZLEtBQUssb0NBQVUsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsT0FBRyxDQUFDO0lBQzNFLENBQUM7SUFoTGMsZUFBUSxHQUFXLElBQUksQ0FBQztJQWtMM0MsYUFBQztDQW5MRCxBQW1MQyxJQUFBO2tCQW5Mb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb2Nvc0hlbHBlciBmcm9tIFwiLi9Db2Nvc0hlbHBlclwiO1xuaW1wb3J0IFVJQmFzZSBmcm9tIFwiLi9VSUJhc2VcIjtcbmltcG9ydCB7IEV2ZW50Q2VudGVyIH0gZnJvbSBcIi4vRXZlbnRDZW50ZXJcIjtcblxuLyoqXG4gKiDotYTmupDliqDovb0sIOmSiOWvueeahOaYr0Zvcm1cbiAqIOmmluWFiOWwhui1hOa6kOWIhuS4uuS4pOexu1xuICog5LiA56eN5piv5Zyo57yW6L6R5Zmo5pe25bCG5YW25ouW5LiK5Y675Zu+54mHLCDov5nph4zlsIblhbbnp7DkuLrpnZnmgIHlm77niYcsIFxuICog5LiA56eN5piv5Zyo5Luj56CB5Lit5L2/55SoY2MubG9hZGVy5Yqg6L2955qE5Zu+54mHLCDov5nph4zlsIblhbbnp7DkuLrliqjmgIHlm77niYdcbiAqIFxuICog5a+55LqO6Z2Z5oCB6LWE5rqQXG4gKiAxLCDliqDovb0gIOWcqOWKoOi9vXByZWZhYuaXtiwgY29jb3PkvJrlsIblhbbkvp3otZbnmoTlm77niYfkuIDlubbliqDovb0sIOaJgOacieS4jemcgOimgeaIkeS7rOaLheW/g1xuICogMiwg6YeK5pS+ICDov5nph4zph4fnlKjnmoTlvJXnlKjorqHmlbDnmoTnrqHnkIbmlrnms5UsIOWPqumcgOimgeiwg+eUqGRlc3RvcnlGb3Jt5Y2z5Y+vXG4gKiBcbiAqIOWKoOi9veS4gOS4queql+S9k1xuICog56ys5LiA5q2lIOWKoOi9vXByZWZhYiwg56ys5LqM5q2lIOWunuS+i+WMlnByZWZhYiDojrflvpcgbm9kZVxuICog5omA5Lul6ZSA5q+B5LiA5Liq56qX5L2TIOS5n+mcgOimgeS4pOatpSwg6ZSA5q+Bbm9kZSwg6ZSA5q+BcHJlZmFiXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc01nciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFJlc01nciA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdCgpIHtcbiAgICAgICAgaWYodGhpcy5pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBSZXNNZ3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG5cbiAgICAvKiogXG4gICAgICog6YeH55So6K6h5pWw566h55CG55qE5Yqe5rOVLCDnrqHnkIZmb3Jt5omA5L6d6LWW55qE6LWE5rqQXG4gICAgICovXG4gICAgcHJpdmF0ZSBfcHJlZmFiRGVwZW5kczoge1trZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz59ID0gY2MuanMuY3JlYXRlTWFwKCk7XG4gICAgcHJpdmF0ZSBfZHluYW1pY1RhZ3M6IHtba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+fSA9IGNjLmpzLmNyZWF0ZU1hcCgpOyAgICAgICBcblxuICAgIHByaXZhdGUgX3RtcEFzc2V0c0RlcGVuZHM6IHN0cmluZ1tdID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Li05pe257yT5a2YXG4gICAgcHJpdmF0ZSBfYXNzZXRzUmVmZXJlbmNlOiB7W2tleTogc3RyaW5nXTogbnVtYmVyfSA9IGNjLmpzLmNyZWF0ZU1hcCgpOyAgICAgICAgICAvLyDotYTmupDlvJXnlKjorqHmlbBcblxuICAgIHByaXZhdGUgX3ByZWZhYnM6IHtba2V5OiBzdHJpbmddOiBjYy5QcmVmYWJ9ID0gY2MuanMuY3JlYXRlTWFwKCk7ICAgICAgICAgICAgICAgLy8g6aKE5Yi25L2T57yT5a2YXG5cbiAgICBcbiAgICAvKiog5Yqg6L2956qX5L2TICovXG4gICAgcHVibGljIGFzeW5jIGxvYWRGb3JtUHJlZmFiKGZpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmKHRoaXMuX3ByZWZhYnNbZmlkXSkgcmV0dXJuIHRoaXMuX3ByZWZhYnNbZmlkXTtcbiAgICAgICAgbGV0IHtyZXMsIGRlcHN9ID0gYXdhaXQgdGhpcy5fbG9hZFJlc1dpdGhSZWZlcmVuY2U8Y2MuUHJlZmFiPihmaWQsIGNjLlByZWZhYik7XG4gICAgICAgIHRoaXMuX3ByZWZhYkRlcGVuZHNbZmlkXSA9IGRlcHM7XG4gICAgICAgIHRoaXMuX3ByZWZhYnNbZmlkXSA9IHJlcztcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvKiog6ZSA5q+B56qX5L2TICovXG4gICAgcHVibGljIGRlc3RvcnlGb3JtUHJlZmFiKGZpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmKHRoaXMuX3ByZWZhYnNbZmlkXSkge1xuICAgICAgICAgICAgdGhpcy5fcHJlZmFic1tmaWRdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX3ByZWZhYnNbZmlkXSA9IG51bGw7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcHJlZmFic1tmaWRdO1xuICAgICAgICB9XG4gICAgICAgIC8vIOmUgOavgeS+nei1lueahOi1hOa6kFxuICAgICAgICB0aGlzLl9kZXN0b3J5UmVzV2l0aFJlZmVyZW5jZSh0aGlzLl9wcmVmYWJEZXBlbmRzW2ZpZF0pO1xuICAgICAgICAvLyDliKDpmaTnvJPlrZhcbiAgICAgICAgdGhpcy5fcHJlZmFiRGVwZW5kc1tmaWRdID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3ByZWZhYkRlcGVuZHNbZmlkXTtcbiAgICB9XG5cblxuICAgIC8qKiDliqjmgIHotYTmupDnrqHnkIYsIOmAmui/h3RhZ+agh+iusOW9k+WJjei1hOa6kCwg57uf5LiA6YeK5pS+ICovXG4gICAgcHVibGljIGFzeW5jIGxvYWREeW5hbWljUmVzPFQ+KHVybDogc3RyaW5nLCB0eXBlOiB0eXBlb2YgY2MuQXNzZXQsIHRhZzogc3RyaW5nKSB7XG4gICAgICAgIGxldCB7cmVzLCBkZXBzfSA9IGF3YWl0IHRoaXMuX2xvYWRSZXNXaXRoUmVmZXJlbmNlPFQ+KHVybCwgdHlwZSk7XG4gICAgICAgIGlmKCF0aGlzLl9keW5hbWljVGFnc1t0YWddKSB7XG4gICAgICAgICAgICB0aGlzLl9keW5hbWljVGFnc1t0YWddID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHluYW1pY1RhZ3NbdGFnXS5wdXNoKC4uLmRlcHMpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIC8qKiDplIDmr4HliqjmgIHotYTmupAgICovXG4gICAgcHVibGljIGRlc3RvcnlEeW5hbWljUmVzKHRhZzogc3RyaW5nKSB7XG4gICAgICAgIGlmKCF0aGlzLl9keW5hbWljVGFnc1t0YWddKSB7ICAgICAgIC8vIOmUgOavgVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rlc3RvcnlSZXNXaXRoUmVmZXJlbmNlKHRoaXMuX2R5bmFtaWNUYWdzW3RhZ10pXG4gICAgICAgIFxuICAgICAgICB0aGlzLl9keW5hbWljVGFnc1t0YWddID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2R5bmFtaWNUYWdzW3RhZ107XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG5cbiAgICAvKiog5Yqg6L296LWE5rqQ5bm25re75Yqg5byV55So6K6h5pWwICovXG4gICAgcHJpdmF0ZSBhc3luYyBfbG9hZFJlc1dpdGhSZWZlcmVuY2U8VD4odXJsOiBzdHJpbmcsIHR5cGU6IHR5cGVvZiBjYy5Bc3NldCkge1xuICAgICAgICBsZXQgcmVzID0gYXdhaXQgQ29jb3NIZWxwZXIubG9hZFJlc1N5bmM8VD4odXJsLCB0eXBlLCB0aGlzLl9hZGRUbXBBc3NldHNEZXBlbmRzLmJpbmQodGhpcykpO1xuICAgICAgICBpZighcmVzKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhclRtcEFzc2V0c0RlcGVuZHMoKTsgICAgXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbGVhclRtcEFzc2V0c0RlcGVuZHMoKTtcbiAgICAgICAgbGV0IGRlcHMgPSBjYy5hc3NldE1hbmFnZXIuZGVwZW5kVXRpbC5nZXREZXBzUmVjdXJzaXZlbHkocmVzWydfdXVpZCddKSB8fCBbXTtcbiAgICAgICAgZGVwcy5wdXNoKHJlc1snX3V1aWQnXSk7XG4gICAgICAgIHRoaXMuYWRkQXNzZXRzRGVwZW5kcyhkZXBzKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzOiByZXMsXG4gICAgICAgICAgICBkZXBzOiBkZXBzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqIOabtOWKoOW8leeUqOmUgOavgei1hOa6kCAqL1xuICAgIHByaXZhdGUgX2Rlc3RvcnlSZXNXaXRoUmVmZXJlbmNlKGRlcHM6IHN0cmluZ1tdKSB7XG4gICAgICAgIGxldCBfdG9EZWxldGVzID0gdGhpcy5yZW1vdmVBc3NldHNEZXBlbmRzKGRlcHMpO1xuICAgICAgICB0aGlzLl9kZXN0b3J5QXNzZXRzKF90b0RlbGV0ZXMpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IFxuXG4gICAgLyoqIOa3u+WKoOi1hOa6kOiuoeaVsCAqL1xuICAgIHByaXZhdGUgYWRkQXNzZXRzRGVwZW5kcyhkZXBzOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIGZvcihsZXQgcyBvZiBkZXBzKSB7XG4gICAgICAgICAgICBpZih0aGlzLl9jaGVja0lzQnVpbHRpbkFzc2V0cyhzKSkgY29udGludWU7XG4gICAgICAgICAgICBpZih0aGlzLl9hc3NldHNSZWZlcmVuY2Vbc10pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hc3NldHNSZWZlcmVuY2Vbc10gKz0gMTtcbiAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hc3NldHNSZWZlcmVuY2Vbc10gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiDliKDpmaTotYTmupDorqHmlbAgKi9cbiAgICBwcml2YXRlIHJlbW92ZUFzc2V0c0RlcGVuZHMoZGVwczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBsZXQgX2RlbGV0ZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGZvcihsZXQgcyBvZiBkZXBzKSB7XG4gICAgICAgICAgICBpZighdGhpcy5fYXNzZXRzUmVmZXJlbmNlW3NdIHx8IHRoaXMuX2Fzc2V0c1JlZmVyZW5jZVtzXSA9PT0gMCkgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLl9hc3NldHNSZWZlcmVuY2Vbc10gLS07XG4gICAgICAgICAgICBpZih0aGlzLl9hc3NldHNSZWZlcmVuY2Vbc10gPT09IDApIHsgICAgIFxuICAgICAgICAgICAgICAgIF9kZWxldGVzLnB1c2gocyk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2Fzc2V0c1JlZmVyZW5jZVtzXTsgICAgICAgICAgICAgICAgICAvLyDliKDpmaRrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9kZWxldGVzO1xuICAgIH1cbiAgICBwcml2YXRlIF9kZXN0b3J5QXNzZXRzKHVybHM6IHN0cmluZ1tdKSB7XG4gICAgICAgIGZvcihjb25zdCB1cmwgb2YgdXJscykge1xuICAgICAgICAgICAgdGhpcy5fZGVzdG9yeUFzc2V0KHVybCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIOmUgOavgei1hOa6kCAqL1xuICAgIHByaXZhdGUgX2Rlc3RvcnlBc3NldCh1cmw6IHN0cmluZykge1xuICAgICAgICBpZih0aGlzLl9jaGVja0lzQnVpbHRpbkFzc2V0cyh1cmwpKSByZXR1cm47XG4gICAgICAgIGNjLmFzc2V0TWFuYWdlci5hc3NldHMucmVtb3ZlKHVybCk7ICAgICAgICAgICAgICAgLy8g5LuO57yT5a2Y5Lit5riF6ZmkXG4gICAgICAgIGxldCBhc3NldCA9IGNjLmFzc2V0TWFuYWdlci5hc3NldHMuZ2V0KHVybCk7ICAgICAgLy8g6ZSA5q+B6K+l6LWE5rqQXG4gICAgICAgIGFzc2V0ICYmIGFzc2V0LmRlc3Ryb3koKTtcbiAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmRlcGVuZFV0aWxbJ3JlbW92ZSddKHVybCk7ICAgICAgICAvLyDku47kvp3otZbkuK3liKDpmaRcbiAgICB9XG5cbiAgICAvKiog5Li05pe25re75Yqg6LWE5rqQ6K6h5pWwICovXG4gICAgcHJpdmF0ZSBfYWRkVG1wQXNzZXRzRGVwZW5kcyhjb21wbGV0ZWRDb3VudDogbnVtYmVyLCB0b3RhbENvdW50OiBudW1iZXIsIGl0ZW06IGFueSkge1xuICAgICAgICBsZXQgZGVwcyA9IChjYy5hc3NldE1hbmFnZXIuZGVwZW5kVXRpbC5nZXREZXBzUmVjdXJzaXZlbHkoaXRlbS51dWlkKSB8fCBbXSk7XG4gICAgICAgIGRlcHMucHVzaChpdGVtLnV1aWQpO1xuICAgICAgICB0aGlzLmFkZEFzc2V0c0RlcGVuZHMoZGVwcyk7XG5cbiAgICAgICAgdGhpcy5fdG1wQXNzZXRzRGVwZW5kcy5wdXNoKC4uLmRlcHMpO1xuICAgIH1cbiAgICAvKiog5Yig6Zmk5Li05pe25re75Yqg55qE6K6h5pWwICovXG4gICAgcHJpdmF0ZSBfY2xlYXJUbXBBc3NldHNEZXBlbmRzKCkge1xuICAgICAgICBmb3IobGV0IHMgb2YgdGhpcy5fdG1wQXNzZXRzRGVwZW5kcykge1xuICAgICAgICAgICAgaWYoIXRoaXMuX2Fzc2V0c1JlZmVyZW5jZVtzXSB8fCB0aGlzLl9hc3NldHNSZWZlcmVuY2Vbc10gPT09IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy5fYXNzZXRzUmVmZXJlbmNlW3NdIC0tO1xuICAgICAgICAgICAgaWYodGhpcy5fYXNzZXRzUmVmZXJlbmNlW3NdID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2Fzc2V0c1JlZmVyZW5jZVtzXTsgICAgICAgICAgIC8vIOi/memHjOS4jea4heeQhue8k+WtmFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RtcEFzc2V0c0RlcGVuZHMgPSBbXTtcbiAgICB9XG5cbiAgICAvKiog5qOA5p+l5piv5ZCm5pivYnVpbHRpbuWGheeahOi1hOa6kCAqL1xuICAgIHByaXZhdGUgX2NoZWNrSXNCdWlsdGluQXNzZXRzKHVybDogc3RyaW5nKSB7XG4gICAgICAgIGxldCBhc3NldCA9IGNjLmFzc2V0TWFuYWdlci5hc3NldHMuZ2V0KHVybCk7XG4gICAgICAgIGlmKGFzc2V0ICYmIGFzc2V0WydfbmFtZSddLmluZGV4T2YoXCJidWlsdGluXCIpICE9IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqIOiuoeeul+W9k+WJjee6ueeQhuaVsOmHj+WSjOe8k+WtmCAqL1xuICAgIHB1YmxpYyBjb21wdXRlVGV4dHVyZUNhY2hlKCkge1xuICAgICAgICBsZXQgY2FjaGUgPSBjYy5hc3NldE1hbmFnZXIuYXNzZXRzO1xuICAgICAgICBsZXQgdG90YWxUZXh0dXJlU2l6ZSA9IDA7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGNhY2hlLmZvckVhY2goKGl0ZW06IGNjLkFzc2V0LCBrZXk6IHN0cmluZykgPT4geyAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHR5cGUgPSAoaXRlbSAmJiBpdGVtWydfX2NsYXNzbmFtZV9fJ10pID8gaXRlbVsnX19jbGFzc25hbWVfXyddIDogJyc7XG4gICAgICAgICAgICBpZih0eXBlID09ICdjYy5UZXh0dXJlMkQnKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRleHR1cmUgPSBpdGVtIGFzIGNjLlRleHR1cmUyRDtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dHVyZVNpemUgPSB0ZXh0dXJlLndpZHRoICogdGV4dHVyZS5oZWlnaHQgKiAoKHRleHR1cmVbJ19uYXRpdmUnXSA9PT0gJy5qcGcnID8gMyA6IDQpIC8gMTAyNCAvIDEwMjQpO1xuICAgICAgICAgICAgICAgIC8vIGRlYnVnZ2VyXG4gICAgICAgICAgICAgICAgdG90YWxUZXh0dXJlU2l6ZSArPSB0ZXh0dXJlU2l6ZTtcbiAgICAgICAgICAgICAgICBjb3VudCArKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBg57yT5a2YIFvnurnnkIbmgLvmlbA6JHtjb3VudH1dW+e6ueeQhue8k+WtmDoke3RvdGFsVGV4dHVyZVNpemUudG9GaXhlZCgyKSArICdNJ31dYDtcbiAgICB9XG5cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/SceneMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8337d/EvnBHjrW/BJTtgaeW', 'SceneMgr');
// Script/UIFrame/SceneMgr.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var SysDefine_1 = require("./config/SysDefine");
var TipsMgr_1 = require("./TipsMgr");
var UIManager_1 = require("./UIManager");
var TAG = "SceneMgr";
var SceneMgr = /** @class */ (function () {
    function SceneMgr() {
        this._scenes = [];
        this._currScene = "";
    }
    SceneMgr.prototype.getCurrScene = function () {
        return UIManager_1.default.getInstance().getForm(this._currScene);
    };
    /** 打开一个场景 */
    SceneMgr.prototype.open = function (scenePath, params, formData) {
        return __awaiter(this, void 0, void 0, function () {
            var currScene, idx, com;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this._currScene == scenePath) {
                            cc.warn(TAG, "当前场景和需要open的场景是同一个");
                            return [2 /*return*/, null];
                        }
                        return [4 /*yield*/, this.openLoading(formData === null || formData === void 0 ? void 0 : formData.loadingForm, params, formData)];
                    case 1:
                        _a.sent();
                        if (!(this._scenes.length > 0)) return [3 /*break*/, 3];
                        currScene = this._scenes[this._scenes.length - 1];
                        return [4 /*yield*/, UIManager_1.default.getInstance().closeForm(currScene)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        idx = this._scenes.indexOf(scenePath);
                        if (idx == -1) {
                            this._scenes.push(scenePath);
                        }
                        else {
                            this._scenes.length = idx + 1;
                        }
                        this._currScene = scenePath;
                        return [4 /*yield*/, UIManager_1.default.getInstance().openForm(scenePath, params, formData)];
                    case 4:
                        com = _a.sent();
                        return [4 /*yield*/, this.closeLoading(formData === null || formData === void 0 ? void 0 : formData.loadingForm)];
                    case 5:
                        _a.sent();
                        return [2 /*return*/, com];
                }
            });
        });
    };
    /** 回退一个场景 */
    SceneMgr.prototype.back = function (params, formData) {
        return __awaiter(this, void 0, void 0, function () {
            var currScene;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this._scenes.length <= 1) {
                            cc.warn(TAG, "已经是最后一个场景了, 无处可退");
                            return [2 /*return*/];
                        }
                        return [4 /*yield*/, this.openLoading(formData === null || formData === void 0 ? void 0 : formData.loadingForm, params, formData)];
                    case 1:
                        _a.sent();
                        currScene = this._scenes.pop();
                        return [4 /*yield*/, UIManager_1.default.getInstance().closeForm(currScene)];
                    case 2:
                        _a.sent();
                        this._currScene = this._scenes[this._scenes.length - 1];
                        return [4 /*yield*/, UIManager_1.default.getInstance().openForm(this._currScene, params, formData)];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this.closeLoading(formData === null || formData === void 0 ? void 0 : formData.loadingForm)];
                    case 4:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    SceneMgr.prototype.close = function (scenePath) {
        return __awaiter(this, void 0, void 0, function () {
            var com;
            return __generator(this, function (_a) {
                com = UIManager_1.default.getInstance().getForm(scenePath);
                if (com) {
                    return [2 /*return*/, UIManager_1.default.getInstance().closeForm(scenePath)];
                }
                return [2 /*return*/];
            });
        });
    };
    SceneMgr.prototype.openLoading = function (formConfig, params, formData) {
        return __awaiter(this, void 0, void 0, function () {
            var form;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        form = formConfig || SysDefine_1.SysDefine.defaultLoadingForm;
                        if (!form)
                            return [2 /*return*/];
                        return [4 /*yield*/, TipsMgr_1.default.open(form.prefabUrl, params, formData)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    SceneMgr.prototype.closeLoading = function (formConfig) {
        return __awaiter(this, void 0, void 0, function () {
            var form;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        form = formConfig || SysDefine_1.SysDefine.defaultLoadingForm;
                        if (!form)
                            return [2 /*return*/];
                        return [4 /*yield*/, TipsMgr_1.default.close(form.prefabUrl)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return SceneMgr;
}());
exports.default = new SceneMgr();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9TY2VuZU1nci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdEQUErQztBQUUvQyxxQ0FBZ0M7QUFDaEMseUNBQW9DO0FBRXBDLElBQU0sR0FBRyxHQUFHLFVBQVUsQ0FBQztBQUN2QjtJQUFBO1FBQ1ksWUFBTyxHQUFrQixFQUFFLENBQUM7UUFDNUIsZUFBVSxHQUFXLEVBQUUsQ0FBQztJQW1FcEMsQ0FBQztJQWpFVSwrQkFBWSxHQUFuQjtRQUNJLE9BQU8sbUJBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFRCxhQUFhO0lBQ0EsdUJBQUksR0FBakIsVUFBa0IsU0FBaUIsRUFBRSxNQUFZLEVBQUUsUUFBb0I7Ozs7Ozt3QkFDbkUsSUFBRyxJQUFJLENBQUMsVUFBVSxJQUFJLFNBQVMsRUFBRTs0QkFDN0IsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsb0JBQW9CLENBQUMsQ0FBQzs0QkFDbkMsc0JBQU8sSUFBSSxFQUFDO3lCQUNmO3dCQUVELHFCQUFNLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLEVBQUE7O3dCQUEvRCxTQUErRCxDQUFDOzZCQUU3RCxDQUFBLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQSxFQUF2Qix3QkFBdUI7d0JBQ2xCLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNwRCxxQkFBTSxtQkFBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBQTs7d0JBQWxELFNBQWtELENBQUM7Ozt3QkFHbkQsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUMxQyxJQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRTs0QkFDVixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzt5QkFDaEM7NkJBQUs7NEJBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQzt5QkFDakM7d0JBRUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7d0JBRWxCLHFCQUFNLG1CQUFTLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLEVBQUE7O3dCQUF6RSxHQUFHLEdBQUcsU0FBbUU7d0JBQzdFLHFCQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLFdBQVcsQ0FBQyxFQUFBOzt3QkFBOUMsU0FBOEMsQ0FBQzt3QkFDL0Msc0JBQU8sR0FBRyxFQUFDOzs7O0tBQ2Q7SUFFRCxhQUFhO0lBQ0EsdUJBQUksR0FBakIsVUFBa0IsTUFBWSxFQUFFLFFBQW9COzs7Ozs7d0JBQ2hELElBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFOzRCQUN6QixFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDOzRCQUNqQyxzQkFBUTt5QkFDWDt3QkFDRCxxQkFBTSxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUFBOzt3QkFBL0QsU0FBK0QsQ0FBQzt3QkFDNUQsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7d0JBQ25DLHFCQUFNLG1CQUFTLENBQUMsV0FBVyxFQUFFLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxFQUFBOzt3QkFBbEQsU0FBa0QsQ0FBQzt3QkFFbkQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUN0RCxxQkFBTSxtQkFBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsRUFBQTs7d0JBQXpFLFNBQXlFLENBQUM7d0JBQzFFLHFCQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLFdBQVcsQ0FBQyxFQUFBOzt3QkFBOUMsU0FBOEMsQ0FBQzs7Ozs7S0FDbEQ7SUFFWSx3QkFBSyxHQUFsQixVQUFtQixTQUFpQjs7OztnQkFDNUIsR0FBRyxHQUFHLG1CQUFTLENBQUMsV0FBVyxFQUFFLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNyRCxJQUFHLEdBQUcsRUFBRTtvQkFDSixzQkFBTyxtQkFBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBQztpQkFDdkQ7Ozs7S0FDSjtJQUVhLDhCQUFXLEdBQXpCLFVBQTBCLFVBQXVCLEVBQUUsTUFBVyxFQUFFLFFBQW1COzs7Ozs7d0JBQzNFLElBQUksR0FBRyxVQUFVLElBQUkscUJBQVMsQ0FBQyxrQkFBa0IsQ0FBQzt3QkFDdEQsSUFBRyxDQUFDLElBQUk7NEJBQUUsc0JBQVE7d0JBQ2xCLHFCQUFNLGlCQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUFBOzt3QkFBcEQsU0FBb0QsQ0FBQzs7Ozs7S0FDeEQ7SUFDYSwrQkFBWSxHQUExQixVQUEyQixVQUF1Qjs7Ozs7O3dCQUMxQyxJQUFJLEdBQUcsVUFBVSxJQUFJLHFCQUFTLENBQUMsa0JBQWtCLENBQUM7d0JBQ3RELElBQUcsQ0FBQyxJQUFJOzRCQUFFLHNCQUFRO3dCQUNsQixxQkFBTSxpQkFBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUE7O3dCQUFuQyxTQUFtQyxDQUFDOzs7OztLQUN2QztJQUVMLGVBQUM7QUFBRCxDQXJFQSxBQXFFQyxJQUFBO0FBRUQsa0JBQWUsSUFBSSxRQUFRLEVBQUUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN5c0RlZmluZSB9IGZyb20gXCIuL2NvbmZpZy9TeXNEZWZpbmVcIjtcbmltcG9ydCB7IElGb3JtQ29uZmlnLCBJRm9ybURhdGEgfSBmcm9tIFwiLi9TdHJ1Y3RcIjtcbmltcG9ydCBUaXBzTWdyIGZyb20gXCIuL1RpcHNNZ3JcIjtcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XG5cbmNvbnN0IFRBRyA9IFwiU2NlbmVNZ3JcIjtcbmNsYXNzIFNjZW5lTWdyIHtcbiAgICBwcml2YXRlIF9zY2VuZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICBwcml2YXRlIF9jdXJyU2NlbmU6IHN0cmluZyA9IFwiXCI7XG5cbiAgICBwdWJsaWMgZ2V0Q3VyclNjZW5lKCkge1xuICAgICAgICByZXR1cm4gVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0Rm9ybSh0aGlzLl9jdXJyU2NlbmUpO1xuICAgIH1cblxuICAgIC8qKiDmiZPlvIDkuIDkuKrlnLrmma8gKi9cbiAgICBwdWJsaWMgYXN5bmMgb3BlbihzY2VuZVBhdGg6IHN0cmluZywgcGFyYW1zPzogYW55LCBmb3JtRGF0YT86IElGb3JtRGF0YSkge1xuICAgICAgICBpZih0aGlzLl9jdXJyU2NlbmUgPT0gc2NlbmVQYXRoKSB7XG4gICAgICAgICAgICBjYy53YXJuKFRBRywgXCLlvZPliY3lnLrmma/lkozpnIDopoFvcGVu55qE5Zy65pmv5piv5ZCM5LiA5LiqXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLm9wZW5Mb2FkaW5nKGZvcm1EYXRhPy5sb2FkaW5nRm9ybSwgcGFyYW1zLCBmb3JtRGF0YSk7XG5cbiAgICAgICAgaWYodGhpcy5fc2NlbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBjdXJyU2NlbmUgPSB0aGlzLl9zY2VuZXNbdGhpcy5fc2NlbmVzLmxlbmd0aC0xXTtcbiAgICAgICAgICAgIGF3YWl0IFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNsb3NlRm9ybShjdXJyU2NlbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlkeCA9IHRoaXMuX3NjZW5lcy5pbmRleE9mKHNjZW5lUGF0aCk7XG4gICAgICAgIGlmKGlkeCA9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fc2NlbmVzLnB1c2goc2NlbmVQYXRoKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2NlbmVzLmxlbmd0aCA9IGlkeCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jdXJyU2NlbmUgPSBzY2VuZVBhdGg7XG5cbiAgICAgICAgbGV0IGNvbSA9IGF3YWl0IFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLm9wZW5Gb3JtKHNjZW5lUGF0aCwgcGFyYW1zLCBmb3JtRGF0YSk7XG4gICAgICAgIGF3YWl0IHRoaXMuY2xvc2VMb2FkaW5nKGZvcm1EYXRhPy5sb2FkaW5nRm9ybSk7XG4gICAgICAgIHJldHVybiBjb207XG4gICAgfVxuXG4gICAgLyoqIOWbnumAgOS4gOS4quWcuuaZryAqL1xuICAgIHB1YmxpYyBhc3luYyBiYWNrKHBhcmFtcz86IGFueSwgZm9ybURhdGE/OiBJRm9ybURhdGEpIHtcbiAgICAgICAgaWYodGhpcy5fc2NlbmVzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICBjYy53YXJuKFRBRywgXCLlt7Lnu4/mmK/mnIDlkI7kuIDkuKrlnLrmma/kuoYsIOaXoOWkhOWPr+mAgFwiKTtcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5vcGVuTG9hZGluZyhmb3JtRGF0YT8ubG9hZGluZ0Zvcm0sIHBhcmFtcywgZm9ybURhdGEpO1xuICAgICAgICBsZXQgY3VyclNjZW5lID0gdGhpcy5fc2NlbmVzLnBvcCgpO1xuICAgICAgICBhd2FpdCBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jbG9zZUZvcm0oY3VyclNjZW5lKTtcblxuICAgICAgICB0aGlzLl9jdXJyU2NlbmUgPSB0aGlzLl9zY2VuZXNbdGhpcy5fc2NlbmVzLmxlbmd0aC0xXTtcbiAgICAgICAgYXdhaXQgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkub3BlbkZvcm0odGhpcy5fY3VyclNjZW5lLCBwYXJhbXMsIGZvcm1EYXRhKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbG9zZUxvYWRpbmcoZm9ybURhdGE/LmxvYWRpbmdGb3JtKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2xvc2Uoc2NlbmVQYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGNvbSA9IFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEZvcm0oc2NlbmVQYXRoKTtcbiAgICAgICAgaWYoY29tKSB7XG4gICAgICAgICAgICByZXR1cm4gVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2xvc2VGb3JtKHNjZW5lUGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIG9wZW5Mb2FkaW5nKGZvcm1Db25maWc6IElGb3JtQ29uZmlnLCBwYXJhbXM6IGFueSwgZm9ybURhdGE6IElGb3JtRGF0YSkge1xuICAgICAgICBsZXQgZm9ybSA9IGZvcm1Db25maWcgfHwgU3lzRGVmaW5lLmRlZmF1bHRMb2FkaW5nRm9ybTtcbiAgICAgICAgaWYoIWZvcm0pIHJldHVybiA7XG4gICAgICAgIGF3YWl0IFRpcHNNZ3Iub3Blbihmb3JtLnByZWZhYlVybCwgcGFyYW1zLCBmb3JtRGF0YSk7XG4gICAgfVxuICAgIHByaXZhdGUgYXN5bmMgY2xvc2VMb2FkaW5nKGZvcm1Db25maWc6IElGb3JtQ29uZmlnKSB7XG4gICAgICAgIGxldCBmb3JtID0gZm9ybUNvbmZpZyB8fCBTeXNEZWZpbmUuZGVmYXVsdExvYWRpbmdGb3JtO1xuICAgICAgICBpZighZm9ybSkgcmV0dXJuIDtcbiAgICAgICAgYXdhaXQgVGlwc01nci5jbG9zZShmb3JtLnByZWZhYlVybCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTY2VuZU1ncigpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/TipsMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6203812cXtNHJ8vqmVbOWHK', 'TipsMgr');
// Script/UIFrame/TipsMgr.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIManager_1 = require("./UIManager");
var TipsMgr = /** @class */ (function () {
    function TipsMgr() {
    }
    TipsMgr.prototype.open = function (url, params, formData) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, UIManager_1.default.getInstance().openForm(url, params, formData)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    TipsMgr.prototype.close = function (url) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, UIManager_1.default.getInstance().closeForm(url)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return TipsMgr;
}());
exports.default = new TipsMgr();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9UaXBzTWdyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EseUNBQW9DO0FBRXBDO0lBQUE7SUFPQSxDQUFDO0lBTmdCLHNCQUFJLEdBQWpCLFVBQWtCLEdBQVcsRUFBRSxNQUFZLEVBQUUsUUFBb0I7Ozs7NEJBQ3RELHFCQUFNLG1CQUFTLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLEVBQUE7NEJBQXBFLHNCQUFPLFNBQTZELEVBQUM7Ozs7S0FDeEU7SUFDWSx1QkFBSyxHQUFsQixVQUFtQixHQUFXOzs7OzRCQUNuQixxQkFBTSxtQkFBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBQTs0QkFBbkQsc0JBQU8sU0FBNEMsRUFBQzs7OztLQUN2RDtJQUNMLGNBQUM7QUFBRCxDQVBBLEFBT0MsSUFBQTtBQUVELGtCQUFlLElBQUksT0FBTyxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRm9ybURhdGEgfSBmcm9tIFwiLi9TdHJ1Y3RcIjtcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XG5cbmNsYXNzIFRpcHNNZ3Ige1xuICAgIHB1YmxpYyBhc3luYyBvcGVuKHVybDogc3RyaW5nLCBwYXJhbXM/OiBhbnksIGZvcm1EYXRhPzogSUZvcm1EYXRhKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5vcGVuRm9ybSh1cmwsIHBhcmFtcywgZm9ybURhdGEpO1xuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgY2xvc2UodXJsOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNsb3NlRm9ybSh1cmwpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFRpcHNNZ3IoKTsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/SoundMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '712729Tx0JBoI/gunNGv3kP', 'SoundMgr');
// Script/UIFrame/SoundMgr.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var CocosHelper_1 = require("./CocosHelper");
var SysDefine_1 = require("./config/SysDefine");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var SoundMgr = /** @class */ (function (_super) {
    __extends(SoundMgr, _super);
    function SoundMgr() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.audioCache = cc.js.createMap();
        _this.currEffectId = -1;
        _this.currMusicId = -1;
        /** volume */
        _this.volume = new Volume();
        return _this;
        // update (dt) {}
    }
    Object.defineProperty(SoundMgr, "inst", {
        get: function () {
            if (this._inst == null) {
                this._inst = cc.find(SysDefine_1.SysDefine.SYS_UIROOT_NAME).addComponent(this);
            }
            return this._inst;
        },
        enumerable: false,
        configurable: true
    });
    SoundMgr.prototype.onLoad = function () {
        var volume = this.getVolumeToLocal();
        if (volume) {
            this.volume = volume;
        }
        else {
            this.volume.musicVolume = 1;
            this.volume.effectVolume = 1;
        }
        this.setVolumeToLocal();
        cc.game.on(cc.game.EVENT_HIDE, function () {
            cc.audioEngine.pauseAll();
        }, this);
        cc.game.on(cc.game.EVENT_SHOW, function () {
            cc.audioEngine.resumeAll();
        }, this);
    };
    SoundMgr.prototype.getVolume = function () {
        return this.volume;
    };
    SoundMgr.prototype.start = function () {
    };
    /**  */
    SoundMgr.prototype.setMusicVolume = function (musicVolume) {
        this.volume.musicVolume = musicVolume;
        this.setVolumeToLocal();
    };
    SoundMgr.prototype.setEffectVolume = function (effectVolume) {
        this.volume.effectVolume = effectVolume;
        this.setVolumeToLocal();
    };
    /** 播放背景音乐 */
    SoundMgr.prototype.playMusic = function (url, loop) {
        if (loop === void 0) { loop = true; }
        return __awaiter(this, void 0, void 0, function () {
            var sound;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!url || url === '')
                            return [2 /*return*/];
                        if (this.audioCache[url]) {
                            cc.audioEngine.playMusic(this.audioCache[url], loop);
                            return [2 /*return*/];
                        }
                        return [4 /*yield*/, CocosHelper_1.default.loadResSync(url, cc.AudioClip)];
                    case 1:
                        sound = _a.sent();
                        this.audioCache[url] = sound;
                        this.currMusicId = cc.audioEngine.playMusic(sound, loop);
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 播放音效 */
    SoundMgr.prototype.playEffect = function (url, loop) {
        if (loop === void 0) { loop = false; }
        return __awaiter(this, void 0, void 0, function () {
            var sound;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!url || url === '')
                            return [2 /*return*/];
                        if (this.audioCache[url]) {
                            cc.audioEngine.playEffect(this.audioCache[url], loop);
                            return [2 /*return*/];
                        }
                        return [4 /*yield*/, CocosHelper_1.default.loadResSync(url, cc.AudioClip)];
                    case 1:
                        sound = _a.sent();
                        this.audioCache[url] = sound;
                        this.currEffectId = cc.audioEngine.playEffect(sound, loop);
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 从本地读取 */
    SoundMgr.prototype.getVolumeToLocal = function () {
        var objStr = cc.sys.localStorage.getItem("Volume_For_Creator");
        if (!objStr) {
            return null;
        }
        return JSON.parse(objStr);
    };
    /** 设置音量 */
    SoundMgr.prototype.setVolumeToLocal = function () {
        cc.audioEngine.setMusicVolume(this.volume.musicVolume);
        cc.audioEngine.setEffectsVolume(this.volume.effectVolume);
        cc.sys.localStorage.setItem("Volume_For_Creator", JSON.stringify(this.volume));
    };
    SoundMgr.prototype.setEffectActive = function (active, id) {
        if (id === void 0) { id = -1; }
        if (active) {
            cc.audioEngine.stop(id < 0 ? this.currEffectId : id);
        }
        else {
            cc.audioEngine.resume(id < 0 ? this.currEffectId : id);
        }
    };
    SoundMgr._inst = null; // 单例
    SoundMgr = __decorate([
        ccclass
    ], SoundMgr);
    return SoundMgr;
}(cc.Component));
exports.default = SoundMgr;
var Volume = /** @class */ (function () {
    function Volume() {
    }
    return Volume;
}());

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9Tb3VuZE1nci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBd0M7QUFDeEMsZ0RBQStDO0FBRXpDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXNDLDRCQUFZO0lBQWxEO1FBQUEscUVBb0dDO1FBbEdXLGdCQUFVLEdBQWtDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUM7UUFVOUQsa0JBQVksR0FBVyxDQUFDLENBQUMsQ0FBQztRQUMxQixpQkFBVyxHQUFXLENBQUMsQ0FBQyxDQUFDO1FBbUJqQyxhQUFhO1FBQ0wsWUFBTSxHQUFXLElBQUksTUFBTSxFQUFFLENBQUM7O1FBa0V0QyxpQkFBaUI7SUFDckIsQ0FBQztJQS9GRyxzQkFBa0IsZ0JBQUk7YUFBdEI7WUFDSSxJQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMscUJBQVMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxZQUFZLENBQVcsSUFBSSxDQUFDLENBQUM7YUFDaEY7WUFDRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDdEIsQ0FBQzs7O09BQUE7SUFLRCx5QkFBTSxHQUFOO1FBQ0ksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDckMsSUFBRyxNQUFNLEVBQUU7WUFDUCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztTQUN4QjthQUFLO1lBQ0YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxH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QUQsYUFBQztBQUFELENBSEEsQUFHQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvY29zSGVscGVyIGZyb20gXCIuL0NvY29zSGVscGVyXCI7XG5pbXBvcnQgeyBTeXNEZWZpbmUgfSBmcm9tIFwiLi9jb25maWcvU3lzRGVmaW5lXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU291bmRNZ3IgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSBhdWRpb0NhY2hlOiB7W2tleTogc3RyaW5nXTogY2MuQXVkaW9DbGlwfSA9IGNjLmpzLmNyZWF0ZU1hcCgpO1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3Q6IFNvdW5kTWdyID0gbnVsbDsgICAgICAgICAgICAgICAgICAgICAvLyDljZXkvotcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0KCk6IFNvdW5kTWdyIHtcbiAgICAgICAgaWYodGhpcy5faW5zdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnN0ID0gY2MuZmluZChTeXNEZWZpbmUuU1lTX1VJUk9PVF9OQU1FKS5hZGRDb21wb25lbnQ8U291bmRNZ3I+KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3VyckVmZmVjdElkOiBudW1iZXIgPSAtMTtcbiAgICBwcml2YXRlIGN1cnJNdXNpY0lkOiBudW1iZXIgPSAtMTtcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIGxldCB2b2x1bWUgPSB0aGlzLmdldFZvbHVtZVRvTG9jYWwoKTtcbiAgICAgICAgaWYodm9sdW1lKSB7XG4gICAgICAgICAgICB0aGlzLnZvbHVtZSA9IHZvbHVtZTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgdGhpcy52b2x1bWUubXVzaWNWb2x1bWUgPSAxO1xuICAgICAgICAgICAgdGhpcy52b2x1bWUuZWZmZWN0Vm9sdW1lID0gMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFZvbHVtZVRvTG9jYWwoKTtcblxuICAgICAgICBjYy5nYW1lLm9uKGNjLmdhbWUuRVZFTlRfSElERSwgKCkgPT4ge1xuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VBbGwoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGNjLmdhbWUub24oY2MuZ2FtZS5FVkVOVF9TSE9XLCAoKSA9PiB7XG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWVBbGwoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICAgIC8qKiB2b2x1bWUgKi9cbiAgICBwcml2YXRlIHZvbHVtZTogVm9sdW1lID0gbmV3IFZvbHVtZSgpO1xuICAgIGdldFZvbHVtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cbiAgICAvKiogICovXG4gICAgcHVibGljIHNldE11c2ljVm9sdW1lKG11c2ljVm9sdW1lOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy52b2x1bWUubXVzaWNWb2x1bWUgPSBtdXNpY1ZvbHVtZTtcbiAgICAgICAgdGhpcy5zZXRWb2x1bWVUb0xvY2FsKCk7XG4gICAgfVxuICAgIHB1YmxpYyBzZXRFZmZlY3RWb2x1bWUoZWZmZWN0Vm9sdW1lOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy52b2x1bWUuZWZmZWN0Vm9sdW1lID0gZWZmZWN0Vm9sdW1lO1xuICAgICAgICB0aGlzLnNldFZvbHVtZVRvTG9jYWwoKTtcbiAgICB9XG4gICAgLyoqIOaSreaUvuiDjOaZr+mfs+S5kCAqL1xuICAgIHB1YmxpYyBhc3luYyBwbGF5TXVzaWModXJsOiBzdHJpbmcsIGxvb3AgPSB0cnVlKSB7XG4gICAgICAgIGlmKCF1cmwgfHwgdXJsID09PSAnJykgcmV0dXJuIDtcbiAgICAgICAgXG4gICAgICAgIGlmKHRoaXMuYXVkaW9DYWNoZVt1cmxdKSB7XG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5TXVzaWModGhpcy5hdWRpb0NhY2hlW3VybF0sIGxvb3ApO1xuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc291bmQgPSBhd2FpdCBDb2Nvc0hlbHBlci5sb2FkUmVzU3luYzxjYy5BdWRpb0NsaXA+KHVybCwgY2MuQXVkaW9DbGlwKTtcbiAgICAgICAgdGhpcy5hdWRpb0NhY2hlW3VybF0gPSBzb3VuZDtcbiAgICAgICAgdGhpcy5jdXJyTXVzaWNJZCA9IGNjLmF1ZGlvRW5naW5lLnBsYXlNdXNpYyhzb3VuZCwgbG9vcCk7XG4gICAgfVxuICAgIC8qKiDmkq3mlL7pn7PmlYggKi9cbiAgICBwdWJsaWMgYXN5bmMgcGxheUVmZmVjdCh1cmw6IHN0cmluZywgbG9vcCA9IGZhbHNlKSB7XG4gICAgICAgIGlmKCF1cmwgfHwgdXJsID09PSAnJykgcmV0dXJuIDtcbiAgICAgICAgXG4gICAgICAgIGlmKHRoaXMuYXVkaW9DYWNoZVt1cmxdKSB7XG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5RWZmZWN0KHRoaXMuYXVkaW9DYWNoZVt1cmxdLCBsb29wKTtcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNvdW5kID0gYXdhaXQgQ29jb3NIZWxwZXIubG9hZFJlc1N5bmM8Y2MuQXVkaW9DbGlwPih1cmwsIGNjLkF1ZGlvQ2xpcCk7XG4gICAgICAgIHRoaXMuYXVkaW9DYWNoZVt1cmxdID0gc291bmQ7XG4gICAgICAgIHRoaXMuY3VyckVmZmVjdElkID0gY2MuYXVkaW9FbmdpbmUucGxheUVmZmVjdChzb3VuZCwgbG9vcCk7XG4gICAgfVxuXG4gICAgLyoqIOS7juacrOWcsOivu+WPliAqL1xuICAgIHByaXZhdGUgZ2V0Vm9sdW1lVG9Mb2NhbCgpIHtcbiAgICAgICAgbGV0IG9ialN0ciA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlZvbHVtZV9Gb3JfQ3JlYXRvclwiKTtcbiAgICAgICAgaWYoIW9ialN0cikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uob2JqU3RyKTtcbiAgICB9XG4gICAgLyoqIOiuvue9rumfs+mHjyAqL1xuICAgIHByaXZhdGUgc2V0Vm9sdW1lVG9Mb2NhbCgpIHtcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0TXVzaWNWb2x1bWUodGhpcy52b2x1bWUubXVzaWNWb2x1bWUpO1xuICAgICAgICBjYy5hdWRpb0VuZ2luZS5zZXRFZmZlY3RzVm9sdW1lKHRoaXMudm9sdW1lLmVmZmVjdFZvbHVtZSk7XG5cbiAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiVm9sdW1lX0Zvcl9DcmVhdG9yXCIsIEpTT04uc3RyaW5naWZ5KHRoaXMudm9sdW1lKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEVmZmVjdEFjdGl2ZShhY3RpdmU6IGJvb2xlYW4sIGlkOiBudW1iZXIgPSAtMSkge1xuICAgICAgICBpZihhY3RpdmUpIHtcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3AoaWQgPCAwID8gdGhpcy5jdXJyRWZmZWN0SWQgOiBpZCk7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZShpZCA8IDAgPyB0aGlzLmN1cnJFZmZlY3RJZCA6IGlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG5cbmNsYXNzIFZvbHVtZSB7XG4gICAgbXVzaWNWb2x1bWU6IG51bWJlcjtcbiAgICBlZmZlY3RWb2x1bWU6IG51bWJlcjtcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/FixedMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6d5adVytGZORIxY7M3VpixZ', 'FixedMgr');
// Script/UIFrame/FixedMgr.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIManager_1 = require("./UIManager");
var FixedMgr = /** @class */ (function () {
    function FixedMgr() {
    }
    FixedMgr.prototype.open = function (url, params, formData) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, UIManager_1.default.getInstance().openForm(url, params, formData)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    FixedMgr.prototype.close = function (url) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, UIManager_1.default.getInstance().closeForm(url)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return FixedMgr;
}());
exports.default = new FixedMgr();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9GaXhlZE1nci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLHlDQUFvQztBQUVwQztJQUFBO0lBT0EsQ0FBQztJQU5nQix1QkFBSSxHQUFqQixVQUFrQixHQUFXLEVBQUUsTUFBWSxFQUFFLFFBQW9COzs7OzRCQUN0RCxxQkFBTSxtQkFBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUFBOzRCQUFwRSxzQkFBTyxTQUE2RCxFQUFDOzs7O0tBQ3hFO0lBQ1ksd0JBQUssR0FBbEIsVUFBbUIsR0FBVzs7Ozs0QkFDbkIscUJBQU0sbUJBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUE7NEJBQW5ELHNCQUFPLFNBQTRDLEVBQUM7Ozs7S0FDdkQ7SUFDTCxlQUFDO0FBQUQsQ0FQQSxBQU9DLElBQUE7QUFFRCxrQkFBZSxJQUFJLFFBQVEsRUFBRSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUZvcm1EYXRhIH0gZnJvbSBcIi4vU3RydWN0XCI7XG5pbXBvcnQgVUlNYW5hZ2VyIGZyb20gXCIuL1VJTWFuYWdlclwiO1xuXG5jbGFzcyBGaXhlZE1nciB7XG4gICAgcHVibGljIGFzeW5jIG9wZW4odXJsOiBzdHJpbmcsIHBhcmFtcz86IGFueSwgZm9ybURhdGE/OiBJRm9ybURhdGEpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLm9wZW5Gb3JtKHVybCwgcGFyYW1zLCBmb3JtRGF0YSk7XG4gICAgfVxuICAgIHB1YmxpYyBhc3luYyBjbG9zZSh1cmw6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXdhaXQgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2xvc2VGb3JtKHVybCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgRml4ZWRNZ3IoKTsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/EventType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd91c3NJBEVLOImFlZf1j8Q7', 'EventType');
// Script/UIFrame/EventType.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EventType = void 0;
/** 事件名称 */
var EventType;
(function (EventType) {
    EventType["GameShow"] = "GameShow";
    EventType["GameHide"] = "GameHide";
    EventType["WindowClosed"] = "WindowClosed";
    EventType["FormClosed"] = "FormClosed";
})(EventType = exports.EventType || (exports.EventType = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9FdmVudFR5cGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsV0FBVztBQUNYLElBQVksU0FNWDtBQU5ELFdBQVksU0FBUztJQUNqQixrQ0FBcUIsQ0FBQTtJQUNyQixrQ0FBcUIsQ0FBQTtJQUVyQiwwQ0FBNkIsQ0FBQTtJQUM3QixzQ0FBeUIsQ0FBQTtBQUM3QixDQUFDLEVBTlcsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUFNcEIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiog5LqL5Lu25ZCN56ewICovXG5leHBvcnQgZW51bSBFdmVudFR5cGUge1xuICAgIEdhbWVTaG93ID0gXCJHYW1lU2hvd1wiLFxuICAgIEdhbWVIaWRlID0gXCJHYW1lSGlkZVwiLFxuXG4gICAgV2luZG93Q2xvc2VkID0gXCJXaW5kb3dDbG9zZWRcIixcbiAgICBGb3JtQ2xvc2VkID0gXCJGb3JtQ2xvc2VkXCIsXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/UIBase.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5ba19xmlHJNg4x0oLeSB7Ay', 'UIBase');
// Script/UIFrame/UIBase.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIManager_1 = require("./UIManager");
var AdapterMgr_1 = require("./AdapterMgr");
var ResMgr_1 = require("./ResMgr");
var FormMgr_1 = require("./FormMgr");
var UIBase = /** @class */ (function (_super) {
    __extends(UIBase, _super);
    function UIBase() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /** 窗体id,该窗体的唯一标示(请不要对这个值进行赋值操作, 内部已经实现了对应的赋值) */
        _this.fid = '';
        /** 窗体数据 */
        _this.formData = null;
        /** 窗体类型 */
        _this.formType = null;
        /** 关闭类型, 关闭窗口后销毁, 会将其依赖的资源一并销毁, 采用了引用计数的管理, 不用担心会影响其他窗体 */
        _this.closeType = null;
        /** 是否已经调用过preinit方法 */
        _this._inited = false;
        _this.view = null;
        _this.model = null;
        /** 设置是否挡住触摸事件 */
        _this._blocker = null;
        return _this;
    }
    ;
    UIBase.open = function (param, formData) {
        var uiconfig = this['UIConfig'];
        if (!uiconfig) {
            cc.warn("sorry UIConfig is null, please check UIConfig");
            return;
        }
        FormMgr_1.default.open(uiconfig, param, formData);
    };
    UIBase.close = function () {
        FormMgr_1.default.close(this['UIConfig']);
    };
    /** 预先初始化 */
    UIBase.prototype._preInit = function (params) {
        return __awaiter(this, void 0, void 0, function () {
            var errorMsg;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this._inited)
                            return [2 /*return*/];
                        this._inited = true;
                        this.view = this.getComponent(this.node.name + "_Auto");
                        return [4 /*yield*/, this.load(params)];
                    case 1:
                        errorMsg = _a.sent();
                        if (errorMsg) {
                            cc.error(errorMsg);
                            this.closeSelf();
                            return [2 /*return*/];
                        }
                        this.onInit(params);
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 可以在这里进行一些资源的加载, 具体实现可以看test下的代码 */
    UIBase.prototype.load = function (params) {
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, null];
            });
        });
    };
    /** 初始化, 只调用一次 */
    UIBase.prototype.onInit = function (params) { };
    // 显示回调
    UIBase.prototype.onShow = function (params) { };
    // 在显示动画结束后回调
    UIBase.prototype.onAfterShow = function (params) { };
    // 隐藏回调
    UIBase.prototype.onHide = function () { };
    // 在隐藏动画结束后回调
    UIBase.prototype.onAfterHide = function () { };
    // 关闭自己
    UIBase.prototype.closeSelf = function () {
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, UIManager_1.default.getInstance().closeForm(this.fid)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    /**
     * 弹窗动画
     */
    UIBase.prototype.showEffect = function () {
        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {
            return [2 /*return*/];
        }); });
    };
    UIBase.prototype.hideEffect = function () {
        return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_a) {
            return [2 /*return*/];
        }); });
    };
    UIBase.prototype.setBlockInput = function (block) {
        if (!this._blocker) {
            var node = new cc.Node('block_input_events');
            this._blocker = node.addComponent(cc.BlockInputEvents);
            this._blocker.node.setContentSize(AdapterMgr_1.default.inst.visibleSize);
            this.node.addChild(this._blocker.node, cc.macro.MAX_ZINDEX);
        }
        this._blocker.node.active = block;
    };
    UIBase.prototype.loadRes = function (url, type) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, ResMgr_1.default.inst.loadDynamicRes(url, type, this.fid)];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return UIBase;
}(cc.Component));
exports.default = UIBase;
//@ts-ignore
cc.UIBase = UIBase;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9VSUJhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUNBQW9DO0FBR3BDLDJDQUFzQztBQUN0QyxtQ0FBOEI7QUFDOUIscUNBQWdDO0FBRWhDO0lBQW9DLDBCQUFZO0lBQWhEO1FBQUEscUVBcUZDO1FBcEZHLGlEQUFpRDtRQUMxQyxTQUFHLEdBQVcsRUFBRSxDQUFDO1FBQ3hCLFdBQVc7UUFDSixjQUFRLEdBQXFCLElBQUksQ0FBQztRQUN6QyxXQUFXO1FBQ0osY0FBUSxHQUFvQixJQUFJLENBQUM7UUFDeEMsMkRBQTJEO1FBQ3BELGVBQVMsR0FBc0IsSUFBSSxDQUFDO1FBQzNDLHVCQUF1QjtRQUNmLGFBQU8sR0FBRyxLQUFLLENBQUM7UUFFakIsVUFBSSxHQUFpQixJQUFJLENBQUM7UUE2QmpDLFdBQUssR0FBUSxJQUFJLENBQUM7UUE2QmxCLGlCQUFpQjtRQUNULGNBQVEsR0FBd0IsSUFBSSxDQUFDOztJQWNqRCxDQUFDO0lBN0U4QyxDQUFDO0lBTTlCLFdBQUksR0FBbEIsVUFBbUIsS0FBVyxFQUFFLFFBQW9CO1FBQ2hELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNoQyxJQUFHLENBQUMsUUFBUSxFQUFFO1lBQ1YsRUFBRSxDQUFDLElBQUksQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1lBQ3pELE9BQVE7U0FDWDtRQUNELGlCQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUNhLFlBQUssR0FBbkI7UUFDSSxpQkFBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRUQsWUFBWTtJQUNDLHlCQUFRLEdBQXJCLFVBQXNCLE1BQVc7Ozs7Ozt3QkFDN0IsSUFBRyxJQUFJLENBQUMsT0FBTzs0QkFBRSxzQkFBUTt3QkFDekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7d0JBQ3BCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksVUFBTyxDQUFDLENBQUM7d0JBRXpDLHFCQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUE7O3dCQUFsQyxRQUFRLEdBQUcsU0FBdUI7d0JBQ3RDLElBQUcsUUFBUSxFQUFFOzRCQUNULEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7NEJBQ25CLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQzs0QkFDakIsc0JBQVE7eUJBQ1g7d0JBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQzs7Ozs7S0FDdkI7SUFJRCxzQ0FBc0M7SUFDekIscUJBQUksR0FBakIsVUFBa0IsTUFBVzt1Q0FBRyxPQUFPOztnQkFDbkMsc0JBQU8sSUFBSSxFQUFDOzs7S0FDZjtJQUVELGlCQUFpQjtJQUNWLHVCQUFNLEdBQWIsVUFBYyxNQUFXLElBQUcsQ0FBQztJQUM3QixPQUFPO0lBQ0EsdUJBQU0sR0FBYixVQUFjLE1BQVcsSUFBRyxDQUFDO0lBQzdCLGFBQWE7SUFDTiw0QkFBVyxHQUFsQixVQUFtQixNQUFXLElBQUcsQ0FBQztJQUNsQyxPQUFPO0lBQ0EsdUJBQU0sR0FBYixjQUFpQixDQUFDO0lBQ2xCLGFBQWE7SUFDTiw0QkFBVyxHQUFsQixjQUFzQixDQUFDO0lBRXZCLE9BQU87SUFDTSwwQkFBUyxHQUF0Qjt1Q0FBMEIsT0FBTzs7OzRCQUN2QixxQkFBTSxtQkFBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUE7NEJBQXhELHNCQUFPLFNBQWlELEVBQUM7Ozs7S0FDM0Q7SUFFRDs7T0FFRztJQUNVLDJCQUFVLEdBQXZCOzs7O0tBQTRCO0lBQ2YsMkJBQVUsR0FBdkI7Ozs7S0FBNEI7SUFJckIsOEJBQWEsR0FBcEIsVUFBcUIsS0FBYztRQUMvQixJQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRztZQUNoQixJQUFJLElBQUksR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztZQUM3QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDdkQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG9CQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQy9ELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDL0Q7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ3RDLENBQUM7SUFFWSx3QkFBTyxHQUFwQixVQUFxQixHQUFXLEVBQUUsSUFBc0I7Ozs7NEJBQzdDLHFCQUFNLGdCQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBQTs0QkFBNUQsc0JBQU8sU0FBcUQsRUFBQzs7OztLQUNoRTtJQUNMLGFBQUM7QUFBRCxDQXJGQSxBQXFGQyxDQXJGbUMsRUFBRSxDQUFDLFNBQVMsR0FxRi9DOztBQUVELFlBQVk7QUFDWixFQUFFLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XG5pbXBvcnQgeyBGb3JtVHlwZSB9IGZyb20gXCIuL2NvbmZpZy9TeXNEZWZpbmVcIjtcbmltcG9ydCB7IEVDbG9zZVR5cGUsIElGb3JtRGF0YSB9IGZyb20gXCIuL1N0cnVjdFwiO1xuaW1wb3J0IEFkYXB0ZXJNZ3IgZnJvbSBcIi4vQWRhcHRlck1nclwiO1xuaW1wb3J0IFJlc01nciBmcm9tIFwiLi9SZXNNZ3JcIjtcbmltcG9ydCBGb3JtTWdyIGZyb20gXCIuL0Zvcm1NZ3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlCYXNlIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcbiAgICAvKiog56qX5L2TaWQs6K+l56qX5L2T55qE5ZSv5LiA5qCH56S6KOivt+S4jeimgeWvuei/meS4quWAvOi/m+ihjOi1i+WAvOaTjeS9nCwg5YaF6YOo5bey57uP5a6e546w5LqG5a+55bqU55qE6LWL5YC8KSAqL1xuICAgIHB1YmxpYyBmaWQ6IHN0cmluZyA9ICcnO1xuICAgIC8qKiDnqpfkvZPmlbDmja4gKi9cbiAgICBwdWJsaWMgZm9ybURhdGE6IElGb3JtRGF0YSB8IG51bGwgPSBudWxsO1xuICAgIC8qKiDnqpfkvZPnsbvlnosgKi9cbiAgICBwdWJsaWMgZm9ybVR5cGU6IEZvcm1UeXBlIHwgbnVsbCA9IG51bGw7XG4gICAgLyoqIOWFs+mXreexu+Weiywg5YWz6Zet56qX5Y+j5ZCO6ZSA5q+BLCDkvJrlsIblhbbkvp3otZbnmoTotYTmupDkuIDlubbplIDmr4EsIOmHh+eUqOS6huW8leeUqOiuoeaVsOeahOeuoeeQhiwg5LiN55So5ouF5b+D5Lya5b2x5ZON5YW25LuW56qX5L2TICovXG4gICAgcHVibGljIGNsb3NlVHlwZTogRUNsb3NlVHlwZSB8IG51bGwgPSBudWxsOztcbiAgICAvKiog5piv5ZCm5bey57uP6LCD55So6L+HcHJlaW5pdOaWueazlSAqL1xuICAgIHByaXZhdGUgX2luaXRlZCA9IGZhbHNlO1xuXG4gICAgcHVibGljIHZpZXc6IGNjLkNvbXBvbmVudCA9IG51bGw7XG5cbiAgICBwdWJsaWMgc3RhdGljIG9wZW4ocGFyYW0/OiBhbnksIGZvcm1EYXRhPzogSUZvcm1EYXRhKSB7XG4gICAgICAgIGxldCB1aWNvbmZpZyA9IHRoaXNbJ1VJQ29uZmlnJ107XG4gICAgICAgIGlmKCF1aWNvbmZpZykge1xuICAgICAgICAgICAgY2Mud2Fybihgc29ycnkgVUlDb25maWcgaXMgbnVsbCwgcGxlYXNlIGNoZWNrIFVJQ29uZmlnYCk7XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG4gICAgICAgIEZvcm1NZ3Iub3Blbih1aWNvbmZpZywgcGFyYW0sIGZvcm1EYXRhKTtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBjbG9zZSgpIHtcbiAgICAgICAgRm9ybU1nci5jbG9zZSh0aGlzWydVSUNvbmZpZyddKTtcbiAgICB9XG5cbiAgICAvKiog6aKE5YWI5Yid5aeL5YyWICovXG4gICAgcHVibGljIGFzeW5jIF9wcmVJbml0KHBhcmFtczogYW55KSB7XG4gICAgICAgIGlmKHRoaXMuX2luaXRlZCkgcmV0dXJuIDtcbiAgICAgICAgdGhpcy5faW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5nZXRDb21wb25lbnQoYCR7dGhpcy5ub2RlLm5hbWV9X0F1dG9gKTtcbiAgICAgICAgLy8g5Yqg6L296L+Z5LiqVUnkvp3otZbnmoTlhbbku5botYTmupBcbiAgICAgICAgbGV0IGVycm9yTXNnID0gYXdhaXQgdGhpcy5sb2FkKHBhcmFtcyk7XG4gICAgICAgIGlmKGVycm9yTXNnKSB7XG4gICAgICAgICAgICBjYy5lcnJvcihlcnJvck1zZyk7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU2VsZigpO1xuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uSW5pdChwYXJhbXMpO1xuICAgIH1cblxuICAgIG1vZGVsOiBhbnkgPSBudWxsOyBcblxuICAgIC8qKiDlj6/ku6XlnKjov5nph4zov5vooYzkuIDkupvotYTmupDnmoTliqDovb0sIOWFt+S9k+WunueOsOWPr+S7peeci3Rlc3TkuIvnmoTku6PnoIEgKi9cbiAgICBwdWJsaWMgYXN5bmMgbG9hZChwYXJhbXM6IGFueSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKiDliJ3lp4vljJYsIOWPquiwg+eUqOS4gOasoSAqL1xuICAgIHB1YmxpYyBvbkluaXQocGFyYW1zOiBhbnkpIHt9XG4gICAgLy8g5pi+56S65Zue6LCDXG4gICAgcHVibGljIG9uU2hvdyhwYXJhbXM6IGFueSkge31cbiAgICAvLyDlnKjmmL7npLrliqjnlLvnu5PmnZ/lkI7lm57osINcbiAgICBwdWJsaWMgb25BZnRlclNob3cocGFyYW1zOiBhbnkpIHt9XG4gICAgLy8g6ZqQ6JeP5Zue6LCDXG4gICAgcHVibGljIG9uSGlkZSgpIHt9ICAgIFxuICAgIC8vIOWcqOmakOiXj+WKqOeUu+e7k+adn+WQjuWbnuiwg1xuICAgIHB1YmxpYyBvbkFmdGVySGlkZSgpIHt9XG5cbiAgICAvLyDlhbPpl63oh6rlt7FcbiAgICBwdWJsaWMgYXN5bmMgY2xvc2VTZWxmKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgIHJldHVybiBhd2FpdCBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jbG9zZUZvcm0odGhpcy5maWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW8ueeql+WKqOeUu1xuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBzaG93RWZmZWN0KCkge31cbiAgICBwdWJsaWMgYXN5bmMgaGlkZUVmZmVjdCgpIHt9XG5cbiAgICAvKiog6K6+572u5piv5ZCm5oyh5L2P6Kem5pG45LqL5Lu2ICovXG4gICAgcHJpdmF0ZSBfYmxvY2tlcjogY2MuQmxvY2tJbnB1dEV2ZW50cyA9IG51bGw7XG4gICAgcHVibGljIHNldEJsb2NrSW5wdXQoYmxvY2s6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYoIXRoaXMuX2Jsb2NrZXIpICB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IG5ldyBjYy5Ob2RlKCdibG9ja19pbnB1dF9ldmVudHMnKTtcbiAgICAgICAgICAgIHRoaXMuX2Jsb2NrZXIgPSBub2RlLmFkZENvbXBvbmVudChjYy5CbG9ja0lucHV0RXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMuX2Jsb2NrZXIubm9kZS5zZXRDb250ZW50U2l6ZShBZGFwdGVyTWdyLmluc3QudmlzaWJsZVNpemUpO1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKHRoaXMuX2Jsb2NrZXIubm9kZSwgY2MubWFjcm8uTUFYX1pJTkRFWCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYmxvY2tlci5ub2RlLmFjdGl2ZSA9IGJsb2NrO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBsb2FkUmVzKHVybDogc3RyaW5nLCB0eXBlPzogdHlwZW9mIGNjLkFzc2V0KSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBSZXNNZ3IuaW5zdC5sb2FkRHluYW1pY1Jlcyh1cmwsIHR5cGUsIHRoaXMuZmlkKTtcbiAgICB9XG59XG5cbi8vQHRzLWlnbm9yZVxuY2MuVUlCYXNlID0gVUlCYXNlOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/UIManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f18581vC/JBkoXNDtnFIDo4', 'UIManager');
// Script/UIFrame/UIManager.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIBase_1 = require("./UIBase");
var SysDefine_1 = require("./config/SysDefine");
var ResMgr_1 = require("./ResMgr");
var ModalMgr_1 = require("./ModalMgr");
var AdapterMgr_1 = require("./AdapterMgr");
var Scene_1 = require("../Scene/Scene");
var Struct_1 = require("./Struct");
var EventCenter_1 = require("./EventCenter");
var EventType_1 = require("./EventType");
var LRUCache_1 = require("../Common/Utils/LRUCache");
/**
 * @author honmono
 */
var UIManager = /** @class */ (function () {
    function UIManager() {
        this._UIROOT = null; // UIROOT
        this._ndScreen = null; // 全屏显示的UI 挂载结点
        this._ndFixed = null; // 固定显示的UI
        this._ndPopUp = null; // 弹出窗口
        this._ndTips = null; // 独立窗体
        this._windows = []; // 存储弹出的窗体
        this._allForms = cc.js.createMap(); // 所有已经挂载的窗体, 可能没有显示
        this._showingForms = cc.js.createMap(); // 正在显示的窗体
        this._tipsForms = cc.js.createMap(); // 独立窗体 独立于其他窗体, 不受其他窗体的影响
        this._loadingForm = cc.js.createMap(); // 正在加载的form
        this._LRUCache = new LRUCache_1.LRUCache(3); // LRU cache
    }
    UIManager.getInstance = function () {
        var _this = this;
        if (this.instance == null) {
            this.instance = new UIManager();
            var canvas = cc.director.getScene().getChildByName("Canvas");
            var scene = canvas.getChildByName(SysDefine_1.SysDefine.SYS_SCENE_NODE);
            if (!scene) {
                scene = new cc.Node(SysDefine_1.SysDefine.SYS_SCENE_NODE);
                scene.addComponent(Scene_1.default);
                scene.parent = canvas;
            }
            var UIROOT = this.instance._UIROOT = new cc.Node(SysDefine_1.SysDefine.SYS_UIROOT_NODE);
            scene.addChild(UIROOT);
            UIROOT.addChild(this.instance._ndScreen = new cc.Node(SysDefine_1.SysDefine.SYS_SCREEN_NODE));
            UIROOT.addChild(this.instance._ndFixed = new cc.Node(SysDefine_1.SysDefine.SYS_FIXED_NODE));
            UIROOT.addChild(this.instance._ndPopUp = new cc.Node(SysDefine_1.SysDefine.SYS_POPUP_NODE));
            UIROOT.addChild(this.instance._ndTips = new cc.Node(SysDefine_1.SysDefine.SYS_TOPTIPS_NODE));
            cc.director.once(cc.Director.EVENT_BEFORE_SCENE_LAUNCH, function () {
                _this.instance = null;
            });
        }
        return this.instance;
    };
    /** 预加载UIForm */
    UIManager.prototype.loadUIForm = function (prefabPath) {
        return __awaiter(this, void 0, void 0, function () {
            var uiBase;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._loadForm(prefabPath)];
                    case 1:
                        uiBase = _a.sent();
                        if (!uiBase) {
                            console.warn(uiBase + "\u6CA1\u6709\u88AB\u6210\u529F\u52A0\u8F7D");
                            return [2 /*return*/, null];
                        }
                        return [2 /*return*/, uiBase];
                }
            });
        });
    };
    /**
     * 加载显示一个UIForm
     * @param prefabPath
     * @param params
     * @param formData
     * @returns
     */
    UIManager.prototype.openForm = function (prefabPath, params, formData) {
        return __awaiter(this, void 0, void 0, function () {
            var com, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!prefabPath || prefabPath.length <= 0) {
                            cc.warn(prefabPath + ", \u53C2\u6570\u9519\u8BEF");
                            return [2 /*return*/];
                        }
                        if (this.checkFormShowing(prefabPath)) {
                            cc.warn(prefabPath + ", \u7A97\u4F53\u6B63\u5728\u663E\u793A\u4E2D");
                            return [2 /*return*/, null];
                        }
                        return [4 /*yield*/, this._loadForm(prefabPath)];
                    case 1:
                        com = _b.sent();
                        if (!com) {
                            cc.warn(prefabPath + " \u52A0\u8F7D\u5931\u8D25\u4E86!");
                            return [2 /*return*/, null];
                        }
                        // 初始化窗体名称
                        com.fid = prefabPath;
                        com.formData = formData;
                        _a = com.formType;
                        switch (_a) {
                            case SysDefine_1.FormType.Screen: return [3 /*break*/, 2];
                            case SysDefine_1.FormType.Fixed: return [3 /*break*/, 4];
                            case SysDefine_1.FormType.Window: return [3 /*break*/, 6];
                            case SysDefine_1.FormType.Tips: return [3 /*break*/, 8];
                        }
                        return [3 /*break*/, 10];
                    case 2: return [4 /*yield*/, this.enterToScreen(com.fid, params)];
                    case 3:
                        _b.sent();
                        return [3 /*break*/, 10];
                    case 4: return [4 /*yield*/, this.enterToFixed(com.fid, params)];
                    case 5:
                        _b.sent();
                        return [3 /*break*/, 10];
                    case 6: return [4 /*yield*/, this.enterToPopup(com.fid, params)];
                    case 7:
                        _b.sent();
                        return [3 /*break*/, 10];
                    case 8: // 独立显示
                    return [4 /*yield*/, this.enterToTips(com.fid, params)];
                    case 9:
                        _b.sent();
                        return [3 /*break*/, 10];
                    case 10:
                        // 如果这个窗体在lru中存在, 那么立即删除它
                        if (com.closeType === Struct_1.ECloseType.LRU) {
                            this._LRUCache.remove(com.fid);
                        }
                        return [2 /*return*/, com];
                }
            });
        });
    };
    /**
     * 重要方法 关闭一个UIForm
     * @param prefabPath
     */
    UIManager.prototype.closeForm = function (prefabPath) {
        return __awaiter(this, void 0, void 0, function () {
            var com, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!prefabPath || prefabPath.length <= 0) {
                            cc.warn(prefabPath + ", \u53C2\u6570\u9519\u8BEF");
                            return [2 /*return*/];
                        }
                        ;
                        com = this._allForms[prefabPath];
                        if (!com)
                            return [2 /*return*/, false];
                        _a = com.formType;
                        switch (_a) {
                            case SysDefine_1.FormType.Screen: return [3 /*break*/, 1];
                            case SysDefine_1.FormType.Fixed: return [3 /*break*/, 3];
                            case SysDefine_1.FormType.Window: return [3 /*break*/, 5];
                            case SysDefine_1.FormType.Tips: return [3 /*break*/, 7];
                        }
                        return [3 /*break*/, 9];
                    case 1: return [4 /*yield*/, this.exitToScreen(prefabPath)];
                    case 2:
                        _b.sent();
                        return [3 /*break*/, 9];
                    case 3: // 普通模式显示
                    return [4 /*yield*/, this.exitToFixed(prefabPath)];
                    case 4:
                        _b.sent();
                        return [3 /*break*/, 9];
                    case 5: return [4 /*yield*/, this.exitToPopup(prefabPath)];
                    case 6:
                        _b.sent();
                        EventCenter_1.EventCenter.emit(EventType_1.EventType.WindowClosed, prefabPath);
                        return [3 /*break*/, 9];
                    case 7: return [4 /*yield*/, this.exitToTips(prefabPath)];
                    case 8:
                        _b.sent();
                        return [3 /*break*/, 9];
                    case 9:
                        EventCenter_1.EventCenter.emit(EventType_1.EventType.FormClosed, prefabPath);
                        if (com.formData) {
                            com.formData.onClose && com.formData.onClose();
                        }
                        // 根据closeType 处理
                        switch (com.closeType) {
                            case Struct_1.ECloseType.CloseAndDestory:
                                this.destoryForm(com);
                                break;
                            case Struct_1.ECloseType.LRU:
                                this.putLRUCache(com);
                                break;
                        }
                        return [2 /*return*/, true];
                }
            });
        });
    };
    /**
     * 从窗口缓存中加载(如果没有就会在load加载), 并挂载到结点上
     */
    UIManager.prototype._loadForm = function (prefabPath) {
        return __awaiter(this, void 0, Promise, function () {
            var com;
            var _this = this;
            return __generator(this, function (_a) {
                com = this._allForms[prefabPath];
                if (com)
                    return [2 /*return*/, com];
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        if (_this._loadingForm[prefabPath]) {
                            _this._loadingForm[prefabPath].push(resolve);
                            return;
                        }
                        _this._loadingForm[prefabPath] = [resolve];
                        _this._doLoadUIForm(prefabPath).then(function (com) {
                            for (var _i = 0, _a = _this._loadingForm[prefabPath]; _i < _a.length; _i++) {
                                var func = _a[_i];
                                func(com);
                            }
                            _this._loadingForm[prefabPath] = null;
                            delete _this._loadingForm[prefabPath];
                        });
                    })];
            });
        });
    };
    /**
     * @param prefabPath
     */
    UIManager.prototype._doLoadUIForm = function (prefabPath) {
        return __awaiter(this, void 0, void 0, function () {
            var prefab, node, com;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, ResMgr_1.default.inst.loadFormPrefab(prefabPath)];
                    case 1:
                        prefab = _a.sent();
                        node = cc.instantiate(prefab);
                        com = node.getComponent(UIBase_1.default);
                        if (!com) {
                            cc.warn(prefabPath + " \u7ED3\u70B9\u6CA1\u6709\u7ED1\u5B9AUIBase");
                            return [2 /*return*/, null];
                        }
                        node.active = false; // 避免baseCom调用了onload方法
                        switch (com.formType) {
                            case SysDefine_1.FormType.Screen:
                                this._ndScreen.addChild(node);
                                break;
                            case SysDefine_1.FormType.Fixed:
                                this._ndFixed.addChild(node);
                                break;
                            case SysDefine_1.FormType.Window:
                                this._ndPopUp.addChild(node);
                                break;
                            case SysDefine_1.FormType.Tips:
                                this._ndTips.addChild(node);
                                break;
                        }
                        this._allForms[prefabPath] = com;
                        return [2 /*return*/, com];
                }
            });
        });
    };
    /** 添加到screen中 */
    UIManager.prototype.enterToScreen = function (fid, params) {
        return __awaiter(this, void 0, void 0, function () {
            var arr, key, com;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        arr = [];
                        for (key in this._showingForms) {
                            arr.push(this._showingForms[key].closeSelf());
                        }
                        return [4 /*yield*/, Promise.all(arr)];
                    case 1:
                        _a.sent();
                        com = this._allForms[fid];
                        if (!com)
                            return [2 /*return*/];
                        this._showingForms[fid] = com;
                        AdapterMgr_1.default.inst.adapteByType(AdapterMgr_1.AdapterType.StretchHeight | AdapterMgr_1.AdapterType.StretchWidth, com.node);
                        return [4 /*yield*/, com._preInit(params)];
                    case 2:
                        _a.sent();
                        com.onShow(params);
                        return [4 /*yield*/, this.showEffect(com)];
                    case 3:
                        _a.sent();
                        com.onAfterShow(params);
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 添加到Fixed中 */
    UIManager.prototype.enterToFixed = function (fid, params) {
        return __awaiter(this, void 0, void 0, function () {
            var com;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        com = this._allForms[fid];
                        if (!com)
                            return [2 /*return*/];
                        return [4 /*yield*/, com._preInit(params)];
                    case 1:
                        _a.sent();
                        com.onShow(params);
                        this._showingForms[fid] = com;
                        return [4 /*yield*/, this.showEffect(com)];
                    case 2:
                        _a.sent();
                        com.onAfterShow(params);
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 添加到popup中 */
    UIManager.prototype.enterToPopup = function (fid, params) {
        return __awaiter(this, void 0, void 0, function () {
            var com, i;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        com = this._allForms[fid];
                        if (!com)
                            return [2 /*return*/];
                        return [4 /*yield*/, com._preInit(params)];
                    case 1:
                        _a.sent();
                        this._windows.push(com);
                        for (i = 0; i < this._windows.length; i++) {
                            this._windows[i].node.zIndex = i + 1;
                        }
                        com.onShow(params);
                        this._showingForms[fid] = com;
                        ModalMgr_1.default.inst.checkModalWindow(this._windows);
                        return [4 /*yield*/, this.showEffect(com)];
                    case 2:
                        _a.sent();
                        com.onAfterShow(params);
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 加载到tips中 */
    UIManager.prototype.enterToTips = function (fid, params) {
        return __awaiter(this, void 0, void 0, function () {
            var com;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        com = this._allForms[fid];
                        if (!com)
                            return [2 /*return*/];
                        return [4 /*yield*/, com._preInit(params)];
                    case 1:
                        _a.sent();
                        this._tipsForms[fid] = com;
                        com.onShow(params);
                        return [4 /*yield*/, this.showEffect(com)];
                    case 2:
                        _a.sent();
                        com.onAfterShow(params);
                        return [2 /*return*/];
                }
            });
        });
    };
    UIManager.prototype.exitToScreen = function (fid) {
        return __awaiter(this, void 0, void 0, function () {
            var com;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        com = this._showingForms[fid];
                        if (!com)
                            return [2 /*return*/];
                        com.onHide();
                        return [4 /*yield*/, this.hideEffect(com)];
                    case 1:
                        _a.sent();
                        com.onAfterHide();
                        this._showingForms[fid] = null;
                        delete this._showingForms[fid];
                        return [2 /*return*/];
                }
            });
        });
    };
    UIManager.prototype.exitToFixed = function (fid) {
        return __awaiter(this, void 0, void 0, function () {
            var com;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        com = this._allForms[fid];
                        if (!com)
                            return [2 /*return*/];
                        com.onHide();
                        return [4 /*yield*/, this.hideEffect(com)];
                    case 1:
                        _a.sent();
                        com.onAfterHide();
                        this._showingForms[fid] = null;
                        delete this._showingForms[fid];
                        return [2 /*return*/];
                }
            });
        });
    };
    UIManager.prototype.exitToPopup = function (fid) {
        return __awaiter(this, void 0, void 0, function () {
            var com, i;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this._windows.length <= 0)
                            return [2 /*return*/];
                        com = null;
                        for (i = this._windows.length - 1; i >= 0; i--) {
                            if (this._windows[i].fid === fid) {
                                com = this._windows[i];
                                this._windows.splice(i, 1);
                            }
                        }
                        if (!com)
                            return [2 /*return*/];
                        com.onHide();
                        ModalMgr_1.default.inst.checkModalWindow(this._windows);
                        return [4 /*yield*/, this.hideEffect(com)];
                    case 1:
                        _a.sent();
                        com.onAfterHide();
                        this._showingForms[fid] = null;
                        delete this._showingForms[fid];
                        return [2 /*return*/];
                }
            });
        });
    };
    UIManager.prototype.exitToTips = function (fid) {
        return __awaiter(this, void 0, void 0, function () {
            var com;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        com = this._allForms[fid];
                        if (!com)
                            return [2 /*return*/];
                        com.onHide();
                        return [4 /*yield*/, this.hideEffect(com)];
                    case 1:
                        _a.sent();
                        com.onAfterHide();
                        this._tipsForms[fid] = null;
                        delete this._tipsForms[fid];
                        return [2 /*return*/];
                }
            });
        });
    };
    UIManager.prototype.showEffect = function (baseUI) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        baseUI.node.active = true;
                        return [4 /*yield*/, baseUI.showEffect()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UIManager.prototype.hideEffect = function (baseUI) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, baseUI.hideEffect()];
                    case 1:
                        _a.sent();
                        baseUI.node.active = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 销毁 */
    UIManager.prototype.destoryForm = function (com) {
        // 销毁动态加载的资源
        ResMgr_1.default.inst.destoryDynamicRes(com.fid);
        // 销毁prefab以及依赖的资源
        ResMgr_1.default.inst.destoryFormPrefab(com.fid);
        // 销毁node
        com.node.destroy();
        // 从allmap中删除
        this._allForms[com.fid] = null;
        delete this._allForms[com.fid];
    };
    /** LRU缓存控制 */
    UIManager.prototype.putLRUCache = function (com) {
        this._LRUCache.put(com.fid);
        if (!this._LRUCache.needDelete())
            return;
        var deleteFid = this._LRUCache.deleteLastNode();
        if (deleteFid) {
            CC_DEBUG && console.log('close form id:', deleteFid, this._LRUCache.toString());
            var com_1 = this.getForm(deleteFid);
            if (!com_1 || !com_1.node)
                return;
            com_1 && this.destoryForm(com_1);
        }
    };
    /** 窗体是否正在显示 */
    UIManager.prototype.checkFormShowing = function (fid) {
        var com = this._allForms[fid];
        if (!com)
            return false;
        return com.node.active;
    };
    /** 窗体是否正在加载 */
    UIManager.prototype.checkFormLoading = function (prefabPath) {
        var com = this._loadingForm[prefabPath];
        return !!com;
    };
    /** 获得Component */
    UIManager.prototype.getForm = function (fId) {
        return this._allForms[fId];
    };
    UIManager.prototype.getUIROOT = function () {
        return this._UIROOT;
    };
    UIManager.instance = null; // 单例
    return UIManager;
}());
exports.default = UIManager;
if (CC_DEBUG) {
    window['UIManager'] = UIManager;
}

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9VSU1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtQ0FBOEI7QUFDOUIsZ0RBQXlEO0FBQ3pELG1DQUE4QjtBQUM5Qix1Q0FBa0M7QUFDbEMsMkNBQXVEO0FBQ3ZELHdDQUFtQztBQUVuQyxtQ0FBaUQ7QUFDakQsNkNBQTRDO0FBQzVDLHlDQUF3QztBQUN4QyxxREFBb0Q7QUFFcEQ7O0dBRUc7QUFDSDtJQUFBO1FBQ1ksWUFBTyxHQUFZLElBQUksQ0FBQyxDQUFJLFNBQVM7UUFDckMsY0FBUyxHQUFZLElBQUksQ0FBQyxDQUFFLGVBQWU7UUFDM0MsYUFBUSxHQUFhLElBQUksQ0FBQyxDQUFFLFVBQVU7UUFDdEMsYUFBUSxHQUFhLElBQUksQ0FBQyxDQUFFLE9BQU87UUFDbkMsWUFBTyxHQUFjLElBQUksQ0FBQyxDQUFFLE9BQU87UUFFbkMsYUFBUSxHQUFxRCxFQUFFLENBQUMsQ0FBbUIsVUFBVTtRQUM3RixjQUFTLEdBQW9ELEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBSSxvQkFBb0I7UUFDdkcsa0JBQWEsR0FBZ0QsRUFBRSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFJLFVBQVU7UUFDN0YsZUFBVSxHQUFtRCxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUksMEJBQTBCO1FBQzdHLGlCQUFZLEdBQWlELEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBSSxZQUFZO1FBQy9GLGNBQVMsR0FBYSxJQUFJLG1CQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBNkMsWUFBWTtJQTBXM0csQ0FBQztJQXZXaUIscUJBQVcsR0FBekI7UUFBQSxpQkFzQkM7UUFyQkcsSUFBRyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksRUFB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SUFBRyxDQUFDLEtBQUcsSUFBSSxDQUFDLEtBQUcsQ0FBQyxJQUFJO2dCQUFFLE9BQVE7WUFDOUIsS0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBRyxDQUFDLENBQUM7U0FDaEM7SUFFTCxDQUFDO0lBRUQsZUFBZTtJQUNSLG9DQUFnQixHQUF2QixVQUF3QixHQUFXO1FBQy9CLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLEdBQUc7WUFBRSxPQUFPLEtBQUssQ0FBQztRQUN2QixPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzNCLENBQUM7SUFFRCxlQUFlO0lBQ1Isb0NBQWdCLEdBQXZCLFVBQXdCLFVBQWtCO1FBQ3RDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDeEMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxrQkFBa0I7SUFDWCwyQkFBTyxHQUFkLFVBQWUsR0FBVztRQUN0QixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLDZCQUFTLEdBQWhCO1FBQ0ksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3hCLENBQUM7SUF2V2Msa0JBQVEsR0FBYyxJQUFJLENBQUMsQ0FBaUQsS0FBSztJQXdXcEcsZ0JBQUM7Q0F0WEQsQUFzWEMsSUFBQTtrQkF0WG9CLFNBQVM7QUF3WDlCLElBQUcsUUFBUSxFQUFFO0lBQ1QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztDQUNuQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSUJhc2UgZnJvbSBcIi4vVUlCYXNlXCI7XG5pbXBvcnQgeyBTeXNEZWZpbmUsIEZvcm1UeXBlIH0gZnJvbSBcIi4vY29uZmlnL1N5c0RlZmluZVwiO1xuaW1wb3J0IFJlc01nciBmcm9tIFwiLi9SZXNNZ3JcIjtcbmltcG9ydCBNb2RhbE1nciBmcm9tIFwiLi9Nb2RhbE1nclwiO1xuaW1wb3J0IEFkYXB0ZXJNZ3IsIHsgQWRhcHRlclR5cGUgfSBmcm9tIFwiLi9BZGFwdGVyTWdyXCI7XG5pbXBvcnQgU2NlbmUgZnJvbSBcIi4uL1NjZW5lL1NjZW5lXCI7XG5pbXBvcnQgeyBVSVdpbmRvdyB9IGZyb20gXCIuL1VJRm9ybVwiO1xuaW1wb3J0IHsgRUNsb3NlVHlwZSwgSUZvcm1EYXRhIH0gZnJvbSBcIi4vU3RydWN0XCI7XG5pbXBvcnQgeyBFdmVudENlbnRlciB9IGZyb20gXCIuL0V2ZW50Q2VudGVyXCI7XG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tIFwiLi9FdmVudFR5cGVcIjtcbmltcG9ydCB7IExSVUNhY2hlIH0gZnJvbSBcIi4uL0NvbW1vbi9VdGlscy9MUlVDYWNoZVwiO1xuXG4vKipcbiAqIEBhdXRob3IgaG9ubW9ub1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSU1hbmFnZXIgeyAgICBcbiAgICBwcml2YXRlIF9VSVJPT1Q6IGNjLk5vZGUgPSBudWxsOyAgICAvLyBVSVJPT1RcbiAgICBwcml2YXRlIF9uZFNjcmVlbjogY2MuTm9kZSA9IG51bGw7ICAvLyDlhajlsY/mmL7npLrnmoRVSSDmjILovb3nu5PngrlcbiAgICBwcml2YXRlIF9uZEZpeGVkOiBjYy5Ob2RlICA9IG51bGw7ICAvLyDlm7rlrprmmL7npLrnmoRVSVxuICAgIHByaXZhdGUgX25kUG9wVXA6IGNjLk5vZGUgID0gbnVsbDsgIC8vIOW8ueWHuueql+WPo1xuICAgIHByaXZhdGUgX25kVGlwczogY2MuTm9kZSAgID0gbnVsbDsgIC8vIOeLrOeri+eql+S9k1xuXG4gICAgcHJpdmF0ZSBfd2luZG93czogVUlXaW5kb3dbXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gW107ICAgICAgICAgICAgICAgICAgIC8vIOWtmOWCqOW8ueWHuueahOeql+S9k1xuICAgIHByaXZhdGUgX2FsbEZvcm1zOiB7W2tleTogc3RyaW5nXTogVUlCYXNlfSAgICAgICAgICAgICAgICAgICAgICAgICA9IGNjLmpzLmNyZWF0ZU1hcCgpOyAgICAvLyDmiYDmnInlt7Lnu4/mjILovb3nmoTnqpfkvZMsIOWPr+iDveayoeacieaYvuekulxuICAgIHByaXZhdGUgX3Nob3dpbmdGb3Jtczoge1trZXk6IHN0cmluZ106IFVJQmFzZX0gICAgICAgICAgICAgICAgICAgICA9IGNjLmpzLmNyZWF0ZU1hcCgpOyAgICAvLyDmraPlnKjmmL7npLrnmoTnqpfkvZNcbiAgICBwcml2YXRlIF90aXBzRm9ybXM6IHtba2V5OiBzdHJpbmddOiBVSUJhc2V9ICAgICAgICAgICAgICAgICAgICAgICAgPSBjYy5qcy5jcmVhdGVNYXAoKTsgICAgLy8g54us56uL56qX5L2TIOeLrOeri+S6juWFtuS7lueql+S9kywg5LiN5Y+X5YW25LuW56qX5L2T55qE5b2x5ZONXG4gICAgcHJpdmF0ZSBfbG9hZGluZ0Zvcm06IHtba2V5OiBzdHJpbmddOiAoKHZhbHVlOiBVSUJhc2UpID0+IHZvaWQpW119ID0gY2MuanMuY3JlYXRlTWFwKCk7ICAgIC8vIOato+WcqOWKoOi9veeahGZvcm1cbiAgICBwcml2YXRlIF9MUlVDYWNoZTogTFJVQ2FjaGUgPSBuZXcgTFJVQ2FjaGUoMyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTFJVIGNhY2hlXG4gICAgXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFVJTWFuYWdlciA9IG51bGw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWNleS+i1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogVUlNYW5hZ2VyIHtcbiAgICAgICAgaWYodGhpcy5pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFVJTWFuYWdlcigpO1xuICAgICAgICAgICAgbGV0IGNhbnZhcyA9IGNjLmRpcmVjdG9yLmdldFNjZW5lKCkuZ2V0Q2hpbGRCeU5hbWUoXCJDYW52YXNcIik7XG4gICAgICAgICAgICBsZXQgc2NlbmUgPSBjYW52YXMuZ2V0Q2hpbGRCeU5hbWUoU3lzRGVmaW5lLlNZU19TQ0VORV9OT0RFKTtcbiAgICAgICAgICAgIGlmKCFzY2VuZSkge1xuICAgICAgICAgICAgICAgIHNjZW5lID0gbmV3IGNjLk5vZGUoU3lzRGVmaW5lLlNZU19TQ0VORV9OT0RFKTtcbiAgICAgICAgICAgICAgICBzY2VuZS5hZGRDb21wb25lbnQoU2NlbmUpO1xuICAgICAgICAgICAgICAgIHNjZW5lLnBhcmVudCA9IGNhbnZhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBVSVJPT1QgPSB0aGlzLmluc3RhbmNlLl9VSVJPT1QgPSBuZXcgY2MuTm9kZShTeXNEZWZpbmUuU1lTX1VJUk9PVF9OT0RFKTtcbiAgICAgICAgICAgIHNjZW5lLmFkZENoaWxkKFVJUk9PVCk7XG5cbiAgICAgICAgICAgIFVJUk9PVC5hZGRDaGlsZCh0aGlzLmluc3RhbmNlLl9uZFNjcmVlbiA9IG5ldyBjYy5Ob2RlKFN5c0RlZmluZS5TWVNfU0NSRUVOX05PREUpKTtcbiAgICAgICAgICAgIFVJUk9PVC5hZGRDaGlsZCh0aGlzLmluc3RhbmNlLl9uZEZpeGVkID0gbmV3IGNjLk5vZGUoU3lzRGVmaW5lLlNZU19GSVhFRF9OT0RFKSk7XG4gICAgICAgICAgICBVSVJPT1QuYWRkQ2hpbGQodGhpcy5pbnN0YW5jZS5fbmRQb3BVcCA9IG5ldyBjYy5Ob2RlKFN5c0RlZmluZS5TWVNfUE9QVVBfTk9ERSkpO1xuICAgICAgICAgICAgVUlST09ULmFkZENoaWxkKHRoaXMuaW5zdGFuY2UuX25kVGlwcyA9IG5ldyBjYy5Ob2RlKFN5c0RlZmluZS5TWVNfVE9QVElQU19OT0RFKSk7XG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5vbmNlKGNjLkRpcmVjdG9yLkVWRU5UX0JFRk9SRV9TQ0VORV9MQVVOQ0gsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIH0pOyAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xuICAgIH1cblxuICAgIC8qKiDpooTliqDovb1VSUZvcm0gKi9cbiAgICBwdWJsaWMgYXN5bmMgbG9hZFVJRm9ybShwcmVmYWJQYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHVpQmFzZSA9IGF3YWl0IHRoaXMuX2xvYWRGb3JtKHByZWZhYlBhdGgpO1xuICAgICAgICBpZighdWlCYXNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7dWlCYXNlfeayoeacieiiq+aIkOWKn+WKoOi9vWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVpQmFzZTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICog5Yqg6L295pi+56S65LiA5LiqVUlGb3JtXG4gICAgICogQHBhcmFtIHByZWZhYlBhdGggXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKiBAcGFyYW0gZm9ybURhdGEgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHVibGljIGFzeW5jIG9wZW5Gb3JtKHByZWZhYlBhdGg6IHN0cmluZywgcGFyYW1zPzogYW55LCBmb3JtRGF0YT86IElGb3JtRGF0YSkge1xuICAgICAgICBpZighcHJlZmFiUGF0aCB8fCBwcmVmYWJQYXRoLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICBjYy53YXJuKGAke3ByZWZhYlBhdGh9LCDlj4LmlbDplJnor69gKTtcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5jaGVja0Zvcm1TaG93aW5nKHByZWZhYlBhdGgpKSB7XG4gICAgICAgICAgICBjYy53YXJuKGAke3ByZWZhYlBhdGh9LCDnqpfkvZPmraPlnKjmmL7npLrkuK1gKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb20gPSBhd2FpdCB0aGlzLl9sb2FkRm9ybShwcmVmYWJQYXRoKTtcbiAgICAgICAgaWYoIWNvbSkge1xuICAgICAgICAgICAgY2Mud2FybihgJHtwcmVmYWJQYXRofSDliqDovb3lpLHotKXkuoYhYCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyDliJ3lp4vljJbnqpfkvZPlkI3np7BcbiAgICAgICAgY29tLmZpZCA9IHByZWZhYlBhdGg7XG4gICAgICAgIGNvbS5mb3JtRGF0YSA9IGZvcm1EYXRhO1xuICAgICAgICBcbiAgICAgICAgc3dpdGNoKGNvbS5mb3JtVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBGb3JtVHlwZS5TY3JlZW46XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5lbnRlclRvU2NyZWVuKGNvbS5maWQsIHBhcmFtcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybVR5cGUuRml4ZWQ6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5lbnRlclRvRml4ZWQoY29tLmZpZCwgcGFyYW1zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtVHlwZS5XaW5kb3c6XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5lbnRlclRvUG9wdXAoY29tLmZpZCwgcGFyYW1zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtVHlwZS5UaXBzOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDni6znq4vmmL7npLpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmVudGVyVG9UaXBzKGNvbS5maWQsIHBhcmFtcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8g5aaC5p6c6L+Z5Liq56qX5L2T5ZyobHJ15Lit5a2Y5ZyoLCDpgqPkuYjnq4vljbPliKDpmaTlroNcbiAgICAgICAgaWYoY29tLmNsb3NlVHlwZSA9PT0gRUNsb3NlVHlwZS5MUlUpIHtcbiAgICAgICAgICAgIHRoaXMuX0xSVUNhY2hlLnJlbW92ZShjb20uZmlkKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gY29tO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICog6YeN6KaB5pa55rOVIOWFs+mXreS4gOS4qlVJRm9ybVxuICAgICAqIEBwYXJhbSBwcmVmYWJQYXRoIFxuICAgICAqL1xuICAgIHB1YmxpYyBhc3luYyBjbG9zZUZvcm0ocHJlZmFiUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIGlmKCFwcmVmYWJQYXRoIHx8IHByZWZhYlBhdGgubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIGNjLndhcm4oYCR7cHJlZmFiUGF0aH0sIOWPguaVsOmUmeivr2ApO1xuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGNvbSA9IHRoaXMuX2FsbEZvcm1zW3ByZWZhYlBhdGhdO1xuICAgICAgICBpZighY29tKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICBzd2l0Y2goY29tLmZvcm1UeXBlKSB7XG4gICAgICAgICAgICBjYXNlIEZvcm1UeXBlLlNjcmVlbjpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmV4aXRUb1NjcmVlbihwcmVmYWJQYXRoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtVHlwZS5GaXhlZDogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaZrumAmuaooeW8j+aYvuekulxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhpdFRvRml4ZWQocHJlZmFiUGF0aCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybVR5cGUuV2luZG93OlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhpdFRvUG9wdXAocHJlZmFiUGF0aCk7XG4gICAgICAgICAgICAgICAgRXZlbnRDZW50ZXIuZW1pdChFdmVudFR5cGUuV2luZG93Q2xvc2VkLCBwcmVmYWJQYXRoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtVHlwZS5UaXBzOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhpdFRvVGlwcyhwcmVmYWJQYXRoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRDZW50ZXIuZW1pdChFdmVudFR5cGUuRm9ybUNsb3NlZCwgcHJlZmFiUGF0aCk7XG5cbiAgICAgICAgaWYoY29tLmZvcm1EYXRhKSB7XG4gICAgICAgICAgICBjb20uZm9ybURhdGEub25DbG9zZSAmJiBjb20uZm9ybURhdGEub25DbG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5qC55o2uY2xvc2VUeXBlIOWkhOeQhlxuICAgICAgICBzd2l0Y2goY29tLmNsb3NlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBFQ2xvc2VUeXBlLkNsb3NlQW5kRGVzdG9yeTpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RvcnlGb3JtKGNvbSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRUNsb3NlVHlwZS5MUlU6XG4gICAgICAgICAgICAgICAgdGhpcy5wdXRMUlVDYWNoZShjb20pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LuO56qX5Y+j57yT5a2Y5Lit5Yqg6L29KOWmguaenOayoeacieWwseS8muWcqGxvYWTliqDovb0pLCDlubbmjILovb3liLDnu5PngrnkuIpcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIF9sb2FkRm9ybShwcmVmYWJQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFVJQmFzZT4ge1xuICAgICAgICBsZXQgY29tID0gdGhpcy5fYWxsRm9ybXNbcHJlZmFiUGF0aF07XG4gICAgICAgIGlmKGNvbSkgcmV0dXJuIGNvbTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2xvYWRpbmdGb3JtW3ByZWZhYlBhdGhdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZGluZ0Zvcm1bcHJlZmFiUGF0aF0ucHVzaChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbG9hZGluZ0Zvcm1bcHJlZmFiUGF0aF0gPSBbcmVzb2x2ZV07XG4gICAgICAgICAgICB0aGlzLl9kb0xvYWRVSUZvcm0ocHJlZmFiUGF0aCkudGhlbigoY29tOiBVSUJhc2UpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IoY29uc3QgZnVuYyBvZiB0aGlzLl9sb2FkaW5nRm9ybVtwcmVmYWJQYXRoXSkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jKGNvbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRpbmdGb3JtW3ByZWZhYlBhdGhdID0gbnVsbDtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fbG9hZGluZ0Zvcm1bcHJlZmFiUGF0aF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcHJlZmFiUGF0aCBcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIF9kb0xvYWRVSUZvcm0ocHJlZmFiUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIGxldCBwcmVmYWIgPSBhd2FpdCBSZXNNZ3IuaW5zdC5sb2FkRm9ybVByZWZhYihwcmVmYWJQYXRoKTtcbiAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWIpO1xuICAgICAgICBsZXQgY29tID0gbm9kZS5nZXRDb21wb25lbnQoVUlCYXNlKTtcbiAgICAgICAgaWYoIWNvbSkge1xuICAgICAgICAgICAgY2Mud2FybihgJHtwcmVmYWJQYXRofSDnu5PngrnmsqHmnInnu5HlrppVSUJhc2VgKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7ICAgICAgICAgICAgICAgICAgICAvLyDpgb/lhY1iYXNlQ29t6LCD55So5LqGb25sb2Fk5pa55rOVXG4gICAgICAgIHN3aXRjaChjb20uZm9ybVR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRm9ybVR5cGUuU2NyZWVuOlxuICAgICAgICAgICAgICAgIHRoaXMuX25kU2NyZWVuLmFkZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZvcm1UeXBlLkZpeGVkOlxuICAgICAgICAgICAgICAgIHRoaXMuX25kRml4ZWQuYWRkQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybVR5cGUuV2luZG93OlxuICAgICAgICAgICAgICAgIHRoaXMuX25kUG9wVXAuYWRkQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybVR5cGUuVGlwczpcbiAgICAgICAgICAgICAgICB0aGlzLl9uZFRpcHMuYWRkQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hbGxGb3Jtc1twcmVmYWJQYXRoXSA9IGNvbTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb207XG4gICAgfVxuXG4gICAgLyoqIOa3u+WKoOWIsHNjcmVlbuS4rSAqL1xuICAgIHByaXZhdGUgYXN5bmMgZW50ZXJUb1NjcmVlbihmaWQ6IHN0cmluZywgcGFyYW1zOiBhbnkpIHtcbiAgICAgICAgLy8g5YWz6Zet5YW25LuW5pi+56S655qE56qX5Y+jIFxuICAgICAgICBsZXQgYXJyOiBBcnJheTxQcm9taXNlPGJvb2xlYW4+PiA9IFtdO1xuICAgICAgICBmb3IobGV0IGtleSBpbiB0aGlzLl9zaG93aW5nRm9ybXMpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKHRoaXMuX3Nob3dpbmdGb3Jtc1trZXldLmNsb3NlU2VsZigpKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChhcnIpO1xuXG4gICAgICAgIGxldCBjb20gPSB0aGlzLl9hbGxGb3Jtc1tmaWRdO1xuICAgICAgICBpZighY29tKSByZXR1cm4gO1xuICAgICAgICB0aGlzLl9zaG93aW5nRm9ybXNbZmlkXSA9IGNvbTtcblxuICAgICAgICBBZGFwdGVyTWdyLmluc3QuYWRhcHRlQnlUeXBlKEFkYXB0ZXJUeXBlLlN0cmV0Y2hIZWlnaHQgfCBBZGFwdGVyVHlwZS5TdHJldGNoV2lkdGgsIGNvbS5ub2RlKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IGNvbS5fcHJlSW5pdChwYXJhbXMpO1xuICAgICAgICBjb20ub25TaG93KHBhcmFtcyk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5zaG93RWZmZWN0KGNvbSk7XG4gICAgICAgIGNvbS5vbkFmdGVyU2hvdyhwYXJhbXMpO1xuICAgIH1cblxuICAgIC8qKiDmt7vliqDliLBGaXhlZOS4rSAqL1xuICAgIHByaXZhdGUgYXN5bmMgZW50ZXJUb0ZpeGVkKGZpZDogc3RyaW5nLCBwYXJhbXM6IGFueSkge1xuICAgICAgICBsZXQgY29tID0gdGhpcy5fYWxsRm9ybXNbZmlkXTtcbiAgICAgICAgaWYoIWNvbSkgcmV0dXJuIDtcbiAgICAgICAgYXdhaXQgY29tLl9wcmVJbml0KHBhcmFtcyk7XG4gICAgICAgIFxuICAgICAgICBjb20ub25TaG93KHBhcmFtcyk7XG4gICAgICAgIHRoaXMuX3Nob3dpbmdGb3Jtc1tmaWRdID0gY29tO1xuICAgICAgICBhd2FpdCB0aGlzLnNob3dFZmZlY3QoY29tKTtcbiAgICAgICAgY29tLm9uQWZ0ZXJTaG93KHBhcmFtcyk7XG4gICAgfVxuXG4gICAgLyoqIOa3u+WKoOWIsHBvcHVw5LitICovXG4gICAgcHJpdmF0ZSBhc3luYyBlbnRlclRvUG9wdXAoZmlkOiBzdHJpbmcsIHBhcmFtczogYW55KSB7XG4gICAgICAgIGxldCBjb20gPSB0aGlzLl9hbGxGb3Jtc1tmaWRdIGFzIFVJV2luZG93O1xuICAgICAgICBpZighY29tKSByZXR1cm4gO1xuICAgICAgICBhd2FpdCBjb20uX3ByZUluaXQocGFyYW1zKTtcblxuICAgICAgICB0aGlzLl93aW5kb3dzLnB1c2goY29tKTtcbiAgICAgICAgXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMuX3dpbmRvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3dpbmRvd3NbaV0ubm9kZS56SW5kZXggPSBpKzE7XG4gICAgICAgIH1cblxuICAgICAgICBjb20ub25TaG93KHBhcmFtcyk7XG4gICAgICAgIHRoaXMuX3Nob3dpbmdGb3Jtc1tmaWRdID0gY29tO1xuXG4gICAgICAgIE1vZGFsTWdyLmluc3QuY2hlY2tNb2RhbFdpbmRvdyh0aGlzLl93aW5kb3dzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zaG93RWZmZWN0KGNvbSk7XG4gICAgICAgIGNvbS5vbkFmdGVyU2hvdyhwYXJhbXMpO1xuICAgIH1cbiAgICBcbiAgICAvKiog5Yqg6L295YiwdGlwc+S4rSAqL1xuICAgIHByaXZhdGUgYXN5bmMgZW50ZXJUb1RpcHMoZmlkOiBzdHJpbmcsIHBhcmFtczogYW55KSB7XG4gICAgICAgIGxldCBjb20gPSB0aGlzLl9hbGxGb3Jtc1tmaWRdO1xuICAgICAgICBpZighY29tKSByZXR1cm4gO1xuICAgICAgICBhd2FpdCBjb20uX3ByZUluaXQocGFyYW1zKTtcbiAgICAgICAgdGhpcy5fdGlwc0Zvcm1zW2ZpZF0gPSBjb207XG4gICAgICAgIFxuICAgICAgICBjb20ub25TaG93KHBhcmFtcyk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2hvd0VmZmVjdChjb20pO1xuICAgICAgICBjb20ub25BZnRlclNob3cocGFyYW1zKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGV4aXRUb1NjcmVlbihmaWQ6IHN0cmluZykge1xuICAgICAgICBsZXQgY29tID0gdGhpcy5fc2hvd2luZ0Zvcm1zW2ZpZF07XG4gICAgICAgIGlmKCFjb20pIHJldHVybiA7XG4gICAgICAgIGNvbS5vbkhpZGUoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5oaWRlRWZmZWN0KGNvbSk7XG4gICAgICAgIGNvbS5vbkFmdGVySGlkZSgpO1xuXG4gICAgICAgIHRoaXMuX3Nob3dpbmdGb3Jtc1tmaWRdID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3Nob3dpbmdGb3Jtc1tmaWRdO1xuICAgIH1cbiAgIFxuICAgIHByaXZhdGUgYXN5bmMgZXhpdFRvRml4ZWQoZmlkOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGNvbSA9IHRoaXMuX2FsbEZvcm1zW2ZpZF07XG4gICAgICAgIGlmKCFjb20pIHJldHVybiA7XG4gICAgICAgIGNvbS5vbkhpZGUoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5oaWRlRWZmZWN0KGNvbSk7XG4gICAgICAgIGNvbS5vbkFmdGVySGlkZSgpO1xuXG4gICAgICAgIHRoaXMuX3Nob3dpbmdGb3Jtc1tmaWRdID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3Nob3dpbmdGb3Jtc1tmaWRdO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIGFzeW5jIGV4aXRUb1BvcHVwKGZpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmKHRoaXMuX3dpbmRvd3MubGVuZ3RoIDw9IDApIHJldHVybjtcbiAgICAgICAgbGV0IGNvbTogVUlXaW5kb3cgPSBudWxsO1xuICAgICAgICBmb3IobGV0IGk9dGhpcy5fd2luZG93cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgICAgICBpZih0aGlzLl93aW5kb3dzW2ldLmZpZCA9PT0gZmlkKSB7XG4gICAgICAgICAgICAgICAgY29tID0gdGhpcy5fd2luZG93c1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLl93aW5kb3dzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZighY29tKSByZXR1cm4gO1xuICAgICAgICBcbiAgICAgICAgY29tLm9uSGlkZSgpO1xuICAgICAgICBNb2RhbE1nci5pbnN0LmNoZWNrTW9kYWxXaW5kb3codGhpcy5fd2luZG93cyk7XG4gICAgICAgIGF3YWl0IHRoaXMuaGlkZUVmZmVjdChjb20pO1xuICAgICAgICBjb20ub25BZnRlckhpZGUoKTtcblxuICAgICAgICB0aGlzLl9zaG93aW5nRm9ybXNbZmlkXSA9IG51bGw7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zaG93aW5nRm9ybXNbZmlkXTtcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBhc3luYyBleGl0VG9UaXBzKGZpZDogc3RyaW5nKSB7XG4gICAgICAgIGxldCBjb20gPSB0aGlzLl9hbGxGb3Jtc1tmaWRdO1xuICAgICAgICBpZighY29tKSByZXR1cm4gO1xuICAgICAgICBjb20ub25IaWRlKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuaGlkZUVmZmVjdChjb20pO1xuICAgICAgICBjb20ub25BZnRlckhpZGUoKTtcblxuICAgICAgICB0aGlzLl90aXBzRm9ybXNbZmlkXSA9IG51bGw7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl90aXBzRm9ybXNbZmlkXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHNob3dFZmZlY3QoYmFzZVVJOiBVSUJhc2UpIHtcbiAgICAgICAgYmFzZVVJLm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgYmFzZVVJLnNob3dFZmZlY3QoKTtcbiAgICB9XG4gICAgcHJpdmF0ZSBhc3luYyBoaWRlRWZmZWN0KGJhc2VVSTogVUlCYXNlKSB7XG4gICAgICAgIGF3YWl0IGJhc2VVSS5oaWRlRWZmZWN0KCk7XG4gICAgICAgIGJhc2VVSS5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKiDplIDmr4EgKi9cbiAgICBwcml2YXRlIGRlc3RvcnlGb3JtKGNvbTogVUlCYXNlKSB7XG4gICAgICAgIC8vIOmUgOavgeWKqOaAgeWKoOi9veeahOi1hOa6kFxuICAgICAgICBSZXNNZ3IuaW5zdC5kZXN0b3J5RHluYW1pY1Jlcyhjb20uZmlkKTtcbiAgICAgICAgLy8g6ZSA5q+BcHJlZmFi5Lul5Y+K5L6d6LWW55qE6LWE5rqQXG4gICAgICAgIFJlc01nci5pbnN0LmRlc3RvcnlGb3JtUHJlZmFiKGNvbS5maWQpO1xuICAgICAgICAvLyDplIDmr4Fub2RlXG4gICAgICAgIGNvbS5ub2RlLmRlc3Ryb3koKTtcbiAgICAgICAgLy8g5LuOYWxsbWFw5Lit5Yig6ZmkXG4gICAgICAgIHRoaXMuX2FsbEZvcm1zW2NvbS5maWRdID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2FsbEZvcm1zW2NvbS5maWRdO1xuICAgIH1cblxuICAgIC8qKiBMUlXnvJPlrZjmjqfliLYgKi9cbiAgICBwcml2YXRlIHB1dExSVUNhY2hlKGNvbTogVUlCYXNlKSB7XG4gICAgICAgIHRoaXMuX0xSVUNhY2hlLnB1dChjb20uZmlkKTtcbiAgICAgICAgaWYoIXRoaXMuX0xSVUNhY2hlLm5lZWREZWxldGUoKSkgcmV0dXJuIDtcbiAgICAgICAgbGV0IGRlbGV0ZUZpZCA9IHRoaXMuX0xSVUNhY2hlLmRlbGV0ZUxhc3ROb2RlKCk7XG4gICAgICAgIGlmKGRlbGV0ZUZpZCkge1xuICAgICAgICAgICAgQ0NfREVCVUcgJiYgY29uc29sZS5sb2coJ2Nsb3NlIGZvcm0gaWQ6JywgZGVsZXRlRmlkLCB0aGlzLl9MUlVDYWNoZS50b1N0cmluZygpKVxuICAgICAgICAgICAgbGV0IGNvbSA9IHRoaXMuZ2V0Rm9ybShkZWxldGVGaWQpO1xuICAgICAgICAgICAgaWYoIWNvbSB8fCAhY29tLm5vZGUpIHJldHVybiA7XG4gICAgICAgICAgICBjb20gJiYgdGhpcy5kZXN0b3J5Rm9ybShjb20pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIC8qKiDnqpfkvZPmmK/lkKbmraPlnKjmmL7npLogKi9cbiAgICBwdWJsaWMgY2hlY2tGb3JtU2hvd2luZyhmaWQ6IHN0cmluZykge1xuICAgICAgICBsZXQgY29tID0gdGhpcy5fYWxsRm9ybXNbZmlkXTtcbiAgICAgICAgaWYgKCFjb20pIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGNvbS5ub2RlLmFjdGl2ZTtcbiAgICB9XG5cbiAgICAvKiog56qX5L2T5piv5ZCm5q2j5Zyo5Yqg6L29ICovXG4gICAgcHVibGljIGNoZWNrRm9ybUxvYWRpbmcocHJlZmFiUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIGxldCBjb20gPSB0aGlzLl9sb2FkaW5nRm9ybVtwcmVmYWJQYXRoXTtcbiAgICAgICAgcmV0dXJuICEhY29tO1xuICAgIH1cblxuICAgIC8qKiDojrflvpdDb21wb25lbnQgKi9cbiAgICBwdWJsaWMgZ2V0Rm9ybShmSWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsRm9ybXNbZklkXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VUlST09UKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fVUlST09UO1xuICAgIH1cbn1cblxuaWYoQ0NfREVCVUcpIHtcbiAgICB3aW5kb3dbJ1VJTWFuYWdlciddID0gVUlNYW5hZ2VyO1xufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/Struct.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '294d4cuj8FOwrGZgHqxSfsR', 'Struct');
// Script/UIFrame/Struct.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ECloseType = exports.EPriority = exports.ModalType = void 0;
var SysDefine_1 = require("./config/SysDefine");
var ModalType = /** @class */ (function () {
    function ModalType(opacity, ClickMaskClose, IsEasing, EasingTime) {
        if (opacity === void 0) { opacity = SysDefine_1.ModalOpacity.OpacityHalf; }
        if (ClickMaskClose === void 0) { ClickMaskClose = false; }
        if (IsEasing === void 0) { IsEasing = true; }
        if (EasingTime === void 0) { EasingTime = 0.2; }
        this.opacity = SysDefine_1.ModalOpacity.OpacityHalf;
        this.clickMaskClose = false; // 点击阴影关闭
        this.isEasing = true; // 缓动实现
        this.easingTime = 0.2; // 缓动时间
        this.dualBlur = false; // 模糊
        this.opacity = opacity;
        this.clickMaskClose = ClickMaskClose;
        this.isEasing = IsEasing;
        this.easingTime = EasingTime;
    }
    ModalType.prototype.useBlur = function () {
        this.dualBlur = true;
        return this;
    };
    return ModalType;
}());
exports.ModalType = ModalType;
var EPriority;
(function (EPriority) {
    EPriority[EPriority["ZERO"] = 0] = "ZERO";
    EPriority[EPriority["ONE"] = 1] = "ONE";
    EPriority[EPriority["TWO"] = 2] = "TWO";
    EPriority[EPriority["THREE"] = 3] = "THREE";
    EPriority[EPriority["FOUR"] = 4] = "FOUR";
    EPriority[EPriority["FIVE"] = 5] = "FIVE";
    EPriority[EPriority["SIX"] = 6] = "SIX";
    EPriority[EPriority["SEVEN"] = 7] = "SEVEN";
    EPriority[EPriority["EIGHT"] = 8] = "EIGHT";
    EPriority[EPriority["NINE"] = 9] = "NINE";
})(EPriority = exports.EPriority || (exports.EPriority = {}));
var ECloseType;
(function (ECloseType) {
    ECloseType[ECloseType["CloseAndHide"] = 0] = "CloseAndHide";
    ECloseType[ECloseType["CloseAndDestory"] = 1] = "CloseAndDestory";
    ECloseType[ECloseType["LRU"] = 2] = "LRU";
})(ECloseType = exports.ECloseType || (exports.ECloseType = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9TdHJ1Y3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0RBQWtEO0FBRWxEO0lBUUksbUJBQVksT0FBa0MsRUFBRSxjQUFvQixFQUFFLFFBQWEsRUFBRSxVQUFjO1FBQXZGLHdCQUFBLEVBQUEsVUFBVSx3QkFBWSxDQUFDLFdBQVc7UUFBRSwrQkFBQSxFQUFBLHNCQUFvQjtRQUFFLHlCQUFBLEVBQUEsZUFBYTtRQUFFLDJCQUFBLEVBQUEsZ0JBQWM7UUFQNUYsWUFBTyxHQUFpQix3QkFBWSxDQUFDLFdBQVcsQ0FBQztRQUNqRCxtQkFBYyxHQUFHLEtBQUssQ0FBQyxDQUFNLFNBQVM7UUFDdEMsYUFBUSxHQUFHLElBQUksQ0FBQyxDQUFhLE9BQU87UUFDcEMsZUFBVSxHQUFHLEdBQUcsQ0FBQyxDQUFZLE9BQU87UUFDcEMsYUFBUSxHQUFHLEtBQUssQ0FBQyxDQUFZLEtBQUs7UUFJckMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDakMsQ0FBQztJQUVELDJCQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQW5CQSxBQW1CQyxJQUFBO0FBbkJZLDhCQUFTO0FBbUN0QixJQUFZLFNBV1g7QUFYRCxXQUFZLFNBQVM7SUFDakIseUNBQUksQ0FBQTtJQUNKLHVDQUFHLENBQUE7SUFDSCx1Q0FBRyxDQUFBO0lBQ0gsMkNBQUssQ0FBQTtJQUNMLHlDQUFJLENBQUE7SUFDSix5Q0FBSSxDQUFBO0lBQ0osdUNBQUcsQ0FBQTtJQUNILDJDQUFLLENBQUE7SUFDTCwyQ0FBSyxDQUFBO0lBQ0wseUNBQUksQ0FBQTtBQUNSLENBQUMsRUFYVyxTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQVdwQjtBQUVELElBQVksVUFJWDtBQUpELFdBQVksVUFBVTtJQUNsQiwyREFBWSxDQUFBO0lBQ1osaUVBQWUsQ0FBQTtJQUNmLHlDQUFHLENBQUE7QUFDUCxDQUFDLEVBSlcsVUFBVSxHQUFWLGtCQUFVLEtBQVYsa0JBQVUsUUFJckIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RhbE9wYWNpdHkgfSBmcm9tIFwiLi9jb25maWcvU3lzRGVmaW5lXCI7XG5cbmV4cG9ydCBjbGFzcyBNb2RhbFR5cGUge1xuICAgIHB1YmxpYyBvcGFjaXR5OiBNb2RhbE9wYWNpdHkgPSBNb2RhbE9wYWNpdHkuT3BhY2l0eUhhbGY7XG4gICAgcHVibGljIGNsaWNrTWFza0Nsb3NlID0gZmFsc2U7ICAgICAgLy8g54K55Ye76Zi05b2x5YWz6ZetXG4gICAgcHVibGljIGlzRWFzaW5nID0gdHJ1ZTsgICAgICAgICAgICAgLy8g57yT5Yqo5a6e546wXG4gICAgcHVibGljIGVhc2luZ1RpbWUgPSAwLjI7ICAgICAgICAgICAgLy8g57yT5Yqo5pe26Ze0XG4gICAgcHVibGljIGR1YWxCbHVyID0gZmFsc2U7ICAgICAgICAgICAgLy8g5qih57OKXG4gICAgXG5cbiAgICBjb25zdHJ1Y3RvcihvcGFjaXR5ID0gTW9kYWxPcGFjaXR5Lk9wYWNpdHlIYWxmLCBDbGlja01hc2tDbG9zZT1mYWxzZSwgSXNFYXNpbmc9dHJ1ZSwgRWFzaW5nVGltZT0wLjIpIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gb3BhY2l0eTtcbiAgICAgICAgdGhpcy5jbGlja01hc2tDbG9zZSA9IENsaWNrTWFza0Nsb3NlO1xuICAgICAgICB0aGlzLmlzRWFzaW5nID0gSXNFYXNpbmc7XG4gICAgICAgIHRoaXMuZWFzaW5nVGltZSA9IEVhc2luZ1RpbWU7XG4gICAgfVxuXG4gICAgdXNlQmx1cigpIHtcbiAgICAgICAgdGhpcy5kdWFsQmx1ciA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRm9ybUNvbmZpZyB7XG4gICAgcHJlZmFiVXJsOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGb3JtRGF0YSB7XG4gICAgbG9hZGluZ0Zvcm0/OiBJRm9ybUNvbmZpZztcbiAgICBvbkNsb3NlPzogRnVuY3Rpb247XG4gICAgLy8gd2luZG9357G75Z6L55qEZm9ybeaJjeaciVxuICAgIHByaW9yaXR5PzogRVByaW9yaXR5OyAgICAgICAvLyDlvZPliY3mnInlt7Lnu4/mmL7npLrnmoR3aW5kb3fml7YsIOS8muaUvuetieW+heWIl+ihqOmHjCwg55+l6YGTIOW9k+WJjeayoeacieato+WcqOaYvuekuueahHdpbmRvd+aXtuaJjeiiq+aYvuekulxuICAgIHNob3dXYWl0PzogYm9vbGVhbjsgICAgICAgICAvLyDkvJjlhYjnuqco5Lya5b2x5ZON5by556qX55qE5bGC57qnLCDlhYjliKTmlq3kvJjlhYjnuqcsIOWcqOWIpOaWrea3u+WKoOmhuuW6jylcbiAgICB1bmlxdWVJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGVudW0gRVByaW9yaXR5IHtcbiAgICBaRVJPLFxuICAgIE9ORSxcbiAgICBUV08sXG4gICAgVEhSRUUsXG4gICAgRk9VUixcbiAgICBGSVZFLFxuICAgIFNJWCxcbiAgICBTRVZFTixcbiAgICBFSUdIVCxcbiAgICBOSU5FLFxufVxuXG5leHBvcnQgZW51bSBFQ2xvc2VUeXBlIHtcbiAgICBDbG9zZUFuZEhpZGUsICAgICAgICAgICAvLyDlhbPpl63lkI7pmpDol49cbiAgICBDbG9zZUFuZERlc3RvcnksICAgICAgICAvLyDlhbPpl63lkI7plIDmr4FcbiAgICBMUlUsICAgICAgICAgICAgICAgICAgICAvLyDkvb/nlKhMUlXmjqfliLblhbbplIDmr4Hml7bmnLpcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/UIToast.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f1211m5xUNKR7NsrmF2i3SV', 'UIToast');
// Script/UIFrame/UIToast.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ToastMgr = exports.UIToast = exports.ToastType = void 0;
var Pool_1 = require("../Common/Utils/Pool");
var CocosHelper_1 = require("./CocosHelper");
var UIBase_1 = require("./UIBase");
var ToastType;
(function (ToastType) {
    ToastType[ToastType["Default"] = 0] = "Default";
})(ToastType = exports.ToastType || (exports.ToastType = {}));
/**
 * 外部传参
 * 1. 将prefabUrl注册, 静态
 * 2. UIToast.open 直接打开
 */
var UIToast = /** @class */ (function (_super) {
    __extends(UIToast, _super);
    function UIToast() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UIToast.prototype.use = function () {
    };
    UIToast.prototype.free = function () {
    };
    return UIToast;
}(UIBase_1.default));
exports.UIToast = UIToast;
var ToastMgr = /** @class */ (function () {
    function ToastMgr() {
        this._pools = {};
    }
    ToastMgr.prototype.load = function (url) {
        return __awaiter(this, void 0, void 0, function () {
            var prefab_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this._pools[url]) return [3 /*break*/, 2];
                        return [4 /*yield*/, CocosHelper_1.default.loadResSync(url, cc.Prefab)];
                    case 1:
                        prefab_1 = _a.sent();
                        this._pools[url] = new Pool_1.Pool(function () {
                            var node = cc.instantiate(prefab_1);
                            return node.getComponent(UIToast);
                        }, 10);
                        _a.label = 2;
                    case 2: return [2 /*return*/, this._pools[url].alloc()];
                }
            });
        });
    };
    ToastMgr.prototype.register = function (type, toast) {
    };
    ToastMgr.prototype.free = function (url, obj) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this._pools[url].free(obj);
                return [2 /*return*/];
            });
        });
    };
    ToastMgr.prototype.open = function (name, params) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/];
            });
        });
    };
    ToastMgr.prototype.close = function (url) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/];
            });
        });
    };
    return ToastMgr;
}());
exports.ToastMgr = ToastMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9VSVRvYXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBbUQ7QUFDbkQsNkNBQXdDO0FBQ3hDLG1DQUE4QjtBQUc5QixJQUFZLFNBRVg7QUFGRCxXQUFZLFNBQVM7SUFDakIsK0NBQU8sQ0FBQTtBQUNYLENBQUMsRUFGVyxTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQUVwQjtBQUdEOzs7O0dBSUc7QUFFSDtJQUE2QiwyQkFBTTtJQUFuQzs7SUFTQSxDQUFDO0lBUFUscUJBQUcsR0FBVjtJQUVBLENBQUM7SUFFTSxzQkFBSSxHQUFYO0lBRUEsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQVRBLEFBU0MsQ0FUNEIsZ0JBQU0sR0FTbEM7QUFUWSwwQkFBTztBQVdwQjtJQUFBO1FBQ1ksV0FBTSxHQUFtQyxFQUFFLENBQUM7SUE2QnhELENBQUM7SUEzQmlCLHVCQUFJLEdBQWxCLFVBQW1CLEdBQVc7Ozs7Ozs2QkFDdkIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFqQix3QkFBaUI7d0JBQ0gscUJBQU0scUJBQVcsQ0FBQyxXQUFXLENBQVksR0FBRyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBQTs7d0JBQWpFLFdBQVMsU0FBd0Q7d0JBQ3JFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxXQUFJLENBQVU7NEJBQ2pDLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsUUFBTSxDQUFDLENBQUM7NEJBQ2xDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQzt3QkFDdEMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDOzs0QkFFWCxzQkFBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFDOzs7O0tBQ25DO0lBRU0sMkJBQVEsR0FBZixVQUFnQixJQUFlLEVBQUUsS0FBYTtJQUU5QyxDQUFDO0lBRWEsdUJBQUksR0FBbEIsVUFBbUIsR0FBVyxFQUFFLEdBQVk7OztnQkFDeEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Ozs7S0FDOUI7SUFFWSx1QkFBSSxHQUFqQixVQUFrQixJQUFZLEVBQUUsTUFBYzs7Ozs7O0tBRTdDO0lBRVksd0JBQUssR0FBbEIsVUFBbUIsR0FBVzs7Ozs7O0tBRTdCO0lBRUwsZUFBQztBQUFELENBOUJBLEFBOEJDLElBQUE7QUE5QlksNEJBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJUG9vbCwgUG9vbCB9IGZyb20gXCIuLi9Db21tb24vVXRpbHMvUG9vbFwiO1xuaW1wb3J0IENvY29zSGVscGVyIGZyb20gXCIuL0NvY29zSGVscGVyXCI7XG5pbXBvcnQgVUlCYXNlIGZyb20gXCIuL1VJQmFzZVwiO1xuXG5cbmV4cG9ydCBlbnVtIFRvYXN0VHlwZSB7XG4gICAgRGVmYXVsdCxcbn1cblxuXG4vKipcbiAqIOWklumDqOS8oOWPglxuICogMS4g5bCGcHJlZmFiVXJs5rOo5YaMLCDpnZnmgIFcbiAqIDIuIFVJVG9hc3Qub3BlbiDnm7TmjqXmiZPlvIBcbiAqL1xuXG5leHBvcnQgY2xhc3MgVUlUb2FzdCBleHRlbmRzIFVJQmFzZSBpbXBsZW1lbnRzIElQb29sIHtcblxuICAgIHB1YmxpYyB1c2UoKSB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBmcmVlKCkge1xuXG4gICAgfSAgIFxufVxuXG5leHBvcnQgY2xhc3MgVG9hc3RNZ3Ige1xuICAgIHByaXZhdGUgX3Bvb2xzOiB7W2tleTogc3RyaW5nXTogUG9vbDxVSVRvYXN0Pn0gPSB7fTtcblxuICAgIHByaXZhdGUgYXN5bmMgbG9hZCh1cmw6IHN0cmluZykge1xuICAgICAgICBpZighdGhpcy5fcG9vbHNbdXJsXSkge1xuICAgICAgICAgICAgbGV0IHByZWZhYiA9IGF3YWl0IENvY29zSGVscGVyLmxvYWRSZXNTeW5jPGNjLlByZWZhYj4odXJsLCBjYy5QcmVmYWIpO1xuICAgICAgICAgICAgdGhpcy5fcG9vbHNbdXJsXSA9IG5ldyBQb29sPFVJVG9hc3Q+KCgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0Q29tcG9uZW50KFVJVG9hc3QpO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wb29sc1t1cmxdLmFsbG9jKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyKHR5cGU6IFRvYXN0VHlwZSwgdG9hc3Q6IHN0cmluZykge1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBmcmVlKHVybDogc3RyaW5nLCBvYmo6IFVJVG9hc3QpIHtcbiAgICAgICAgdGhpcy5fcG9vbHNbdXJsXS5mcmVlKG9iaik7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIG9wZW4obmFtZTogc3RyaW5nLCBwYXJhbXM6IG51bWJlcikge1xuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2xvc2UodXJsOiBzdHJpbmcpIHtcbiAgICAgICAgXG4gICAgfVxuXG59XG5cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/WindowMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '14f25mz3sdN6Yu+aE4UQvmc', 'WindowMgr');
// Script/UIFrame/WindowMgr.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var PriorityQueue_1 = require("../Common/Utils/PriorityQueue");
var PriorityStack_1 = require("../Common/Utils/PriorityStack");
var Struct_1 = require("./Struct");
var UIManager_1 = require("./UIManager");
var WindowMgr = /** @class */ (function () {
    function WindowMgr() {
        // 窗体
        this._showingList = new PriorityStack_1.default();
        this._waitingList = new PriorityQueue_1.default();
        this._currWindow = "";
    }
    Object.defineProperty(WindowMgr.prototype, "currWindow", {
        get: function () {
            return this._currWindow;
        },
        enumerable: false,
        configurable: true
    });
    WindowMgr.prototype.getWindows = function () {
        return this._showingList.getElements();
    };
    /** 打开窗体 */
    WindowMgr.prototype.open = function (prefabPath, params, formData) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        formData = this._formatFormData(formData);
                        if (!(this._showingList.size <= 0 || (!formData.showWait && formData.priority >= this._showingList.getTopEPriority()))) return [3 /*break*/, 2];
                        this._showingList.push(prefabPath, formData.priority);
                        this._currWindow = this._showingList.getTopElement();
                        return [4 /*yield*/, UIManager_1.default.getInstance().openForm(prefabPath, params, formData)];
                    case 1: return [2 /*return*/, _a.sent()];
                    case 2:
                        // 入等待队列
                        this._waitingList.enqueue({ prefabPath: prefabPath, params: params, formData: formData });
                        return [4 /*yield*/, UIManager_1.default.getInstance().loadUIForm(prefabPath)];
                    case 3: 
                    // 加载窗体
                    return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    WindowMgr.prototype.close = function (prefabPath) {
        return __awaiter(this, void 0, void 0, function () {
            var result, windowData;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        result = this._showingList.remove(prefabPath);
                        if (!result)
                            return [2 /*return*/, false];
                        return [4 /*yield*/, UIManager_1.default.getInstance().closeForm(prefabPath)];
                    case 1:
                        _a.sent();
                        if (this._showingList.size <= 0 && this._waitingList.size > 0) {
                            windowData = this._waitingList.dequeue();
                            this.open(windowData.prefabPath, windowData.params, windowData.formData);
                        }
                        return [2 /*return*/, true];
                }
            });
        });
    };
    /** 关闭所有弹窗 */
    WindowMgr.prototype.closeAll = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _i, _a, fid;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this._waitingList.clear();
                        _i = 0, _a = this._showingList.getElements();
                        _b.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 4];
                        fid = _a[_i];
                        return [4 /*yield*/, UIManager_1.default.getInstance().closeForm(fid)];
                    case 2:
                        _b.sent();
                        _b.label = 3;
                    case 3:
                        _i++;
                        return [3 /*break*/, 1];
                    case 4:
                        this._showingList.clear();
                        return [2 /*return*/, true];
                }
            });
        });
    };
    WindowMgr.prototype._formatFormData = function (formData) {
        return Object.assign({ showWait: false, priority: Struct_1.EPriority.FIVE }, formData);
    };
    return WindowMgr;
}());
var WindowData = /** @class */ (function () {
    function WindowData() {
    }
    return WindowData;
}());
exports.default = new WindowMgr();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9XaW5kb3dNZ3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrREFBMEQ7QUFDMUQsK0RBQTBEO0FBQzFELG1DQUFnRDtBQUNoRCx5Q0FBb0M7QUFFcEM7SUFBQTtRQUNJLEtBQUs7UUFDRyxpQkFBWSxHQUEwQixJQUFJLHVCQUFhLEVBQUUsQ0FBQztRQUMxRCxpQkFBWSxHQUE4QixJQUFJLHVCQUFhLEVBQUUsQ0FBQztRQUU5RCxnQkFBVyxHQUFXLEVBQUUsQ0FBQztJQW9EckMsQ0FBQztJQW5ERyxzQkFBVyxpQ0FBVTthQUFyQjtZQUNJLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUM1QixDQUFDOzs7T0FBQTtJQUVNLDhCQUFVLEdBQWpCO1FBQ0ksT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFFRCxXQUFXO0lBQ0Usd0JBQUksR0FBakIsVUFBa0IsVUFBa0IsRUFBRSxNQUFZLEVBQUUsUUFBb0I7Ozs7O3dCQUNwRSxRQUFRLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQzs2QkFDdkMsQ0FBQSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUEsRUFBL0csd0JBQStHO3dCQUM5RyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUN0RCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLENBQUM7d0JBQzlDLHFCQUFNLG1CQUFTLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLEVBQUE7NEJBQTNFLHNCQUFPLFNBQW9FLEVBQUM7O3dCQUdoRixRQUFRO3dCQUNSLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUMsVUFBVSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO3dCQUVqRixxQkFBTSxtQkFBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBQTs7b0JBRDNELE9BQU87b0JBQ1Asc0JBQU8sU0FBb0QsRUFBQzs7OztLQUMvRDtJQUVZLHlCQUFLLEdBQWxCLFVBQW1CLFVBQWtCOzs7Ozs7d0JBQzdCLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDbEQsSUFBRyxDQUFDLE1BQU07NEJBQUUsc0JBQU8sS0FBSyxFQUFDO3dCQUV6QixxQkFBTSxtQkFBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBQTs7d0JBQW5ELFNBQW1ELENBQUM7d0JBRXBELElBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRTs0QkFDdEQsVUFBVSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLENBQUM7NEJBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQzt5QkFDNUU7d0JBQ0Qsc0JBQU8sSUFBSSxFQUFDOzs7O0tBQ2Y7SUFFRCxhQUFhO0lBQ0EsNEJBQVEsR0FBckI7Ozs7Ozt3QkFDSSxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDOzhCQUVzQixFQUEvQixLQUFBLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFOzs7NkJBQS9CLENBQUEsY0FBK0IsQ0FBQTt3QkFBdEMsR0FBRzt3QkFDVCxxQkFBTSxtQkFBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBQTs7d0JBQTVDLFNBQTRDLENBQUM7Ozt3QkFEaEMsSUFBK0IsQ0FBQTs7O3dCQUdoRCxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO3dCQUUxQixzQkFBTyxJQUFJLEVBQUM7Ozs7S0FDZjtJQUVPLG1DQUFlLEdBQXZCLFVBQXdCLFFBQWE7UUFDakMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsa0JBQVMsQ0FBQyxJQUFJLEVBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNoRixDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQXpEQSxBQXlEQyxJQUFBO0FBRUQ7SUFBQTtJQUlBLENBQUM7SUFBRCxpQkFBQztBQUFELENBSkEsQUFJQyxJQUFBO0FBRUQsa0JBQWUsSUFBSSxTQUFTLEVBQUUsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcmlvcml0eVF1ZXVlIGZyb20gXCIuLi9Db21tb24vVXRpbHMvUHJpb3JpdHlRdWV1ZVwiO1xuaW1wb3J0IFByaW9yaXR5U3RhY2sgZnJvbSBcIi4uL0NvbW1vbi9VdGlscy9Qcmlvcml0eVN0YWNrXCI7XG5pbXBvcnQgeyBFUHJpb3JpdHksIElGb3JtRGF0YSB9IGZyb20gXCIuL1N0cnVjdFwiO1xuaW1wb3J0IFVJTWFuYWdlciBmcm9tIFwiLi9VSU1hbmFnZXJcIjtcblxuY2xhc3MgV2luZG93TWdyIHtcbiAgICAvLyDnqpfkvZNcbiAgICBwcml2YXRlIF9zaG93aW5nTGlzdDogUHJpb3JpdHlTdGFjazxzdHJpbmc+ID0gbmV3IFByaW9yaXR5U3RhY2soKTtcbiAgICBwcml2YXRlIF93YWl0aW5nTGlzdDogUHJpb3JpdHlRdWV1ZTxXaW5kb3dEYXRhPiA9IG5ldyBQcmlvcml0eVF1ZXVlKCk7XG4gICAgXG4gICAgcHJpdmF0ZSBfY3VycldpbmRvdzogc3RyaW5nID0gXCJcIjtcbiAgICBwdWJsaWMgZ2V0IGN1cnJXaW5kb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyV2luZG93O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRXaW5kb3dzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2hvd2luZ0xpc3QuZ2V0RWxlbWVudHMoKTtcbiAgICB9XG5cbiAgICAvKiog5omT5byA56qX5L2TICovXG4gICAgcHVibGljIGFzeW5jIG9wZW4ocHJlZmFiUGF0aDogc3RyaW5nLCBwYXJhbXM/OiBhbnksIGZvcm1EYXRhPzogSUZvcm1EYXRhKSB7XG4gICAgICAgIGZvcm1EYXRhID0gdGhpcy5fZm9ybWF0Rm9ybURhdGEoZm9ybURhdGEpO1xuICAgICAgICBpZih0aGlzLl9zaG93aW5nTGlzdC5zaXplIDw9IDAgfHwgKCFmb3JtRGF0YS5zaG93V2FpdCAmJiBmb3JtRGF0YS5wcmlvcml0eSA+PSB0aGlzLl9zaG93aW5nTGlzdC5nZXRUb3BFUHJpb3JpdHkoKSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dpbmdMaXN0LnB1c2gocHJlZmFiUGF0aCwgZm9ybURhdGEucHJpb3JpdHkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycldpbmRvdyA9IHRoaXMuX3Nob3dpbmdMaXN0LmdldFRvcEVsZW1lbnQoKTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5vcGVuRm9ybShwcmVmYWJQYXRoLCBwYXJhbXMsIGZvcm1EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8g5YWl562J5b6F6Zif5YiXXG4gICAgICAgIHRoaXMuX3dhaXRpbmdMaXN0LmVucXVldWUoe3ByZWZhYlBhdGg6IHByZWZhYlBhdGgsIHBhcmFtczogcGFyYW1zLCBmb3JtRGF0YTogZm9ybURhdGF9KTtcbiAgICAgICAgLy8g5Yqg6L2956qX5L2TXG4gICAgICAgIHJldHVybiBhd2FpdCBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5sb2FkVUlGb3JtKHByZWZhYlBhdGgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBjbG9zZShwcmVmYWJQYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX3Nob3dpbmdMaXN0LnJlbW92ZShwcmVmYWJQYXRoKTtcbiAgICAgICAgaWYoIXJlc3VsdCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGF3YWl0IFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNsb3NlRm9ybShwcmVmYWJQYXRoKTtcblxuICAgICAgICBpZih0aGlzLl9zaG93aW5nTGlzdC5zaXplIDw9IDAgJiYgdGhpcy5fd2FpdGluZ0xpc3Quc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB3aW5kb3dEYXRhID0gdGhpcy5fd2FpdGluZ0xpc3QuZGVxdWV1ZSgpO1xuICAgICAgICAgICAgdGhpcy5vcGVuKHdpbmRvd0RhdGEucHJlZmFiUGF0aCwgd2luZG93RGF0YS5wYXJhbXMsIHdpbmRvd0RhdGEuZm9ybURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKiDlhbPpl63miYDmnInlvLnnqpcgKi9cbiAgICBwdWJsaWMgYXN5bmMgY2xvc2VBbGwoKSB7XG4gICAgICAgIHRoaXMuX3dhaXRpbmdMaXN0LmNsZWFyKCk7XG5cbiAgICAgICAgZm9yKGNvbnN0IGZpZCBvZiB0aGlzLl9zaG93aW5nTGlzdC5nZXRFbGVtZW50cygpKSB7XG4gICAgICAgICAgICBhd2FpdCBVSU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jbG9zZUZvcm0oZmlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaG93aW5nTGlzdC5jbGVhcigpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZm9ybWF0Rm9ybURhdGEoZm9ybURhdGE6IGFueSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7c2hvd1dhaXQ6IGZhbHNlLCBwcmlvcml0eTogRVByaW9yaXR5LkZJVkV9LCBmb3JtRGF0YSk7XG4gICAgfVxufVxuXG5jbGFzcyBXaW5kb3dEYXRhIHtcbiAgICBwcmVmYWJQYXRoOiBzdHJpbmc7XG4gICAgcGFyYW1zPzogYW55O1xuICAgIGZvcm1EYXRhPzogYW55O1xufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgV2luZG93TWdyKCk7XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIECSView.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0c74dAi5jtLFKLmAFJ0qihQ', 'UIECSView');
// Script/UIScript/UIECSView.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIECSView = /** @class */ (function (_super) {
    __extends(UIECSView, _super);
    function UIECSView() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // onLoad () {}
    UIECSView.prototype.start = function () {
        this.view.Back.addClick(function () {
            FormMgr_1.default.backScene();
        }, this);
    };
    UIECSView = __decorate([
        ccclass
    ], UIECSView);
    return UIECSView;
}(UIForm_1.UIScreen));
exports.default = UIECSView;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlFQ1NWaWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDhDQUF5QztBQUN6Qyw0Q0FBNkM7QUFFdkMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVE7SUFBL0M7O0lBYUEsQ0FBQztJQVZHLGVBQWU7SUFFZix5QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3BCLGlCQUFPLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBRWIsQ0FBQztJQVZnQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBYTdCO0lBQUQsZ0JBQUM7Q0FiRCxBQWFDLENBYnNDLGlCQUFRLEdBYTlDO2tCQWJvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJRUNTVmlld19BdXRvIGZyb20gXCIuLi9BdXRvU2NyaXB0cy9VSUVDU1ZpZXdfQXV0b1wiO1xuaW1wb3J0IEZvcm1NZ3IgZnJvbSBcIi4uL1VJRnJhbWUvRm9ybU1nclwiO1xuaW1wb3J0IHsgVUlTY3JlZW4gfSBmcm9tIFwiLi4vVUlGcmFtZS9VSUZvcm1cIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUVDU1ZpZXcgZXh0ZW5kcyBVSVNjcmVlbiB7XG5cbiAgICB2aWV3OiBVSUVDU1ZpZXdfQXV0bztcbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy52aWV3LkJhY2suYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgRm9ybU1nci5iYWNrU2NlbmUoKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIDungeon.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '77bb60WxChA/5WbElweSd49', 'UIDungeon');
// Script/UIScript/UIDungeon.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var Dungeon_1 = require("../Common/Utils/Dungeon");
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIDungeon = /** @class */ (function (_super) {
    __extends(UIDungeon, _super);
    function UIDungeon() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.pfGrid = null;
        _this.dungeon = null;
        return _this;
        // update (dt) {}
    }
    UIDungeon.prototype.start = function () {
        this.view.Back.addClick(function () {
            FormMgr_1.default.backScene();
        }, this);
        this.dungeon = new Dungeon_1.Dungeon(63, 63);
        var map = this.dungeon.generate();
        var size = this.pfGrid.data.width;
        for (var j = 0; j < this.dungeon.height; j++) {
            for (var x = 0; x < this.dungeon.width; x++) {
                var node = cc.instantiate(this.pfGrid);
                node.color = this.getColor(map[j * this.dungeon.width + x]);
                this.view.Items.addChild(node);
                node.setPosition(x * size, j * size);
            }
        }
    };
    UIDungeon.prototype.getColor = function (type) {
        switch (type) {
            case Dungeon_1.GridType.Wall:
                return cc.Color.BLACK;
            case Dungeon_1.GridType.Floor:
                return cc.Color.WHITE;
            case Dungeon_1.GridType.OpenDoor:
                return cc.Color.BLUE;
            case Dungeon_1.GridType.CloseDoor:
                return cc.Color.RED;
        }
    };
    __decorate([
        property(cc.Prefab)
    ], UIDungeon.prototype, "pfGrid", void 0);
    UIDungeon = __decorate([
        ccclass
    ], UIDungeon);
    return UIDungeon;
}(UIForm_1.UIScreen));
exports.default = UIDungeon;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlEdW5nZW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLG1EQUE0RDtBQUM1RCw4Q0FBeUM7QUFDekMsNENBQTZDO0FBRXZDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXVDLDZCQUFRO0lBQS9DO1FBQUEscUVBd0NDO1FBckN3QixZQUFNLEdBQWMsSUFBSSxDQUFDO1FBR3RDLGFBQU8sR0FBWSxJQUFJLENBQUM7O1FBaUNoQyxpQkFBaUI7SUFDckIsQ0FBQztJQWhDRyx5QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3BCLGlCQUFPLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ1QsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLGlCQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ25DLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ2xDLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNyQyxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3BDLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUN2QyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM1RCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7YUFDeEM7U0FDSjtJQUNMLENBQUM7SUFFTyw0QkFBUSxHQUFoQixVQUFpQixJQUFjO1FBQzNCLFFBQU8sSUFBSSxFQUFFO1lBQ1QsS0FBSyxrQkFBUSxDQUFDLElBQUk7Z0JBQ2QsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztZQUMxQixLQUFLLGtCQUFRLENBQUMsS0FBSztnQkFDZixPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQzFCLEtBQUssa0JBQVEsQ0FBQyxRQUFRO2dCQUNsQixPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQ3pCLEtBQUssa0JBQVEsQ0FBQyxTQUFTO2dCQUNuQixPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1NBQzNCO0lBQ0wsQ0FBQztJQWpDb0I7UUFBcEIsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7NkNBQTBCO0lBSDdCLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0F3QzdCO0lBQUQsZ0JBQUM7Q0F4Q0QsQUF3Q0MsQ0F4Q3NDLGlCQUFRLEdBd0M5QztrQkF4Q29CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlEdW5nZW9uX0F1dG8gZnJvbSBcIi4uL0F1dG9TY3JpcHRzL1VJRHVuZ2Vvbl9BdXRvXCI7XG5pbXBvcnQgeyBEdW5nZW9uLCBHcmlkVHlwZSB9IGZyb20gXCIuLi9Db21tb24vVXRpbHMvRHVuZ2VvblwiO1xuaW1wb3J0IEZvcm1NZ3IgZnJvbSBcIi4uL1VJRnJhbWUvRm9ybU1nclwiO1xuaW1wb3J0IHsgVUlTY3JlZW4gfSBmcm9tIFwiLi4vVUlGcmFtZS9VSUZvcm1cIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUR1bmdlb24gZXh0ZW5kcyBVSVNjcmVlbiB7XG5cblxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpIHBmR3JpZDogY2MuUHJlZmFiID0gbnVsbDtcblxuICAgIHZpZXc6IFVJRHVuZ2Vvbl9BdXRvO1xuICAgIHByaXZhdGUgZHVuZ2VvbjogRHVuZ2VvbiA9IG51bGw7XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy52aWV3LkJhY2suYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgRm9ybU1nci5iYWNrU2NlbmUoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZHVuZ2VvbiA9IG5ldyBEdW5nZW9uKDYzLCA2Myk7XG4gICAgICAgIGxldCBtYXAgPSB0aGlzLmR1bmdlb24uZ2VuZXJhdGUoKTtcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLnBmR3JpZC5kYXRhLndpZHRoO1xuICAgICAgICBmb3IobGV0IGo9MDsgajx0aGlzLmR1bmdlb24uaGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgIGZvcihsZXQgeD0wOyB4PHRoaXMuZHVuZ2Vvbi53aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnBmR3JpZCk7ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbm9kZS5jb2xvciA9IHRoaXMuZ2V0Q29sb3IobWFwW2ogKiB0aGlzLmR1bmdlb24ud2lkdGggKyB4XSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Lkl0ZW1zLmFkZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgIG5vZGUuc2V0UG9zaXRpb24oeCAqIHNpemUsIGogKiBzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAgICAgICAgXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDb2xvcih0eXBlOiBHcmlkVHlwZSkge1xuICAgICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICAgICAgY2FzZSBHcmlkVHlwZS5XYWxsOlxuICAgICAgICAgICAgICAgIHJldHVybiBjYy5Db2xvci5CTEFDSztcbiAgICAgICAgICAgIGNhc2UgR3JpZFR5cGUuRmxvb3I6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNjLkNvbG9yLldISVRFO1xuICAgICAgICAgICAgY2FzZSBHcmlkVHlwZS5PcGVuRG9vcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gY2MuQ29sb3IuQkxVRTtcbiAgICAgICAgICAgIGNhc2UgR3JpZFR5cGUuQ2xvc2VEb29yOlxuICAgICAgICAgICAgICAgIHJldHVybiBjYy5Db2xvci5SRUQ7XG4gICAgICAgIH0gICAgICAgIFxuICAgIH1cblxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/AdapterMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9848co1bh1O76pCrg2kIN9s', 'AdapterMgr');
// Script/UIFrame/AdapterMgr.ts

"use strict";
/**
 * @Author: 邓朗
 * @Date: 2019-06-12 17:18:04
 * @Describe: 适配组件, 主要适配背景大小,窗体的位置
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AdapterType = void 0;
var flagOffset = 0;
var _None = 1 << flagOffset++;
var _Left = 1 << flagOffset++; // 左对齐
var _Right = 1 << flagOffset++; // 右对齐
var _Top = 1 << flagOffset++; // 上对齐
var _Bottom = 1 << flagOffset++; // 下对齐
var _StretchWidth = _Left | _Right; // 拉伸宽
var _StretchHeight = _Top | _Bottom; // 拉伸高
var _FullWidth = 1 << flagOffset++; // 等比充满宽
var _FullHeight = 1 << flagOffset++; // 等比充满高
var _Final = 1 << flagOffset++;
/**  */
var AdapterType;
(function (AdapterType) {
    AdapterType[AdapterType["Top"] = _Top] = "Top";
    AdapterType[AdapterType["Bottom"] = _Bottom] = "Bottom";
    AdapterType[AdapterType["Left"] = _Left] = "Left";
    AdapterType[AdapterType["Right"] = _Right] = "Right";
    AdapterType[AdapterType["StretchWidth"] = _StretchWidth] = "StretchWidth";
    AdapterType[AdapterType["StretchHeight"] = _StretchHeight] = "StretchHeight";
    AdapterType[AdapterType["FullWidth"] = _FullWidth] = "FullWidth";
    AdapterType[AdapterType["FullHeight"] = _FullHeight] = "FullHeight";
})(AdapterType = exports.AdapterType || (exports.AdapterType = {}));
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var AdapterMgr = /** @class */ (function () {
    function AdapterMgr() {
    }
    AdapterMgr_1 = AdapterMgr;
    Object.defineProperty(AdapterMgr, "inst", {
        get: function () {
            if (this._instance == null) {
                this._instance = new AdapterMgr_1();
                this._instance.visibleSize = cc.view.getVisibleSize();
                console.log("visiable size: " + this._instance.visibleSize);
            }
            return this._instance;
        },
        enumerable: false,
        configurable: true
    });
    AdapterMgr.prototype.adapteByType = function (flag, node, distance) {
        if (distance === void 0) { distance = 0; }
        var tFlag = _Final;
        while (tFlag > 0) {
            if (tFlag & flag)
                this._doAdapte(tFlag, node, distance);
            tFlag = tFlag >> 1;
        }
        var widget = node.getComponent(cc.Widget);
        widget.target = cc.find("Canvas");
        widget.updateAlignment();
    };
    AdapterMgr.prototype._doAdapte = function (flag, node, distance) {
        if (distance === void 0) { distance = 0; }
        var widget = node.getComponent(cc.Widget);
        if (!widget) {
            widget = node.addComponent(cc.Widget);
        }
        switch (flag) {
            case _None:
                break;
            case _Left:
                widget.isAlignLeft = true;
                widget.isAbsoluteLeft = true;
                widget.left = distance ? distance : 0;
                break;
            case _Right:
                widget.isAlignRight = true;
                widget.isAbsoluteRight = true;
                widget.right = distance ? distance : 0;
                break;
            case _Top:
                if (cc.sys.platform === cc.sys.WECHAT_GAME) { // 微信小游戏适配刘海屏
                    var menuInfo = window["wx"].getMenuButtonBoundingClientRect();
                    var systemInfo = window["wx"].getSystemInfoSync();
                    distance += cc.find("Canvas").height * (menuInfo.top / systemInfo.screenHeight);
                }
                widget.isAlignTop = true;
                widget.isAbsoluteTop = true;
                widget.top = distance ? distance : 0;
                break;
            case _Bottom:
                widget.isAlignBottom = true;
                widget.isAbsoluteBottom = true;
                widget.bottom = distance ? distance : 0;
                break;
            case _FullWidth:
                node.height /= node.width / this.visibleSize.width;
                node.width = this.visibleSize.width;
                break;
            case _FullHeight:
                node.width /= node.height / this.visibleSize.height;
                node.height = this.visibleSize.height;
                break;
        }
    };
    /** 移除 */
    AdapterMgr.prototype.removeAdaptater = function (node) {
        if (node.getComponent(cc.Widget)) {
            node.removeComponent(cc.Widget);
        }
    };
    var AdapterMgr_1;
    AdapterMgr._instance = null; // 单例
    AdapterMgr = AdapterMgr_1 = __decorate([
        ccclass
    ], AdapterMgr);
    return AdapterMgr;
}());
exports.default = AdapterMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9BZGFwdGVyTWdyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztHQUlHOzs7Ozs7Ozs7QUFFSCxJQUFJLFVBQVUsR0FBRyxDQUFDLENBQUM7QUFDbkIsSUFBTSxLQUFLLEdBQUcsQ0FBQyxJQUFJLFVBQVUsRUFBRyxDQUFDO0FBQ2pDLElBQU0sS0FBSyxHQUFHLENBQUMsSUFBSSxVQUFVLEVBQUcsQ0FBQyxDQUFZLE1BQU07QUFDbkQsSUFBTSxNQUFNLEdBQUcsQ0FBQyxJQUFJLFVBQVUsRUFBRyxDQUFDLENBQVcsTUFBTTtBQUNuRCxJQUFNLElBQUksR0FBRyxDQUFDLElBQUksVUFBVSxFQUFHLENBQUMsQ0FBYSxNQUFNO0FBQ25ELElBQU0sT0FBTyxHQUFHLENBQUMsSUFBSSxVQUFVLEVBQUcsQ0FBQyxDQUFVLE1BQU07QUFDbkQsSUFBTSxhQUFhLEdBQUcsS0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFVLE1BQU07QUFDckQsSUFBTSxjQUFjLEdBQUcsSUFBSSxHQUFHLE9BQU8sQ0FBQyxDQUFTLE1BQU07QUFFckQsSUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFJLFVBQVUsRUFBRyxDQUFDLENBQU8sUUFBUTtBQUNyRCxJQUFNLFdBQVcsR0FBRyxDQUFDLElBQUksVUFBVSxFQUFHLENBQUMsQ0FBTSxRQUFRO0FBQ3JELElBQU0sTUFBTSxHQUFHLENBQUMsSUFBSSxVQUFVLEVBQUUsQ0FBQztBQUVqQyxPQUFPO0FBQ1AsSUFBWSxXQVdYO0FBWEQsV0FBWSxXQUFXO0lBQ25CLGlDQUFNLElBQUksU0FBQSxDQUFBO0lBQ1Ysb0NBQVMsT0FBTyxZQUFBLENBQUE7SUFDaEIsa0NBQU8sS0FBSyxVQUFBLENBQUE7SUFDWixtQ0FBUSxNQUFNLFdBQUEsQ0FBQTtJQUVkLDBDQUFlLGFBQWEsa0JBQUEsQ0FBQTtJQUM1QiwyQ0FBZ0IsY0FBYyxtQkFBQSxDQUFBO0lBRTlCLHVDQUFZLFVB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Q0FBQyxNQUFNLENBQUMsQ0FBQztTQUNuQztJQUNMLENBQUM7O0lBM0VjLG9CQUFTLEdBQWUsSUFBSSxDQUFDLENBQXFCLEtBQUs7SUFGckQsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQThFOUI7SUFBRCxpQkFBQztDQTlFRCxBQThFQyxJQUFBO2tCQTlFb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQEF1dGhvcjog6YKT5pyXIFxuICogQERhdGU6IDIwMTktMDYtMTIgMTc6MTg6MDQgIFxuICogQERlc2NyaWJlOiDpgILphY3nu4Tku7YsIOS4u+imgemAgumFjeiDjOaZr+Wkp+WwjyznqpfkvZPnmoTkvY3nva5cbiAqL1xuXG5sZXQgZmxhZ09mZnNldCA9IDA7XG5jb25zdCBfTm9uZSA9IDEgPDwgZmxhZ09mZnNldCArKztcbmNvbnN0IF9MZWZ0ID0gMSA8PCBmbGFnT2Zmc2V0ICsrOyAgICAgICAgICAgIC8vIOW3puWvuem9kFxuY29uc3QgX1JpZ2h0ID0gMSA8PCBmbGFnT2Zmc2V0ICsrOyAgICAgICAgICAgLy8g5Y+z5a+56b2QXG5jb25zdCBfVG9wID0gMSA8PCBmbGFnT2Zmc2V0ICsrOyAgICAgICAgICAgICAvLyDkuIrlr7npvZBcbmNvbnN0IF9Cb3R0b20gPSAxIDw8IGZsYWdPZmZzZXQgKys7ICAgICAgICAgIC8vIOS4i+Wvuem9kFxuY29uc3QgX1N0cmV0Y2hXaWR0aCA9IF9MZWZ0IHwgX1JpZ2h0OyAgICAgICAgICAvLyDmi4nkvLjlrr1cbmNvbnN0IF9TdHJldGNoSGVpZ2h0ID0gX1RvcCB8IF9Cb3R0b207ICAgICAgICAgLy8g5ouJ5Ly46auYXG5cbmNvbnN0IF9GdWxsV2lkdGggPSAxIDw8IGZsYWdPZmZzZXQgKys7ICAgICAgIC8vIOetieavlOWFhea7oeWuvVxuY29uc3QgX0Z1bGxIZWlnaHQgPSAxIDw8IGZsYWdPZmZzZXQgKys7ICAgICAgLy8g562J5q+U5YWF5ruh6auYXG5jb25zdCBfRmluYWwgPSAxIDw8IGZsYWdPZmZzZXQrKztcblxuLyoqICAqL1xuZXhwb3J0IGVudW0gQWRhcHRlclR5cGUge1xuICAgIFRvcCA9IF9Ub3AsXG4gICAgQm90dG9tID0gX0JvdHRvbSxcbiAgICBMZWZ0ID0gX0xlZnQsXG4gICAgUmlnaHQgPSBfUmlnaHQsXG5cbiAgICBTdHJldGNoV2lkdGggPSBfU3RyZXRjaFdpZHRoLFxuICAgIFN0cmV0Y2hIZWlnaHQgPSBfU3RyZXRjaEhlaWdodCxcblxuICAgIEZ1bGxXaWR0aCA9IF9GdWxsV2lkdGgsXG4gICAgRnVsbEhlaWdodCA9IF9GdWxsSGVpZ2h0LFxufVxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkYXB0ZXJNZ3Ige1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBBZGFwdGVyTWdyID0gbnVsbDsgICAgICAgICAgICAgICAgICAgICAvLyDljZXkvotcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0KCkge1xuICAgICAgICBpZih0aGlzLl9pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBBZGFwdGVyTWdyKCk7ICAgICAgIFxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UudmlzaWJsZVNpemUgPSBjYy52aWV3LmdldFZpc2libGVTaXplKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgdmlzaWFibGUgc2l6ZTogJHt0aGlzLl9pbnN0YW5jZS52aXNpYmxlU2l6ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgfVxuICAgIFxuICAgIC8qKiDlsY/luZXlsLrlr7ggKi9cbiAgICBwdWJsaWMgdmlzaWJsZVNpemU6IGNjLlNpemU7XG5cbiAgICBwdWJsaWMgYWRhcHRlQnlUeXBlKGZsYWc6IG51bWJlciwgbm9kZTogY2MuTm9kZSwgZGlzdGFuY2UgPSAwKSB7XG4gICAgICAgIGxldCB0RmxhZyA9IF9GaW5hbDtcbiAgICAgICAgd2hpbGUgKHRGbGFnID4gMCkge1xuICAgICAgICAgICAgaWYgKHRGbGFnICYgZmxhZylcbiAgICAgICAgICAgICAgICB0aGlzLl9kb0FkYXB0ZSh0RmxhZywgbm9kZSwgZGlzdGFuY2UpO1xuICAgICAgICAgICAgdEZsYWcgPSB0RmxhZyA+PiAxO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3aWRnZXQgPSBub2RlLmdldENvbXBvbmVudChjYy5XaWRnZXQpO1xuICAgICAgICB3aWRnZXQudGFyZ2V0ID0gY2MuZmluZChcIkNhbnZhc1wiKTtcbiAgICAgICAgd2lkZ2V0LnVwZGF0ZUFsaWdubWVudCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2RvQWRhcHRlKGZsYWc6IG51bWJlciwgbm9kZTogY2MuTm9kZSwgZGlzdGFuY2U6IG51bWJlciA9IDApIHtcbiAgICAgICAgbGV0IHdpZGdldCA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XG4gICAgICAgIGlmKCF3aWRnZXQpIHtcbiAgICAgICAgICAgIHdpZGdldCA9IG5vZGUuYWRkQ29tcG9uZW50KGNjLldpZGdldCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoKGZsYWcpIHtcbiAgICAgICAgICAgIGNhc2UgX05vbmU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIF9MZWZ0OlxuICAgICAgICAgICAgICAgIHdpZGdldC5pc0FsaWduTGVmdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmlzQWJzb2x1dGVMZWZ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3aWRnZXQubGVmdCA9IGRpc3RhbmNlID8gZGlzdGFuY2UgOiAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfUmlnaHQ6XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmlzQWxpZ25SaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmlzQWJzb2x1dGVSaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2lkZ2V0LnJpZ2h0ID0gZGlzdGFuY2UgPyBkaXN0YW5jZSA6IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIF9Ub3A6XG4gICAgICAgICAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuV0VDSEFUX0dBTUUpIHsgICAgIC8vIOW+ruS/oeWwj+a4uOaIj+mAgumFjeWImOa1t+Wxj1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWVudUluZm8gPSB3aW5kb3dbXCJ3eFwiXS5nZXRNZW51QnV0dG9uQm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzeXN0ZW1JbmZvID0gd2luZG93W1wid3hcIl0uZ2V0U3lzdGVtSW5mb1N5bmMoKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgKz0gY2MuZmluZChcIkNhbnZhc1wiKS5oZWlnaHQgKiAobWVudUluZm8udG9wIC8gc3lzdGVtSW5mby5zY3JlZW5IZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aWRnZXQuaXNBbGlnblRvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmlzQWJzb2x1dGVUb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdpZGdldC50b3AgPSBkaXN0YW5jZSA/IGRpc3RhbmNlIDogMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX0JvdHRvbTpcbiAgICAgICAgICAgICAgICB3aWRnZXQuaXNBbGlnbkJvdHRvbSA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmlzQWJzb2x1dGVCb3R0b20gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdpZGdldC5ib3R0b20gPSBkaXN0YW5jZSA/IGRpc3RhbmNlIDogMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX0Z1bGxXaWR0aDpcbiAgICAgICAgICAgICAgICBub2RlLmhlaWdodCAvPSBub2RlLndpZHRoIC8gdGhpcy52aXNpYmxlU2l6ZS53aWR0aDtcbiAgICAgICAgICAgICAgICBub2RlLndpZHRoID0gdGhpcy52aXNpYmxlU2l6ZS53aWR0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX0Z1bGxIZWlnaHQ6XG4gICAgICAgICAgICAgICAgbm9kZS53aWR0aCAvPSBub2RlLmhlaWdodCAvIHRoaXMudmlzaWJsZVNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIG5vZGUuaGVpZ2h0ID0gdGhpcy52aXNpYmxlU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKiDnp7vpmaQgKi9cbiAgICByZW1vdmVBZGFwdGF0ZXIobm9kZTogY2MuTm9kZSkge1xuICAgICAgICBpZihub2RlLmdldENvbXBvbmVudChjYy5XaWRnZXQpKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUNvbXBvbmVudChjYy5XaWRnZXQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/UIModalScript.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a6a5a+wskdJZJdS5tPl1qBP', 'UIModalScript');
// Script/UIFrame/UIModalScript.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIManager_1 = require("./UIManager");
var SysDefine_1 = require("./config/SysDefine");
var CocosHelper_1 = require("./CocosHelper");
var WindowMgr_1 = require("./WindowMgr");
var BAN_FALG = (cc.RenderFlow.FLAG_RENDER | cc.RenderFlow.FLAG_POST_RENDER);
/**
 * @Author: 邓朗
 * @Describe:
 * @Date: 2019-05-30 23:35:26
 * @Last Modified time: 2019-05-30 23:35:26
 */
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIModalScript = /** @class */ (function (_super) {
    __extends(UIModalScript, _super);
    function UIModalScript() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sprite = null;
        _this.camera = null;
        /** 代码创建一个单色texture */
        _this._texture = null;
        _this._renderTexture = null;
        _this._renderTextures = [];
        return _this;
    }
    /**
     * 初始化
     */
    UIModalScript.prototype.init = function () {
        var size = cc.view.getVisibleSize();
        this.node.height = size.height;
        this.node.width = size.width;
        this.node.addComponent(cc.Button);
        this.node.on('click', this.clickMaskWindow, this);
        this.sprite = this.node.addComponent(cc.Sprite);
        this.useNormalSprite(this.sprite);
        this.node.color = new cc.Color(255, 255, 255);
        this.node.opacity = 0;
        this.node.active = false;
        var node = new cc.Node("BlurCamera");
        this.camera = node.addComponent(cc.Camera);
        cc.find('Canvas').addChild(node);
    };
    // 
    UIModalScript.prototype.showModal = function (lucenyType, time, isEasing, dualBlur) {
        if (time === void 0) { time = 0.6; }
        if (isEasing === void 0) { isEasing = true; }
        if (dualBlur === void 0) { dualBlur = false; }
        return __awaiter(this, void 0, void 0, function () {
            var o;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (dualBlur) {
                            this.useDualBlurSprite(this.camera);
                            this.node.color = cc.Color.WHITE;
                        }
                        else {
                            this.useNormalSprite(this.sprite);
                            this.node.color = cc.Color.BLACK;
                        }
                        o = 0;
                        switch (lucenyType) {
                            case SysDefine_1.ModalOpacity.None:
                                this.node.active = false;
                                break;
                            case SysDefine_1.ModalOpacity.OpacityZero:
                                o = 0;
                                break;
                            case SysDefine_1.ModalOpacity.OpacityLow:
                                o = 63;
                                break;
                            case SysDefine_1.ModalOpacity.OpacityHalf:
                                o = 126;
                                break;
                            case SysDefine_1.ModalOpacity.OpacityHigh:
                                o = 189;
                                break;
                            case SysDefine_1.ModalOpacity.OpacityFull:
                                o = 255;
                                break;
                        }
                        if (!this.node.active)
                            return [2 /*return*/];
                        if (!isEasing) return [3 /*break*/, 2];
                        return [4 /*yield*/, CocosHelper_1.default.runTweenSync(this.node, cc.tween().to(time, { opacity: o }))];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 3];
                    case 2:
                        this.node.opacity = o;
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    UIModalScript.prototype.clickMaskWindow = function () {
        return __awaiter(this, void 0, void 0, function () {
            var com;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        com = UIManager_1.default.getInstance().getForm(this.fid);
                        if (!(com && com.modalType.clickMaskClose)) return [3 /*break*/, 2];
                        return [4 /*yield*/, WindowMgr_1.default.close(this.fid)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    UIModalScript.prototype.getSingleTexture = function () {
        if (this._texture)
            return this._texture;
        var data = new Uint8Array(2 * 2 * 4);
        for (var i = 0; i < 2; i++) {
            for (var j = 0; j < 2; j++) {
                data[i * 2 * 4 + j * 4 + 0] = 255;
                data[i * 2 * 4 + j * 4 + 1] = 255;
                data[i * 2 * 4 + j * 4 + 2] = 255;
                data[i * 2 * 4 + j * 4 + 3] = 255;
            }
        }
        var texture = new cc.Texture2D();
        texture.name = 'single color';
        texture.initWithData(data, cc.Texture2D.PixelFormat.RGBA8888, 2, 2);
        texture.handleLoadedTexture();
        this._texture = texture;
        texture.addRef();
        return this._texture;
    };
    UIModalScript.prototype.useNormalSprite = function (sprite) {
        sprite.sizeMode = cc.Sprite.SizeMode.CUSTOM;
        sprite.type = cc.Sprite.Type.SIMPLE;
        sprite.spriteFrame = new cc.SpriteFrame(this.getSingleTexture());
    };
    UIModalScript.prototype.useDualBlurSprite = function (camera) {
        var _this = this;
        var dirtyNodes = [];
        var disRenderChildren = function () {
            // 不渲染tips
            var tips = UIManager_1.default.getInstance().getUIROOT().getChildByName(SysDefine_1.SysDefine.SYS_TOPTIPS_NODE).children;
            for (var _i = 0, tips_1 = tips; _i < tips_1.length; _i++) {
                var node = tips_1[_i];
                if (!node._activeInHierarchy || node.opacity == 0)
                    continue;
                node['_dirtyRenderFlag'] = node._renderFlag;
                node._renderFlag &= ~(cc.RenderFlow.FLAG_CHILDREN | cc.RenderFlow.FLAG_RENDER);
                dirtyNodes.push(node);
            }
            // 不渲染自己和最上层的window
            _this.node._renderFlag &= ~cc.RenderFlow.FLAG_RENDER;
            var windows = UIManager_1.default.getInstance().getUIROOT().getChildByName(SysDefine_1.SysDefine.SYS_POPUP_NODE).children;
            for (var i = windows.length - 1; i >= 0; i--) {
                if (windows[i].zIndex > _this.node.zIndex) {
                    var node = windows[i];
                    if (!node._activeInHierarchy || node.opacity == 0)
                        continue;
                    node['_dirtyRenderFlag'] = node._renderFlag;
                    node._renderFlag &= ~(cc.RenderFlow.FLAG_CHILDREN | cc.RenderFlow.FLAG_RENDER);
                    dirtyNodes.push(node);
                }
            }
        };
        var rerenderChildren = function () {
            for (var _i = 0, dirtyNodes_1 = dirtyNodes; _i < dirtyNodes_1.length; _i++) {
                var node = dirtyNodes_1[_i];
                node._renderFlag = node['_dirtyRenderFlag'];
            }
        };
        if (!this._renderTexture) {
            var renderTexture = this._renderTexture = new cc.RenderTexture();
            renderTexture.initWithSize(cc.visibleRect.width, cc.visibleRect.height, cc.game._renderContext.STENCIL_INDEX8);
        }
        camera.enabled = true;
        camera.targetTexture = this._renderTexture;
        disRenderChildren();
        camera.render();
        rerenderChildren();
        this.sprite.spriteFrame.setTexture(camera.targetTexture);
        this.sprite.markForRender(true);
        this.renderDualBlur(camera, 3);
        camera.enabled = false;
    };
    UIModalScript.prototype.renderDualBlur = function (camera, iterations) {
        var size = cc.view.getVisibleSize();
        if (this._renderTextures.length <= 0) {
            for (var i = 0; i < iterations; i++) {
                var r = Math.pow(2, i);
                var renderTexture = new cc.RenderTexture();
                renderTexture.initWithSize((cc.visibleRect.width / r) | 0, (cc.visibleRect.height / r) | 0);
                this._renderTextures.push(renderTexture);
            }
        }
        if (!MaterialDown) {
            MaterialDown = this.genMaterial(EFFECT_DOWN);
            MaterialDown.setProperty('v_halfpixel', [0.5 / size.width, 0.5 / size.height]);
            MaterialDown.setProperty('v_offset', [4, 4]);
        }
        this.sprite.setMaterial(0, MaterialDown);
        for (var i = 0; i < iterations; i++) {
            camera.targetTexture = this._renderTextures[i];
            camera.render(this.sprite.node);
            this.sprite.spriteFrame.setTexture(camera.targetTexture);
            this.sprite.markForRender(true);
        }
        if (!MaterialUp) {
            MaterialUp = this.genMaterial(EFFECT_UP);
            MaterialUp.setProperty('v_halfpixel', [0.5 / size.width, 0.5 / size.height]);
            MaterialUp.setProperty('v_offset', [4, 4]);
        }
        this.sprite.setMaterial(0, MaterialUp);
        for (var i = iterations - 1; i > 0; i--) {
            camera.targetTexture = this._renderTextures[i - 1];
            camera.render(this.sprite.node);
            this.sprite.spriteFrame.setTexture(camera.targetTexture);
            this.sprite.markForRender(true);
        }
        this.sprite.setMaterial(0, cc.Material.getBuiltinMaterial('2d-sprite'));
    };
    UIModalScript.prototype.genMaterial = function (effect) {
        //@ts-ignore
        var asset = cc.deserialize(effect, { priority: 0, responseType: "json" });
        asset.onLoad && asset.onLoad();
        asset.__onLoadInvoked__ = true;
        return cc.Material.create(asset, 0);
    };
    UIModalScript = __decorate([
        ccclass
    ], UIModalScript);
    return UIModalScript;
}(cc.Component));
exports.default = UIModalScript;
var MaterialDown = null;
var MaterialUp = null;
var EFFECT_UP = {
    "__type__": "cc.EffectAsset",
    "_name": "BlurUp",
    "_objFlags": 0,
    "_native": "",
    "properties": null,
    "techniques": [
        {
            "passes": [
                {
                    "blendState": {
                        "targets": [
                            {
                                "blend": true
                            }
                        ]
                    },
                    "rasterizerState": {
                        "cullMode": 0
                    },
                    "properties": {
                        "texture": {
                            "value": "white",
                            "type": 29
                        },
                        "alphaThreshold": {
                            "value": [
                                0.5
                            ],
                            "type": 13
                        }
                    },
                    "program": "BlurUp|vs|fs"
                }
            ]
        }
    ],
    "shaders": [
        {
            "hash": 3005313742,
            "glsl3": {
                "vert": "\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\n#if USE_TEXTURE\nin vec2 a_uv0;\nout vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",
                "frag": "\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform ALPHA_TEST {\n    float alphaThreshold;\n  };\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nin vec4 v_color;\n#if USE_TEXTURE\nin vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform CustomUniform {\n  vec2 v_halfpixel;\n  vec2 v_offset;\n};\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0) * 4.0;\n  sum += texture2D(texture, v_uv0 - v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  sum += texture2D(texture, v_uv0 - vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  o = sum / 8.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"
            },
            "glsl1": {
                "vert": "\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\n#if USE_TEXTURE\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",
                "frag": "\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nvarying vec4 v_color;\n#if USE_TEXTURE\nvarying vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform vec2 v_halfpixel;\nuniform vec2 v_offset;\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0) * 4.0;\n  sum += texture2D(texture, v_uv0 - v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  sum += texture2D(texture, v_uv0 - vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  o = sum / 8.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"
            },
            "builtins": {
                "globals": {
                    "blocks": [
                        {
                            "name": "CCGlobal",
                            "defines": []
                        }
                    ],
                    "samplers": []
                },
                "locals": {
                    "blocks": [
                        {
                            "name": "CCLocal",
                            "defines": []
                        }
                    ],
                    "samplers": []
                }
            },
            "defines": [
                {
                    "name": "USE_TEXTURE",
                    "type": "boolean",
                    "defines": []
                },
                {
                    "name": "CC_USE_MODEL",
                    "type": "boolean",
                    "defines": []
                },
                {
                    "name": "USE_ALPHA_TEST",
                    "type": "boolean",
                    "defines": []
                },
                {
                    "name": "USE_BGRA",
                    "type": "boolean",
                    "defines": []
                }
            ],
            "blocks": [
                {
                    "name": "ALPHA_TEST",
                    "members": [
                        {
                            "name": "alphaThreshold",
                            "type": 13,
                            "count": 1
                        }
                    ],
                    "defines": [
                        "USE_ALPHA_TEST"
                    ],
                    "binding": 0
                },
                {
                    "name": "CustomUniform",
                    "members": [
                        {
                            "name": "v_halfpixel",
                            "type": 14,
                            "count": 1
                        },
                        {
                            "name": "v_offset",
                            "type": 14,
                            "count": 1
                        }
                    ],
                    "defines": [],
                    "binding": 1
                }
            ],
            "samplers": [
                {
                    "name": "texture",
                    "type": 29,
                    "count": 1,
                    "defines": [
                        "USE_TEXTURE"
                    ],
                    "binding": 30
                }
            ],
            "record": null,
            "name": "BlurUp|vs|fs"
        }
    ]
};
var EFFECT_DOWN = {
    "__type__": "cc.EffectAsset",
    "_name": "BlurDown",
    "_objFlags": 0,
    "_native": "",
    "properties": null,
    "techniques": [
        {
            "passes": [
                {
                    "blendState": {
                        "targets": [
                            {
                                "blend": true
                            }
                        ]
                    },
                    "rasterizerState": {
                        "cullMode": 0
                    },
                    "properties": {
                        "texture": {
                            "value": "white",
                            "type": 29
                        },
                        "alphaThreshold": {
                            "value": [
                                0.5
                            ],
                            "type": 13
                        }
                    },
                    "program": "BlurDown|vs|fs"
                }
            ]
        }
    ],
    "shaders": [
        {
            "hash": 4206633856,
            "glsl3": {
                "vert": "\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\n#if USE_TEXTURE\nin vec2 a_uv0;\nout vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",
                "frag": "\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform ALPHA_TEST {\n    float alphaThreshold;\n  };\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nin vec4 v_color;\n#if USE_TEXTURE\nin vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform CustomUniform {\n  vec2 v_halfpixel;\n  vec2 v_offset;\n};\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0 + vec2(-v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, -v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  o = sum / 12.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"
            },
            "glsl1": {
                "vert": "\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\n#if USE_TEXTURE\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",
                "frag": "\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nvarying vec4 v_color;\n#if USE_TEXTURE\nvarying vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform vec2 v_halfpixel;\nuniform vec2 v_offset;\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0 + vec2(-v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, -v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  o = sum / 12.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"
            },
            "builtins": {
                "globals": {
                    "blocks": [
                        {
                            "name": "CCGlobal",
                            "defines": []
                        }
                    ],
                    "samplers": []
                },
                "locals": {
                    "blocks": [
                        {
                            "name": "CCLocal",
                            "defines": []
                        }
                    ],
                    "samplers": []
                }
            },
            "defines": [
                {
                    "name": "USE_TEXTURE",
                    "type": "boolean",
                    "defines": []
                },
                {
                    "name": "CC_USE_MODEL",
                    "type": "boolean",
                    "defines": []
                },
                {
                    "name": "USE_ALPHA_TEST",
                    "type": "boolean",
                    "defines": []
                },
                {
                    "name": "USE_BGRA",
                    "type": "boolean",
                    "defines": []
                }
            ],
            "blocks": [
                {
                    "name": "ALPHA_TEST",
                    "members": [
                        {
                            "name": "alphaThreshold",
                            "type": 13,
                            "count": 1
                        }
                    ],
                    "defines": [
                        "USE_ALPHA_TEST"
                    ],
                    "binding": 0
                },
                {
                    "name": "CustomUniform",
                    "members": [
                        {
                            "name": "v_halfpixel",
                            "type": 14,
                            "count": 1
                        },
                        {
                            "name": "v_offset",
                            "type": 14,
                            "count": 1
                        }
                    ],
                    "defines": [],
                    "binding": 1
                }
            ],
            "samplers": [
                {
                    "name": "texture",
                    "type": 29,
                    "count": 1,
                    "defines": [
                        "USE_TEXTURE"
                    ],
                    "binding": 30
                }
            ],
            "record": null,
            "name": "BlurDown|vs|fs"
        }
    ]
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9VSU1vZGFsU2NyaXB0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlDQUFvQztBQUNwQyxnREFBNkQ7QUFDN0QsNkNBQXdDO0FBRXhDLHlDQUFvQztBQUVwQyxJQUFNLFFBQVEsR0FBRyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUU5RTs7Ozs7R0FLRztBQUNHLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTJDLGlDQUFZO0lBQXZEO1FBQUEscUVBb01DO1FBak1XLFlBQU0sR0FBYyxJQUFJLENBQUM7UUFDekIsWUFBTSxHQUFjLElBQUksQ0FBQztRQXVFakMsc0JBQXNCO1FBQ2QsY0FBUSxHQUFpQixJQUFJLENBQUM7UUE2QjlCLG9CQUFjLEdBQXFCLElBQUksQ0FBQztRQUN4QyxxQkFBZSxHQUF1QixFQUFFLENBQUM7O0lBMEZyRCxDQUFDO0lBL0xHOztPQUVHO0lBQ0ksNEJBQUksR0FBWDtRQUNJLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDcEMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMvQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBRTdCLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGVB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ImltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XG5pbXBvcnQgeyBNb2RhbE9wYWNpdHksIFN5c0RlZmluZSB9IGZyb20gXCIuL2NvbmZpZy9TeXNEZWZpbmVcIjtcbmltcG9ydCBDb2Nvc0hlbHBlciBmcm9tIFwiLi9Db2Nvc0hlbHBlclwiO1xuaW1wb3J0IHsgVUlXaW5kb3cgfSBmcm9tIFwiLi9VSUZvcm1cIjtcbmltcG9ydCBXaW5kb3dNZ3IgZnJvbSBcIi4vV2luZG93TWdyXCI7XG5cbmNvbnN0IEJBTl9GQUxHID0gKGNjLlJlbmRlckZsb3cuRkxBR19SRU5ERVIgfCBjYy5SZW5kZXJGbG93LkZMQUdfUE9TVF9SRU5ERVIpO1xuXG4vKipcbiAqIEBBdXRob3I6IOmCk+aclyBcbiAqIEBEZXNjcmliZTogXG4gKiBARGF0ZTogMjAxOS0wNS0zMCAyMzozNToyNiAgXG4gKiBATGFzdCBNb2RpZmllZCB0aW1lOiAyMDE5LTA1LTMwIDIzOjM1OjI2IFxuICovXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJTW9kYWxTY3JpcHQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgcHVibGljIGZpZDogc3RyaW5nO1xuICAgIHByaXZhdGUgc3ByaXRlOiBjYy5TcHJpdGUgPSBudWxsO1xuICAgIHByaXZhdGUgY2FtZXJhOiBjYy5DYW1lcmEgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIOWIneWni+WMllxuICAgICAqL1xuICAgIHB1YmxpYyBpbml0KCkge1xuICAgICAgICBsZXQgc2l6ZSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKTtcbiAgICAgICAgdGhpcy5ub2RlLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgICAgICB0aGlzLm5vZGUud2lkdGggPSBzaXplLndpZHRoO1xuXG4gICAgICAgIHRoaXMubm9kZS5hZGRDb21wb25lbnQoY2MuQnV0dG9uKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKCdjbGljaycsIHRoaXMuY2xpY2tNYXNrV2luZG93LCB0aGlzKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5ub2RlLmFkZENvbXBvbmVudChjYy5TcHJpdGUpXG4gICAgICAgIHRoaXMudXNlTm9ybWFsU3ByaXRlKHRoaXMuc3ByaXRlKTtcblxuICAgICAgICB0aGlzLm5vZGUuY29sb3IgPSBuZXcgY2MuQ29sb3IoMjU1LCAyNTUsIDI1NSk7XG4gICAgICAgIHRoaXMubm9kZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIGxldCBub2RlID0gbmV3IGNjLk5vZGUoXCJCbHVyQ2FtZXJhXCIpO1xuICAgICAgICB0aGlzLmNhbWVyYSA9IG5vZGUuYWRkQ29tcG9uZW50KGNjLkNhbWVyYSk7XG4gICAgICAgIGNjLmZpbmQoJ0NhbnZhcycpLmFkZENoaWxkKG5vZGUpOyAgICAgICAgXG4gICAgfVxuXG5cbiAgICAvLyBcbiAgICBwdWJsaWMgYXN5bmMgc2hvd01vZGFsKGx1Y2VueVR5cGU6IG51bWJlciwgdGltZTogbnVtYmVyID0gMC42LCBpc0Vhc2luZzogYm9vbGVhbiA9IHRydWUsIGR1YWxCbHVyID0gZmFsc2UpIHtcbiAgICAgICAgaWYoZHVhbEJsdXIpIHtcbiAgICAgICAgICAgIHRoaXMudXNlRHVhbEJsdXJTcHJpdGUodGhpcy5jYW1lcmEpO1xuICAgICAgICAgICAgdGhpcy5ub2RlLmNvbG9yID0gY2MuQ29sb3IuV0hJVEU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVzZU5vcm1hbFNwcml0ZSh0aGlzLnNwcml0ZSk7XG4gICAgICAgICAgICB0aGlzLm5vZGUuY29sb3IgPSBjYy5Db2xvci5CTEFDSztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvID0gMDtcbiAgICAgICAgc3dpdGNoIChsdWNlbnlUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIE1vZGFsT3BhY2l0eS5Ob25lOiAgICBcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhazsgICAgICAgIFxuICAgICAgICAgICAgY2FzZSBNb2RhbE9wYWNpdHkuT3BhY2l0eVplcm86ICAgXG4gICAgICAgICAgICAgICAgbyA9IDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTW9kYWxPcGFjaXR5Lk9wYWNpdHlMb3c6ICAgIFxuICAgICAgICAgICAgICAgIG8gPSA2MztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNb2RhbE9wYWNpdHkuT3BhY2l0eUhhbGY6ICAgXG4gICAgICAgICAgICAgICAgbyA9IDEyNjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNb2RhbE9wYWNpdHkuT3BhY2l0eUhpZ2g6XG4gICAgICAgICAgICAgICAgbyA9IDE4OTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBNb2RhbE9wYWNpdHkuT3BhY2l0eUZ1bGw6XG4gICAgICAgICAgICAgICAgbyA9IDI1NTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmKCF0aGlzLm5vZGUuYWN0aXZlKSByZXR1cm4gO1xuICAgICAgICBpZihpc0Vhc2luZykge1xuICAgICAgICAgICAgYXdhaXQgQ29jb3NIZWxwZXIucnVuVHdlZW5TeW5jKHRoaXMubm9kZSwgY2MudHdlZW4oKS50byh0aW1lLCB7b3BhY2l0eTogb30pKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ub2RlLm9wYWNpdHkgPSBvO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGNsaWNrTWFza1dpbmRvdygpIHtcbiAgICAgICAgbGV0IGNvbSA9IFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEZvcm0odGhpcy5maWQpIGFzIFVJV2luZG93O1xuICAgICAgICBpZihjb20gJiYgY29tLm1vZGFsVHlwZS5jbGlja01hc2tDbG9zZSkge1xuICAgICAgICAgICAgYXdhaXQgV2luZG93TWdyLmNsb3NlKHRoaXMuZmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiDku6PnoIHliJvlu7rkuIDkuKrljZXoibJ0ZXh0dXJlICovXG4gICAgcHJpdmF0ZSBfdGV4dHVyZTogY2MuVGV4dHVyZTJEID0gbnVsbDtcbiAgICBwcml2YXRlIGdldFNpbmdsZVRleHR1cmUoKSB7XG4gICAgICAgIGlmKHRoaXMuX3RleHR1cmUpIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgICAgICBsZXQgZGF0YTogYW55ID0gbmV3IFVpbnQ4QXJyYXkoMiAqIDIgKiA0KTtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8MjsgaSsrKSB7XG4gICAgICAgICAgICBmb3IobGV0IGo9MDsgajwyOyBqKyspIHtcbiAgICAgICAgICAgICAgICBkYXRhW2kqMio0ICsgaio0KzBdID0gMjU1O1xuICAgICAgICAgICAgICAgIGRhdGFbaSoyKjQgKyBqKjQrMV0gPSAyNTU7XG4gICAgICAgICAgICAgICAgZGF0YVtpKjIqNCArIGoqNCsyXSA9IDI1NTtcbiAgICAgICAgICAgICAgICBkYXRhW2kqMio0ICsgaio0KzNdID0gMjU1O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0ZXh0dXJlID0gbmV3IGNjLlRleHR1cmUyRCgpO1xuICAgICAgICB0ZXh0dXJlLm5hbWUgPSAnc2luZ2xlIGNvbG9yJ1xuICAgICAgICB0ZXh0dXJlLmluaXRXaXRoRGF0YShkYXRhLCBjYy5UZXh0dXJlMkQuUGl4ZWxGb3JtYXQuUkdCQTg4ODgsIDIsIDIpO1xuICAgICAgICB0ZXh0dXJlLmhhbmRsZUxvYWRlZFRleHR1cmUoKTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHRleHR1cmUuYWRkUmVmKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1c2VOb3JtYWxTcHJpdGUoc3ByaXRlOiBjYy5TcHJpdGUpIHtcbiAgICAgICAgc3ByaXRlLnNpemVNb2RlID0gY2MuU3ByaXRlLlNpemVNb2RlLkNVU1RPTTtcbiAgICAgICAgc3ByaXRlLnR5cGUgPSBjYy5TcHJpdGUuVHlwZS5TSU1QTEU7XG4gICAgICAgIHNwcml0ZS5zcHJpdGVGcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSh0aGlzLmdldFNpbmdsZVRleHR1cmUoKSk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIF9yZW5kZXJUZXh0dXJlOiBjYy5SZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgICBwcml2YXRlIF9yZW5kZXJUZXh0dXJlczogY2MuUmVuZGVyVGV4dHVyZVtdID0gW107XG4gICAgcHJpdmF0ZSB1c2VEdWFsQmx1clNwcml0ZShjYW1lcmE6IGNjLkNhbWVyYSkge1xuICAgICAgICBsZXQgZGlydHlOb2RlczogY2MuTm9kZVtdID0gW107XG4gICAgICAgIGxldCBkaXNSZW5kZXJDaGlsZHJlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIOS4jea4suafk3RpcHNcbiAgICAgICAgICAgIGxldCB0aXBzID0gVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0VUlST09UKCkuZ2V0Q2hpbGRCeU5hbWUoU3lzRGVmaW5lLlNZU19UT1BUSVBTX05PREUpLmNoaWxkcmVuO1xuICAgICAgICAgICAgZm9yKGNvbnN0IG5vZGUgb2YgdGlwcykge1xuICAgICAgICAgICAgICAgIGlmKCFub2RlLl9hY3RpdmVJbkhpZXJhcmNoeSB8fCBub2RlLm9wYWNpdHkgPT0gMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgbm9kZVsnX2RpcnR5UmVuZGVyRmxhZyddID0gbm9kZS5fcmVuZGVyRmxhZztcbiAgICAgICAgICAgICAgICBub2RlLl9yZW5kZXJGbGFnICY9IH4oY2MuUmVuZGVyRmxvdy5GTEFHX0NISUxEUkVOIHwgY2MuUmVuZGVyRmxvdy5GTEFHX1JFTkRFUik7XG4gICAgICAgICAgICAgICAgZGlydHlOb2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g5LiN5riy5p+T6Ieq5bex5ZKM5pyA5LiK5bGC55qEd2luZG93XG4gICAgICAgICAgICB0aGlzLm5vZGUuX3JlbmRlckZsYWcgJj0gfmNjLlJlbmRlckZsb3cuRkxBR19SRU5ERVI7XG4gICAgICAgICAgICBsZXQgd2luZG93cyA9IFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFVJUk9PVCgpLmdldENoaWxkQnlOYW1lKFN5c0RlZmluZS5TWVNfUE9QVVBfTk9ERSkuY2hpbGRyZW47XG4gICAgICAgICAgICBmb3IobGV0IGk9d2luZG93cy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYod2luZG93c1tpXS56SW5kZXggPiB0aGlzLm5vZGUuekluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gd2luZG93c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIW5vZGUuX2FjdGl2ZUluSGllcmFyY2h5IHx8IG5vZGUub3BhY2l0eSA9PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZVsnX2RpcnR5UmVuZGVyRmxhZyddID0gbm9kZS5fcmVuZGVyRmxhZztcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5fcmVuZGVyRmxhZyAmPSB+KGNjLlJlbmRlckZsb3cuRkxBR19DSElMRFJFTiB8IGNjLlJlbmRlckZsb3cuRkxBR19SRU5ERVIpO1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eU5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCByZXJlbmRlckNoaWxkcmVuID0gKCkgPT4ge1xuICAgICAgICAgICAgZm9yKGNvbnN0IG5vZGUgb2YgZGlydHlOb2Rlcykge1xuICAgICAgICAgICAgICAgIG5vZGUuX3JlbmRlckZsYWcgPSBub2RlWydfZGlydHlSZW5kZXJGbGFnJ107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXRoaXMuX3JlbmRlclRleHR1cmUpIHtcbiAgICAgICAgICAgIGxldCByZW5kZXJUZXh0dXJlID0gdGhpcy5fcmVuZGVyVGV4dHVyZSA9IG5ldyBjYy5SZW5kZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmluaXRXaXRoU2l6ZShjYy52aXNpYmxlUmVjdC53aWR0aCwgY2MudmlzaWJsZVJlY3QuaGVpZ2h0LCBjYy5nYW1lLl9yZW5kZXJDb250ZXh0LlNURU5DSUxfSU5ERVg4KTtcbiAgICAgICAgfVxuICAgICAgICBjYW1lcmEuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGNhbWVyYS50YXJnZXRUZXh0dXJlID0gdGhpcy5fcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgZGlzUmVuZGVyQ2hpbGRyZW4oKTtcbiAgICAgICAgY2FtZXJhLnJlbmRlcigpO1xuICAgICAgICByZXJlbmRlckNoaWxkcmVuKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlLnNwcml0ZUZyYW1lLnNldFRleHR1cmUoY2FtZXJhLnRhcmdldFRleHR1cmUpO1xuICAgICAgICB0aGlzLnNwcml0ZS5tYXJrRm9yUmVuZGVyKHRydWUpXG4gICAgICAgIHRoaXMucmVuZGVyRHVhbEJsdXIoY2FtZXJhLCAzKTtcbiAgICAgICAgY2FtZXJhLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckR1YWxCbHVyKGNhbWVyYTogY2MuQ2FtZXJhLCBpdGVyYXRpb25zOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IHNpemUgPSBjYy52aWV3LmdldFZpc2libGVTaXplKCk7XG4gICAgICAgIGlmKHRoaXMuX3JlbmRlclRleHR1cmVzLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCByID0gTWF0aC5wb3coMiwgaSk7XG4gICAgICAgICAgICAgICAgbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgY2MuUmVuZGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUuaW5pdFdpdGhTaXplKChjYy52aXNpYmxlUmVjdC53aWR0aCAvIHIpIHwgMCwgKGNjLnZpc2libGVSZWN0LmhlaWdodCAvIHIpIHwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGV4dHVyZXMucHVzaChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZighTWF0ZXJpYWxEb3duKSB7XG4gICAgICAgICAgICBNYXRlcmlhbERvd24gPSB0aGlzLmdlbk1hdGVyaWFsKEVGRkVDVF9ET1dOKTtcbiAgICAgICAgICAgIE1hdGVyaWFsRG93bi5zZXRQcm9wZXJ0eSgndl9oYWxmcGl4ZWwnLCBbMC41IC8gc2l6ZS53aWR0aCwgMC41IC8gc2l6ZS5oZWlnaHRdKTtcbiAgICAgICAgICAgIE1hdGVyaWFsRG93bi5zZXRQcm9wZXJ0eSgndl9vZmZzZXQnLCBbNCwgNF0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3ByaXRlLnNldE1hdGVyaWFsKDAsIE1hdGVyaWFsRG93bik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBjYW1lcmEudGFyZ2V0VGV4dHVyZSA9IHRoaXMuX3JlbmRlclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgY2FtZXJhLnJlbmRlcih0aGlzLnNwcml0ZS5ub2RlKTtcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNwcml0ZUZyYW1lLnNldFRleHR1cmUoY2FtZXJhLnRhcmdldFRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5zcHJpdGUubWFya0ZvclJlbmRlcih0cnVlKVxuICAgICAgICB9XG4gICAgICAgIGlmKCFNYXRlcmlhbFVwKSB7XG4gICAgICAgICAgICBNYXRlcmlhbFVwID0gdGhpcy5nZW5NYXRlcmlhbChFRkZFQ1RfVVApO1xuICAgICAgICAgICAgTWF0ZXJpYWxVcC5zZXRQcm9wZXJ0eSgndl9oYWxmcGl4ZWwnLCBbMC41IC8gc2l6ZS53aWR0aCwgMC41IC8gc2l6ZS5oZWlnaHRdKTtcbiAgICAgICAgICAgIE1hdGVyaWFsVXAuc2V0UHJvcGVydHkoJ3Zfb2Zmc2V0JywgWzQsIDRdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRNYXRlcmlhbCgwLCBNYXRlcmlhbFVwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGl0ZXJhdGlvbnMgLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICBjYW1lcmEudGFyZ2V0VGV4dHVyZSA9IHRoaXMuX3JlbmRlclRleHR1cmVzW2kgLSAxXTtcbiAgICAgICAgICAgIGNhbWVyYS5yZW5kZXIodGhpcy5zcHJpdGUubm9kZSk7XG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zcHJpdGVGcmFtZS5zZXRUZXh0dXJlKGNhbWVyYS50YXJnZXRUZXh0dXJlKTtcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLm1hcmtGb3JSZW5kZXIodHJ1ZSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRNYXRlcmlhbCgwLCBjYy5NYXRlcmlhbC5nZXRCdWlsdGluTWF0ZXJpYWwoJzJkLXNwcml0ZScpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2VuTWF0ZXJpYWwoZWZmZWN0OiBhbnkpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGxldCBhc3NldCA9IGNjLmRlc2VyaWFsaXplKGVmZmVjdCwge3ByaW9yaXR5OiAwLCByZXNwb25zZVR5cGU6IFwianNvblwifSk7XG4gICAgICAgIGFzc2V0Lm9uTG9hZCAmJiBhc3NldC5vbkxvYWQoKTtcbiAgICAgICAgYXNzZXQuX19vbkxvYWRJbnZva2VkX18gPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBjYy5NYXRlcmlhbC5jcmVhdGUoYXNzZXQsIDApO1xuICAgIH1cbn1cbmxldCBNYXRlcmlhbERvd246IGNjLk1hdGVyaWFsID0gbnVsbDtcbmxldCBNYXRlcmlhbFVwOiBjYy5NYXRlcmlhbCA9IG51bGw7XG5jb25zdCBFRkZFQ1RfVVAgPSB7XG4gIFwiX190eXBlX19cIjogXCJjYy5FZmZlY3RBc3NldFwiLFxuICBcIl9uYW1lXCI6IFwiQmx1clVwXCIsXG4gIFwiX29iakZsYWdzXCI6IDAsXG4gIFwiX25hdGl2ZVwiOiBcIlwiLFxuICBcInByb3BlcnRpZXNcIjogbnVsbCxcbiAgXCJ0ZWNobmlxdWVzXCI6IFtcbiAgICB7XG4gICAgICBcInBhc3Nlc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcImJsZW5kU3RhdGVcIjoge1xuICAgICAgICAgICAgXCJ0YXJnZXRzXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiYmxlbmRcIjogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJhc3Rlcml6ZXJTdGF0ZVwiOiB7XG4gICAgICAgICAgICBcImN1bGxNb2RlXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICBcInRleHR1cmVcIjoge1xuICAgICAgICAgICAgICBcInZhbHVlXCI6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgXCJ0eXBlXCI6IDI5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJhbHBoYVRocmVzaG9sZFwiOiB7XG4gICAgICAgICAgICAgIFwidmFsdWVcIjogW1xuICAgICAgICAgICAgICAgIDAuNVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBcInR5cGVcIjogMTNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicHJvZ3JhbVwiOiBcIkJsdXJVcHx2c3xmc1wiXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFwic2hhZGVyc1wiOiBbXG4gICAge1xuICAgICAgXCJoYXNoXCI6IDMwMDUzMTM3NDIsXG4gICAgICBcImdsc2wzXCI6IHtcbiAgICAgICAgXCJ2ZXJ0XCI6IFwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbnVuaWZvcm0gQ0NHbG9iYWwge1xcbiAgbWF0NCBjY19tYXRWaWV3O1xcbiAgbWF0NCBjY19tYXRWaWV3SW52O1xcbiAgbWF0NCBjY19tYXRQcm9qO1xcbiAgbWF0NCBjY19tYXRQcm9qSW52O1xcbiAgbWF0NCBjY19tYXRWaWV3UHJvajtcXG4gIG1hdDQgY2NfbWF0Vmlld1Byb2pJbnY7XFxuICB2ZWM0IGNjX2NhbWVyYVBvcztcXG4gIHZlYzQgY2NfdGltZTtcXG4gIG1lZGl1bXAgdmVjNCBjY19zY3JlZW5TaXplO1xcbiAgbWVkaXVtcCB2ZWM0IGNjX3NjcmVlblNjYWxlO1xcbn07XFxudW5pZm9ybSBDQ0xvY2FsIHtcXG4gIG1hdDQgY2NfbWF0V29ybGQ7XFxuICBtYXQ0IGNjX21hdFdvcmxkSVQ7XFxufTtcXG5pbiB2ZWMzIGFfcG9zaXRpb247XFxuaW4gdmVjNCBhX2NvbG9yO1xcbm91dCB2ZWM0IHZfY29sb3I7XFxuI2lmIFVTRV9URVhUVVJFXFxuaW4gdmVjMiBhX3V2MDtcXG5vdXQgdmVjMiB2X3V2MDtcXG4jZW5kaWZcXG52b2lkIG1haW4gKCkge1xcbiAgdmVjNCBwb3MgPSB2ZWM0KGFfcG9zaXRpb24sIDEpO1xcbiAgI2lmIENDX1VTRV9NT0RFTFxcbiAgcG9zID0gY2NfbWF0Vmlld1Byb2ogKiBjY19tYXRXb3JsZCAqIHBvcztcXG4gICNlbHNlXFxuICBwb3MgPSBjY19tYXRWaWV3UHJvaiAqIHBvcztcXG4gICNlbmRpZlxcbiAgI2lmIFVTRV9URVhUVVJFXFxuICB2X3V2MCA9IGFfdXYwO1xcbiAgI2VuZGlmXFxuICB2X2NvbG9yID0gYV9jb2xvcjtcXG4gIGdsX1Bvc2l0aW9uID0gcG9zO1xcbn1cIixcbiAgICAgICAgXCJmcmFnXCI6IFwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNpZiBVU0VfQUxQSEFfVEVTVFxcbiAgdW5pZm9ybSBBTFBIQV9URVNUIHtcXG4gICAgZmxvYXQgYWxwaGFUaHJlc2hvbGQ7XFxuICB9O1xcbiNlbmRpZlxcbnZvaWQgQUxQSEFfVEVTVCAoaW4gdmVjNCBjb2xvcikge1xcbiAgI2lmIFVTRV9BTFBIQV9URVNUXFxuICAgICAgaWYgKGNvbG9yLmEgPCBhbHBoYVRocmVzaG9sZCkgZGlzY2FyZDtcXG4gICNlbmRpZlxcbn1cXG52b2lkIEFMUEhBX1RFU1QgKGluIGZsb2F0IGFscGhhKSB7XFxuICAjaWYgVVNFX0FMUEhBX1RFU1RcXG4gICAgICBpZiAoYWxwaGEgPCBhbHBoYVRocmVzaG9sZCkgZGlzY2FyZDtcXG4gICNlbmRpZlxcbn1cXG5pbiB2ZWM0IHZfY29sb3I7XFxuI2lmIFVTRV9URVhUVVJFXFxuaW4gdmVjMiB2X3V2MDtcXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xcbiNlbmRpZlxcbnVuaWZvcm0gQ3VzdG9tVW5pZm9ybSB7XFxuICB2ZWMyIHZfaGFsZnBpeGVsO1xcbiAgdmVjMiB2X29mZnNldDtcXG59O1xcbnZvaWQgbWFpbiAoKSB7XFxuICB2ZWM0IG8gPSB2ZWM0KDEsIDEsIDEsIDEpO1xcbiAgdmVjNCBzdW0gPSB0ZXh0dXJlMkQodGV4dHVyZSwgdl91djApICogNC4wO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCAtIHZfaGFsZnBpeGVsLnh5ICogdl9vZmZzZXQpO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZfaGFsZnBpeGVsLnh5ICogdl9vZmZzZXQpO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZlYzIodl9oYWxmcGl4ZWwueCwgLXZfaGFsZnBpeGVsLnkpICogdl9vZmZzZXQpO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCAtIHZlYzIodl9oYWxmcGl4ZWwueCwgLXZfaGFsZnBpeGVsLnkpICogdl9vZmZzZXQpO1xcbiAgbyA9IHN1bSAvIDguMDtcXG4gIG8gKj0gdl9jb2xvcjtcXG4gIEFMUEhBX1RFU1Qobyk7XFxuICAjaWYgVVNFX0JHUkFcXG4gICAgZ2xfRnJhZ0NvbG9yID0gby5iZ3JhO1xcbiAgI2Vsc2VcXG4gICAgZ2xfRnJhZ0NvbG9yID0gby5yZ2JhO1xcbiAgI2VuZGlmXFxufVwiXG4gICAgICB9LFxuICAgICAgXCJnbHNsMVwiOiB7XG4gICAgICAgIFwidmVydFwiOiBcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG51bmlmb3JtIG1hdDQgY2NfbWF0Vmlld1Byb2o7XFxudW5pZm9ybSBtYXQ0IGNjX21hdFdvcmxkO1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG4jaWYgVVNFX1RFWFRVUkVcXG5hdHRyaWJ1dGUgdmVjMiBhX3V2MDtcXG52YXJ5aW5nIHZlYzIgdl91djA7XFxuI2VuZGlmXFxudm9pZCBtYWluICgpIHtcXG4gIHZlYzQgcG9zID0gdmVjNChhX3Bvc2l0aW9uLCAxKTtcXG4gICNpZiBDQ19VU0VfTU9ERUxcXG4gIHBvcyA9IGNjX21hdFZpZXdQcm9qICogY2NfbWF0V29ybGQgKiBwb3M7XFxuICAjZWxzZVxcbiAgcG9zID0gY2NfbWF0Vmlld1Byb2ogKiBwb3M7XFxuICAjZW5kaWZcXG4gICNpZiBVU0VfVEVYVFVSRVxcbiAgdl91djAgPSBhX3V2MDtcXG4gICNlbmRpZlxcbiAgdl9jb2xvciA9IGFfY29sb3I7XFxuICBnbF9Qb3NpdGlvbiA9IHBvcztcXG59XCIsXG4gICAgICAgIFwiZnJhZ1wiOiBcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jaWYgVVNFX0FMUEhBX1RFU1RcXG4gIHVuaWZvcm0gZmxvYXQgYWxwaGFUaHJlc2hvbGQ7XFxuI2VuZGlmXFxudm9pZCBBTFBIQV9URVNUIChpbiB2ZWM0IGNvbG9yKSB7XFxuICAjaWYgVVNFX0FMUEhBX1RFU1RcXG4gICAgICBpZiAoY29sb3IuYSA8IGFscGhhVGhyZXNob2xkKSBkaXNjYXJkO1xcbiAgI2VuZGlmXFxufVxcbnZvaWQgQUxQSEFfVEVTVCAoaW4gZmxvYXQgYWxwaGEpIHtcXG4gICNpZiBVU0VfQUxQSEFfVEVTVFxcbiAgICAgIGlmIChhbHBoYSA8IGFscGhhVGhyZXNob2xkKSBkaXNjYXJkO1xcbiAgI2VuZGlmXFxufVxcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNpZiBVU0VfVEVYVFVSRVxcbnZhcnlpbmcgdmVjMiB2X3V2MDtcXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xcbiNlbmRpZlxcbnVuaWZvcm0gdmVjMiB2X2hhbGZwaXhlbDtcXG51bmlmb3JtIHZlYzIgdl9vZmZzZXQ7XFxudm9pZCBtYWluICgpIHtcXG4gIHZlYzQgbyA9IHZlYzQoMSwgMSwgMSwgMSk7XFxuICB2ZWM0IHN1bSA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCkgKiA0LjA7XFxuICBzdW0gKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZfdXYwIC0gdl9oYWxmcGl4ZWwueHkgKiB2X29mZnNldCk7XFxuICBzdW0gKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZfdXYwICsgdl9oYWxmcGl4ZWwueHkgKiB2X29mZnNldCk7XFxuICBzdW0gKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZfdXYwICsgdmVjMih2X2hhbGZwaXhlbC54LCAtdl9oYWxmcGl4ZWwueSkgKiB2X29mZnNldCk7XFxuICBzdW0gKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZfdXYwIC0gdmVjMih2X2hhbGZwaXhlbC54LCAtdl9oYWxmcGl4ZWwueSkgKiB2X29mZnNldCk7XFxuICBvID0gc3VtIC8gOC4wO1xcbiAgbyAqPSB2X2NvbG9yO1xcbiAgQUxQSEFfVEVTVChvKTtcXG4gICNpZiBVU0VfQkdSQVxcbiAgICBnbF9GcmFnQ29sb3IgPSBvLmJncmE7XFxuICAjZWxzZVxcbiAgICBnbF9GcmFnQ29sb3IgPSBvLnJnYmE7XFxuICAjZW5kaWZcXG59XCJcbiAgICAgIH0sXG4gICAgICBcImJ1aWx0aW5zXCI6IHtcbiAgICAgICAgXCJnbG9iYWxzXCI6IHtcbiAgICAgICAgICBcImJsb2Nrc1wiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcIkNDR2xvYmFsXCIsXG4gICAgICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJzYW1wbGVyc1wiOiBbXVxuICAgICAgICB9LFxuICAgICAgICBcImxvY2Fsc1wiOiB7XG4gICAgICAgICAgXCJibG9ja3NcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJDQ0xvY2FsXCIsXG4gICAgICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJzYW1wbGVyc1wiOiBbXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJkZWZpbmVzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlVTRV9URVhUVVJFXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiQ0NfVVNFX01PREVMXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiVVNFX0FMUEhBX1RFU1RcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJib29sZWFuXCIsXG4gICAgICAgICAgXCJkZWZpbmVzXCI6IFtdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJVU0VfQkdSQVwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xlYW5cIixcbiAgICAgICAgICBcImRlZmluZXNcIjogW11cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwiYmxvY2tzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIkFMUEhBX1RFU1RcIixcbiAgICAgICAgICBcIm1lbWJlcnNcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJhbHBoYVRocmVzaG9sZFwiLFxuICAgICAgICAgICAgICBcInR5cGVcIjogMTMsXG4gICAgICAgICAgICAgIFwiY291bnRcIjogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJkZWZpbmVzXCI6IFtcbiAgICAgICAgICAgIFwiVVNFX0FMUEhBX1RFU1RcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJiaW5kaW5nXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIkN1c3RvbVVuaWZvcm1cIixcbiAgICAgICAgICBcIm1lbWJlcnNcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2X2hhbGZwaXhlbFwiLFxuICAgICAgICAgICAgICBcInR5cGVcIjogMTQsXG4gICAgICAgICAgICAgIFwiY291bnRcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidl9vZmZzZXRcIixcbiAgICAgICAgICAgICAgXCJ0eXBlXCI6IDE0LFxuICAgICAgICAgICAgICBcImNvdW50XCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXSxcbiAgICAgICAgICBcImJpbmRpbmdcIjogMVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJzYW1wbGVyc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJ0ZXh0dXJlXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IDI5LFxuICAgICAgICAgIFwiY291bnRcIjogMSxcbiAgICAgICAgICBcImRlZmluZXNcIjogW1xuICAgICAgICAgICAgXCJVU0VfVEVYVFVSRVwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBcImJpbmRpbmdcIjogMzBcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicmVjb3JkXCI6IG51bGwsXG4gICAgICBcIm5hbWVcIjogXCJCbHVyVXB8dnN8ZnNcIlxuICAgIH1cbiAgXVxufTtcbmNvbnN0IEVGRkVDVF9ET1dOID0ge1xuICBcIl9fdHlwZV9fXCI6IFwiY2MuRWZmZWN0QXNzZXRcIixcbiAgXCJfbmFtZVwiOiBcIkJsdXJEb3duXCIsXG4gIFwiX29iakZsYWdzXCI6IDAsXG4gIFwiX25hdGl2ZVwiOiBcIlwiLFxuICBcInByb3BlcnRpZXNcIjogbnVsbCxcbiAgXCJ0ZWNobmlxdWVzXCI6IFtcbiAgICB7XG4gICAgICBcInBhc3Nlc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcImJsZW5kU3RhdGVcIjoge1xuICAgICAgICAgICAgXCJ0YXJnZXRzXCI6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiYmxlbmRcIjogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJhc3Rlcml6ZXJTdGF0ZVwiOiB7XG4gICAgICAgICAgICBcImN1bGxNb2RlXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICBcInRleHR1cmVcIjoge1xuICAgICAgICAgICAgICBcInZhbHVlXCI6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgXCJ0eXBlXCI6IDI5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJhbHBoYVRocmVzaG9sZFwiOiB7XG4gICAgICAgICAgICAgIFwidmFsdWVcIjogW1xuICAgICAgICAgICAgICAgIDAuNVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBcInR5cGVcIjogMTNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicHJvZ3JhbVwiOiBcIkJsdXJEb3dufHZzfGZzXCJcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgXSxcbiAgXCJzaGFkZXJzXCI6IFtcbiAgICB7XG4gICAgICBcImhhc2hcIjogNDIwNjYzMzg1NixcbiAgICAgIFwiZ2xzbDNcIjoge1xuICAgICAgICBcInZlcnRcIjogXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxudW5pZm9ybSBDQ0dsb2JhbCB7XFxuICBtYXQ0IGNjX21hdFZpZXc7XFxuICBtYXQ0IGNjX21hdFZpZXdJbnY7XFxuICBtYXQ0IGNjX21hdFByb2o7XFxuICBtYXQ0IGNjX21hdFByb2pJbnY7XFxuICBtYXQ0IGNjX21hdFZpZXdQcm9qO1xcbiAgbWF0NCBjY19tYXRWaWV3UHJvakludjtcXG4gIHZlYzQgY2NfY2FtZXJhUG9zO1xcbiAgdmVjNCBjY190aW1lO1xcbiAgbWVkaXVtcCB2ZWM0IGNjX3NjcmVlblNpemU7XFxuICBtZWRpdW1wIHZlYzQgY2Nfc2NyZWVuU2NhbGU7XFxufTtcXG51bmlmb3JtIENDTG9jYWwge1xcbiAgbWF0NCBjY19tYXRXb3JsZDtcXG4gIG1hdDQgY2NfbWF0V29ybGRJVDtcXG59O1xcbmluIHZlYzMgYV9wb3NpdGlvbjtcXG5pbiB2ZWM0IGFfY29sb3I7XFxub3V0IHZlYzQgdl9jb2xvcjtcXG4jaWYgVVNFX1RFWFRVUkVcXG5pbiB2ZWMyIGFfdXYwO1xcbm91dCB2ZWMyIHZfdXYwO1xcbiNlbmRpZlxcbnZvaWQgbWFpbiAoKSB7XFxuICB2ZWM0IHBvcyA9IHZlYzQoYV9wb3NpdGlvbiwgMSk7XFxuICAjaWYgQ0NfVVNFX01PREVMXFxuICBwb3MgPSBjY19tYXRWaWV3UHJvaiAqIGNjX21hdFdvcmxkICogcG9zO1xcbiAgI2Vsc2VcXG4gIHBvcyA9IGNjX21hdFZpZXdQcm9qICogcG9zO1xcbiAgI2VuZGlmXFxuICAjaWYgVVNFX1RFWFRVUkVcXG4gIHZfdXYwID0gYV91djA7XFxuICAjZW5kaWZcXG4gIHZfY29sb3IgPSBhX2NvbG9yO1xcbiAgZ2xfUG9zaXRpb24gPSBwb3M7XFxufVwiLFxuICAgICAgICBcImZyYWdcIjogXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2lmIFVTRV9BTFBIQV9URVNUXFxuICB1bmlmb3JtIEFMUEhBX1RFU1Qge1xcbiAgICBmbG9hdCBhbHBoYVRocmVzaG9sZDtcXG4gIH07XFxuI2VuZGlmXFxudm9pZCBBTFBIQV9URVNUIChpbiB2ZWM0IGNvbG9yKSB7XFxuICAjaWYgVVNFX0FMUEhBX1RFU1RcXG4gICAgICBpZiAoY29sb3IuYSA8IGFscGhhVGhyZXNob2xkKSBkaXNjYXJkO1xcbiAgI2VuZGlmXFxufVxcbnZvaWQgQUxQSEFfVEVTVCAoaW4gZmxvYXQgYWxwaGEpIHtcXG4gICNpZiBVU0VfQUxQSEFfVEVTVFxcbiAgICAgIGlmIChhbHBoYSA8IGFscGhhVGhyZXNob2xkKSBkaXNjYXJkO1xcbiAgI2VuZGlmXFxufVxcbmluIHZlYzQgdl9jb2xvcjtcXG4jaWYgVVNFX1RFWFRVUkVcXG5pbiB2ZWMyIHZfdXYwO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxuI2VuZGlmXFxudW5pZm9ybSBDdXN0b21Vbmlmb3JtIHtcXG4gIHZlYzIgdl9oYWxmcGl4ZWw7XFxuICB2ZWMyIHZfb2Zmc2V0O1xcbn07XFxudm9pZCBtYWluICgpIHtcXG4gIHZlYzQgbyA9IHZlYzQoMSwgMSwgMSwgMSk7XFxuICB2ZWM0IHN1bSA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZlYzIoLXZfaGFsZnBpeGVsLnggKiAyLjAsIDAuMCkgKiB2X29mZnNldCk7XFxuICBzdW0gKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZfdXYwICsgdmVjMigtdl9oYWxmcGl4ZWwueCwgdl9oYWxmcGl4ZWwueSkgKiB2X29mZnNldCkgKiAyLjA7XFxuICBzdW0gKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZfdXYwICsgdmVjMigwLjAsIHZfaGFsZnBpeGVsLnkgKiAyLjApICogdl9vZmZzZXQpO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZlYzIodl9oYWxmcGl4ZWwueCwgdl9oYWxmcGl4ZWwueSkgKiB2X29mZnNldCkgKiAyLjA7XFxuICBzdW0gKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZfdXYwICsgdmVjMih2X2hhbGZwaXhlbC54ICogMi4wLCAwLjApICogdl9vZmZzZXQpO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZlYzIodl9oYWxmcGl4ZWwueCwgLXZfaGFsZnBpeGVsLnkpICogdl9vZmZzZXQpICogMi4wO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZlYzIoMC4wLCAtdl9oYWxmcGl4ZWwueSAqIDIuMCkgKiB2X29mZnNldCk7XFxuICBzdW0gKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZfdXYwICsgdmVjMigtdl9oYWxmcGl4ZWwueCwgLXZfaGFsZnBpeGVsLnkpICogdl9vZmZzZXQpICogMi4wO1xcbiAgbyA9IHN1bSAvIDEyLjA7XFxuICBvICo9IHZfY29sb3I7XFxuICBBTFBIQV9URVNUKG8pO1xcbiAgI2lmIFVTRV9CR1JBXFxuICAgIGdsX0ZyYWdDb2xvciA9IG8uYmdyYTtcXG4gICNlbHNlXFxuICAgIGdsX0ZyYWdDb2xvciA9IG8ucmdiYTtcXG4gICNlbmRpZlxcbn1cIlxuICAgICAgfSxcbiAgICAgIFwiZ2xzbDFcIjoge1xuICAgICAgICBcInZlcnRcIjogXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxudW5pZm9ybSBtYXQ0IGNjX21hdFZpZXdQcm9qO1xcbnVuaWZvcm0gbWF0NCBjY19tYXRXb3JsZDtcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfY29sb3I7XFxudmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuI2lmIFVTRV9URVhUVVJFXFxuYXR0cmlidXRlIHZlYzIgYV91djA7XFxudmFyeWluZyB2ZWMyIHZfdXYwO1xcbiNlbmRpZlxcbnZvaWQgbWFpbiAoKSB7XFxuICB2ZWM0IHBvcyA9IHZlYzQoYV9wb3NpdGlvbiwgMSk7XFxuICAjaWYgQ0NfVVNFX01PREVMXFxuICBwb3MgPSBjY19tYXRWaWV3UHJvaiAqIGNjX21hdFdvcmxkICogcG9zO1xcbiAgI2Vsc2VcXG4gIHBvcyA9IGNjX21hdFZpZXdQcm9qICogcG9zO1xcbiAgI2VuZGlmXFxuICAjaWYgVVNFX1RFWFRVUkVcXG4gIHZfdXYwID0gYV91djA7XFxuICAjZW5kaWZcXG4gIHZfY29sb3IgPSBhX2NvbG9yO1xcbiAgZ2xfUG9zaXRpb24gPSBwb3M7XFxufVwiLFxuICAgICAgICBcImZyYWdcIjogXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2lmIFVTRV9BTFBIQV9URVNUXFxuICB1bmlmb3JtIGZsb2F0IGFscGhhVGhyZXNob2xkO1xcbiNlbmRpZlxcbnZvaWQgQUxQSEFfVEVTVCAoaW4gdmVjNCBjb2xvcikge1xcbiAgI2lmIFVTRV9BTFBIQV9URVNUXFxuICAgICAgaWYgKGNvbG9yLmEgPCBhbHBoYVRocmVzaG9sZCkgZGlzY2FyZDtcXG4gICNlbmRpZlxcbn1cXG52b2lkIEFMUEhBX1RFU1QgKGluIGZsb2F0IGFscGhhKSB7XFxuICAjaWYgVVNFX0FMUEhBX1RFU1RcXG4gICAgICBpZiAoYWxwaGEgPCBhbHBoYVRocmVzaG9sZCkgZGlzY2FyZDtcXG4gICNlbmRpZlxcbn1cXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG4jaWYgVVNFX1RFWFRVUkVcXG52YXJ5aW5nIHZlYzIgdl91djA7XFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG4jZW5kaWZcXG51bmlmb3JtIHZlYzIgdl9oYWxmcGl4ZWw7XFxudW5pZm9ybSB2ZWMyIHZfb2Zmc2V0O1xcbnZvaWQgbWFpbiAoKSB7XFxuICB2ZWM0IG8gPSB2ZWM0KDEsIDEsIDEsIDEpO1xcbiAgdmVjNCBzdW0gPSB0ZXh0dXJlMkQodGV4dHVyZSwgdl91djAgKyB2ZWMyKC12X2hhbGZwaXhlbC54ICogMi4wLCAwLjApICogdl9vZmZzZXQpO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZlYzIoLXZfaGFsZnBpeGVsLngsIHZfaGFsZnBpeGVsLnkpICogdl9vZmZzZXQpICogMi4wO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZlYzIoMC4wLCB2X2hhbGZwaXhlbC55ICogMi4wKSAqIHZfb2Zmc2V0KTtcXG4gIHN1bSArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdl91djAgKyB2ZWMyKHZfaGFsZnBpeGVsLngsIHZfaGFsZnBpeGVsLnkpICogdl9vZmZzZXQpICogMi4wO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZlYzIodl9oYWxmcGl4ZWwueCAqIDIuMCwgMC4wKSAqIHZfb2Zmc2V0KTtcXG4gIHN1bSArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdl91djAgKyB2ZWMyKHZfaGFsZnBpeGVsLngsIC12X2hhbGZwaXhlbC55KSAqIHZfb2Zmc2V0KSAqIDIuMDtcXG4gIHN1bSArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdl91djAgKyB2ZWMyKDAuMCwgLXZfaGFsZnBpeGVsLnkgKiAyLjApICogdl9vZmZzZXQpO1xcbiAgc3VtICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2X3V2MCArIHZlYzIoLXZfaGFsZnBpeGVsLngsIC12X2hhbGZwaXhlbC55KSAqIHZfb2Zmc2V0KSAqIDIuMDtcXG4gIG8gPSBzdW0gLyAxMi4wO1xcbiAgbyAqPSB2X2NvbG9yO1xcbiAgQUxQSEFfVEVTVChvKTtcXG4gICNpZiBVU0VfQkdSQVxcbiAgICBnbF9GcmFnQ29sb3IgPSBvLmJncmE7XFxuICAjZWxzZVxcbiAgICBnbF9GcmFnQ29sb3IgPSBvLnJnYmE7XFxuICAjZW5kaWZcXG59XCJcbiAgICAgIH0sXG4gICAgICBcImJ1aWx0aW5zXCI6IHtcbiAgICAgICAgXCJnbG9iYWxzXCI6IHtcbiAgICAgICAgICBcImJsb2Nrc1wiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcIkNDR2xvYmFsXCIsXG4gICAgICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJzYW1wbGVyc1wiOiBbXVxuICAgICAgICB9LFxuICAgICAgICBcImxvY2Fsc1wiOiB7XG4gICAgICAgICAgXCJibG9ja3NcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJDQ0xvY2FsXCIsXG4gICAgICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJzYW1wbGVyc1wiOiBbXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJkZWZpbmVzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIlVTRV9URVhUVVJFXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiQ0NfVVNFX01PREVMXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiVVNFX0FMUEhBX1RFU1RcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJib29sZWFuXCIsXG4gICAgICAgICAgXCJkZWZpbmVzXCI6IFtdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJVU0VfQkdSQVwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xlYW5cIixcbiAgICAgICAgICBcImRlZmluZXNcIjogW11cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwiYmxvY2tzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIkFMUEhBX1RFU1RcIixcbiAgICAgICAgICBcIm1lbWJlcnNcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJhbHBoYVRocmVzaG9sZFwiLFxuICAgICAgICAgICAgICBcInR5cGVcIjogMTMsXG4gICAgICAgICAgICAgIFwiY291bnRcIjogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJkZWZpbmVzXCI6IFtcbiAgICAgICAgICAgIFwiVVNFX0FMUEhBX1RFU1RcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJiaW5kaW5nXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwibmFtZVwiOiBcIkN1c3RvbVVuaWZvcm1cIixcbiAgICAgICAgICBcIm1lbWJlcnNcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJ2X2hhbGZwaXhlbFwiLFxuICAgICAgICAgICAgICBcInR5cGVcIjogMTQsXG4gICAgICAgICAgICAgIFwiY291bnRcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwidl9vZmZzZXRcIixcbiAgICAgICAgICAgICAgXCJ0eXBlXCI6IDE0LFxuICAgICAgICAgICAgICBcImNvdW50XCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFwiZGVmaW5lc1wiOiBbXSxcbiAgICAgICAgICBcImJpbmRpbmdcIjogMVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJzYW1wbGVyc1wiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJ0ZXh0dXJlXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IDI5LFxuICAgICAgICAgIFwiY291bnRcIjogMSxcbiAgICAgICAgICBcImRlZmluZXNcIjogW1xuICAgICAgICAgICAgXCJVU0VfVEVYVFVSRVwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBcImJpbmRpbmdcIjogMzBcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicmVjb3JkXCI6IG51bGwsXG4gICAgICBcIm5hbWVcIjogXCJCbHVyRG93bnx2c3xmc1wiXG4gICAgfVxuICBdXG59OyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/ToastMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '94686RhMhBGzb0TUqfreBLz', 'ToastMgr');
// Script/UIFrame/ToastMgr.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIManager_1 = require("./UIManager");
var ToastMgr = /** @class */ (function () {
    function ToastMgr() {
        this._pools = cc.js.createMap();
    }
    ToastMgr.prototype.open = function (url, params, formData) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/];
            });
        });
    };
    ToastMgr.prototype.close = function (url) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, UIManager_1.default.getInstance().closeForm(url)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return ToastMgr;
}());
exports.default = new ToastMgr();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9Ub2FzdE1nci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLHlDQUFvQztBQUVwQztJQUFBO1FBQ1ksV0FBTSxHQUErQixFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBV25FLENBQUM7SUFUZ0IsdUJBQUksR0FBakIsVUFBa0IsR0FBVyxFQUFFLE1BQVksRUFBRSxRQUFvQjs7Ozs7O0tBR2hFO0lBRVksd0JBQUssR0FBbEIsVUFBbUIsR0FBRzs7Ozs0QkFDbEIscUJBQU0sbUJBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUE7O3dCQUE1QyxTQUE0QyxDQUFDOzs7OztLQUNoRDtJQUVMLGVBQUM7QUFBRCxDQVpBLEFBWUMsSUFBQTtBQUVELGtCQUFlLElBQUksUUFBUSxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb29sIH0gZnJvbSBcIi4uL0NvbW1vbi9VdGlscy9Qb29sXCI7XG5pbXBvcnQgeyBJRm9ybURhdGEgfSBmcm9tIFwiLi9TdHJ1Y3RcIjtcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4vVUlNYW5hZ2VyXCI7XG5cbmNsYXNzIFRvYXN0TWdyIHtcbiAgICBwcml2YXRlIF9wb29sczoge1trZXk6IHN0cmluZ106IFBvb2w8YW55Pn0gPSBjYy5qcy5jcmVhdGVNYXAoKTtcblxuICAgIHB1YmxpYyBhc3luYyBvcGVuKHVybDogc3RyaW5nLCBwYXJhbXM/OiBhbnksIGZvcm1EYXRhPzogSUZvcm1EYXRhKSB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2xvc2UodXJsKSB7XG4gICAgICAgIGF3YWl0IFVJTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNsb3NlRm9ybSh1cmwpO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgVG9hc3RNZ3IoKTtcblxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIFunction.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '26e9dYfX+tDUpk37S1FVqfx', 'UIFunction');
// Script/UIScript/UIFunction.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var AdapterMgr_1 = require("../UIFrame/AdapterMgr");
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var UIConfig_1 = require("./../UIConfig");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIFunction = /** @class */ (function (_super) {
    __extends(UIFunction, _super);
    function UIFunction() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // onLoad () {}
    UIFunction.prototype.start = function () {
        AdapterMgr_1.default.inst.adapteByType(AdapterMgr_1.AdapterType.Bottom, this.node, 50);
        this.view.Setting.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UISetting);
        }, this);
        this.view.Skills.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UISkills);
        }, this);
        this.view.ScrollHelper.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UIScrollPlus);
        }, this);
    };
    UIFunction = __decorate([
        ccclass
    ], UIFunction);
    return UIFunction;
}(UIForm_1.UIFixed));
exports.default = UIFunction;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlGdW5jdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxvREFBZ0U7QUFDaEUsOENBQXlDO0FBQ3pDLDRDQUE0QztBQUU1QywwQ0FBcUM7QUFHL0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBd0MsOEJBQU87SUFBL0M7O0lBd0JBLENBQUM7SUFyQkcsZUFBZTtJQUVmLDBCQUFLLEdBQUw7UUFDSSxvQkFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsd0JBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVoRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUM7WUFDdkIsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFVCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFDdEIsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFVCxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUM7WUFDNUIsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQTtRQUN2QyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFHYixDQUFDO0lBckJnQixVQUFVO1FBRDlCLE9BQU87T0FDYSxVQUFVLENBd0I5QjtJQUFELGlCQUFDO0NBeEJELEFBd0JDLENBeEJ1QyxnQkFBTyxHQXdCOUM7a0JBeEJvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJRnVuY3Rpb25fQXV0byBmcm9tIFwiLi4vQXV0b1NjcmlwdHMvVUlGdW5jdGlvbl9BdXRvXCI7XG5pbXBvcnQgQWRhcHRlck1nciwgeyBBZGFwdGVyVHlwZSB9IGZyb20gXCIuLi9VSUZyYW1lL0FkYXB0ZXJNZ3JcIjtcbmltcG9ydCBGb3JtTWdyIGZyb20gXCIuLi9VSUZyYW1lL0Zvcm1NZ3JcIjtcbmltcG9ydCB7IFVJRml4ZWQgfSBmcm9tIFwiLi4vVUlGcmFtZS9VSUZvcm1cIjtcbmltcG9ydCBXaW5kb3dNZ3IgZnJvbSBcIi4uL1VJRnJhbWUvV2luZG93TWdyXCI7XG5pbXBvcnQgVUlDb25maWcgZnJvbSBcIi4vLi4vVUlDb25maWdcIjtcbmltcG9ydCBVSVNraWxscyBmcm9tIFwiLi9VSVNraWxsc1wiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJRnVuY3Rpb24gZXh0ZW5kcyBVSUZpeGVkIHtcbiAgICBcbiAgICB2aWV3OiBVSUZ1bmN0aW9uX0F1dG87XG4gICAgLy8gb25Mb2FkICgpIHt9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIEFkYXB0ZXJNZ3IuaW5zdC5hZGFwdGVCeVR5cGUoQWRhcHRlclR5cGUuQm90dG9tLCB0aGlzLm5vZGUsIDUwKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMudmlldy5TZXR0aW5nLmFkZENsaWNrKCgpID0+IHsgICAgICAgICAgICBcbiAgICAgICAgICAgIEZvcm1NZ3Iub3BlbihVSUNvbmZpZy5VSVNldHRpbmcpO1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXcuU2tpbGxzLmFkZENsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIEZvcm1NZ3Iub3BlbihVSUNvbmZpZy5VSVNraWxscyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlldy5TY3JvbGxIZWxwZXIuYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgRm9ybU1nci5vcGVuKFVJQ29uZmlnLlVJU2Nyb2xsUGx1cylcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgXG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UILight.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '60605S7mGxLPaah0MJrhkSn', 'UILight');
// Script/UIScript/UILight.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var TexturePlus_1 = require("../Common/Components/TexturePlus");
var Light_1 = require("../Common/Light/Light");
var LightUtils_1 = require("../Common/Light/LightUtils");
var Obstacle_1 = require("../Common/Light/Obstacle");
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UILight = /** @class */ (function (_super) {
    __extends(UILight, _super);
    function UILight() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.obstacle = null;
        _this.light = null;
        _this.camera = null;
        _this.spShadow = null;
        _this._shadowTexture = new cc.RenderTexture();
        return _this;
    }
    UILight.prototype.onLoad = function () {
        var _this = this;
        cc.director.on(cc.Director.EVENT_BEFORE_DRAW, function () {
            _this._shadowTexture = new cc.RenderTexture();
            _this._shadowTexture.initWithSize(cc.visibleRect.width, cc.visibleRect.height, cc.game._renderContext.STENCIL_INDEX8);
            _this.camera.targetTexture = _this._shadowTexture;
        }, this);
        cc.director.on(cc.Director.EVENT_AFTER_DRAW, function () {
            _this.spShadow.spriteFrame.setTexture(_this._shadowTexture);
            _this.spShadow.spriteFrame.setFlipY(true);
            _this.spShadow.markForRender(true);
        }, this);
    };
    UILight.prototype.start = function () {
        var viewSize = cc.view.getVisibleSize();
        this.obstacle.addPolygon('', [
            cc.v2(0, 0), cc.v2(viewSize.width, 0), cc.v2(viewSize.width, viewSize.height), cc.v2(0, viewSize.height)
        ]);
        var ndObstacle = this.obstacle.node;
        var _loop_1 = function (i) {
            var node = ndObstacle.children[i];
            var com = node.getComponent(TexturePlus_1.default);
            if (!com)
                return "continue";
            var points = com.polygon.concat([]);
            points = points.map(function (e) { return e.add(node.getPosition()); });
            this_1.obstacle.addPolygon(com.node.uuid, points);
        };
        var this_1 = this;
        for (var i = 0; i < ndObstacle.childrenCount; i++) {
            _loop_1(i);
        }
        this.view.Back.addClick(function () {
            FormMgr_1.default.backScene();
        }, this);
    };
    UILight.prototype.draw = function () {
        var polygons = this.obstacle.getPolygons(this.light.getBound());
        var intersections = LightUtils_1.default.getIntersections(this.light.node.getPosition(), polygons);
        this.light.draw(intersections);
    };
    UILight.prototype.update = function (dt) {
        this.draw();
    };
    __decorate([
        property(Obstacle_1.default)
    ], UILight.prototype, "obstacle", void 0);
    __decorate([
        property(Light_1.default)
    ], UILight.prototype, "light", void 0);
    __decorate([
        property(cc.Camera)
    ], UILight.prototype, "camera", void 0);
    __decorate([
        property(cc.Sprite)
    ], UILight.prototype, "spShadow", void 0);
    UILight = __decorate([
        ccclass
    ], UILight);
    return UILight;
}(UIForm_1.UIScreen));
exports.default = UILight;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlMaWdodC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxnRUFBMkQ7QUFDM0QsK0NBQTBDO0FBQzFDLHlEQUFvRDtBQUNwRCxxREFBZ0Q7QUFDaEQsOENBQXlDO0FBQ3pDLDRDQUE2QztBQUV2QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFxQywyQkFBUTtJQUE3QztRQUFBLHFFQTZEQztRQTFEVyxjQUFRLEdBQWEsSUFBSSxDQUFDO1FBRTFCLFdBQUssR0FBVSxJQUFJLENBQUM7UUFHNUIsWUFBTSxHQUFjLElBQUksQ0FBQztRQUNKLGNBQVEsR0FBYyxJQUFJLENBQUM7UUFFeEMsb0JBQWMsR0FBcUIsSUFBSSxFQUFFLENBQUMsYUFBYSxFQUFFLENBQUM7O0lBa0R0RSxDQUFDO0lBaERHLHdCQUFNLEdBQU47UUFBQSxpQkFZQztRQVhHLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUU7WUFDMUMsS0FBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUM3QyxLQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUNySCxLQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsR0FBRyxLQUFJLENBQUMsY0FBYyxDQUFDO1FBQ3BELENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVULEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMs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T0FDYSxPQUFPLENBNkQzQjtJQUFELGNBQUM7Q0E3REQsQUE2REMsQ0E3RG9DLGlCQUFRLEdBNkQ1QztrQkE3RG9CLE9BQU8iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlMaWdodF9BdXRvIGZyb20gXCIuLi9BdXRvU2NyaXB0cy9VSUxpZ2h0X0F1dG9cIjtcbmltcG9ydCBUZXh0dXJlUGx1cyBmcm9tIFwiLi4vQ29tbW9uL0NvbXBvbmVudHMvVGV4dHVyZVBsdXNcIjtcbmltcG9ydCBMaWdodCBmcm9tIFwiLi4vQ29tbW9uL0xpZ2h0L0xpZ2h0XCI7XG5pbXBvcnQgTGlnaHRVdGlscyBmcm9tIFwiLi4vQ29tbW9uL0xpZ2h0L0xpZ2h0VXRpbHNcIjtcbmltcG9ydCBPYnN0YWNsZSBmcm9tIFwiLi4vQ29tbW9uL0xpZ2h0L09ic3RhY2xlXCI7XG5pbXBvcnQgRm9ybU1nciBmcm9tIFwiLi4vVUlGcmFtZS9Gb3JtTWdyXCI7XG5pbXBvcnQgeyBVSVNjcmVlbiB9IGZyb20gXCIuLi9VSUZyYW1lL1VJRm9ybVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJTGlnaHQgZXh0ZW5kcyBVSVNjcmVlbiB7XG4gICAgXG4gICAgQHByb3BlcnR5KE9ic3RhY2xlKVxuICAgIHByaXZhdGUgb2JzdGFjbGU6IE9ic3RhY2xlID0gbnVsbDtcbiAgICBAcHJvcGVydHkoTGlnaHQpXG4gICAgcHJpdmF0ZSBsaWdodDogTGlnaHQgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkNhbWVyYSlcbiAgICBjYW1lcmE6IGNjLkNhbWVyYSA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSkgc3BTaGFkb3c6IGNjLlNwcml0ZSA9IG51bGw7XG5cbiAgICBwcml2YXRlIF9zaGFkb3dUZXh0dXJlOiBjYy5SZW5kZXJUZXh0dXJlID0gbmV3IGNjLlJlbmRlclRleHR1cmUoKTtcbiAgICB2aWV3OiBVSUxpZ2h0X0F1dG87XG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgY2MuZGlyZWN0b3Iub24oY2MuRGlyZWN0b3IuRVZFTlRfQkVGT1JFX0RSQVcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRvd1RleHR1cmUgPSBuZXcgY2MuUmVuZGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hhZG93VGV4dHVyZS5pbml0V2l0aFNpemUoY2MudmlzaWJsZVJlY3Qud2lkdGgsIGNjLnZpc2libGVSZWN0LmhlaWdodCwgY2MuZ2FtZS5fcmVuZGVyQ29udGV4dC5TVEVOQ0lMX0lOREVYOCk7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYS50YXJnZXRUZXh0dXJlID0gdGhpcy5fc2hhZG93VGV4dHVyZTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgY2MuZGlyZWN0b3Iub24oY2MuRGlyZWN0b3IuRVZFTlRfQUZURVJfRFJBVywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zcFNoYWRvdy5zcHJpdGVGcmFtZS5zZXRUZXh0dXJlKHRoaXMuX3NoYWRvd1RleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5zcFNoYWRvdy5zcHJpdGVGcmFtZS5zZXRGbGlwWSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc3BTaGFkb3cubWFya0ZvclJlbmRlcih0cnVlKVxuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIGxldCB2aWV3U2l6ZSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKTtcbiAgICAgICAgdGhpcy5vYnN0YWNsZS5hZGRQb2x5Z29uKCcnLCBbXG4gICAgICAgICAgICBjYy52MigwLCAwKSwgY2MudjIodmlld1NpemUud2lkdGgsIDApLCBjYy52Mih2aWV3U2l6ZS53aWR0aCwgdmlld1NpemUuaGVpZ2h0KSwgY2MudjIoMCwgdmlld1NpemUuaGVpZ2h0KVxuICAgICAgICBdKTtcblxuICAgICAgICBsZXQgbmRPYnN0YWNsZSA9IHRoaXMub2JzdGFjbGUubm9kZTtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8bmRPYnN0YWNsZS5jaGlsZHJlbkNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBub2RlID0gbmRPYnN0YWNsZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGxldCBjb20gPSBub2RlLmdldENvbXBvbmVudChUZXh0dXJlUGx1cyk7XG4gICAgICAgICAgICBpZighY29tKSBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHBvaW50cyA9IGNvbS5wb2x5Z29uLmNvbmNhdChbXSk7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHMubWFwKGUgPT4gZS5hZGQobm9kZS5nZXRQb3NpdGlvbigpKSk7XG5cbiAgICAgICAgICAgIHRoaXMub2JzdGFjbGUuYWRkUG9seWdvbihjb20ubm9kZS51dWlkLCBwb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52aWV3LkJhY2suYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgRm9ybU1nci5iYWNrU2NlbmUoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGRyYXcoKSB7XG4gICAgICAgIGxldCBwb2x5Z29ucyA9IHRoaXMub2JzdGFjbGUuZ2V0UG9seWdvbnModGhpcy5saWdodC5nZXRCb3VuZCgpKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBpbnRlcnNlY3Rpb25zID0gTGlnaHRVdGlscy5nZXRJbnRlcnNlY3Rpb25zKHRoaXMubGlnaHQubm9kZS5nZXRQb3NpdGlvbigpLCBwb2x5Z29ucyk7XG4gICAgICAgIHRoaXMubGlnaHQuZHJhdyhpbnRlcnNlY3Rpb25zKTtcbiAgICB9XG5cbiAgICB1cGRhdGUgKGR0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kcmF3KCk7ICAgICAgIFxuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIHome.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ce700EVbt5MTrg0Llyxj9zb', 'UIHome');
// Script/UIScript/UIHome.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var UIManager_1 = require("../UIFrame/UIManager");
var UIConfig_1 = require("./../UIConfig");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIHome = /** @class */ (function (_super) {
    __extends(UIHome, _super);
    function UIHome() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.model = 5;
        return _this;
        // update (dt) {}
    }
    UIHome.prototype.load = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, UIManager_1.default.getInstance().openForm(UIConfig_1.default.UISound.prefabUrl)];
                    case 1:
                        _a.sent();
                        ;
                        return [2 /*return*/, null];
                }
            });
        });
    };
    UIHome.prototype.refreshView = function () {
        console.log(this.model);
    };
    UIHome.prototype.start = function () {
        this.view.Start.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UIMap);
        }, this);
        this.view.About.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UIAbout);
        }, this);
        this.view.Back.addClick(function () {
            FormMgr_1.default.backScene();
        }, this);
    };
    UIHome = __decorate([
        ccclass
    ], UIHome);
    return UIHome;
}(UIForm_1.UIScreen));
exports.default = UIHome;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlIb21lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDhDQUF5QztBQUN6Qyw0Q0FBc0Q7QUFDdEQsa0RBQTZDO0FBQzdDLDBDQUFxQztBQUcvQixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFvQywwQkFBUTtJQUE1QztRQUFBLHFFQTRCQztRQXBCRyxXQUFLLEdBQUcsQ0FBQyxDQUFDOztRQW1CVixpQkFBaUI7SUFDckIsQ0FBQztJQXpCUyxxQkFBSSxHQUFWOzs7OzRCQUNJLHFCQUFNLG1CQUFTLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLGtCQUFRLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFBOzt3QkFBbEUsU0FBa0UsQ0FBQzt3QkFBQSxDQUFDO3dCQUNwRSxzQkFBTyxJQUFJLEVBQUM7Ozs7S0FDZjtJQUdELDRCQUFXLEdBQVg7UUFDSSxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUMzQixDQUFDO0lBRUQsc0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztZQUNyQixpQkFBTyxDQUFDLElBQUksQ0FBQyxrQkFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVULElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztZQUNyQixpQkFBTyxDQUFDLElBQUksQ0FBQyxrQkFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ25DLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVULElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNwQixpQkFBTyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3hCLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNiLENBQUM7SUF6QmdCLE1BQU07UUFEMUIsT0FBTztPQUNhLE1BQU0sQ0E0QjFCO0lBQUQsYUFBQztDQTVCRCxBQTRCQyxDQTVCbUMsaUJBQVEsR0E0QjNDO2tCQTVCb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSUhvbWVfQXV0byBmcm9tIFwiLi4vQXV0b1NjcmlwdHMvVUlIb21lX0F1dG9cIjtcbmltcG9ydCBGb3JtTWdyIGZyb20gXCIuLi9VSUZyYW1lL0Zvcm1NZ3JcIjtcbmltcG9ydCB7IFVJRml4ZWQsIFVJU2NyZWVuIH0gZnJvbSBcIi4uL1VJRnJhbWUvVUlGb3JtXCI7XG5pbXBvcnQgVUlNYW5hZ2VyIGZyb20gXCIuLi9VSUZyYW1lL1VJTWFuYWdlclwiO1xuaW1wb3J0IFVJQ29uZmlnIGZyb20gXCIuLy4uL1VJQ29uZmlnXCI7XG5cblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUhvbWUgZXh0ZW5kcyBVSVNjcmVlbiB7XG5cbiAgICBwdWJsaWMgdmlldzogVUlIb21lX0F1dG87XG4gICAgYXN5bmMgbG9hZCgpIHtcbiAgICAgICAgYXdhaXQgVUlNYW5hZ2VyLmdldEluc3RhbmNlKCkub3BlbkZvcm0oVUlDb25maWcuVUlTb3VuZC5wcmVmYWJVcmwpOztcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbW9kZWwgPSA1O1xuICAgIHJlZnJlc2hWaWV3KCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm1vZGVsKVxuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy52aWV3LlN0YXJ0LmFkZENsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIEZvcm1NZ3Iub3BlbihVSUNvbmZpZy5VSU1hcCk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlldy5BYm91dC5hZGRDbGljaygoKSA9PiB7XG4gICAgICAgICAgICBGb3JtTWdyLm9wZW4oVUlDb25maWcuVUlBYm91dCk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlldy5CYWNrLmFkZENsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIEZvcm1NZ3IuYmFja1NjZW5lKCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UILoading.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2580cHflTxBzYtR5gDT9n2h', 'UILoading');
// Script/UIScript/UILoading.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var AdapterMgr_1 = require("../UIFrame/AdapterMgr");
var CocosHelper_1 = require("../UIFrame/CocosHelper");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UILoading = /** @class */ (function (_super) {
    __extends(UILoading, _super);
    function UILoading() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // onLoad () {}
    UILoading.prototype.start = function () {
    };
    UILoading.prototype.showEffect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        len = AdapterMgr_1.default.inst.visibleSize.width / 2 + this.view.Left.width / 2;
                        this.view.Left.x = -len;
                        this.view.Right.x = len;
                        return [4 /*yield*/, Promise.all([
                                CocosHelper_1.default.runTweenSync(this.view.Left, cc.tween().to(0.3, { x: -480 }, cc.easeIn(3.0))),
                                CocosHelper_1.default.runTweenSync(this.view.Right, cc.tween().to(0.3, { x: 480 }, cc.easeIn(3.0)))
                            ])];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UILoading.prototype.hideEffect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        len = AdapterMgr_1.default.inst.visibleSize.width / 2 + this.view.Left.width / 2;
                        this.view.Left.x = -480;
                        this.view.Right.x = 480;
                        return [4 /*yield*/, CocosHelper_1.default.sleepSync(0.5)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, Promise.all([
                                CocosHelper_1.default.runTweenSync(this.view.Left, cc.tween().to(0.3, { x: -len }, cc.easeIn(3.0))),
                                CocosHelper_1.default.runTweenSync(this.view.Right, cc.tween().to(0.3, { x: len }, cc.easeIn(3.0)))
                            ])];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UILoading = __decorate([
        ccclass
    ], UILoading);
    return UILoading;
}(UIForm_1.UITips));
exports.default = UILoading;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlMb2FkaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLG9EQUErQztBQUMvQyxzREFBaUQ7QUFDakQsNENBQTJDO0FBRXJDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXVDLDZCQUFNO0lBQTdDOztJQWtDQSxDQUFDO0lBOUJHLGVBQWU7SUFFZix5QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVLLDhCQUFVLEdBQWhCOzs7Ozs7d0JBQ1EsR0FBRyxHQUFHLG9CQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUM7d0JBQ3ZFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQzt3QkFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQzt3QkFFeEIscUJBQU0sT0FBTyxDQUFDLEdBQUcsQ0FBQztnQ0FDZCxxQkFBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQ0FDdkYscUJBQVcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBQyxDQUFDLEVBQUUsR0FBRyxFQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDOzZCQUMxRixDQUFDLEVBQUE7O3dCQUhGLFNBR0UsQ0FBQzs7Ozs7S0FDTjtJQUVLLDhCQUFVLEdBQWhCOzs7Ozs7d0JBQ1EsR0FBRyxHQUFHLG9CQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUM7d0JBQ3ZFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQzt3QkFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQzt3QkFFeEIscUJBQU0scUJBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUE7O3dCQUFoQyxTQUFnQyxDQUFDO3dCQUNqQyxxQkFBTSxPQUFPLENBQUMsR0FBRyxDQUFDO2dDQUNkLHFCQUFXLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dDQUN2RixxQkFBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFDLENBQUMsRUFBRSxHQUFHLEVBQUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7NkJBQzFGLENBQUMsRUFBQTs7d0JBSEYsU0FHRSxDQUFDOzs7OztLQUNOO0lBL0JnQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBa0M3QjtJQUFELGdCQUFDO0NBbENELEFBa0NDLENBbENzQyxlQUFNLEdBa0M1QztrQkFsQ29CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlMb2FkaW5nX0F1dG8gZnJvbSBcIi4uL0F1dG9TY3JpcHRzL1VJTG9hZGluZ19BdXRvXCI7XG5pbXBvcnQgQWRhcHRlck1nciBmcm9tIFwiLi4vVUlGcmFtZS9BZGFwdGVyTWdyXCI7XG5pbXBvcnQgQ29jb3NIZWxwZXIgZnJvbSBcIi4uL1VJRnJhbWUvQ29jb3NIZWxwZXJcIjtcbmltcG9ydCB7IFVJVGlwcyB9IGZyb20gXCIuLi9VSUZyYW1lL1VJRm9ybVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJTG9hZGluZyBleHRlbmRzIFVJVGlwcyB7XG4gICAgXG4gICAgdmlldzogVUlMb2FkaW5nX0F1dG87XG5cbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIGFzeW5jIHNob3dFZmZlY3QoKSB7XG4gICAgICAgIGxldCBsZW4gPSBBZGFwdGVyTWdyLmluc3QudmlzaWJsZVNpemUud2lkdGgvMiArIHRoaXMudmlldy5MZWZ0LndpZHRoLzI7XG4gICAgICAgIHRoaXMudmlldy5MZWZ0LnggPSAtbGVuO1xuICAgICAgICB0aGlzLnZpZXcuUmlnaHQueCA9IGxlbjtcblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBDb2Nvc0hlbHBlci5ydW5Ud2VlblN5bmModGhpcy52aWV3LkxlZnQsIGNjLnR3ZWVuKCkudG8oMC4zLCB7eDogLTQ4MH0sIGNjLmVhc2VJbigzLjApKSksXG4gICAgICAgICAgICBDb2Nvc0hlbHBlci5ydW5Ud2VlblN5bmModGhpcy52aWV3LlJpZ2h0LCBjYy50d2VlbigpLnRvKDAuMywge3g6IDQ4MH0sIGNjLmVhc2VJbigzLjApKSlcbiAgICAgICAgXSk7XG4gICAgfVxuXG4gICAgYXN5bmMgaGlkZUVmZmVjdCgpIHtcbiAgICAgICAgbGV0IGxlbiA9IEFkYXB0ZXJNZ3IuaW5zdC52aXNpYmxlU2l6ZS53aWR0aC8yICsgdGhpcy52aWV3LkxlZnQud2lkdGgvMjtcbiAgICAgICAgdGhpcy52aWV3LkxlZnQueCA9IC00ODA7XG4gICAgICAgIHRoaXMudmlldy5SaWdodC54ID0gNDgwO1xuXG4gICAgICAgIGF3YWl0IENvY29zSGVscGVyLnNsZWVwU3luYygwLjUpO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBDb2Nvc0hlbHBlci5ydW5Ud2VlblN5bmModGhpcy52aWV3LkxlZnQsIGNjLnR3ZWVuKCkudG8oMC4zLCB7eDogLWxlbn0sIGNjLmVhc2VJbigzLjApKSksXG4gICAgICAgICAgICBDb2Nvc0hlbHBlci5ydW5Ud2VlblN5bmModGhpcy52aWV3LlJpZ2h0LCBjYy50d2VlbigpLnRvKDAuMywge3g6IGxlbn0sIGNjLmVhc2VJbigzLjApKSlcbiAgICAgICAgXSk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIMap.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '33fc2k7hdlDAbJbP9yEwnBb', 'UIMap');
// Script/UIScript/UIMap.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var UIConfig_1 = require("./../UIConfig");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIMap = /** @class */ (function (_super) {
    __extends(UIMap, _super);
    function UIMap() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    UIMap.prototype.load = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                // await FormMgr.open(UIConfig.UIFunction);
                return [2 /*return*/, ''];
            });
        });
    };
    UIMap.prototype.start = function () {
        this.view.Round.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UIGame);
        }, this);
        this.view.Back.addClick(function () {
            FormMgr_1.default.backScene();
        }, this);
    };
    UIMap = __decorate([
        ccclass
    ], UIMap);
    return UIMap;
}(UIForm_1.UIScreen));
exports.default = UIMap;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlNYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsOENBQXlDO0FBQ3pDLDRDQUE2QztBQUM3QywwQ0FBcUM7QUFFL0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBbUMseUJBQVE7SUFBM0M7O0lBdUJBLENBQUM7SUFuQkcsd0JBQXdCO0lBRXhCLGVBQWU7SUFFVCxvQkFBSSxHQUFWOzs7Z0JBQ0ksMkNBQTJDO2dCQUMzQyxzQkFBTyxFQUFFLEVBQUM7OztLQUNiO0lBRUQscUJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztZQUNyQixpQkFBTyxDQUFDLElBQUksQ0FBQyxrQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNULElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNwQixpQkFBTyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3hCLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNiLENBQUM7SUFwQmdCLEtBQUs7UUFEekIsT0FBTztPQUNhLEtBQUssQ0F1QnpCO0lBQUQsWUFBQztDQXZCRCxBQXVCQyxDQXZCa0MsaUJBQVEsR0F1QjFDO2tCQXZCb0IsS0FBSyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSU1hcF9BdXRvIGZyb20gXCIuLi9BdXRvU2NyaXB0cy9VSU1hcF9BdXRvXCI7XG5pbXBvcnQgRm9ybU1nciBmcm9tIFwiLi4vVUlGcmFtZS9Gb3JtTWdyXCI7XG5pbXBvcnQgeyBVSVNjcmVlbiB9IGZyb20gXCIuLi9VSUZyYW1lL1VJRm9ybVwiO1xuaW1wb3J0IFVJQ29uZmlnIGZyb20gXCIuLy4uL1VJQ29uZmlnXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNYXAgZXh0ZW5kcyBVSVNjcmVlbiB7XG5cbiAgICB2aWV3OiBVSU1hcF9BdXRvO1xuXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XG5cbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIGFzeW5jIGxvYWQoKSB7XG4gICAgICAgIC8vIGF3YWl0IEZvcm1NZ3Iub3BlbihVSUNvbmZpZy5VSUZ1bmN0aW9uKTtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy52aWV3LlJvdW5kLmFkZENsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIEZvcm1NZ3Iub3BlbihVSUNvbmZpZy5VSUdhbWUpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3LkJhY2suYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgRm9ybU1nci5iYWNrU2NlbmUoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIPop.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8fc71BDtH9K7Js1AoFqRdoT', 'UIPop');
// Script/UIScript/UIPop.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SysDefine_1 = require("../UIFrame/config/SysDefine");
var Struct_1 = require("../UIFrame/Struct");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIPop = /** @class */ (function (_super) {
    __extends(UIPop, _super);
    function UIPop() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.modalType = new Struct_1.ModalType(SysDefine_1.ModalOpacity.OpacityHalf);
        return _this;
        // update (dt) {}
    }
    // onLoad () {}
    UIPop.prototype.start = function () {
        var _this = this;
        this.view.Close.addClick(function () {
            _this.closeSelf();
        }, this);
    };
    UIPop = __decorate([
        ccclass
    ], UIPop);
    return UIPop;
}(UIForm_1.UIWindow));
exports.default = UIPop;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlQb3AudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEseURBQTJEO0FBQzNELDRDQUE4QztBQUM5Qyw0Q0FBNkM7QUFFdkMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBbUMseUJBQVE7SUFBM0M7UUFBQSxxRUFnQkM7UUFkRyxlQUFTLEdBQWMsSUFBSSxrQkFBUyxDQUFDLHdCQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7O1FBYS9ELGlCQUFpQjtJQUNyQixDQUFDO0lBVkcsZUFBZTtJQUVmLHFCQUFLLEdBQUw7UUFBQSxpQkFJQztRQUhHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztZQUNyQixLQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQVpnQixLQUFLO1FBRHpCLE9BQU87T0FDYSxLQUFLLENBZ0J6QjtJQUFELFlBQUM7Q0FoQkQsQUFnQkMsQ0FoQmtDLGlCQUFRLEdBZ0IxQztrQkFoQm9CLEtBQUsiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlQb3BfQXV0byBmcm9tIFwiLi4vQXV0b1NjcmlwdHMvVUlQb3BfQXV0b1wiO1xuaW1wb3J0IENvY29zSGVscGVyIGZyb20gXCIuLi9VSUZyYW1lL0NvY29zSGVscGVyXCI7XG5pbXBvcnQgeyBNb2RhbE9wYWNpdHkgfSBmcm9tIFwiLi4vVUlGcmFtZS9jb25maWcvU3lzRGVmaW5lXCI7XG5pbXBvcnQgeyBNb2RhbFR5cGUgfSBmcm9tIFwiLi4vVUlGcmFtZS9TdHJ1Y3RcIjtcbmltcG9ydCB7IFVJV2luZG93IH0gZnJvbSBcIi4uL1VJRnJhbWUvVUlGb3JtXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlQb3AgZXh0ZW5kcyBVSVdpbmRvdyB7XG5cbiAgICBtb2RhbFR5cGU6IE1vZGFsVHlwZSA9IG5ldyBNb2RhbFR5cGUoTW9kYWxPcGFjaXR5Lk9wYWNpdHlIYWxmKTtcblxuICAgIHZpZXc6IFVJUG9wX0F1dG87XG5cbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy52aWV3LkNsb3NlLmFkZENsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VTZWxmKCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIMeshTexture.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7cba6kU26RE2Ls8irff3+Tu', 'UIMeshTexture');
// Script/UIScript/UIMeshTexture.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIMeshTexture = /** @class */ (function (_super) {
    __extends(UIMeshTexture, _super);
    function UIMeshTexture() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // onLoad () {}
    UIMeshTexture.prototype.start = function () {
    };
    UIMeshTexture = __decorate([
        ccclass
    ], UIMeshTexture);
    return UIMeshTexture;
}(UIForm_1.UIScreen));
exports.default = UIMeshTexture;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlNZXNoVGV4dHVyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0Q0FBNkM7QUFFdkMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQVE7SUFBbkQ7O0lBV0EsQ0FBQztJQVBHLGVBQWU7SUFFZiw2QkFBSyxHQUFMO0lBRUEsQ0FBQztJQVJnQixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBV2pDO0lBQUQsb0JBQUM7Q0FYRCxBQVdDLENBWDBDLGlCQUFRLEdBV2xEO2tCQVhvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVUlTY3JlZW4gfSBmcm9tIFwiLi4vVUlGcmFtZS9VSUZvcm1cIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSU1lc2hUZXh0dXJlIGV4dGVuZHMgVUlTY3JlZW4ge1xuXG5cblxuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgc3RhcnQgKCkge1xuXG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIMobx.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2f8edzvxDRFL6ID2paZM9Ss', 'UIMobx');
// Script/UIScript/UIMobx.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var mobx_1 = require("../Common/Mobx/mobx");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIMobx = /** @class */ (function (_super) {
    __extends(UIMobx, _super);
    function UIMobx() {
        var _this = _super.call(this) || this;
        _this.num1 = 0;
        _this.num2 = 0;
        _this.obj = { num3: 0 };
        // mobx6版本中使用注解必须调用此方法
        mobx_1.makeAutoObservable(_this);
        return _this;
    }
    Object.defineProperty(UIMobx.prototype, "total", {
        get: function () {
            return this.num1 * this.num2;
        },
        enumerable: false,
        configurable: true
    });
    UIMobx.prototype.refreshView = function () {
        this.view.Txt1.string = '' + this.num1;
        this.view.Txt2.string = '' + this.num2;
        this.view.Txt3.string = '' + this.total;
    };
    // onLoad () {}
    UIMobx.prototype.start = function () {
        var _this = this;
        this.view.Close.addClick(function () {
            _this.closeSelf();
        }, this);
        mobx_1.autorun(this.refreshView.bind(this));
        mobx_1.when(function () { return _this.total > 10; }).then(function () {
            _this.view.Txt4.node.active = _this.total > 10;
        });
        mobx_1.reaction((function () { return _this.obj && _this.obj.num3; }), function (arg, prev, r) {
            if (!cc.isValid(_this.node))
                return;
            _this.view.Txt5.string = '' + arg;
            // r.dispose();
        });
        this.view.Btn1.addClick(function () {
            _this.num1++;
        }, this);
        this.view.Btn2.addClick(function () {
            _this.num2++;
        }, this);
        this.view.Btn3.addClick(function () {
            _this.obj.num3++;
        }, this);
    };
    UIMobx.prototype.onShow = function () {
    };
    __decorate([
        mobx_1.observable
    ], UIMobx.prototype, "num1", void 0);
    __decorate([
        mobx_1.observable
    ], UIMobx.prototype, "num2", void 0);
    __decorate([
        mobx_1.computed
    ], UIMobx.prototype, "total", null);
    __decorate([
        mobx_1.observable
    ], UIMobx.prototype, "obj", void 0);
    UIMobx = __decorate([
        ccclass
    ], UIMobx);
    return UIMobx;
}(UIForm_1.UIWindow));
exports.default = UIMobx;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlNb2J4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDRDQUF5SDtBQUN6SCw0Q0FBNkM7QUFFdkMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBb0MsMEJBQVE7SUFLeEM7UUFBQSxZQUNJLGlCQUFPLFNBR1Y7UUFFVyxVQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ1QsVUFBSSxHQUFHLENBQUMsQ0FBQztRQUlULFNBQUcsR0FBRyxFQUFDLElBQUksRUFBRSxDQUFDLEVBQUMsQ0FBQztRQVR4QixzQkFBc0I7UUFDdEIseUJBQWtCLENBQUMsS0FBSSxDQUFDLENBQUM7O0lBQzdCLENBQUM7SUFJUyxzQkFBSSx5QkFBSzthQUFUO1lBQ04sT0FBTyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDakMsQ0FBQzs7O09BQUE7SUFHRCw0QkFBVyxHQUFYO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDNUMsQ0FBQztJQUVELGVBQWU7SUFFZixzQkFBSyxHQUFMO1FBQUEsaUJBMkJDO1FBMUJHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztZQUNyQixLQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ1QsY0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFckMsV0FBSSxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsRUFBZixDQUFlLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDN0IsS0FBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNqRCxDQUFDLENBQUMsQ0FBQztRQUVILGVBQVEsQ0FBQyxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsR0FBRyxJQUFJLEtBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUF6QixDQUF5QixDQUFDLEVBQUUsVUFBQyxHQUFRLEVBQUUsSUFBWSxFQUFFLENBQWtCO1lBQ25GLElBQUcsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQUUsT0FBUTtZQUNuQyxLQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQztZQUNqQyxlQUFlO1FBQ25CLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQ3BCLEtBQUksQ0FBQyxJQUFJLEVBQUcsQ0FBQztRQUNqQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDcEIsS0FBSSxDQUFDLElBQUksRUFBRyxDQUFDO1FBQ2pCLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVULElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNwQixLQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRyxDQUFDO1FBQ3JCLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUViLENBQUM7SUFPRCx1QkFBTSxHQUFOO0lBRUEsQ0FBQztJQW5EVztRQUFYLGlCQUFVO3dDQUFVO0lBQ1Q7UUFBWCxpQkFBVTt3Q0FBVTtJQUNYO1FBQVQsZUFBUTt1Q0FFUjtJQUNXO1FBQVgsaUJBQVU7dUNBQWlCO0lBaEJYLE1BQU07UUFEMUIsT0FBTztPQUNhLE1BQU0sQ0FpRTFCO0lBQUQsYUFBQztDQWpFRCxBQWlFQyxDQWpFbUMsaUJBQVEsR0FpRTNDO2tCQWpFb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSU1vYnhfQXV0byBmcm9tIFwiLi4vQXV0b1NjcmlwdHMvVUlNb2J4X0F1dG9cIjtcbmltcG9ydCB7IG9ic2VydmFibGUsIGNvbXB1dGVkLCByZWFjdGlvbiwgYXV0b3J1biwgd2hlbiwgSVJlYWN0aW9uUHVibGljLCBtYWtlQXV0b09ic2VydmFibGUgfSBmcm9tIFwiLi4vQ29tbW9uL01vYngvbW9ieFwiO1xuaW1wb3J0IHsgVUlXaW5kb3cgfSBmcm9tIFwiLi4vVUlGcmFtZS9VSUZvcm1cIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSU1vYnggZXh0ZW5kcyBVSVdpbmRvdyB7XG5cblxuICAgIHZpZXc6IFVJTW9ieF9BdXRvO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8vIG1vYng254mI5pys5Lit5L2/55So5rOo6Kej5b+F6aG76LCD55So5q2k5pa55rOVXG4gICAgICAgIG1ha2VBdXRvT2JzZXJ2YWJsZSh0aGlzKTtcbiAgICB9XG4gICAgXG4gICAgQG9ic2VydmFibGUgbnVtMSA9IDA7XG4gICAgQG9ic2VydmFibGUgbnVtMiA9IDA7XG4gICAgQGNvbXB1dGVkIGdldCB0b3RhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtMSAqIHRoaXMubnVtMjtcbiAgICB9XG4gICAgQG9ic2VydmFibGUgb2JqID0ge251bTM6IDB9O1xuXG4gICAgcmVmcmVzaFZpZXcoKSB7XG4gICAgICAgIHRoaXMudmlldy5UeHQxLnN0cmluZyA9ICcnICsgdGhpcy5udW0xO1xuICAgICAgICB0aGlzLnZpZXcuVHh0Mi5zdHJpbmcgPSAnJyArIHRoaXMubnVtMjtcbiAgICAgICAgdGhpcy52aWV3LlR4dDMuc3RyaW5nID0gJycgKyB0aGlzLnRvdGFsO1xuICAgIH1cblxuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICB0aGlzLnZpZXcuQ2xvc2UuYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNlbGYoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGF1dG9ydW4odGhpcy5yZWZyZXNoVmlldy5iaW5kKHRoaXMpKTtcbiAgICAgICAgXG4gICAgICAgIHdoZW4oKCkgPT4gdGhpcy50b3RhbCA+IDEwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlldy5UeHQ0Lm5vZGUuYWN0aXZlID0gdGhpcy50b3RhbCA+IDEwO1xuICAgICAgICB9KTtcblxuICAgICAgICByZWFjdGlvbigoKCkgPT4gdGhpcy5vYmogJiYgdGhpcy5vYmoubnVtMyksIChhcmc6IGFueSwgcHJldjogbnVtYmVyLCByOiBJUmVhY3Rpb25QdWJsaWMpID0+IHtcbiAgICAgICAgICAgIGlmKCFjYy5pc1ZhbGlkKHRoaXMubm9kZSkpIHJldHVybiA7XG4gICAgICAgICAgICB0aGlzLnZpZXcuVHh0NS5zdHJpbmcgPSAnJyArIGFyZztcbiAgICAgICAgICAgIC8vIHIuZGlzcG9zZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZpZXcuQnRuMS5hZGRDbGljaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm51bTEgKys7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXcuQnRuMi5hZGRDbGljaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm51bTIgKys7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlldy5CdG4zLmFkZENsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2JqLm51bTMgKys7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBcbiAgICB9XG5cbiAgICBcbiAgICBcblxuICAgIFxuXG4gICAgb25TaG93KCkge1xuICAgICAgICBcbiAgICB9XG5cblxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UINavigator.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '64d76l/v4JPK6JM5Y8OH42G', 'UINavigator');
// Script/UIScript/UINavigator.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var UIConfig_1 = require("./../UIConfig");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UINavigator = /** @class */ (function (_super) {
    __extends(UINavigator, _super);
    function UINavigator() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UINavigator.prototype.start = function () {
        var content = this.view.Scroll.content;
        for (var _i = 0, _a = content.children; _i < _a.length; _i++) {
            var e = _a[_i];
            e.on(cc.Node.EventType.TOUCH_END, this.onClickButton, this);
        }
    };
    UINavigator.prototype.onClickButton = function (e) {
        var node = e.getCurrentTarget();
        switch (node.name) {
            case "project":
                FormMgr_1.default.open(UIConfig_1.default.UIHome);
                break;
            case "light":
                FormMgr_1.default.open(UIConfig_1.default.UILight);
                break;
            case "capture":
                FormMgr_1.default.open(UIConfig_1.default.UICapture);
                break;
            case "mobx":
                FormMgr_1.default.open(UIConfig_1.default.UIMobx);
                break;
            case "dungeon":
                FormMgr_1.default.open(UIConfig_1.default.UIDungeon);
                break;
            case "splitTexture":
                FormMgr_1.default.open(UIConfig_1.default.UISplitTexture);
                break;
            case "scrollTexture":
                FormMgr_1.default.open(UIConfig_1.default.UIScrollTexture);
                break;
            case "meshTexture":
                FormMgr_1.default.open(UIConfig_1.default.UIMeshTexture);
                break;
        }
    };
    UINavigator = __decorate([
        ccclass
    ], UINavigator);
    return UINavigator;
}(UIForm_1.UIScreen));
exports.default = UINavigator;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlOYXZpZ2F0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsOENBQXlDO0FBQ3pDLDRDQUE2QztBQUM3QywwQ0FBcUM7QUFHL0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBeUMsK0JBQVE7SUFBakQ7O0lBMENBLENBQUM7SUF0Q0csMkJBQUssR0FBTDtRQUNJLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUN2QyxLQUFlLFVBQWdCLEVBQWhCLEtBQUEsT0FBTyxDQUFDLFFBQVEsRUFBaEIsY0FBZ0IsRUFBaEIsSUFBZ0IsRUFBRTtZQUE3QixJQUFNLENBQUMsU0FBQTtZQUNQLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDL0Q7SUFDTCxDQUFDO0lBRUQsbUNBQWEsR0FBYixVQUFjLENBQXNCO1FBQ2hDLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ2hDLFFBQU8sSUFBSSxDQUFDLElBQUksRUFBRTtZQUNkLEtBQUssU0FBUztnQkFDVixpQkFBTyxDQUFDLElBQUksQ0FBQyxrQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUM5QixNQUFNO1lBQ1YsS0FBSyxPQUFPO2dCQUNSLGlCQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQy9CLE1BQU07WUFDVixLQUFLLFNBQVM7Z0JBQ1YsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDakMsTUFBTTtZQUNWLEtBQUssTUFBTTtnQkFDUCxpQkFBTyxDQUFDLElBQUksQ0FBQyxrQkFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUM5QixNQUFNO1lBQ1YsS0FBSyxTQUFTO2dCQUNWLGlCQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ2pDLE1BQU07WUFDVixLQUFLLGNBQWM7Z0JBQ2YsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDdEMsTUFBTTtZQUNWLEtBQUssZUFBZTtnQkFDaEIsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDdkMsTUFBTTtZQUNWLEtBQUssYUFBYTtnQkFDZCxpQkFBTyxDQUFDLElBQUksQ0FBQyxrQkFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUNyQyxNQUFNO1NBQ2I7SUFDTCxDQUFDO0lBdkNnQixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBMEMvQjtJQUFELGtCQUFDO0NBMUNELEFBMENDLENBMUN3QyxpQkFBUSxHQTBDaEQ7a0JBMUNvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJTmF2aWdhdG9yX0F1dG8gZnJvbSBcIi4uL0F1dG9TY3JpcHRzL1VJTmF2aWdhdG9yX0F1dG9cIjtcbmltcG9ydCBGb3JtTWdyIGZyb20gXCIuLi9VSUZyYW1lL0Zvcm1NZ3JcIjtcbmltcG9ydCB7IFVJU2NyZWVuIH0gZnJvbSBcIi4uL1VJRnJhbWUvVUlGb3JtXCI7XG5pbXBvcnQgVUlDb25maWcgZnJvbSBcIi4vLi4vVUlDb25maWdcIjtcblxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJTmF2aWdhdG9yIGV4dGVuZHMgVUlTY3JlZW4ge1xuXG4gICAgdmlldzogVUlOYXZpZ2F0b3JfQXV0bztcblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLnZpZXcuU2Nyb2xsLmNvbnRlbnQ7XG4gICAgICAgIGZvcihjb25zdCBlIG9mIGNvbnRlbnQuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uQ2xpY2tCdXR0b24sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DbGlja0J1dHRvbihlOiBjYy5FdmVudC5FdmVudFRvdWNoKSB7XG4gICAgICAgIGxldCBub2RlID0gZS5nZXRDdXJyZW50VGFyZ2V0KCk7XG4gICAgICAgIHN3aXRjaChub2RlLm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwcm9qZWN0XCI6XG4gICAgICAgICAgICAgICAgRm9ybU1nci5vcGVuKFVJQ29uZmlnLlVJSG9tZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGlnaHRcIjpcbiAgICAgICAgICAgICAgICBGb3JtTWdyLm9wZW4oVUlDb25maWcuVUlMaWdodCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY2FwdHVyZVwiOlxuICAgICAgICAgICAgICAgIEZvcm1NZ3Iub3BlbihVSUNvbmZpZy5VSUNhcHR1cmUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1vYnhcIjpcbiAgICAgICAgICAgICAgICBGb3JtTWdyLm9wZW4oVUlDb25maWcuVUlNb2J4KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJkdW5nZW9uXCI6XG4gICAgICAgICAgICAgICAgRm9ybU1nci5vcGVuKFVJQ29uZmlnLlVJRHVuZ2Vvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3BsaXRUZXh0dXJlXCI6XG4gICAgICAgICAgICAgICAgRm9ybU1nci5vcGVuKFVJQ29uZmlnLlVJU3BsaXRUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxUZXh0dXJlXCI6XG4gICAgICAgICAgICAgICAgRm9ybU1nci5vcGVuKFVJQ29uZmlnLlVJU2Nyb2xsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWVzaFRleHR1cmVcIjpcbiAgICAgICAgICAgICAgICBGb3JtTWdyLm9wZW4oVUlDb25maWcuVUlNZXNoVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/config/SysDefine.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7f8ffNRvZxCz4zNi1L6dBHr', 'SysDefine');
// Script/UIFrame/config/SysDefine.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SysDefine = exports.UIState = exports.ModalOpacity = exports.FormType = void 0;
var UIConfig_1 = require("../../UIConfig");
/**窗体类型 */
var FormType;
(function (FormType) {
    /** 屏幕 */
    FormType["Screen"] = "UIScreen";
    /** 固定窗口 */
    FormType["Fixed"] = "UIFixed";
    /** 弹出窗口 */
    FormType["Window"] = "UIWindow";
    /** Toast */
    FormType["Toast"] = "Toast";
    /** 独立窗口 */
    FormType["Tips"] = "UITips";
})(FormType = exports.FormType || (exports.FormType = {}));
/**透明度类型 */
var ModalOpacity;
(function (ModalOpacity) {
    /** 没有mask, 可以穿透 */
    ModalOpacity[ModalOpacity["None"] = 0] = "None";
    /** 完全透明，不能穿透 */
    ModalOpacity[ModalOpacity["OpacityZero"] = 1] = "OpacityZero";
    /** 高透明度，不能穿透 */
    ModalOpacity[ModalOpacity["OpacityLow"] = 2] = "OpacityLow";
    /** 半透明，不能穿透 */
    ModalOpacity[ModalOpacity["OpacityHalf"] = 3] = "OpacityHalf";
    /** 低透明度, 不能穿透 */
    ModalOpacity[ModalOpacity["OpacityHigh"] = 4] = "OpacityHigh";
    /** 完全不透明 */
    ModalOpacity[ModalOpacity["OpacityFull"] = 5] = "OpacityFull";
})(ModalOpacity = exports.ModalOpacity || (exports.ModalOpacity = {}));
/** UI的状态 */
var UIState;
(function (UIState) {
    UIState[UIState["None"] = 0] = "None";
    UIState[UIState["Loading"] = 1] = "Loading";
    UIState[UIState["Showing"] = 2] = "Showing";
    UIState[UIState["Hiding"] = 3] = "Hiding";
})(UIState = exports.UIState || (exports.UIState = {}));
/** 常量 */
var SysDefine = /** @class */ (function () {
    function SysDefine() {
    }
    /* 加载窗体 */
    SysDefine.defaultLoadingForm = UIConfig_1.default.UILoading;
    /* 路径常量 */
    SysDefine.SYS_PATH_CANVAS = "Canvas";
    SysDefine.SYS_PATH_UIFORMS_CONFIG_INFO = "UIFormsConfigInfo";
    SysDefine.SYS_PATH_CONFIG_INFO = "SysConfigInfo";
    /* 标签常量 */
    SysDefine.SYS_UIROOT_NAME = "Canvas/Scene/UIROOT";
    SysDefine.SYS_UIMODAL_NAME = "Canvas/Scene/UIROOT/UIModalManager";
    SysDefine.SYS_UIAdapter_NAME = "Canvas/Scene/UIROOT/UIAdapterManager";
    /* 节点常量 */
    SysDefine.SYS_SCENE_NODE = "Scene";
    SysDefine.SYS_UIROOT_NODE = "UIROOT";
    SysDefine.SYS_SCREEN_NODE = "Screen";
    SysDefine.SYS_FIXED_NODE = "FixedUI";
    SysDefine.SYS_POPUP_NODE = "PopUp";
    SysDefine.SYS_TOPTIPS_NODE = "TopTips";
    SysDefine.SYS_MODAL_NODE = "UIModalNode";
    /** 规范符号 */
    SysDefine.SYS_STANDARD_Prefix = '_';
    SysDefine.SYS_STANDARD_Separator = '$';
    SysDefine.SYS_STANDARD_End = '#';
    SysDefine.UI_PATH_ROOT = 'UIForms/';
    SysDefine.SeparatorMap = {
        "_Node": "cc.Node",
        "_Label": "cc.Label",
        "_Button": "cc.Button",
        "_Sprite": "cc.Sprite",
        "_RichText": "cc.RichText",
        "_Mask": "cc.Mask",
        "_MotionStreak": "cc.MotionStreak",
        "_TiledMap": "cc.TiledMap",
        "_TiledTile": "cc.TiledTile",
        "_Spine": "sp.Skeleton",
        "_Graphics": "cc.Graphics",
        "_Animation": "cc.Animation",
        "_WebView": "cc.WebView",
        "_EditBox": "cc.EditBox",
        "_ScrollView": "cc.ScrollView",
        "_VideoPlayer": "cc.VideoPlayer",
        "_ProgressBar": "cc.ProgressBar",
        "_PageView": "cc.PageView",
        "_Slider": "cc.Slider",
        "_Toggle": "cc.Toggle",
        "_ButtonPlus": "ButtonPlus",
    };
    return SysDefine;
}());
exports.SysDefine = SysDefine;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9jb25maWcvU3lzRGVmaW5lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUFzQztBQUd0QyxVQUFVO0FBQ1YsSUFBWSxRQVlYO0FBWkQsV0FBWSxRQUFRO0lBQ2hCLFNBQVM7SUFDVCwrQkFBbUIsQ0FBQTtJQUNuQixXQUFXO0lBQ1gsNkJBQWlCLENBQUE7SUFDakIsV0FBVztJQUNYLCtCQUFtQixDQUFBO0lBQ25CLFlBQVk7SUFDWiwyQkFBZSxDQUFBO0lBQ2YsV0FBVztJQUNYLDJCQUFlLENBQUE7QUFFbkIsQ0FBQyxFQVpXLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBWW5CO0FBQ0QsV0FBVztBQUNYLElBQVksWUFhWDtBQWJELFdBQVksWUFBWTtJQUNwQixtQkFBbUI7SUFDbkIsK0NBQUksQ0FBQTtJQUNKLGdCQUFnQjtJQUNoQiw2REFBVyxDQUFBO0lBQ1gsZ0JBQWdCO0lBQ2hCLDJEQUFVLENBQUE7SUFDVixlQUFlO0lBQ2YsNkRBQVcsQ0FBQTtJQUNYLGlCQUFpQjtJQUNqQiw2REFBVyxDQUFBO0lBQ1gsWUFBWTtJQUNaLDZEQUFXLENBQUE7QUFDZixDQUFDLEVBYlcsWUFBWSxHQUFaLG9CQUFZLEtBQVosb0JBQVksUUFhdkI7QUFDRCxZQUFZO0FBQ1osSUFBWSxPQUtYO0FBTEQsV0FBWSxPQUFPO0lBQ2YscUNBQVEsQ0FBQTtJQUNSLDJDQUFXLENBQUE7SUFDWCwyQ0FBVyxDQUFBO0lBQ1gseUNBQVUsQ0FBQTtBQUNkLENBQUMsRUFMVyxPQUFPLEdBQVAsZUFBTyxLQUFQLGVBQU8sUUFLbEI7QUFDRCxTQUFTO0FBQ1Q7SUFBQTtJQWtEQSxDQUFDO0lBakRHLFVBQVU7SUFDSSw0QkFBa0IsR0FBZ0Isa0JBQVEsQ0FBQyxTQUFTLENBQUM7SUFDbkUsVUFBVTtJQUNJLHlCQUFlLEdBQUcsUUFBUSxDQUFDO0lBQzNCLHNDQUE0QixHQUFHLG1CQUFtQixDQUFDO0lBQ25ELDhCQUFvQixHQUFHLGVBQWUsQ0FBQztJQUNyRCxVQUFVO0lBQ0kseUJBQWUsR0FBRyxxQkFBcUIsQ0FBQztJQUN4QywwQkFBZ0IsR0FBRyxvQ0FBb0MsQ0FBQztJQUN4RCw0QkFBa0IsR0FBRyxzQ0FBc0MsQ0FBQztJQUMxRSxVQUFVO0lBQ0ksd0JBQWMsR0FBRyxPQUFPLENBQUE7SUFDeEIseUJBQWUsR0FBRyxRQUFRLENBQUM7SUFDM0IseUJBQWUsR0FBRyxRQUFRLENBQUM7SUFDM0Isd0JBQWMsR0FBRyxTQUFTLENBQUM7SUFDM0Isd0JBQWMsR0FBRyxPQUFPLENBQUM7SUFDekIsMEJBQWdCLEdBQUcsU0FBUyxDQUFDO0lBQzdCLHdCQUFjLEdBQUcsYUFBYSxDQUFDO0lBQzdDLFdBQVc7SUFDRyw2QkFBbUIsR0FBRyxHQUFHLENBQUM7SUFDMUIsZ0NBQXNCLEdBQUcsR0FBRyxDQUFDO0lBQzdCLDBCQUFnQixHQUFHLEdBQUcsQ0FBQztJQUV2QixzQkFBWSxHQUFHLFVBQVUsQ0FBQztJQUUxQixzQkFBWSxHQUE0QjtRQUNsRCxPQUFPLEVBQVUsU0FBUztRQUMxQixRQUFRLEVBQVMsVUFBVTtRQUMzQixTQUFTLEVBQVEsV0FBVztRQUM1QixTQUFTLEVBQVEsV0FBVztRQUM1QixXQUFXLEVBQU0sYUFBYTtRQUM5QixPQUFPLEVBQVUsU0FBUztRQUMxQixlQUFlLEVBQUUsaUJBQWlCO1FBQ2xDLFdBQVcsRUFBTSxhQUFhO1FBQzlCLFlBQVksRUFBSyxjQUFjO1FBQy9CLFFBQVEsRUFBUyxhQUFhO1FBQzlCLFdBQVcsRUFBTSxhQUFhO1FBQzlCLFlBQVksRUFBSyxjQUFjO1FBQy9CLFVBQVUsRUFBTyxZQUFZO1FBQzdCLFVBQVUsRUFBTyxZQUFZO1FBQzdCLGFBQWEsRUFBSSxlQUFlO1FBQ2hDLGNBQWMsRUFBRyxnQkFBZ0I7UUFDakMsY0FBYyxFQUFHLGdCQUFnQjtRQUNqQyxXQUFXLEVBQU0sYUFBYTtRQUM5QixTQUFTLEVBQVEsV0FBVztRQUM1QixTQUFTLEVBQVEsV0FBVztRQUM1QixhQUFhLEVBQUksWUFBWTtLQUNoQyxDQUFDO0lBRU4sZ0JBQUM7Q0FsREQsQUFrREMsSUFBQTtBQWxEWSw4QkFBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSUNvbmZpZyBmcm9tIFwiLi4vLi4vVUlDb25maWdcIjtcbmltcG9ydCB7IElGb3JtQ29uZmlnIH0gZnJvbSBcIi4uL1N0cnVjdFwiO1xuXG4vKirnqpfkvZPnsbvlnosgKi9cbmV4cG9ydCBlbnVtIEZvcm1UeXBlIHtcbiAgICAvKiog5bGP5bmVICovXG4gICAgU2NyZWVuID0gXCJVSVNjcmVlblwiLFxuICAgIC8qKiDlm7rlrprnqpflj6MgKi9cbiAgICBGaXhlZCA9IFwiVUlGaXhlZFwiLFxuICAgIC8qKiDlvLnlh7rnqpflj6MgKi9cbiAgICBXaW5kb3cgPSBcIlVJV2luZG93XCIsXG4gICAgLyoqIFRvYXN0ICovXG4gICAgVG9hc3QgPSBcIlRvYXN0XCIsXG4gICAgLyoqIOeLrOeri+eql+WPoyAqL1xuICAgIFRpcHMgPSBcIlVJVGlwc1wiLFxuXG59XG4vKirpgI/mmI7luqbnsbvlnosgKi9cbmV4cG9ydCBlbnVtIE1vZGFsT3BhY2l0eSB7XG4gICAgLyoqIOayoeaciW1hc2ssIOWPr+S7peepv+mAjyAqL1xuICAgIE5vbmUsXG4gICAgLyoqIOWujOWFqOmAj+aYju+8jOS4jeiDveepv+mAjyAqL1xuICAgIE9wYWNpdHlaZXJvLFxuICAgIC8qKiDpq5jpgI/mmI7luqbvvIzkuI3og73nqb/pgI8gKi9cbiAgICBPcGFjaXR5TG93LFxuICAgIC8qKiDljYrpgI/mmI7vvIzkuI3og73nqb/pgI8gKi9cbiAgICBPcGFjaXR5SGFsZixcbiAgICAvKiog5L2O6YCP5piO5bqmLCDkuI3og73nqb/pgI8gKi9cbiAgICBPcGFjaXR5SGlnaCxcbiAgICAvKiog5a6M5YWo5LiN6YCP5piOICovXG4gICAgT3BhY2l0eUZ1bGxcbn1cbi8qKiBVSeeahOeKtuaAgSAqL1xuZXhwb3J0IGVudW0gVUlTdGF0ZSB7XG4gICAgTm9uZSA9IDAsXG4gICAgTG9hZGluZyA9IDEsXG4gICAgU2hvd2luZyA9IDIsXG4gICAgSGlkaW5nID0gM1xufVxuLyoqIOW4uOmHjyAqL1xuZXhwb3J0IGNsYXNzIFN5c0RlZmluZSB7XG4gICAgLyog5Yqg6L2956qX5L2TICovXG4gICAgcHVibGljIHN0YXRpYyBkZWZhdWx0TG9hZGluZ0Zvcm06IElGb3JtQ29uZmlnID0gVUlDb25maWcuVUlMb2FkaW5nO1xuICAgIC8qIOi3r+W+hOW4uOmHjyAqL1xuICAgIHB1YmxpYyBzdGF0aWMgU1lTX1BBVEhfQ0FOVkFTID0gXCJDYW52YXNcIjtcbiAgICBwdWJsaWMgc3RhdGljIFNZU19QQVRIX1VJRk9STVNfQ09ORklHX0lORk8gPSBcIlVJRm9ybXNDb25maWdJbmZvXCI7XG4gICAgcHVibGljIHN0YXRpYyBTWVNfUEFUSF9DT05GSUdfSU5GTyA9IFwiU3lzQ29uZmlnSW5mb1wiO1xuICAgIC8qIOagh+etvuW4uOmHjyAqL1xuICAgIHB1YmxpYyBzdGF0aWMgU1lTX1VJUk9PVF9OQU1FID0gXCJDYW52YXMvU2NlbmUvVUlST09UXCI7XG4gICAgcHVibGljIHN0YXRpYyBTWVNfVUlNT0RBTF9OQU1FID0gXCJDYW52YXMvU2NlbmUvVUlST09UL1VJTW9kYWxNYW5hZ2VyXCI7XG4gICAgcHVibGljIHN0YXRpYyBTWVNfVUlBZGFwdGVyX05BTUUgPSBcIkNhbnZhcy9TY2VuZS9VSVJPT1QvVUlBZGFwdGVyTWFuYWdlclwiO1xuICAgIC8qIOiKgueCueW4uOmHjyAqL1xuICAgIHB1YmxpYyBzdGF0aWMgU1lTX1NDRU5FX05PREUgPSBcIlNjZW5lXCJcbiAgICBwdWJsaWMgc3RhdGljIFNZU19VSVJPT1RfTk9ERSA9IFwiVUlST09UXCI7XG4gICAgcHVibGljIHN0YXRpYyBTWVNfU0NSRUVOX05PREUgPSBcIlNjcmVlblwiO1xuICAgIHB1YmxpYyBzdGF0aWMgU1lTX0ZJWEVEX05PREUgPSBcIkZpeGVkVUlcIjtcbiAgICBwdWJsaWMgc3RhdGljIFNZU19QT1BVUF9OT0RFID0gXCJQb3BVcFwiOyAgXG4gICAgcHVibGljIHN0YXRpYyBTWVNfVE9QVElQU19OT0RFID0gXCJUb3BUaXBzXCI7XG4gICAgcHVibGljIHN0YXRpYyBTWVNfTU9EQUxfTk9ERSA9IFwiVUlNb2RhbE5vZGVcIjtcbiAgICAvKiog6KeE6IyD56ym5Y+3ICovXG4gICAgcHVibGljIHN0YXRpYyBTWVNfU1RBTkRBUkRfUHJlZml4ID0gJ18nO1xuICAgIHB1YmxpYyBzdGF0aWMgU1lTX1NUQU5EQVJEX1NlcGFyYXRvciA9ICckJztcbiAgICBwdWJsaWMgc3RhdGljIFNZU19TVEFOREFSRF9FbmQgPSAnIyc7XG5cbiAgICBwdWJsaWMgc3RhdGljIFVJX1BBVEhfUk9PVCA9ICdVSUZvcm1zLyc7XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBTZXBhcmF0b3JNYXA6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xuICAgICAgICBcIl9Ob2RlXCIgICAgICAgIDogXCJjYy5Ob2RlXCIsXG4gICAgICAgIFwiX0xhYmVsXCIgICAgICAgOiBcImNjLkxhYmVsXCIsXG4gICAgICAgIFwiX0J1dHRvblwiICAgICAgOiBcImNjLkJ1dHRvblwiLFxuICAgICAgICBcIl9TcHJpdGVcIiAgICAgIDogXCJjYy5TcHJpdGVcIixcbiAgICAgICAgXCJfUmljaFRleHRcIiAgICA6IFwiY2MuUmljaFRleHRcIixcbiAgICAgICAgXCJfTWFza1wiICAgICAgICA6IFwiY2MuTWFza1wiLFxuICAgICAgICBcIl9Nb3Rpb25TdHJlYWtcIjogXCJjYy5Nb3Rpb25TdHJlYWtcIixcbiAgICAgICAgXCJfVGlsZWRNYXBcIiAgICA6IFwiY2MuVGlsZWRNYXBcIixcbiAgICAgICAgXCJfVGlsZWRUaWxlXCIgICA6IFwiY2MuVGlsZWRUaWxlXCIsXG4gICAgICAgIFwiX1NwaW5lXCIgICAgICAgOiBcInNwLlNrZWxldG9uXCIsXG4gICAgICAgIFwiX0dyYXBoaWNzXCIgICAgOiBcImNjLkdyYXBoaWNzXCIsXG4gICAgICAgIFwiX0FuaW1hdGlvblwiICAgOiBcImNjLkFuaW1hdGlvblwiLFxuICAgICAgICBcIl9XZWJWaWV3XCIgICAgIDogXCJjYy5XZWJWaWV3XCIsXG4gICAgICAgIFwiX0VkaXRCb3hcIiAgICAgOiBcImNjLkVkaXRCb3hcIixcbiAgICAgICAgXCJfU2Nyb2xsVmlld1wiICA6IFwiY2MuU2Nyb2xsVmlld1wiLFxuICAgICAgICBcIl9WaWRlb1BsYXllclwiIDogXCJjYy5WaWRlb1BsYXllclwiLFxuICAgICAgICBcIl9Qcm9ncmVzc0JhclwiIDogXCJjYy5Qcm9ncmVzc0JhclwiLFxuICAgICAgICBcIl9QYWdlVmlld1wiICAgIDogXCJjYy5QYWdlVmlld1wiLFxuICAgICAgICBcIl9TbGlkZXJcIiAgICAgIDogXCJjYy5TbGlkZXJcIixcbiAgICAgICAgXCJfVG9nZ2xlXCIgICAgICA6IFwiY2MuVG9nZ2xlXCIsXG4gICAgICAgIFwiX0J1dHRvblBsdXNcIiAgOiBcIkJ1dHRvblBsdXNcIixcbiAgICB9O1xuXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIScrollPlus.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '560e1xSQSJMfZRGHo2ilXIy', 'UIScrollPlus');
// Script/UIScript/UIScrollPlus.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ScrollPlusProxy = void 0;
var ScrollViewHelper_1 = require("../Common/Components/ScrollViewHelper");
var SysDefine_1 = require("../UIFrame/config/SysDefine");
var Struct_1 = require("../UIFrame/Struct");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ScrollPlusProxy = /** @class */ (function (_super) {
    __extends(ScrollPlusProxy, _super);
    function ScrollPlusProxy() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return ScrollPlusProxy;
}(ScrollViewHelper_1.ScrollViewElementProxy));
exports.ScrollPlusProxy = ScrollPlusProxy;
var UIScrollPlus = /** @class */ (function (_super) {
    __extends(UIScrollPlus, _super);
    function UIScrollPlus() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.scrollHelper = null;
        _this.pfItem = null;
        _this.modalType = new Struct_1.ModalType(SysDefine_1.ModalOpacity.OpacityHalf, true);
        _this._nodePool = new cc.NodePool();
        return _this;
        // update (dt) {}
    }
    // onLoad () {}
    UIScrollPlus.prototype.start = function () {
        var _this = this;
        this.layoutItems();
        this.scrollHelper.onAllocUI = function (proxy) {
            var ui = _this._nodePool.get() || cc.instantiate(_this.pfItem);
            proxy.ui = ui;
            ui.parent = _this.scrollHelper.scrollView.content;
            ui.setPosition(proxy.region.x, proxy.region.y);
            proxy.ui.getChildByName('lab').getComponent(cc.Label).string = '' + proxy.lab;
        };
        this.scrollHelper.onFreeUI = function (proxy) {
            _this._nodePool.put(proxy.ui);
            proxy.ui = null;
        };
        this.scrollHelper.isUIPooled = function () {
            return _this._nodePool.size() > 0;
        };
        this.scrollHelper.checkUI();
    };
    UIScrollPlus.prototype.layoutItems = function () {
        var d = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];
        this.scrollHelper.clearData();
        var ypos = 0;
        for (var i = 0; i < d.length; i++) {
            var proxy = new ScrollPlusProxy();
            proxy.lab = d[i];
            proxy.region = cc.rect(-this.pfItem.data.width / 2, ypos - this.pfItem.data.height, this.pfItem.data.width, this.pfItem.data.height);
            this.scrollHelper.addData(proxy);
            ypos -= this.pfItem.data.height + 10;
        }
        this.scrollHelper.scrollView.content.height = (this.pfItem.data.height + 10) * d.length;
    };
    __decorate([
        property(ScrollViewHelper_1.ScrollViewHelper)
    ], UIScrollPlus.prototype, "scrollHelper", void 0);
    __decorate([
        property(cc.Prefab)
    ], UIScrollPlus.prototype, "pfItem", void 0);
    UIScrollPlus = __decorate([
        ccclass
    ], UIScrollPlus);
    return UIScrollPlus;
}(UIForm_1.UIWindow));
exports.default = UIScrollPlus;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlTY3JvbGxQbHVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwwRUFBaUc7QUFDakcseURBQTJEO0FBQzNELDRDQUE4QztBQUM5Qyw0Q0FBNkM7QUFFdkMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUM7SUFBcUMsbUNBQXNCO0lBQTNEOztJQUVBLENBQUM7SUFBRCxzQkFBQztBQUFELENBRkEsQUFFQyxDQUZvQyx5Q0FBc0IsR0FFMUQ7QUFGWSwwQ0FBZTtBQUs1QjtJQUEwQyxnQ0FBUTtJQUFsRDtRQUFBLHFFQWdEQztRQTlDK0Isa0JBQVksR0FBcUIsSUFBSSxDQUFDO1FBRTdDLFlBQU0sR0FBYyxJQUFJLENBQUM7UUFFOUMsZUFBUyxHQUFHLElBQUksa0JBQVMsQ0FBQyx3QkFBWSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUVqRCxlQUFTLEdBQUcsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7O1FBdUN0QyxpQkFBaUI7SUFDckIsQ0FBQztJQXZDRyxlQUFlO0lBRWYsNEJBQUssR0FBTDtRQUFBLGlCQWtCQztRQWpCRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFbkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEdBQUcsVUFBQyxLQUFzQjtZQUNqRCxJQUFJLEVBQUUsR0FBRyxLQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxXQUFXLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQzVELEtBQUssQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ2QsRUFBRSxDQUFDLE1BQU0sR0FBRyxLQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUM7WUFDakQsRUFBRSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9DLEtBQUssQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQ2xGLENBQUMsQ0FBQTtRQUNELElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxHQUFHLFVBQUMsS0FBNkI7WUFDdkQsS0FBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzdCLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLENBQUMsQ0FBQTtRQUNELElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxHQUFHO1lBQzNCLE9BQU8sS0FBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDckMsQ0FBQyxDQUFBO1FBQ0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBSU8sa0NBQVcsR0FBbkI7UUFDSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUM5QixJQUFJLElBQUksR0FBRyxDQUFDLENBQUM7UUFDYixLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMxQixJQUFJLEtBQUssR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1lBQ2xDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLEtBQUssQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDakksSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakMsSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7U0FDeEM7UUFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDNUYsQ0FBQztJQTNDMkI7UUFBM0IsUUFBUSxDQUFDLG1DQUFnQixDQUFDO3NEQUF1QztJQUU3QztRQUFwQixRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnREFBMEI7SUFKN0IsWUFBWTtRQURoQyxPQUFPO09BQ2EsWUFBWSxDQWdEaEM7SUFBRCxtQkFBQztDQWhERCxBQWdEQyxDQWhEeUMsaUJBQVEsR0FnRGpEO2tCQWhEb0IsWUFBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjcm9sbFZpZXdFbGVtZW50UHJveHksIFNjcm9sbFZpZXdIZWxwZXIgfSBmcm9tIFwiLi4vQ29tbW9uL0NvbXBvbmVudHMvU2Nyb2xsVmlld0hlbHBlclwiO1xuaW1wb3J0IHsgTW9kYWxPcGFjaXR5IH0gZnJvbSBcIi4uL1VJRnJhbWUvY29uZmlnL1N5c0RlZmluZVwiO1xuaW1wb3J0IHsgTW9kYWxUeXBlIH0gZnJvbSBcIi4uL1VJRnJhbWUvU3RydWN0XCI7XG5pbXBvcnQgeyBVSVdpbmRvdyB9IGZyb20gXCIuLi9VSUZyYW1lL1VJRm9ybVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuZXhwb3J0IGNsYXNzIFNjcm9sbFBsdXNQcm94eSBleHRlbmRzIFNjcm9sbFZpZXdFbGVtZW50UHJveHkge1xuICAgIGxhYjogbnVtYmVyO1xufVxuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlTY3JvbGxQbHVzIGV4dGVuZHMgVUlXaW5kb3cge1xuXG4gICAgQHByb3BlcnR5KFNjcm9sbFZpZXdIZWxwZXIpIHNjcm9sbEhlbHBlcjogU2Nyb2xsVmlld0hlbHBlciA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKSBwZkl0ZW06IGNjLlByZWZhYiA9IG51bGw7XG5cbiAgICBtb2RhbFR5cGUgPSBuZXcgTW9kYWxUeXBlKE1vZGFsT3BhY2l0eS5PcGFjaXR5SGFsZiwgdHJ1ZSlcbiAgICBcbiAgICBwcml2YXRlIF9ub2RlUG9vbCA9IG5ldyBjYy5Ob2RlUG9vbCgpO1xuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICB0aGlzLmxheW91dEl0ZW1zKCk7XG5cbiAgICAgICAgdGhpcy5zY3JvbGxIZWxwZXIub25BbGxvY1VJID0gKHByb3h5OiBTY3JvbGxQbHVzUHJveHkpID0+IHtcbiAgICAgICAgICAgIGxldCB1aSA9IHRoaXMuX25vZGVQb29sLmdldCgpIHx8IGNjLmluc3RhbnRpYXRlKHRoaXMucGZJdGVtKVxuICAgICAgICAgICAgcHJveHkudWkgPSB1aTtcbiAgICAgICAgICAgIHVpLnBhcmVudCA9IHRoaXMuc2Nyb2xsSGVscGVyLnNjcm9sbFZpZXcuY29udGVudDtcbiAgICAgICAgICAgIHVpLnNldFBvc2l0aW9uKHByb3h5LnJlZ2lvbi54LCBwcm94eS5yZWdpb24ueSk7XG4gICAgICAgICAgICBwcm94eS51aS5nZXRDaGlsZEJ5TmFtZSgnbGFiJykuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSAnJyArIHByb3h5LmxhYjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjcm9sbEhlbHBlci5vbkZyZWVVSSA9IChwcm94eTogU2Nyb2xsVmlld0VsZW1lbnRQcm94eSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbm9kZVBvb2wucHV0KHByb3h5LnVpKTtcbiAgICAgICAgICAgIHByb3h5LnVpID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjcm9sbEhlbHBlci5pc1VJUG9vbGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25vZGVQb29sLnNpemUoKSA+IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY3JvbGxIZWxwZXIuY2hlY2tVSSgpO1xuICAgIH1cblxuXG5cbiAgICBwcml2YXRlIGxheW91dEl0ZW1zKCkge1xuICAgICAgICBsZXQgZCA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1XTtcbiAgICAgICAgdGhpcy5zY3JvbGxIZWxwZXIuY2xlYXJEYXRhKCk7XG4gICAgICAgIGxldCB5cG9zID0gMDtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8ZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByb3h5ID0gbmV3IFNjcm9sbFBsdXNQcm94eSgpO1xuICAgICAgICAgICAgcHJveHkubGFiID0gZFtpXTtcbiAgICAgICAgICAgIHByb3h5LnJlZ2lvbiA9IGNjLnJlY3QoLXRoaXMucGZJdGVtLmRhdGEud2lkdGgvMiwgeXBvcy10aGlzLnBmSXRlbS5kYXRhLmhlaWdodCwgdGhpcy5wZkl0ZW0uZGF0YS53aWR0aCwgdGhpcy5wZkl0ZW0uZGF0YS5oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxIZWxwZXIuYWRkRGF0YShwcm94eSk7XG4gICAgICAgICAgICB5cG9zIC09IHRoaXMucGZJdGVtLmRhdGEuaGVpZ2h0ICsgMTA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY3JvbGxIZWxwZXIuc2Nyb2xsVmlldy5jb250ZW50LmhlaWdodCA9ICh0aGlzLnBmSXRlbS5kYXRhLmhlaWdodCArIDEwKSAqIGQubGVuZ3RoO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UISkills.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4004bJq0M9Cooeh3WQfDjpu', 'UISkills');
// Script/UIScript/UISkills.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UISkills = /** @class */ (function (_super) {
    __extends(UISkills, _super);
    function UISkills() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // onLoad () {}
    UISkills.prototype.start = function () {
        var _this = this;
        this.view.Close.addClick(function () {
            _this.closeSelf();
        }, this);
    };
    UISkills = __decorate([
        ccclass
    ], UISkills);
    return UISkills;
}(UIForm_1.UIWindow));
exports.default = UISkills;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlTa2lsbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsNENBQTZDO0FBRXZDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXNDLDRCQUFRO0lBQTlDOztJQWFBLENBQUM7SUFURyxlQUFlO0lBRWYsd0JBQUssR0FBTDtRQUFBLGlCQUlDO1FBSEcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO1lBQ3JCLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDYixDQUFDO0lBVmdCLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0FhNUI7SUFBRCxlQUFDO0NBYkQsQUFhQyxDQWJxQyxpQkFBUSxHQWE3QztrQkFib0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSVNraWxsc19BdXRvIGZyb20gXCIuLi9BdXRvU2NyaXB0cy9VSVNraWxsc19BdXRvXCI7XG5pbXBvcnQgeyBVSVdpbmRvdyB9IGZyb20gXCIuLi9VSUZyYW1lL1VJRm9ybVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJU2tpbGxzIGV4dGVuZHMgVUlXaW5kb3cge1xuXG4gICAgdmlldzogVUlTa2lsbHNfQXV0bztcblxuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICB0aGlzLnZpZXcuQ2xvc2UuYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNlbGYoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UISound.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c1bbcSeeFFDW6AB+mQtYDv7', 'UISound');
// Script/UIScript/UISound.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var AdapterMgr_1 = require("../UIFrame/AdapterMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UISound = /** @class */ (function (_super) {
    __extends(UISound, _super);
    function UISound() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    UISound.prototype.start = function () {
        AdapterMgr_1.default.inst.adapteByType(AdapterMgr_1.AdapterType.Right | AdapterMgr_1.AdapterType.Top, this.node);
    };
    UISound = __decorate([
        ccclass
    ], UISound);
    return UISound;
}(UIForm_1.UIFixed));
exports.default = UISound;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlTb3VuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvREFBZ0U7QUFDaEUsNENBQTRDO0FBRXRDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXFDLDJCQUFPO0lBQTVDOztJQWFBLENBQUM7SUFWRyx3QkFBd0I7SUFFeEIsZUFBZTtJQUVmLHVCQUFLLEdBQUw7UUFFSSxvQkFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsd0JBQVcsQ0FBQyxLQUFLLEdBQUcsd0JBQVcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pGLENBQUM7SUFWZ0IsT0FBTztRQUQzQixPQUFPO09BQ2EsT0FBTyxDQWEzQjtJQUFELGNBQUM7Q0FiRCxBQWFDLENBYm9DLGdCQUFPLEdBYTNDO2tCQWJvQixPQUFPIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFkYXB0ZXJNZ3IsIHsgQWRhcHRlclR5cGUgfSBmcm9tIFwiLi4vVUlGcmFtZS9BZGFwdGVyTWdyXCI7XG5pbXBvcnQgeyBVSUZpeGVkIH0gZnJvbSBcIi4uL1VJRnJhbWUvVUlGb3JtXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlTb3VuZCBleHRlbmRzIFVJRml4ZWQge1xuXG5cbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcblxuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICBcbiAgICAgICAgQWRhcHRlck1nci5pbnN0LmFkYXB0ZUJ5VHlwZShBZGFwdGVyVHlwZS5SaWdodCB8IEFkYXB0ZXJUeXBlLlRvcCwgdGhpcy5ub2RlKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/ModalMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a6cfbGOowFD6rGCFIN9QFMs', 'ModalMgr');
// Script/UIFrame/ModalMgr.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var SysDefine_1 = require("./config/SysDefine");
var UIModalScript_1 = require("./UIModalScript");
/**
 * 遮罩管理
 */
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ModalMgr = /** @class */ (function (_super) {
    __extends(ModalMgr, _super);
    function ModalMgr() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.uiModal = null;
        return _this;
    }
    ModalMgr_1 = ModalMgr;
    Object.defineProperty(ModalMgr, "inst", {
        get: function () {
            if (this._inst == null) {
                this._inst = new ModalMgr_1();
                var node = new cc.Node("UIModalNode");
                ModalMgr_1.popUpRoot = SysDefine_1.SysDefine.SYS_UIROOT_NAME + '/' + SysDefine_1.SysDefine.SYS_POPUP_NODE;
                var rootNode = cc.find(ModalMgr_1.popUpRoot);
                rootNode.addChild(node);
                this._inst.uiModal = node.addComponent(UIModalScript_1.default);
                this._inst.uiModal.init();
            }
            return this._inst;
        },
        enumerable: false,
        configurable: true
    });
    /** 为mask添加颜色 */
    ModalMgr.prototype.showModal = function (maskType) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.uiModal.showModal(maskType.opacity, maskType.easingTime, maskType.isEasing, maskType.dualBlur)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    ModalMgr.prototype.checkModalWindow = function (coms) {
        if (coms.length <= 0) {
            this.uiModal.node.active = false;
            return;
        }
        this.uiModal.node.active = true;
        if (this.uiModal.node.parent) {
            this.uiModal.node.removeFromParent();
        }
        for (var i = coms.length - 1; i >= 0; i--) {
            if (coms[i].modalType.opacity > 0) {
                cc.find(ModalMgr_1.popUpRoot).addChild(this.uiModal.node, Math.max(coms[i].node.zIndex - 1, 0));
                this.uiModal.fid = coms[i].fid;
                this.showModal(coms[i].modalType);
                break;
            }
        }
    };
    var ModalMgr_1;
    ModalMgr.popUpRoot = '';
    ModalMgr._inst = null;
    ModalMgr = ModalMgr_1 = __decorate([
        ccclass
    ], ModalMgr);
    return ModalMgr;
}(cc.Component));
exports.default = ModalMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9Nb2RhbE1nci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxnREFBK0M7QUFDL0MsaURBQTRDO0FBSTVDOztHQUVHO0FBQ0csSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUEyQ0M7UUF6QlcsYUFBTyxHQUFpQixJQUFJLENBQUM7O0lBeUJ6QyxDQUFDO2lCQTNDb0IsUUFBUTtJQUd6QixzQkFBa0IsZ0JBQUk7YUFBdEI7WUFDSSxJQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO2dCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksVUFBUSxFQUFFLENBQUM7Z0JBRTVCLElBQUksSUFBSSxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDdEMsVUFBUSxDQUFDLFNBQVMsR0FBRyxxQkFBUyxDQUFDLGVBQWUsR0FBRyxHQUFHLEdBQUcscUJBQVMsQ0FBQyxjQUFjLENBQUE7Z0JBRS9FLElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUMzQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLHVCQUFhLENBQUMsQ0FBQztnQkFDdEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDN0I7WUFDRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDdEIsQ0FBQzs7O09BQUE7SUFJRCxnQkFBZ0I7SUFDRiw0QkFBUyxHQUF2QixVQUF3QixRQUFtQjs7Ozs0QkFDdkMscUJBQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFBOzt3QkFBekcsU0FBeUcsQ0FBQzs7Ozs7S0FDN0c7SUFFTSxtQ0FBZ0IsR0FBdkIsVUFBd0IsSUFBZ0I7UUFDcEMsSUFBRyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtZQUNqQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ2pDLE9BQVE7U0FDWDtRQUNELElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDaEMsSUFBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDekIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztTQUN4QztRQUNELEtBQUksSUFBSSxDQUFDLEdBQUMsSUFBSSxDQUFDLE1BQU0sR0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNoQyxJQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLENBQUMsRUFBRTtnQkFDOUIsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzVGLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUNsQyxNQUFNO2FBQ1Q7U0FDSjtJQUNMLENBQUM7O0lBekNhLGtCQUFTLEdBQUcsRUFBRSxDQUFDO0lBQ2YsY0FBSyxHQUFhLElBQUksQ0FBQztJQUZwQixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBMkM1QjtJQUFELGVBQUM7Q0EzQ0QsQUEyQ0MsQ0EzQ3FDLEVBQUUsQ0FBQyxTQUFTLEdBMkNqRDtrQkEzQ29CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IFN5c0RlZmluZSB9IGZyb20gXCIuL2NvbmZpZy9TeXNEZWZpbmVcIjtcbmltcG9ydCBVSU1vZGFsU2NyaXB0IGZyb20gXCIuL1VJTW9kYWxTY3JpcHRcIjtcbmltcG9ydCB7IE1vZGFsVHlwZSB9IGZyb20gXCIuL1N0cnVjdFwiO1xuaW1wb3J0IHsgVUlXaW5kb3cgfSBmcm9tIFwiLi9VSUZvcm1cIjtcblxuLyoqXG4gKiDpga7nvannrqHnkIZcbiAqL1xuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbE1nciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG4gICAgcHVibGljIHN0YXRpYyBwb3BVcFJvb3QgPSAnJztcbiAgICBwdWJsaWMgc3RhdGljIF9pbnN0OiBNb2RhbE1nciA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdCgpIHtcbiAgICAgICAgaWYodGhpcy5faW5zdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnN0ID0gbmV3IE1vZGFsTWdyKCk7XG5cbiAgICAgICAgICAgIGxldCBub2RlID0gbmV3IGNjLk5vZGUoXCJVSU1vZGFsTm9kZVwiKTtcbiAgICAgICAgICAgIE1vZGFsTWdyLnBvcFVwUm9vdCA9IFN5c0RlZmluZS5TWVNfVUlST09UX05BTUUgKyAnLycgKyBTeXNEZWZpbmUuU1lTX1BPUFVQX05PREVcblxuICAgICAgICAgICAgbGV0IHJvb3ROb2RlID0gY2MuZmluZChNb2RhbE1nci5wb3BVcFJvb3QpO1xuICAgICAgICAgICAgcm9vdE5vZGUuYWRkQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0LnVpTW9kYWwgPSBub2RlLmFkZENvbXBvbmVudChVSU1vZGFsU2NyaXB0KTtcbiAgICAgICAgICAgIHRoaXMuX2luc3QudWlNb2RhbC5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3Q7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1aU1vZGFsOlVJTW9kYWxTY3JpcHQgPSBudWxsO1xuXG4gICAgLyoqIOS4um1hc2vmt7vliqDpopzoibIgKi9cbiAgICBwcml2YXRlIGFzeW5jIHNob3dNb2RhbChtYXNrVHlwZTogTW9kYWxUeXBlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudWlNb2RhbC5zaG93TW9kYWwobWFza1R5cGUub3BhY2l0eSwgbWFza1R5cGUuZWFzaW5nVGltZSwgbWFza1R5cGUuaXNFYXNpbmcsIG1hc2tUeXBlLmR1YWxCbHVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hlY2tNb2RhbFdpbmRvdyhjb21zOiBVSVdpbmRvd1tdKSB7XG4gICAgICAgIGlmKGNvbXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMudWlNb2RhbC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVpTW9kYWwubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBpZih0aGlzLnVpTW9kYWwubm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMudWlNb2RhbC5ub2RlLnJlbW92ZUZyb21QYXJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IobGV0IGk9Y29tcy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgICAgICBpZihjb21zW2ldLm1vZGFsVHlwZS5vcGFjaXR5ID4gMCkge1xuICAgICAgICAgICAgICAgIGNjLmZpbmQoTW9kYWxNZ3IucG9wVXBSb290KS5hZGRDaGlsZCh0aGlzLnVpTW9kYWwubm9kZSwgTWF0aC5tYXgoY29tc1tpXS5ub2RlLnpJbmRleC0xLCAwKSk7XG4gICAgICAgICAgICAgICAgdGhpcy51aU1vZGFsLmZpZCA9IGNvbXNbaV0uZmlkO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsKGNvbXNbaV0ubW9kYWxUeXBlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAgIFxuICAgIH1cbn1cblxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UISetting.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8384b6jqxlDuraR/lQRKE1C', 'UISetting');
// Script/UIScript/UISetting.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var AdapterMgr_1 = require("../UIFrame/AdapterMgr");
var CocosHelper_1 = require("../UIFrame/CocosHelper");
var SysDefine_1 = require("../UIFrame/config/SysDefine");
var FormMgr_1 = require("../UIFrame/FormMgr");
var Struct_1 = require("../UIFrame/Struct");
var UIForm_1 = require("../UIFrame/UIForm");
;
var UIConfig_1 = require("./../UIConfig");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UISetting = /** @class */ (function (_super) {
    __extends(UISetting, _super);
    function UISetting() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.modalType = new Struct_1.ModalType(SysDefine_1.ModalOpacity.OpacityHalf, true);
        return _this;
        // update (dt) {}
    }
    // onLoad () {}
    UISetting.prototype.start = function () {
        this.view.Pop.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UIPop);
            // FormMgr.open(UIConfig.UITips, "关闭后才显示的弹窗1", {showWait: true});
            // FormMgr.open(UIConfig.UITips, "关闭后才显示的弹窗2", {showWait: true})
        }, this);
        this.view.Mobx.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UIMobx);
        }, this);
        this.view.Capture.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UICapture);
        }, this);
        this.view.Light.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UILight);
        }, this);
    };
    UISetting.prototype.showEffect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        len = AdapterMgr_1.default.inst.visibleSize.height / 2 + 300;
                        this.node.y = len;
                        return [4 /*yield*/, CocosHelper_1.default.runTweenSync(this.node, cc.tween().to(0.5, { y: 0 }, cc.easeBackOut()))];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UISetting.prototype.hideEffect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var len;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        len = AdapterMgr_1.default.inst.visibleSize.height / 2 + 300;
                        this.node.y = 0;
                        return [4 /*yield*/, CocosHelper_1.default.runTweenSync(this.node, cc.tween().to(0.3, { y: len }, cc.easeBackIn()))];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UISetting = __decorate([
        ccclass
    ], UISetting);
    return UISetting;
}(UIForm_1.UIWindow));
exports.default = UISetting;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlTZXR0aW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLG9EQUErQztBQUMvQyxzREFBaUQ7QUFDakQseURBQTJEO0FBQzNELDhDQUF5QztBQUN6Qyw0Q0FBOEM7QUFDOUMsNENBQTZDO0FBQ0EsQ0FBQztBQUM5QywwQ0FBcUM7QUFFL0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVE7SUFBL0M7UUFBQSxxRUF5Q0M7UUF0Q0csZUFBUyxHQUFHLElBQUksa0JBQVMsQ0FBQyx3QkFBWSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQzs7UUFxQzFELGlCQUFpQjtJQUNyQixDQUFDO0lBcENHLGVBQWU7SUFFZix5QkFBSyxHQUFMO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO1lBQ25CLGlCQUFPLENBQUMsSUFBSSxDQUFDLGtCQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDN0IsaUVBQWlFO1lBQ2pFLGdFQUFnRTtRQUNwRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFVCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDcEIsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFVCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUM7WUFDdkIsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFVCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7WUFDckIsaUJBQU8sQ0FBQyxJQUFJLENBQUMsa0JBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNuQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUssOEJBQVUsR0FBaEI7Ozs7Ozt3QkFDUSxHQUFHLEdBQUcsb0JBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO3dCQUNyRCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7d0JBQ2xCLHFCQUFNLHFCQUFXLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDLEVBQUUsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsRUFBQTs7d0JBQXZGLFNBQXVGLENBQUM7Ozs7O0tBQzNGO0lBRUssOEJBQVUsR0FBaEI7Ozs7Ozt3QkFDUSxHQUFHLEdBQUcsb0JBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO3dCQUNyRCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ2hCLHFCQUFNLHFCQUFXLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBQyxDQUFDLEVBQUUsR0FBRyxFQUFDLEVBQUUsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsRUFBQTs7d0JBQXhGLFNBQXdGLENBQUM7Ozs7O0tBQzVGO0lBdENnQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBeUM3QjtJQUFELGdCQUFDO0NBekNELEFBeUNDLENBekNzQyxpQkFBUSxHQXlDOUM7a0JBekNvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJU2V0dGluZ19BdXRvIGZyb20gXCIuLi9BdXRvU2NyaXB0cy9VSVNldHRpbmdfQXV0b1wiO1xuaW1wb3J0IEFkYXB0ZXJNZ3IgZnJvbSBcIi4uL1VJRnJhbWUvQWRhcHRlck1nclwiO1xuaW1wb3J0IENvY29zSGVscGVyIGZyb20gXCIuLi9VSUZyYW1lL0NvY29zSGVscGVyXCI7XG5pbXBvcnQgeyBNb2RhbE9wYWNpdHkgfSBmcm9tIFwiLi4vVUlGcmFtZS9jb25maWcvU3lzRGVmaW5lXCI7XG5pbXBvcnQgRm9ybU1nciBmcm9tIFwiLi4vVUlGcmFtZS9Gb3JtTWdyXCI7XG5pbXBvcnQgeyBNb2RhbFR5cGUgfSBmcm9tIFwiLi4vVUlGcmFtZS9TdHJ1Y3RcIjtcbmltcG9ydCB7IFVJV2luZG93IH0gZnJvbSBcIi4uL1VJRnJhbWUvVUlGb3JtXCI7XG5pbXBvcnQgV2luZG93TWdyIGZyb20gXCIuLi9VSUZyYW1lL1dpbmRvd01nclwiOztcbmltcG9ydCBVSUNvbmZpZyBmcm9tIFwiLi8uLi9VSUNvbmZpZ1wiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJU2V0dGluZyBleHRlbmRzIFVJV2luZG93IHtcbiAgICB2aWV3OiBVSVNldHRpbmdfQXV0bztcblxuICAgIG1vZGFsVHlwZSA9IG5ldyBNb2RhbFR5cGUoTW9kYWxPcGFjaXR5Lk9wYWNpdHlIYWxmLCB0cnVlKTtcblxuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgc3RhcnQgKCkge1xuXG4gICAgICAgIHRoaXMudmlldy5Qb3AuYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgRm9ybU1nci5vcGVuKFVJQ29uZmlnLlVJUG9wKTtcbiAgICAgICAgICAgIC8vIEZvcm1NZ3Iub3BlbihVSUNvbmZpZy5VSVRpcHMsIFwi5YWz6Zet5ZCO5omN5pi+56S655qE5by556qXMVwiLCB7c2hvd1dhaXQ6IHRydWV9KTtcbiAgICAgICAgICAgIC8vIEZvcm1NZ3Iub3BlbihVSUNvbmZpZy5VSVRpcHMsIFwi5YWz6Zet5ZCO5omN5pi+56S655qE5by556qXMlwiLCB7c2hvd1dhaXQ6IHRydWV9KVxuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXcuTW9ieC5hZGRDbGljaygoKSA9PiB7XG4gICAgICAgICAgICBGb3JtTWdyLm9wZW4oVUlDb25maWcuVUlNb2J4KTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy52aWV3LkNhcHR1cmUuYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgRm9ybU1nci5vcGVuKFVJQ29uZmlnLlVJQ2FwdHVyZSk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlldy5MaWdodC5hZGRDbGljaygoKSA9PiB7XG4gICAgICAgICAgICBGb3JtTWdyLm9wZW4oVUlDb25maWcuVUlMaWdodCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuICAgIGFzeW5jIHNob3dFZmZlY3QoKSB7XG4gICAgICAgIGxldCBsZW4gPSBBZGFwdGVyTWdyLmluc3QudmlzaWJsZVNpemUuaGVpZ2h0LzIgKyAzMDA7XG4gICAgICAgIHRoaXMubm9kZS55ID0gbGVuO1xuICAgICAgICBhd2FpdCBDb2Nvc0hlbHBlci5ydW5Ud2VlblN5bmModGhpcy5ub2RlLCBjYy50d2VlbigpLnRvKDAuNSwge3k6IDB9LCBjYy5lYXNlQmFja091dCgpKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgaGlkZUVmZmVjdCgpIHtcbiAgICAgICAgbGV0IGxlbiA9IEFkYXB0ZXJNZ3IuaW5zdC52aXNpYmxlU2l6ZS5oZWlnaHQvMiArIDMwMDtcbiAgICAgICAgdGhpcy5ub2RlLnkgPSAwO1xuICAgICAgICBhd2FpdCBDb2Nvc0hlbHBlci5ydW5Ud2VlblN5bmModGhpcy5ub2RlLCBjYy50d2VlbigpLnRvKDAuMywge3k6IGxlbn0sIGNjLmVhc2VCYWNrSW4oKSkpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UISplitTexture.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7b812zUAqRCDKXwz6AOISUT', 'UISplitTexture');
// Script/UIScript/UISplitTexture.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var TexturePlus_1 = require("../Common/Components/TexturePlus");
var PolygonUtil_1 = require("../Common/Utils/PolygonUtil");
var UIForm_1 = require("../UIFrame/UIForm");
var FormMgr_1 = require("../UIFrame/FormMgr");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UISplitTexture = /** @class */ (function (_super) {
    __extends(UISplitTexture, _super);
    function UISplitTexture() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.textureRoot = null;
        _this.graphics = null;
        _this.pic = null;
        _this.textures = [];
        _this.startPoint = null;
        _this.endPoint = null;
        return _this;
    }
    UISplitTexture.prototype.start = function () {
        this.init();
        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this);
        this.graphics.node.x = -cc.visibleRect.width / 2;
        this.graphics.node.y = -cc.visibleRect.height / 2;
        this.view.Close.addClick(function () {
            FormMgr_1.default.backScene();
        }, this);
    };
    UISplitTexture.prototype.init = function () {
        var node = new cc.Node();
        var t = node.addComponent(TexturePlus_1.default);
        node.parent = this.textureRoot;
        t.texture = this.pic;
        this.textures.push(t);
    };
    UISplitTexture.prototype.onTouchStart = function (e) {
        this.startPoint = e.getLocation();
    };
    UISplitTexture.prototype.onTouchMove = function (e) {
        this.graphics.clear();
        this.graphics.moveTo(this.startPoint.x, this.startPoint.y);
        var p = e.getLocation();
        this.graphics.lineTo(p.x, p.y);
        this.graphics.stroke();
    };
    UISplitTexture.prototype.onTouchEnd = function (e) {
        this.graphics.clear();
        this.endPoint = e.getLocation();
        this.useLineCutPolygon(this.startPoint, this.endPoint);
    };
    UISplitTexture.prototype.doSplit = function () {
        var h = this.pic.height, w = this.pic.width;
        for (var i = 0; i < 15; i++) {
            var p0 = cc.v2(-(w / 2 + 10), (Math.random() * h) - h / 2);
            var p1 = cc.v2(w / 2 + 10, (Math.random() * h) - h / 2);
            this.useLineCutPolygon(p0, p1, false);
        }
        for (var i = 0; i < 15; i++) {
            var p0 = cc.v2(Math.random() * w - w / 2, -(h / 2 + 10));
            var p1 = cc.v2(Math.random() * w - w / 2, (h / 2 + 10));
            this.useLineCutPolygon(p0, p1, false);
        }
    };
    UISplitTexture.prototype.useLineCutPolygon = function (p0, p1, isWorld) {
        if (isWorld === void 0) { isWorld = true; }
        for (var i = this.textures.length - 1; i >= 0; i--) {
            var texture = this.textures[i];
            var pa = p0.clone();
            var pb = p1.clone();
            if (isWorld) {
                pa = texture.node.convertToNodeSpaceAR(p0);
                pb = texture.node.convertToNodeSpaceAR(p1);
            }
            var polygons = PolygonUtil_1.PolygonUtil.lineCutPolygon(pa, pb, texture.polygon);
            if (polygons.length <= 0)
                continue;
            this.splitTexture(texture, polygons);
        }
    };
    UISplitTexture.prototype.splitTexture = function (texture, polygons) {
        texture.polygon = polygons[0];
        for (var i = 1; i < polygons.length; i++) {
            var node = new cc.Node();
            var t = node.addComponent(TexturePlus_1.default);
            node.parent = this.textureRoot;
            node.setPosition(texture.node.position);
            t.texture = this.pic;
            t.polygon = polygons[i];
            this.textures.push(t);
        }
    };
    UISplitTexture.prototype.onClickFly = function () {
        for (var i = 0; i < this.textures.length; i++) {
            var center = this.getPolygonCenter(this.textures[i].polygon);
            var dir = center.normalize();
            cc.tween(this.textures[i].node).by(5, { x: dir.x * 500, y: dir.y * 500 }).start();
        }
    };
    UISplitTexture.prototype.onClickReset = function () {
        var _this = this;
        var _loop_1 = function (i) {
            var center = this_1.getPolygonCenter(this_1.textures[i].polygon);
            var dir = center.normalize();
            cc.tween(this_1.textures[i].node).by(5, { x: -dir.x * 500, y: -dir.y * 500 }).call(function () {
                if (i === _this.textures.length - 1) {
                    _this.textureRoot.destroyAllChildren();
                    _this.textureRoot.removeAllChildren();
                    _this.textures = [];
                    _this.init();
                }
            }).start();
        };
        var this_1 = this;
        for (var i = 0; i < this.textures.length; i++) {
            _loop_1(i);
        }
    };
    UISplitTexture.prototype.onFallDown = function () {
        for (var i = 0; i < this.textures.length; i++) {
            var center = this.getPolygonCenter(this.textures[i].polygon);
            cc.tween(this.textures[i].node).delay((center.y + this.pic.height) / this.pic.height).by(2, { y: -500 }, cc.easeCircleActionIn()).start();
        }
    };
    UISplitTexture.prototype.onResetFallDown = function () {
    };
    UISplitTexture.prototype.getPolygonCenter = function (polygon) {
        var x = 0, y = 0;
        for (var i = 0; i < polygon.length; i++) {
            x += polygon[i].x;
            y += polygon[i].y;
        }
        x = x / polygon.length;
        y = y / polygon.length;
        return cc.v2(x, y);
    };
    __decorate([
        property(cc.Node)
    ], UISplitTexture.prototype, "textureRoot", void 0);
    __decorate([
        property(cc.Graphics)
    ], UISplitTexture.prototype, "graphics", void 0);
    __decorate([
        property(cc.Texture2D)
    ], UISplitTexture.prototype, "pic", void 0);
    UISplitTexture = __decorate([
        ccclass
    ], UISplitTexture);
    return UISplitTexture;
}(UIForm_1.UIScreen));
exports.default = UISplitTexture;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlTcGxpdFRleHR1cmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0VBQTJEO0FBQzNELDJEQUEwRDtBQUMxRCw0Q0FBNkM7QUFFN0MsOENBQXlDO0FBRW5DLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTRDLGtDQUFRO0lBQXBEO1FBQUEscUVBNklDO1FBeklHLGlCQUFXLEdBQVksSUFBSSxDQUFDO1FBRTVCLGNBQVEsR0FBZ0IsSUFBSSxDQUFDO1FBRTdCLFNBQUcsR0FBaUIsSUFBSSxDQUFDO1FBRWpCLGNBQVEsR0FBa0IsRUFBRSxDQUFDO1FBQzdCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBQzNCLGNBQVEsR0FBWSxJQUFJLENBQUM7O0lBaUlyQyxDQUFDO0lBN0hHLDhCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFWixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyRSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FB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QUMsQ0FBQyxDQUFDLENBQUM7WUFDbEIsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDckI7UUFDRCxDQUFDLEdBQUcsQ0FBQyxHQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7UUFDckIsQ0FBQyxHQUFHLENBQUMsR0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQ3JCLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFDdEIsQ0FBQztJQXhJRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3VEQUNVO0lBRTVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7b0RBQ087SUFFN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQzsrQ0FDRTtJQVJSLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0E2SWxDO0lBQUQscUJBQUM7Q0E3SUQsQUE2SUMsQ0E3STJDLGlCQUFRLEdBNkluRDtrQkE3SW9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVGV4dHVyZVBsdXMgZnJvbSBcIi4uL0NvbW1vbi9Db21wb25lbnRzL1RleHR1cmVQbHVzXCI7XG5pbXBvcnQgeyBQb2x5Z29uVXRpbCB9IGZyb20gXCIuLi9Db21tb24vVXRpbHMvUG9seWdvblV0aWxcIjtcbmltcG9ydCB7IFVJU2NyZWVuIH0gZnJvbSBcIi4uL1VJRnJhbWUvVUlGb3JtXCI7XG5pbXBvcnQgVUlTcGxpdFRleHR1cmVfQXV0byBmcm9tIFwiLi4vQXV0b1NjcmlwdHMvVUlTcGxpdFRleHR1cmVfQXV0b1wiO1xuaW1wb3J0IEZvcm1NZ3IgZnJvbSBcIi4uL1VJRnJhbWUvRm9ybU1nclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJU3BsaXRUZXh0dXJlIGV4dGVuZHMgVUlTY3JlZW4ge1xuXG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICB0ZXh0dXJlUm9vdDogY2MuTm9kZSA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLkdyYXBoaWNzKVxuICAgIGdyYXBoaWNzOiBjYy5HcmFwaGljcyA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlRleHR1cmUyRClcbiAgICBwaWM6IGNjLlRleHR1cmUyRCA9IG51bGw7XG5cbiAgICBwcml2YXRlIHRleHR1cmVzOiBUZXh0dXJlUGx1c1tdID0gW107XG4gICAgcHJpdmF0ZSBzdGFydFBvaW50OiBjYy5WZWMyID0gbnVsbDtcbiAgICBwcml2YXRlIGVuZFBvaW50OiBjYy5WZWMyID0gbnVsbDtcblxuICAgIHZpZXc6IFVJU3BsaXRUZXh0dXJlX0F1dG87XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCB0aGlzLm9uVG91Y2hTdGFydCwgdGhpcyk7XG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFLCB0aGlzLm9uVG91Y2hNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vblRvdWNoRW5kLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy5vblRvdWNoRW5kLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmdyYXBoaWNzLm5vZGUueCA9IC1jYy52aXNpYmxlUmVjdC53aWR0aC8yO1xuICAgICAgICB0aGlzLmdyYXBoaWNzLm5vZGUueSA9IC1jYy52aXNpYmxlUmVjdC5oZWlnaHQvMjtcblxuICAgICAgICB0aGlzLnZpZXcuQ2xvc2UuYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgRm9ybU1nci5iYWNrU2NlbmUoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgbGV0IG5vZGUgPSBuZXcgY2MuTm9kZSgpO1xuICAgICAgICBsZXQgdCA9IG5vZGUuYWRkQ29tcG9uZW50KFRleHR1cmVQbHVzKTtcbiAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLnRleHR1cmVSb290O1xuICAgICAgICB0LnRleHR1cmUgPSB0aGlzLnBpYztcbiAgICAgICAgdGhpcy50ZXh0dXJlcy5wdXNoKHQpO1xuICAgIH1cbiAgICBvblRvdWNoU3RhcnQoZTogY2MuRXZlbnQuRXZlbnRUb3VjaCkge1xuICAgICAgICB0aGlzLnN0YXJ0UG9pbnQgPSBlLmdldExvY2F0aW9uKCk7XG4gICAgfVxuICAgIG9uVG91Y2hNb3ZlKGU6IGNjLkV2ZW50LkV2ZW50VG91Y2gpIHtcbiAgICAgICAgdGhpcy5ncmFwaGljcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmdyYXBoaWNzLm1vdmVUbyh0aGlzLnN0YXJ0UG9pbnQueCwgdGhpcy5zdGFydFBvaW50LnkpO1xuICAgICAgICBsZXQgcCA9IGUuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgdGhpcy5ncmFwaGljcy5saW5lVG8ocC54LCBwLnkpO1xuICAgICAgICB0aGlzLmdyYXBoaWNzLnN0cm9rZSgpO1xuICAgIH1cbiAgICBvblRvdWNoRW5kKGU6IGNjLkV2ZW50LkV2ZW50VG91Y2gpIHtcbiAgICAgICAgdGhpcy5ncmFwaGljcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmVuZFBvaW50ID0gZS5nZXRMb2NhdGlvbigpO1xuICAgICAgICB0aGlzLnVzZUxpbmVDdXRQb2x5Z29uKHRoaXMuc3RhcnRQb2ludCwgdGhpcy5lbmRQb2ludCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkb1NwbGl0KCkge1xuICAgICAgICBsZXQgaCA9IHRoaXMucGljLmhlaWdodCwgdyA9IHRoaXMucGljLndpZHRoO1xuICAgICAgICBmb3IobGV0IGk9MDsgaTwxNTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcDAgPSBjYy52MigtKHcvMisxMCksIChNYXRoLnJhbmRvbSgpICogaCktaC8yKTtcbiAgICAgICAgICAgIGxldCBwMSA9IGNjLnYyKHcvMisxMCwgKE1hdGgucmFuZG9tKCkgKiBoKS1oLzIpO1xuICAgICAgICAgICAgdGhpcy51c2VMaW5lQ3V0UG9seWdvbihwMCwgcDEsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPDE1OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwMCA9IGNjLnYyKE1hdGgucmFuZG9tKCkgKiB3IC0gdy8yLCAtKGgvMisxMCkpO1xuICAgICAgICAgICAgbGV0IHAxID0gY2MudjIoTWF0aC5yYW5kb20oKSAqIHcgLSB3LzIsIChoLzIrMTApKTtcbiAgICAgICAgICAgIHRoaXMudXNlTGluZUN1dFBvbHlnb24ocDAsIHAxLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVzZUxpbmVDdXRQb2x5Z29uKHAwOiBjYy5WZWMyLCBwMTogY2MuVmVjMiwgaXNXb3JsZCA9IHRydWUpIHtcbiAgICAgICAgZm9yKGxldCBpPXRoaXMudGV4dHVyZXMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHRleHR1cmUgPSB0aGlzLnRleHR1cmVzW2ldO1xuICAgICAgICAgICAgbGV0IHBhID0gcDAuY2xvbmUoKTtcbiAgICAgICAgICAgIGxldCBwYiA9IHAxLmNsb25lKCk7XG4gICAgICAgICAgICBpZihpc1dvcmxkKSB7XG4gICAgICAgICAgICAgICAgcGEgPSB0ZXh0dXJlLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocDApO1xuICAgICAgICAgICAgICAgIHBiID0gdGV4dHVyZS5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKHAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwb2x5Z29ucyA9IFBvbHlnb25VdGlsLmxpbmVDdXRQb2x5Z29uKHBhLCBwYiwgdGV4dHVyZS5wb2x5Z29uKTtcbiAgICAgICAgICAgIGlmKHBvbHlnb25zLmxlbmd0aCA8PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMuc3BsaXRUZXh0dXJlKHRleHR1cmUsIHBvbHlnb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3BsaXRUZXh0dXJlKHRleHR1cmU6IFRleHR1cmVQbHVzLCBwb2x5Z29uczogY2MuVmVjMltdW10pIHtcbiAgICAgICAgdGV4dHVyZS5wb2x5Z29uID0gcG9seWdvbnNbMF07XG4gICAgICAgIGZvcihsZXQgaT0xOyBpPHBvbHlnb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IG5ldyBjYy5Ob2RlKCk7XG4gICAgICAgICAgICBsZXQgdCA9IG5vZGUuYWRkQ29tcG9uZW50KFRleHR1cmVQbHVzKTtcbiAgICAgICAgICAgIG5vZGUucGFyZW50ID0gdGhpcy50ZXh0dXJlUm9vdDtcbiAgICAgICAgICAgIG5vZGUuc2V0UG9zaXRpb24odGV4dHVyZS5ub2RlLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIHQudGV4dHVyZSA9IHRoaXMucGljO1xuICAgICAgICAgICAgdC5wb2x5Z29uID0gcG9seWdvbnNbaV07XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzLnB1c2godCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNsaWNrRmx5KCkge1xuICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLnRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5nZXRQb2x5Z29uQ2VudGVyKHRoaXMudGV4dHVyZXNbaV0ucG9seWdvbik7XG4gICAgICAgICAgICBsZXQgZGlyID0gY2VudGVyLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgY2MudHdlZW4odGhpcy50ZXh0dXJlc1tpXS5ub2RlKS5ieSg1LCB7eDogZGlyLnggKiA1MDAsIHk6IGRpci55ICogNTAwfSkuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2xpY2tSZXNldCgpIHtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy50ZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNlbnRlciA9IHRoaXMuZ2V0UG9seWdvbkNlbnRlcih0aGlzLnRleHR1cmVzW2ldLnBvbHlnb24pO1xuICAgICAgICAgICAgbGV0IGRpciA9IGNlbnRlci5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIGNjLnR3ZWVuKHRoaXMudGV4dHVyZXNbaV0ubm9kZSkuYnkoNSwge3g6IC1kaXIueCAqIDUwMCwgeTogLWRpci55ICogNTAwfSkuY2FsbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoaSA9PT0gdGhpcy50ZXh0dXJlcy5sZW5ndGgtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVSb290LmRlc3Ryb3lBbGxDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVSb290LnJlbW92ZUFsbENoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuc3RhcnQoKTtcbiAgICAgICAgfSAgIFxuICAgIH1cblxuICAgIG9uRmFsbERvd24oKSB7XG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMudGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjZW50ZXIgPSB0aGlzLmdldFBvbHlnb25DZW50ZXIodGhpcy50ZXh0dXJlc1tpXS5wb2x5Z29uKTtcbiAgICAgICAgICAgIGNjLnR3ZWVuKHRoaXMudGV4dHVyZXNbaV0ubm9kZSkuZGVsYXkoKGNlbnRlci55ICsgdGhpcy5waWMuaGVpZ2h0KS90aGlzLnBpYy5oZWlnaHQpLmJ5KDIsIHt5OiAtNTAwfSwgY2MuZWFzZUNpcmNsZUFjdGlvbkluKCkpLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25SZXNldEZhbGxEb3duKCkge1xuICAgICAgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFBvbHlnb25DZW50ZXIocG9seWdvbjogY2MuVmVjMltdKSB7XG4gICAgICAgIGxldCB4ID0gMCwgeSA9IDA7XG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHBvbHlnb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHggKz0gcG9seWdvbltpXS54O1xuICAgICAgICAgICAgeSArPSBwb2x5Z29uW2ldLnk7XG4gICAgICAgIH1cbiAgICAgICAgeCA9IHgvcG9seWdvbi5sZW5ndGg7XG4gICAgICAgIHkgPSB5L3BvbHlnb24ubGVuZ3RoO1xuICAgICAgICByZXR1cm4gY2MudjIoeCwgeSlcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/test/Item.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '53cebnLrQVNLaKgdj5qGYQV', 'Item');
// Script/test/Item.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Item = /** @class */ (function (_super) {
    __extends(Item, _super);
    function Item() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // onLoad () {}
    Item.prototype.start = function () {
        var _this = this;
        this.node.on(cc.Node.EventType.TOUCH_MOVE, function (e) {
            _this.node.x += e.getDeltaX();
            _this.node.y += e.getDeltaY();
        }, this);
    };
    Item = __decorate([
        ccclass
    ], Item);
    return Item;
}(cc.Component));
exports.default = Item;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvdGVzdC9JdGVtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtDLHdCQUFZO0lBQTlDOztJQWNBLENBQUM7SUFWRyxlQUFlO0lBRWYsb0JBQUssR0FBTDtRQUFBLGlCQUtDO1FBSkcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQUMsQ0FBc0I7WUFDOUQsS0FBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQzdCLEtBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNqQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDYixDQUFDO0lBWGdCLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0FjeEI7SUFBRCxXQUFDO0NBZEQsQUFjQyxDQWRpQyxFQUFFLENBQUMsU0FBUyxHQWM3QztrQkFkb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJdGVtIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIFxuXG4gICAgLy8gb25Mb2FkICgpIHt9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFLCAoZTogY2MuRXZlbnQuRXZlbnRUb3VjaCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub2RlLnggKz0gZS5nZXREZWx0YVgoKTtcbiAgICAgICAgICAgIHRoaXMubm9kZS55ICs9IGUuZ2V0RGVsdGFZKCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UITips.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ff954WkF+tGYpoJLOVBFST0', 'UITips');
// Script/UIScript/UITips.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SysDefine_1 = require("../UIFrame/config/SysDefine");
var Struct_1 = require("../UIFrame/Struct");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UITips = /** @class */ (function (_super) {
    __extends(UITips, _super);
    function UITips() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.modalType = new Struct_1.ModalType(SysDefine_1.ModalOpacity.OpacityHalf, true);
        return _this;
        // update (dt) {}
    }
    // onLoad () {}
    UITips.prototype.start = function () {
    };
    UITips.prototype.onShow = function (str) {
        this.view.Tips.string = str;
    };
    UITips = __decorate([
        ccclass
    ], UITips);
    return UITips;
}(UIForm_1.UIWindow));
exports.default = UITips;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlUaXBzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLHlEQUEyRDtBQUMzRCw0Q0FBOEM7QUFDOUMsNENBQTZDO0FBRXZDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQW9DLDBCQUFRO0lBQTVDO1FBQUEscUVBa0JDO1FBaEJHLGVBQVMsR0FBRyxJQUFJLGtCQUFTLENBQUMsd0JBQVksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7O1FBZTFELGlCQUFpQjtJQUNyQixDQUFDO0lBWEcsZUFBZTtJQUVmLHNCQUFLLEdBQUw7SUFFQSxDQUFDO0lBRUQsdUJBQU0sR0FBTixVQUFPLEdBQVc7UUFDZCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ2hDLENBQUM7SUFmZ0IsTUFBTTtRQUQxQixPQUFPO09BQ2EsTUFBTSxDQWtCMUI7SUFBRCxhQUFDO0NBbEJELEFBa0JDLENBbEJtQyxpQkFBUSxHQWtCM0M7a0JBbEJvQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVJVGlwc19BdXRvIGZyb20gXCIuLi9BdXRvU2NyaXB0cy9VSVRpcHNfQXV0b1wiO1xuaW1wb3J0IHsgTW9kYWxPcGFjaXR5IH0gZnJvbSBcIi4uL1VJRnJhbWUvY29uZmlnL1N5c0RlZmluZVwiO1xuaW1wb3J0IHsgTW9kYWxUeXBlIH0gZnJvbSBcIi4uL1VJRnJhbWUvU3RydWN0XCI7XG5pbXBvcnQgeyBVSVdpbmRvdyB9IGZyb20gXCIuLi9VSUZyYW1lL1VJRm9ybVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJVGlwcyBleHRlbmRzIFVJV2luZG93IHtcblxuICAgIG1vZGFsVHlwZSA9IG5ldyBNb2RhbFR5cGUoTW9kYWxPcGFjaXR5Lk9wYWNpdHlIYWxmLCB0cnVlKTtcblxuICAgIHZpZXc6IFVJVGlwc19BdXRvO1xuICAgIFxuXG4gICAgLy8gb25Mb2FkICgpIHt9XG5cbiAgICBzdGFydCAoKSB7XG5cbiAgICB9XG5cbiAgICBvblNob3coc3RyOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy52aWV3LlRpcHMuc3RyaW5nID0gc3RyO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIAbout.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '573a6vNZF1O7raeu9W+SfEO', 'UIAbout');
// Script/UIScript/UIAbout.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIAbout = /** @class */ (function (_super) {
    __extends(UIAbout, _super);
    function UIAbout() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    UIAbout.prototype.start = function () {
        this.view.Close.addClick(function () {
            FormMgr_1.default.backScene();
        }, this);
    };
    UIAbout = __decorate([
        ccclass
    ], UIAbout);
    return UIAbout;
}(UIForm_1.UIScreen));
exports.default = UIAbout;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlBYm91dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSw4Q0FBeUM7QUFDekMsNENBQTZDO0FBRXZDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXFDLDJCQUFRO0lBQTdDOztJQWVBLENBQUM7SUFYRyx3QkFBd0I7SUFFeEIsZUFBZTtJQUVmLHVCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7WUFDckIsaUJBQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUN4QixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDYixDQUFDO0lBWmdCLE9BQU87UUFEM0IsT0FBTztPQUNhLE9BQU8sQ0FlM0I7SUFBRCxjQUFDO0NBZkQsQUFlQyxDQWZvQyxpQkFBUSxHQWU1QztrQkFmb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVSUFib3V0X0F1dG8gZnJvbSBcIi4uL0F1dG9TY3JpcHRzL1VJQWJvdXRfQXV0b1wiO1xuaW1wb3J0IEZvcm1NZ3IgZnJvbSBcIi4uL1VJRnJhbWUvRm9ybU1nclwiO1xuaW1wb3J0IHsgVUlTY3JlZW4gfSBmcm9tIFwiLi4vVUlGcmFtZS9VSUZvcm1cIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUFib3V0IGV4dGVuZHMgVUlTY3JlZW4ge1xuXG4gICAgdmlldzogVUlBYm91dF9BdXRvO1xuXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XG5cbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy52aWV3LkNsb3NlLmFkZENsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIEZvcm1NZ3IuYmFja1NjZW5lKCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIWave.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '80a09Nx+l9II75ZmMkvlSAs', 'UIWave');
// Script/UIScript/UIWave.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIWave = /** @class */ (function (_super) {
    __extends(UIWave, _super);
    function UIWave() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.polygonCollider = null;
        return _this;
        // update (dt) {}
    }
    // onLoad () {}
    UIWave.prototype.start = function () {
        this.polygonCollider.points = [];
    };
    __decorate([
        property(cc.PhysicsPolygonCollider)
    ], UIWave.prototype, "polygonCollider", void 0);
    UIWave = __decorate([
        ccclass
    ], UIWave);
    return UIWave;
}(cc.Component));
exports.default = UIWave;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlXYXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQW9DLDBCQUFZO0lBQWhEO1FBQUEscUVBWUM7UUFWd0MscUJBQWUsR0FBOEIsSUFBSSxDQUFDOztRQVN2RixpQkFBaUI7SUFDckIsQ0FBQztJQVBHLGVBQWU7SUFFZixzQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFBO0lBQ3BDLENBQUM7SUFQb0M7UUFBcEMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxzQkFBc0IsQ0FBQzttREFBbUQ7SUFGdEUsTUFBTTtRQUQxQixPQUFPO09BQ2EsTUFBTSxDQVkxQjtJQUFELGFBQUM7Q0FaRCxBQVlDLENBWm1DLEVBQUUsQ0FBQyxTQUFTLEdBWS9DO2tCQVpvQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSVdhdmUgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLlBoeXNpY3NQb2x5Z29uQ29sbGlkZXIpIHBvbHlnb25Db2xsaWRlcjogY2MuUGh5c2ljc1BvbHlnb25Db2xsaWRlciA9IG51bGw7XG4gICAgXG5cbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy5wb2x5Z29uQ29sbGlkZXIucG9pbnRzID0gW11cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'da248zQUHNGAYyaJMo+rhIL', 'UIConfig');
// Script/UIConfig.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UIConfig = /** @class */ (function () {
    function UIConfig() {
    }
    UIConfig.UIFunction = {
        prefabUrl: "Forms/Fixed/UIFunction",
        type: "UIFixed"
    };
    UIConfig.UISound = {
        prefabUrl: "Forms/Fixed/UISound",
        type: "UIFixed"
    };
    UIConfig.UIAbout = {
        prefabUrl: "Forms/Screen/UIAbout",
        type: "UIScreen"
    };
    UIConfig.UICapture = {
        prefabUrl: "Forms/Screen/UICapture",
        type: "UIScreen"
    };
    UIConfig.UIDungeon = {
        prefabUrl: "Forms/Screen/UIDungeon",
        type: "UIScreen"
    };
    UIConfig.UIECSView = {
        prefabUrl: "Forms/Screen/UIECSView",
        type: "UIScreen"
    };
    UIConfig.UIGame = {
        prefabUrl: "Forms/Screen/UIGame",
        type: "UIScreen"
    };
    UIConfig.UIHome = {
        prefabUrl: "Forms/Screen/UIHome",
        type: "UIScreen"
    };
    UIConfig.UILight = {
        prefabUrl: "Forms/Screen/UILight",
        type: "UIScreen"
    };
    UIConfig.UIMap = {
        prefabUrl: "Forms/Screen/UIMap",
        type: "UIScreen"
    };
    UIConfig.UIMeshTexture = {
        prefabUrl: "Forms/Screen/UIMeshTexture",
        type: "UIScreen"
    };
    UIConfig.UINavigator = {
        prefabUrl: "Forms/Screen/UINavigator",
        type: "UIScreen"
    };
    UIConfig.UIScrollTexture = {
        prefabUrl: "Forms/Screen/UIScrollTexture",
        type: "UIScreen"
    };
    UIConfig.UISplitTexture = {
        prefabUrl: "Forms/Screen/UISplitTexture",
        type: "UIScreen"
    };
    UIConfig.UILoading = {
        prefabUrl: "Forms/Tips/UILoading",
        type: "UITips"
    };
    UIConfig.UIMobx = {
        prefabUrl: "Forms/Windows/UIMobx",
        type: "UIWindow"
    };
    UIConfig.UIPop = {
        prefabUrl: "Forms/Windows/UIPop",
        type: "UIWindow"
    };
    UIConfig.UIScrollPlus = {
        prefabUrl: "Forms/Windows/UIScrollPlus",
        type: "UIWindow"
    };
    UIConfig.UISetting = {
        prefabUrl: "Forms/Windows/UISetting",
        type: "UIWindow"
    };
    UIConfig.UISkills = {
        prefabUrl: "Forms/Windows/UISkills",
        type: "UIWindow"
    };
    UIConfig.UITips = {
        prefabUrl: "Forms/Windows/UITips",
        type: "UIWindow"
    };
    return UIConfig;
}());
exports.default = UIConfig;
cc.game.on(cc.game.EVENT_GAME_INITED, function () {
    for (var key in UIConfig) {
        var constourt = cc.js.getClassByName(key);
        if (constourt)
            constourt['UIConfig'] = UIConfig[key];
    }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlDb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtJQUFBO0lBc0ZBLENBQUM7SUFyRlUsbUJBQVUsR0FBRztRQUNoQixTQUFTLEVBQUUsd0JBQXdCO1FBQ25DLElBQUksRUFBRSxTQUFTO0tBQ2xCLENBQUE7SUFDTSxnQkFBTyxHQUFHO1FBQ2IsU0FBUyxFQUFFLHFCQUFxQjtRQUNoQyxJQUFJLEVBQUUsU0FBUztLQUNsQixDQUFBO0lBQ00sZ0JBQU8sR0FBRztRQUNiLFNBQVMsRUFBRSxzQkFBc0I7UUFDakMsSUFBSSxFQUFFLFVBQVU7S0FDbkIsQ0FBQTtJQUNNLGtCQUFTLEdBQUc7UUFDZixTQUFTLEVBQUUsd0JBQXdCO1FBQ25DLElBQUksRUFBRSxVQUFVO0tBQ25CLENBQUE7SUFDTSxrQkFBUyxHQUFHO1FBQ2YsU0FBUyxFQUFFLHdCQUF3QjtRQUNuQyxJQUFJLEVBQUUsVUFBVTtLQUNuQixDQUFBO0lBQ00sa0JBQVMsR0FBRztRQUNmLFNBQVMsRUFBRSx3QkFBd0I7UUFDbkMsSUFBSSxFQUFFLFVBQVU7S0FDbkIsQ0FBQTtJQUNNLGVBQU0sR0FBRztRQUNaLFNBQVMsRUFBRSxxQkFBcUI7UUFDaEMsSUFBSSxFQUFFLFVBQVU7S0FDbkIsQ0FBQTtJQUNNLGVBQU0sR0FBRztRQUNaLFNBQVMsRUFBRSxxQkFBcUI7UUFDaEMsSUFBSSxFQUFFLFVBQVU7S0FDbkIsQ0FBQTtJQUNNLGdCQUFPLEdBQUc7UUFDYixTQUFTLEVBQUUsc0JBQXNCO1FBQ2pDLElBQUksRUFBRSxVQUFVO0tBQ25CLENBQUE7SUFDTSxjQUFLLEdBQUc7UUFDWCxTQUFTLEVBQUUsb0JBQW9CO1FBQy9CLElBQUksRUFBRSxVQUFVO0tBQ25CLENBQUE7SUFDTSxzQkFBYSxHQUFHO1FBQ25CLFNBQVMsRUFBRSw0QkFBNEI7UUFDdkMsSUFBSSxFQUFFLFVBQVU7S0FDbkIsQ0FBQTtJQUNNLG9CQUFXLEdBQUc7UUFDakIsU0FBUyxFQUFFLDBCQUEwQjtRQUNyQyxJQUFJLEVBQUUsVUFBVTtLQUNuQixDQUFBO0lBQ00sd0JBQWUsR0FBRztRQUNyQixTQUFTLEVBQUUsOEJBQThCO1FBQ3pDLElBQUksRUFBRSxVQUFVO0tBQ25CLENBQUE7SUFDTSx1QkFBYyxHQUFHO1FBQ3BCLFNBQVMsRUFBRSw2QkFBNkI7UUFDeEMsSUFBSSxFQUFFLFVBQVU7S0FDbkIsQ0FBQTtJQUNNLGtCQUFTLEdBQUc7UUFDZixTQUFTLEVBQUUsc0JBQXNCO1FBQ2pDLElBQUksRUFBRSxRQUFRO0tBQ2pCLENBQUE7SUFDTSxlQUFNLEdBQUc7UUFDWixTQUFTLEVBQUUsc0JBQXNCO1FBQ2pDLElBQUksRUFBRSxVQUFVO0tBQ25CLENBQUE7SUFDTSxjQUFLLEdBQUc7UUFDWCxTQUFTLEVBQUUscUJBQXFCO1FBQ2hDLElBQUksRUFBRSxVQUFVO0tBQ25CLENBQUE7SUFDTSxxQkFBWSxHQUFHO1FBQ2xCLFNBQVMsRUFBRSw0QkFBNEI7UUFDdkMsSUFBSSxFQUFFLFVBQVU7S0FDbkIsQ0FBQTtJQUNNLGtCQUFTLEdBQUc7UUFDZixTQUFTLEVBQUUseUJBQXlCO1FBQ3BDLElBQUksRUFBRSxVQUFVO0tBQ25CLENBQUE7SUFDTSxpQkFBUSxHQUFHO1FBQ2QsU0FBUyxFQUFFLHdCQUF3QjtRQUNuQyxJQUFJLEVBQUUsVUFBVTtLQUNuQixDQUFBO0lBQ00sZUFBTSxHQUFHO1FBQ1osU0FBUyxFQUFFLHNCQUFzQjtRQUNqQyxJQUFJLEVBQUUsVUFBVTtLQUNuQixDQUFBO0lBRUwsZUFBQztDQXRGRCxBQXNGQyxJQUFBO2tCQXRGb0IsUUFBUTtBQXVGN0IsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtJQUNsQyxLQUFJLElBQU0sR0FBRyxJQUFJLFFBQVEsRUFBRTtRQUN2QixJQUFJLFNBQVMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQyxJQUFHLFNBQVM7WUFBRSxTQUFTLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3ZEO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJQ29uZmlnIHtcbiAgICBzdGF0aWMgVUlGdW5jdGlvbiA9IHtcbiAgICAgICAgcHJlZmFiVXJsOiBcIkZvcm1zL0ZpeGVkL1VJRnVuY3Rpb25cIixcbiAgICAgICAgdHlwZTogXCJVSUZpeGVkXCJcbiAgICB9XG4gICAgc3RhdGljIFVJU291bmQgPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9GaXhlZC9VSVNvdW5kXCIsXG4gICAgICAgIHR5cGU6IFwiVUlGaXhlZFwiXG4gICAgfVxuICAgIHN0YXRpYyBVSUFib3V0ID0ge1xuICAgICAgICBwcmVmYWJVcmw6IFwiRm9ybXMvU2NyZWVuL1VJQWJvdXRcIixcbiAgICAgICAgdHlwZTogXCJVSVNjcmVlblwiXG4gICAgfVxuICAgIHN0YXRpYyBVSUNhcHR1cmUgPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9TY3JlZW4vVUlDYXB0dXJlXCIsXG4gICAgICAgIHR5cGU6IFwiVUlTY3JlZW5cIlxuICAgIH1cbiAgICBzdGF0aWMgVUlEdW5nZW9uID0ge1xuICAgICAgICBwcmVmYWJVcmw6IFwiRm9ybXMvU2NyZWVuL1VJRHVuZ2VvblwiLFxuICAgICAgICB0eXBlOiBcIlVJU2NyZWVuXCJcbiAgICB9XG4gICAgc3RhdGljIFVJRUNTVmlldyA9IHtcbiAgICAgICAgcHJlZmFiVXJsOiBcIkZvcm1zL1NjcmVlbi9VSUVDU1ZpZXdcIixcbiAgICAgICAgdHlwZTogXCJVSVNjcmVlblwiXG4gICAgfVxuICAgIHN0YXRpYyBVSUdhbWUgPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9TY3JlZW4vVUlHYW1lXCIsXG4gICAgICAgIHR5cGU6IFwiVUlTY3JlZW5cIlxuICAgIH1cbiAgICBzdGF0aWMgVUlIb21lID0ge1xuICAgICAgICBwcmVmYWJVcmw6IFwiRm9ybXMvU2NyZWVuL1VJSG9tZVwiLFxuICAgICAgICB0eXBlOiBcIlVJU2NyZWVuXCJcbiAgICB9XG4gICAgc3RhdGljIFVJTGlnaHQgPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9TY3JlZW4vVUlMaWdodFwiLFxuICAgICAgICB0eXBlOiBcIlVJU2NyZWVuXCJcbiAgICB9XG4gICAgc3RhdGljIFVJTWFwID0ge1xuICAgICAgICBwcmVmYWJVcmw6IFwiRm9ybXMvU2NyZWVuL1VJTWFwXCIsXG4gICAgICAgIHR5cGU6IFwiVUlTY3JlZW5cIlxuICAgIH1cbiAgICBzdGF0aWMgVUlNZXNoVGV4dHVyZSA9IHtcbiAgICAgICAgcHJlZmFiVXJsOiBcIkZvcm1zL1NjcmVlbi9VSU1lc2hUZXh0dXJlXCIsXG4gICAgICAgIHR5cGU6IFwiVUlTY3JlZW5cIlxuICAgIH1cbiAgICBzdGF0aWMgVUlOYXZpZ2F0b3IgPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9TY3JlZW4vVUlOYXZpZ2F0b3JcIixcbiAgICAgICAgdHlwZTogXCJVSVNjcmVlblwiXG4gICAgfVxuICAgIHN0YXRpYyBVSVNjcm9sbFRleHR1cmUgPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9TY3JlZW4vVUlTY3JvbGxUZXh0dXJlXCIsXG4gICAgICAgIHR5cGU6IFwiVUlTY3JlZW5cIlxuICAgIH1cbiAgICBzdGF0aWMgVUlTcGxpdFRleHR1cmUgPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9TY3JlZW4vVUlTcGxpdFRleHR1cmVcIixcbiAgICAgICAgdHlwZTogXCJVSVNjcmVlblwiXG4gICAgfVxuICAgIHN0YXRpYyBVSUxvYWRpbmcgPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9UaXBzL1VJTG9hZGluZ1wiLFxuICAgICAgICB0eXBlOiBcIlVJVGlwc1wiXG4gICAgfVxuICAgIHN0YXRpYyBVSU1vYnggPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9XaW5kb3dzL1VJTW9ieFwiLFxuICAgICAgICB0eXBlOiBcIlVJV2luZG93XCJcbiAgICB9XG4gICAgc3RhdGljIFVJUG9wID0ge1xuICAgICAgICBwcmVmYWJVcmw6IFwiRm9ybXMvV2luZG93cy9VSVBvcFwiLFxuICAgICAgICB0eXBlOiBcIlVJV2luZG93XCJcbiAgICB9XG4gICAgc3RhdGljIFVJU2Nyb2xsUGx1cyA9IHtcbiAgICAgICAgcHJlZmFiVXJsOiBcIkZvcm1zL1dpbmRvd3MvVUlTY3JvbGxQbHVzXCIsXG4gICAgICAgIHR5cGU6IFwiVUlXaW5kb3dcIlxuICAgIH1cbiAgICBzdGF0aWMgVUlTZXR0aW5nID0ge1xuICAgICAgICBwcmVmYWJVcmw6IFwiRm9ybXMvV2luZG93cy9VSVNldHRpbmdcIixcbiAgICAgICAgdHlwZTogXCJVSVdpbmRvd1wiXG4gICAgfVxuICAgIHN0YXRpYyBVSVNraWxscyA9IHtcbiAgICAgICAgcHJlZmFiVXJsOiBcIkZvcm1zL1dpbmRvd3MvVUlTa2lsbHNcIixcbiAgICAgICAgdHlwZTogXCJVSVdpbmRvd1wiXG4gICAgfVxuICAgIHN0YXRpYyBVSVRpcHMgPSB7XG4gICAgICAgIHByZWZhYlVybDogXCJGb3Jtcy9XaW5kb3dzL1VJVGlwc1wiLFxuICAgICAgICB0eXBlOiBcIlVJV2luZG93XCJcbiAgICB9XG4gICAgXG59XG5jYy5nYW1lLm9uKGNjLmdhbWUuRVZFTlRfR0FNRV9JTklURUQsICgpID0+IHtcbiAgICBmb3IoY29uc3Qga2V5IGluIFVJQ29uZmlnKSB7XG4gICAgICAgIGxldCBjb25zdG91cnQgPSBjYy5qcy5nZXRDbGFzc0J5TmFtZShrZXkpO1xuICAgICAgICBpZihjb25zdG91cnQpIGNvbnN0b3VydFsnVUlDb25maWcnXSA9IFVJQ29uZmlnW2tleV07XG4gICAgfVxufSk7XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIGame.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '229db7NNuRBFL06xiDLurpB', 'UIGame');
// Script/UIScript/UIGame.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var GuideConfig_1 = require("../config/GuideConfig");
var UIConfig_1 = require("../UIConfig");
var FormMgr_1 = require("../UIFrame/FormMgr");
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIGame = /** @class */ (function (_super) {
    __extends(UIGame, _super);
    function UIGame() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // onLoad () {}
    UIGame.prototype.start = function () {
        this.view.Back.addClick(function () {
            FormMgr_1.default.backScene();
        }, this);
        this.view.toMap.addClick(function () {
            FormMgr_1.default.open(UIConfig_1.default.UIECSView);
        }, this);
        this.view.GuideNode.addClick(this.onBtnGuide.bind(this), this);
        this.onBtnGuide();
        for (var index = 1; index < 14; index++) {
            // const element = array[index];
            var key = "jianzhu";
            if (index < 10) {
                key = key + "0" + index;
            }
            else {
                key = key + index;
            }
            var ksp = cc.sys.localStorage.getItem(key);
            var sp = this.view.items.getChildByName(key);
            if (ksp == null) {
                sp.getComponent(cc.Sprite).enabled = false;
            }
            else {
                sp.getComponent(cc.Sprite).enabled = true;
            }
        }
    };
    UIGame.prototype.onBtnGuide = function () {
        var guideIdx = cc.sys.localStorage.getItem("guidxIdx");
        if (guideIdx == null) {
            cc.sys.localStorage.setItem("guidxIdx", 0);
            guideIdx = 0;
        }
        var txt = GuideConfig_1.GuideConfig[Number(guideIdx)];
        if (txt != null) {
            this.view.LblTip.string = txt;
            ++guideIdx;
            cc.sys.localStorage.setItem("guidxIdx", guideIdx);
        }
        else {
            this.view.guidNode.active = false;
        }
    };
    UIGame.prototype.onBuildItem = function (ev, dat) {
        var _this = this;
        var target = ev.target;
        // console.log(target)
        var key = target.name;
        var ksp = cc.sys.localStorage.getItem(key);
        if (ksp == null) {
            this.view.buldtool.active = true;
            this.view.buldtool.position = target.position;
            this.view.buldtool.getComponent(cc.Animation).play();
            cc.tween(this.node)
                .delay(1.5)
                .call(function () {
                _this.view.buldtool.active = false;
                target.getComponent(cc.Sprite).enabled = true;
                cc.sys.localStorage.setItem(key, 1);
            }).start();
        }
    };
    UIGame = __decorate([
        ccclass
    ], UIGame);
    return UIGame;
}(UIForm_1.UIScreen));
exports.default = UIGame;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlHYW1lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLHFEQUFvRDtBQUNwRCx3Q0FBbUM7QUFDbkMsOENBQXlDO0FBQ3pDLDRDQUE2QztBQUV2QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFvQywwQkFBUTtJQUE1Qzs7SUEwRUEsQ0FBQztJQXRFRyxlQUFlO0lBRWYsc0JBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNwQixpQkFBTyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3hCLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVULElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQztZQUNyQixpQkFBTyxDQUFDLElBQUksQ0FBQyxrQkFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3JDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUdULElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFHbEIsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUNyQyxnQ0FBZ0M7WUFDaEMsSUFBSSxHQUFHLEdBQUcsU0FBUyxDQUFBO1lBQ25CLElBQUcsS0FBSyxHQUFDLEVBQUUsRUFBQztnQkFDUixHQUFHLEdBQUcsR0FBRyxHQUFDLEdBQUcsR0FBQyxLQUFLLENBQUE7YUFDdEI7aUJBQUk7Z0JBQ0QsR0FBRyxHQUFHLEdBQUcs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QztrQkExRW9CLE1BQU0iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlHYW1lX0F1dG8gZnJvbSBcIi4uL0F1dG9TY3JpcHRzL1VJR2FtZV9BdXRvXCI7XG5pbXBvcnQgeyBHdWlkZUNvbmZpZyB9IGZyb20gXCIuLi9jb25maWcvR3VpZGVDb25maWdcIjtcbmltcG9ydCBVSUNvbmZpZyBmcm9tIFwiLi4vVUlDb25maWdcIjtcbmltcG9ydCBGb3JtTWdyIGZyb20gXCIuLi9VSUZyYW1lL0Zvcm1NZ3JcIjtcbmltcG9ydCB7IFVJU2NyZWVuIH0gZnJvbSBcIi4uL1VJRnJhbWUvVUlGb3JtXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlHYW1lIGV4dGVuZHMgVUlTY3JlZW4ge1xuXG5cbiAgICB2aWV3OiBVSUdhbWVfQXV0bztcbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy52aWV3LkJhY2suYWRkQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgRm9ybU1nci5iYWNrU2NlbmUoKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy52aWV3LnRvTWFwLmFkZENsaWNrKCgpID0+IHtcbiAgICAgICAgICAgIEZvcm1NZ3Iub3BlbihVSUNvbmZpZy5VSUVDU1ZpZXcpO1xuICAgICAgICB9LCB0aGlzKTtcblxuXG4gICAgICAgIHRoaXMudmlldy5HdWlkZU5vZGUuYWRkQ2xpY2sodGhpcy5vbkJ0bkd1aWRlLmJpbmQodGhpcyksdGhpcyk7XG4gICAgICAgIHRoaXMub25CdG5HdWlkZSgpOyBcblxuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPCAxNDsgaW5kZXgrKykge1xuICAgICAgICAgICAgLy8gY29uc3QgZWxlbWVudCA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgICAgIGxldCBrZXkgPSBcImppYW56aHVcIlxuICAgICAgICAgICAgaWYoaW5kZXg8MTApe1xuICAgICAgICAgICAgICAgIGtleSA9IGtleStcIjBcIitpbmRleFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAga2V5ID0ga2V5K2luZGV4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQga3NwID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSlcbiAgICAgICAgICAgIGxldCBzcCA9IHRoaXMudmlldy5pdGVtcy5nZXRDaGlsZEJ5TmFtZShrZXkpXG4gICAgICAgICAgICBpZihrc3A9PW51bGwpe1xuICAgICAgICAgICAgICAgIHNwLmdldENvbXBvbmVudChjYy5TcHJpdGUpLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHNwLmdldENvbXBvbmVudChjYy5TcHJpdGUpLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25CdG5HdWlkZSgpe1xuICAgICAgICBsZXQgZ3VpZGVJZHggPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJndWlkeElkeFwiKVxuICAgICAgICBpZihndWlkZUlkeD09bnVsbCl7XG4gICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJndWlkeElkeFwiLDApO1xuICAgICAgICAgICAgZ3VpZGVJZHggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0eHQgPSBHdWlkZUNvbmZpZ1tOdW1iZXIoZ3VpZGVJZHgpXTtcbiAgICAgICAgaWYodHh0ICE9IG51bGwpe1xuICAgICAgICAgICB0aGlzLnZpZXcuTGJsVGlwLnN0cmluZyA9IHR4dDtcbiAgICAgICAgICAgKytndWlkZUlkeDtcbiAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZ3VpZHhJZHhcIixndWlkZUlkeCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy52aWV3Lmd1aWROb2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25CdWlsZEl0ZW0oZXYsIGRhdCl7XG4gICAgICAgIGxldCB0YXJnZXQgPSBldi50YXJnZXQ7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhcmdldClcbiAgICAgICAgbGV0IGtleSA9IHRhcmdldC5uYW1lO1xuICAgICAgICBsZXQga3NwID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSlcbiAgICAgICAgaWYoa3NwPT1udWxsKXtcbiAgICAgICAgICAgIHRoaXMudmlldy5idWxkdG9vbC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy52aWV3LmJ1bGR0b29sLnBvc2l0aW9uID0gdGFyZ2V0LnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy52aWV3LmJ1bGR0b29sLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pLnBsYXkoKTtcbiAgICAgICAgICAgIGNjLnR3ZWVuKHRoaXMubm9kZSlcbiAgICAgICAgICAgIC5kZWxheSgxLjUpXG4gICAgICAgICAgICAuY2FsbCgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5idWxkdG9vbC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0YXJnZXQuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuZW5hYmxlZD10cnVlO1xuICAgICAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksMSk7XG4gICAgICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/UIForm.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fecebM0tgRBP4NNiSEz6NLd', 'UIForm');
// Script/UIFrame/UIForm.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.UITips = exports.UIFixed = exports.UIWindow = exports.UIScreen = void 0;
var CocosHelper_1 = require("./CocosHelper");
var SysDefine_1 = require("./config/SysDefine");
var FormMgr_1 = require("./FormMgr");
var Struct_1 = require("./Struct");
var UIBase_1 = require("./UIBase");
var UIScreen = /** @class */ (function (_super) {
    __extends(UIScreen, _super);
    function UIScreen() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.formType = SysDefine_1.FormType.Screen;
        _this.closeType = Struct_1.ECloseType.CloseAndDestory;
        return _this;
    }
    UIScreen.prototype.closeSelf = function () {
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, FormMgr_1.default.close({ prefabUrl: this.fid, type: this.formType })];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return UIScreen;
}(UIBase_1.default));
exports.UIScreen = UIScreen;
var UIWindow = /** @class */ (function (_super) {
    __extends(UIWindow, _super);
    function UIWindow() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.formType = SysDefine_1.FormType.Window;
        _this.modalType = new Struct_1.ModalType(SysDefine_1.ModalOpacity.OpacityFull); // 阴影类型
        _this.closeType = Struct_1.ECloseType.LRU;
        return _this;
    }
    /** 显示效果 */
    UIWindow.prototype.showEffect = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.node.scale = 0;
                        return [4 /*yield*/, CocosHelper_1.default.runTweenSync(this.node, cc.tween().to(0.3, { scale: 1 }, cc.easeBackOut()))];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UIWindow.prototype.closeSelf = function () {
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, FormMgr_1.default.close({ prefabUrl: this.fid, type: this.formType })];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return UIWindow;
}(UIBase_1.default));
exports.UIWindow = UIWindow;
var UIFixed = /** @class */ (function (_super) {
    __extends(UIFixed, _super);
    function UIFixed() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.formType = SysDefine_1.FormType.Fixed;
        _this.closeType = Struct_1.ECloseType.LRU;
        return _this;
    }
    UIFixed.prototype.closeSelf = function () {
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, FormMgr_1.default.close({ prefabUrl: this.fid, type: this.formType })];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return UIFixed;
}(UIBase_1.default));
exports.UIFixed = UIFixed;
var UITips = /** @class */ (function (_super) {
    __extends(UITips, _super);
    function UITips() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.formType = SysDefine_1.FormType.Tips;
        _this.closeType = Struct_1.ECloseType.CloseAndHide;
        return _this;
    }
    UITips.prototype.closeSelf = function () {
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, FormMgr_1.default.close({ prefabUrl: this.fid, type: this.formType })];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return UITips;
}(UIBase_1.default));
exports.UITips = UITips;
// @ts-ignore
cc.UIScreen = UIScreen;
// @ts-ignore
cc.UIWindow = UIWindow;
// @ts-ignore
cc.UIFixed = UIFixed;
// @ts-ignore
cc.UITips = UITips;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9VSUZvcm0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUF3QztBQUN4QyxnREFBNEQ7QUFDNUQscUNBQWdDO0FBQ2hDLG1DQUFpRDtBQUNqRCxtQ0FBOEI7QUFHOUI7SUFBOEIsNEJBQU07SUFBcEM7UUFBQSxxRUFPQztRQU5HLGNBQVEsR0FBRyxvQkFBUSxDQUFDLE1BQU0sQ0FBQztRQUMzQixlQUFTLEdBQUcsbUJBQVUsQ0FBQyxlQUFlLENBQUM7O0lBSzNDLENBQUM7SUFIZ0IsNEJBQVMsR0FBdEI7dUNBQTBCLE9BQU87Ozs0QkFDdEIscUJBQU0saUJBQU8sQ0FBQyxLQUFLLENBQUMsRUFBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUE7NEJBQXRFLHNCQUFPLFNBQStELEVBQUM7Ozs7S0FDMUU7SUFDTCxlQUFDO0FBQUQsQ0FQQSxBQU9DLENBUDZCLGdCQUFNLEdBT25DO0FBUFksNEJBQVE7QUFTckI7SUFBOEIsNEJBQU07SUFBcEM7UUFBQSxxRUFlQztRQWRHLGNBQVEsR0FBRyxvQkFBUSxDQUFDLE1BQU0sQ0FBQztRQUMzQixlQUFTLEdBQUcsSUFBSSxrQkFBUyxDQUFDLHdCQUFZLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBZ0IsT0FBTztRQUMzRSxlQUFTLEdBQUcsbUJBQVUsQ0FBQyxHQUFHLENBQUM7O0lBWS9CLENBQUM7SUFWRyxXQUFXO0lBQ0UsNkJBQVUsR0FBdkI7Ozs7O3dCQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQzt3QkFDcEIscUJBQU0scUJBQVcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFDLEtBQUssRUFBRSxDQUFDLEVBQUMsRUFBRSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxFQUFBOzt3QkFBM0YsU0FBMkYsQ0FBQzs7Ozs7S0FDL0Y7SUFFWSw0QkFBUyxHQUF0Qjt1Q0FBMEIsT0FBTzs7OzRCQUN0QixxQkFBTSxpQkFBTyxDQUFDLEtBQUssQ0FBQyxFQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFDLENBQUMsRUFBQTs0QkFBdEUsc0JBQU8sU0FBK0QsRUFBQzs7OztLQUMxRTtJQUVMLGVBQUM7QUFBRCxDQWZBLEFBZUMsQ0FmNkIsZ0JBQU0sR0FlbkM7QUFmWSw0QkFBUTtBQWlCckI7SUFBNkIsMkJBQU07SUFBbkM7UUFBQSxxRUFRQztRQVBHLGNBQVEsR0FBRyxvQkFBUSxDQUFDLEtBQUssQ0FBQztRQUMxQixlQUFTLEdBQUcsbUJBQVUsQ0FBQyxHQUFHLENBQUM7O0lBTS9CLENBQUM7SUFKZ0IsMkJBQVMsR0FBdEI7dUNBQTBCLE9BQU87Ozs0QkFDdEIscUJBQU0saUJBQU8sQ0FBQyxLQUFLLENBQUMsRUFBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUE7NEJBQXRFLHNCQUFPLFNBQStELEVBQUM7Ozs7S0FDMUU7SUFFTCxjQUFDO0FBQUQsQ0FSQSxBQVFDLENBUjRCLGdCQUFNLEdBUWxDO0FBUlksMEJBQU87QUFVcEI7SUFBNEIsMEJBQU07SUFBbEM7UUFBQSxxRUFPQztRQU5HLGNBQVEsR0FBRyxvQkFBUSxDQUFDLElBQUksQ0FBQztRQUN6QixlQUFTLEdBQUcsbUJBQVUsQ0FBQyxZQUFZLENBQUM7O0lBS3hDLENBQUM7SUFIZ0IsMEJBQVMsR0FBdEI7dUNBQTBCLE9BQU87Ozs0QkFDdEIscUJBQU0saUJBQU8sQ0FBQyxLQUFLLENBQUMsRUFBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUE7NEJBQXRFLHNCQUFPLFNBQStELEVBQUM7Ozs7S0FDMUU7SUFDTCxhQUFDO0FBQUQsQ0FQQSxBQU9DLENBUDJCLGdCQUFNLEdBT2pDO0FBUFksd0JBQU07QUFTbkIsYUFBYTtBQUNiLEVBQUUsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0FBQ3ZCLGFBQWE7QUFDYixFQUFFLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUN2QixhQUFhO0FBQ2IsRUFBRSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDckIsYUFBYTtBQUNiLEVBQUUsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvY29zSGVscGVyIGZyb20gXCIuL0NvY29zSGVscGVyXCI7XG5pbXBvcnQgeyBGb3JtVHlwZSwgTW9kYWxPcGFjaXR5IH0gZnJvbSBcIi4vY29uZmlnL1N5c0RlZmluZVwiO1xuaW1wb3J0IEZvcm1NZ3IgZnJvbSBcIi4vRm9ybU1nclwiO1xuaW1wb3J0IHsgRUNsb3NlVHlwZSwgTW9kYWxUeXBlIH0gZnJvbSBcIi4vU3RydWN0XCI7XG5pbXBvcnQgVUlCYXNlIGZyb20gXCIuL1VJQmFzZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBVSVNjcmVlbiBleHRlbmRzIFVJQmFzZSB7XG4gICAgZm9ybVR5cGUgPSBGb3JtVHlwZS5TY3JlZW47XG4gICAgY2xvc2VUeXBlID0gRUNsb3NlVHlwZS5DbG9zZUFuZERlc3Rvcnk7XG5cbiAgICBwdWJsaWMgYXN5bmMgY2xvc2VTZWxmKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgRm9ybU1nci5jbG9zZSh7cHJlZmFiVXJsOiB0aGlzLmZpZCwgdHlwZTogdGhpcy5mb3JtVHlwZX0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVJV2luZG93IGV4dGVuZHMgVUlCYXNlIHtcbiAgICBmb3JtVHlwZSA9IEZvcm1UeXBlLldpbmRvdzsgICAgXG4gICAgbW9kYWxUeXBlID0gbmV3IE1vZGFsVHlwZShNb2RhbE9wYWNpdHkuT3BhY2l0eUZ1bGwpOyAgICAgICAgICAgICAgICAvLyDpmLTlvbHnsbvlnotcbiAgICBjbG9zZVR5cGUgPSBFQ2xvc2VUeXBlLkxSVTtcblxuICAgIC8qKiDmmL7npLrmlYjmnpwgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2hvd0VmZmVjdCgpIHtcbiAgICAgICAgdGhpcy5ub2RlLnNjYWxlID0gMDtcbiAgICAgICAgYXdhaXQgQ29jb3NIZWxwZXIucnVuVHdlZW5TeW5jKHRoaXMubm9kZSwgY2MudHdlZW4oKS50bygwLjMsIHtzY2FsZTogMX0sIGNjLmVhc2VCYWNrT3V0KCkpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2xvc2VTZWxmKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgRm9ybU1nci5jbG9zZSh7cHJlZmFiVXJsOiB0aGlzLmZpZCwgdHlwZTogdGhpcy5mb3JtVHlwZX0pO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgVUlGaXhlZCBleHRlbmRzIFVJQmFzZSB7XG4gICAgZm9ybVR5cGUgPSBGb3JtVHlwZS5GaXhlZDtcbiAgICBjbG9zZVR5cGUgPSBFQ2xvc2VUeXBlLkxSVTtcblxuICAgIHB1YmxpYyBhc3luYyBjbG9zZVNlbGYoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBGb3JtTWdyLmNsb3NlKHtwcmVmYWJVcmw6IHRoaXMuZmlkLCB0eXBlOiB0aGlzLmZvcm1UeXBlfSk7XG4gICAgfVxuICAgIFxufVxuXG5leHBvcnQgY2xhc3MgVUlUaXBzIGV4dGVuZHMgVUlCYXNlIHtcbiAgICBmb3JtVHlwZSA9IEZvcm1UeXBlLlRpcHM7XG4gICAgY2xvc2VUeXBlID0gRUNsb3NlVHlwZS5DbG9zZUFuZEhpZGU7XG5cbiAgICBwdWJsaWMgYXN5bmMgY2xvc2VTZWxmKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgRm9ybU1nci5jbG9zZSh7cHJlZmFiVXJsOiB0aGlzLmZpZCwgdHlwZTogdGhpcy5mb3JtVHlwZX0pO1xuICAgIH1cbn1cblxuLy8gQHRzLWlnbm9yZVxuY2MuVUlTY3JlZW4gPSBVSVNjcmVlbjtcbi8vIEB0cy1pZ25vcmVcbmNjLlVJV2luZG93ID0gVUlXaW5kb3c7XG4vLyBAdHMtaWdub3JlXG5jYy5VSUZpeGVkID0gVUlGaXhlZDtcbi8vIEB0cy1pZ25vcmVcbmNjLlVJVGlwcyA9IFVJVGlwcztcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIScript/UIScrollTexture.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2f727ajIaBJPYHecdX0LjtZ', 'UIScrollTexture');
// Script/UIScript/UIScrollTexture.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var UIForm_1 = require("../UIFrame/UIForm");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIScrollTexture = /** @class */ (function (_super) {
    __extends(UIScrollTexture, _super);
    function UIScrollTexture() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.spTexture = null;
        _this.turn = 1;
        _this.progress = 0;
        return _this;
    }
    // onLoad () {}
    UIScrollTexture.prototype.start = function () {
    };
    UIScrollTexture.prototype.update = function (dt) {
        this.progress += dt * this.turn * 0.2;
        this.spTexture.getMaterial(0).setProperty('progress', this.progress);
        if (this.progress >= 1) {
            this.turn = -1;
        }
        if (this.progress <= 0) {
            this.turn = 1;
        }
    };
    __decorate([
        property(cc.Sprite)
    ], UIScrollTexture.prototype, "spTexture", void 0);
    UIScrollTexture = __decorate([
        ccclass
    ], UIScrollTexture);
    return UIScrollTexture;
}(UIForm_1.UIScreen));
exports.default = UIScrollTexture;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlTY3JpcHQvVUlTY3JvbGxUZXh0dXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDRDQUE2QztBQUV2QyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE2QyxtQ0FBUTtJQUFyRDtRQUFBLHFFQXVCQztRQXJCd0IsZUFBUyxHQUFjLElBQUksQ0FBQztRQVN6QyxVQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ1QsY0FBUSxHQUFHLENBQUMsQ0FBQzs7SUFXekIsQ0FBQztJQWxCRyxlQUFlO0lBRWYsK0JBQUssR0FBTDtJQUVBLENBQUM7SUFJRCxnQ0FBTSxHQUFOLFVBQVEsRUFBRTtRQUNOLElBQUksQ0FBQyxRQUFRLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JFLElBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLEVBQUU7WUFDbkIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztTQUNsQjtRQUNELElBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLEVBQUU7WUFDbkIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7U0FDakI7SUFDTCxDQUFDO0lBcEJvQjtRQUFwQixRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztzREFBNkI7SUFGaEMsZUFBZTtRQURuQyxPQUFPO09BQ2EsZUFBZSxDQXVCbkM7SUFBRCxzQkFBQztDQXZCRCxBQXVCQyxDQXZCNEMsaUJBQVEsR0F1QnBEO2tCQXZCb0IsZUFBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVJU2NyZWVuIH0gZnJvbSBcIi4uL1VJRnJhbWUvVUlGb3JtXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlTY3JvbGxUZXh0dXJlIGV4dGVuZHMgVUlTY3JlZW4ge1xuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSkgc3BUZXh0dXJlOiBjYy5TcHJpdGUgPSBudWxsO1xuXG5cbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIHByaXZhdGUgdHVybiA9IDE7XG4gICAgcHJpdmF0ZSBwcm9ncmVzcyA9IDA7XG4gICAgdXBkYXRlIChkdCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzICs9IGR0ICogdGhpcy50dXJuICogMC4yO1xuICAgICAgICB0aGlzLnNwVGV4dHVyZS5nZXRNYXRlcmlhbCgwKS5zZXRQcm9wZXJ0eSgncHJvZ3Jlc3MnLCB0aGlzLnByb2dyZXNzKTtcbiAgICAgICAgaWYodGhpcy5wcm9ncmVzcyA+PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnR1cm4gPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnByb2dyZXNzIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMudHVybiA9IDE7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Assemblers/MeshAssembler.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9ba87xSitVM9boajZ/wQdaJ', 'MeshAssembler');
// Script/Common/Assemblers/MeshAssembler.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var gfx = cc['gfx'];
// 顶点格式 -> 位置 UV, 颜色
var vfmtPosUvColor = new gfx.VertexFormat([
    { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },
    { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },
    { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_UINT8, num: 4, normalize: true },
]);
var MeshAssembler = /** @class */ (function (_super) {
    __extends(MeshAssembler, _super);
    function MeshAssembler() {
        var _this = _super.call(this) || this;
        _this.row = 0; // 行数
        _this.col = 0; // 列数
        _this._realRow = 0; // 实际行数
        _this._realCol = 0; // 实际列数
        _this.stepRow = 0; // 步长
        _this.StepCol = 0; // 步长
        _this.verticesCount = 4;
        _this.indicesCount = 6;
        _this.floatsPerVert = 5;
        _this.uvOffset = 2;
        _this.colorOffset = 4;
        _this._renderData = null;
        _this._local = null;
        _this._renderData = new cc.RenderData();
        _this._renderData.init(_this);
        _this.initData();
        _this.initLocal();
        return _this;
    }
    Object.defineProperty(MeshAssembler.prototype, "verticesFloats", {
        get: function () {
            return this.verticesCount * this.floatsPerVert;
        },
        enumerable: false,
        configurable: true
    });
    /** 获得三角形片段的数量 */
    MeshAssembler.prototype.getTriangleCount = function () {
        return (this.row - 1) * (this.col - 1) * 2;
    };
    MeshAssembler.prototype.getTriangle = function (idx) {
        if (idx < 0 || idx >= this.getTriangleCount())
            return null;
        var verts = this._renderData.vDatas[0];
        var vertIdx = Math.floor(idx / this._realCol) * this._realCol * 2 + idx;
        var arr = [];
        if (idx % 2 == 0) {
            arr = [
                cc.v2(verts[vertIdx * this.floatsPerVert], verts[vertIdx * this.floatsPerVert + 1]),
                cc.v2(verts[(vertIdx + 1) * this.floatsPerVert], verts[(vertIdx + 1) * this.floatsPerVert + 1]),
                cc.v2(verts[(vertIdx + this._realCol) * this.floatsPerVert], verts[(vertIdx + this._realCol) * this.floatsPerVert + 1]),
            ];
        }
        else {
            arr = [
                cc.v2(verts[vertIdx * this.floatsPerVert], verts[vertIdx * this.floatsPerVert + 1]),
                cc.v2(verts[(vertIdx + this._realCol) * this.floatsPerVert], verts[(vertIdx + this._realCol) * this.floatsPerVert + 1]),
                cc.v2(verts[(vertIdx + this._realCol - 1) * this.floatsPerVert], verts[(vertIdx + this._realCol - 1) * this.floatsPerVert + 1]),
            ];
        }
        return arr;
    };
    MeshAssembler.prototype.setTriangle = function (idx, arr, comp) {
        if (idx < 0 || idx >= this.getTriangleCount())
            return;
        var verts = this._renderData.vDatas[0];
        var vertIdx = Math.floor(idx / this._realCol) * this._realCol * 2 + idx;
        if (idx % 2 == 0) {
            verts[vertIdx * this.floatsPerVert] = arr[0].x;
            verts[vertIdx * this.floatsPerVert + 1] = arr[0].y;
            verts[(vertIdx + 1) * this.floatsPerVert] = arr[1].x;
            verts[(vertIdx + 1) * this.floatsPerVert + 1] = arr[1].y;
            verts[(vertIdx + this._realCol) * this.floatsPerVert] = arr[2].x;
            verts[(vertIdx + this._realCol) * this.floatsPerVert + 1] = arr[2].y;
        }
        else {
            verts[vertIdx * this.floatsPerVert] = arr[0].x;
            verts[vertIdx * this.floatsPerVert + 1] = arr[0].y;
            verts[(vertIdx + this._realCol) * this.floatsPerVert] = arr[1].x;
            verts[(vertIdx + this._realCol) * this.floatsPerVert + 1] = arr[1].y;
            verts[(vertIdx + this._realCol - 1) * this.floatsPerVert] = arr[2].x;
            verts[(vertIdx + this._realCol - 1) * this.floatsPerVert + 1] = arr[2].y;
        }
        comp._vertsDirty = true;
    };
    MeshAssembler.prototype.getRectCount = function () {
        return (this.row - 1) * (this.col - 1);
    };
    MeshAssembler.prototype.getRect = function (idx) {
        if (idx < 0 || idx >= this.getRectCount())
            return null;
        var verts = this._renderData.vDatas[0];
        var vertIdx = Math.floor(idx * 2 / this._realCol) * this._realCol * 2 + (idx * 2 % this._realCol);
        var arr = [
            cc.v2(verts[vertIdx * this.floatsPerVert], verts[vertIdx * this.floatsPerVert + 1]),
            cc.v2(verts[(vertIdx + 1) * this.floatsPerVert], verts[(vertIdx + 1) * this.floatsPerVert + 1]),
            cc.v2(verts[(vertIdx + this._realCol) * this.floatsPerVert], verts[(vertIdx + this._realCol) * this.floatsPerVert + 1]),
            cc.v2(verts[(vertIdx + this._realCol + 1) * this.floatsPerVert], verts[(vertIdx + this._realCol + 1) * this.floatsPerVert + 1]),
        ];
        return arr;
    };
    MeshAssembler.prototype.setRect = function (idx, arr) {
        if (idx < 0 || idx >= this.getRectCount())
            return;
        var verts = this._renderData.vDatas[0];
        var vertIdx = Math.floor((idx * 2) / this._realCol) * this._realCol * 2 + (idx * 2 % this._realCol);
        verts[vertIdx * this.floatsPerVert] = arr[0].x;
        verts[vertIdx * this.floatsPerVert + 1] = arr[0].y;
        verts[(vertIdx + 1) * this.floatsPerVert] = arr[1].x;
        verts[(vertIdx + 1) * this.floatsPerVert + 1] = arr[1].y;
        verts[(vertIdx + this._realCol) * this.floatsPerVert] = arr[2].x;
        verts[(vertIdx + this._realCol) * this.floatsPerVert + 1] = arr[2].y;
        verts[(vertIdx + this._realCol + 1) * this.floatsPerVert] = arr[3].x;
        verts[(vertIdx + this._realCol + 1) * this.floatsPerVert + 1] = arr[3].y;
    };
    MeshAssembler.prototype.resetData = function (comp) {
        if (!comp.texture)
            return;
        var width = comp.texture.width;
        var height = comp.texture.height;
        var step = comp.step;
        this.row = Math.floor(height / step) + 1;
        this.col = Math.floor(width / step) + 1;
        this.stepRow = height / (this.row - 1);
        this.StepCol = width / (this.col - 1);
        this._realRow = 2 + (this.row - 2) * 2;
        this._realCol = 2 + (this.col - 2) * 2;
        cc.log(this.row, this.col);
        this.verticesCount = this._realRow * this._realCol;
        this.indicesCount = (this.row - 1) * (this.col - 1) * 6;
        this._renderData['clear']();
        this.initData();
    };
    MeshAssembler.prototype.getVfmt = function () {
        return vfmtPosUvColor;
    };
    MeshAssembler.prototype.getBuffer = function () {
        return cc.renderer['_handle'].getBuffer('mesh', this.getVfmt());
    };
    MeshAssembler.prototype.initData = function () {
        var data = this._renderData;
        data.createQuadData(0, this.verticesFloats, this.indicesCount);
        var indices = this._renderData.iDatas[0];
        var indexOffset = 0;
        for (var r = 0; r < this.row - 1; ++r) {
            for (var c = 0; c < this.col - 1; ++c) {
                var start = r * 2 * this._realCol + c * 2;
                indices[indexOffset++] = start;
                indices[indexOffset++] = start + 1;
                indices[indexOffset++] = start + this._realCol;
                indices[indexOffset++] = start + 1;
                indices[indexOffset++] = start + this._realCol + 1;
                indices[indexOffset++] = start + this._realCol;
            }
        }
    };
    MeshAssembler.prototype.initLocal = function () {
        this._local = [];
        this._local.length = 4;
    };
    /** 填充顶点的color */
    MeshAssembler.prototype.updateColor = function (comp, color) {
        var uintVerts = this._renderData.uintVDatas[0];
        if (!uintVerts)
            return;
        color = color != null ? color : comp.node.color['_val'];
        var floatsPerVert = this.floatsPerVert;
        var colorOffset = this.colorOffset;
        for (var i = 0; i < this.verticesCount; i++) {
            uintVerts[colorOffset + i * floatsPerVert] = color;
        }
    };
    /** 更新uv */
    MeshAssembler.prototype.updateUVs = function (comp) {
        var _this = this;
        var uvOffset = this.uvOffset;
        var floatsPerVert = this.floatsPerVert;
        var verts = this._renderData.vDatas[0];
        var vid = 0;
        var _setUv = function (uv_x, uv_y, vid) {
            var voffset = vid * floatsPerVert;
            verts[voffset + uvOffset] = uv_x;
            verts[voffset + uvOffset + 1] = uv_y;
        };
        var _fillOneRow = function (uv_y) {
            for (var col = 0; col < _this.col; col++) {
                var uv_x = col / (_this.col - 1);
                _setUv(uv_x, uv_y, vid++);
                if (col !== 0 && col !== _this.col - 1) {
                    _setUv(uv_x, uv_y, vid++);
                }
            }
        };
        for (var row = 0; row < this.row; row++) {
            var uv_y = 1 - row / (this.row - 1);
            _fillOneRow(uv_y);
            if (row !== 0 && row !== this.row - 1) {
                _fillOneRow(uv_y);
            }
        }
    };
    MeshAssembler.prototype.updateWorldVertsWebGL = function (comp) {
        var _this = this;
        var local = this._local;
        var verts = this._renderData.vDatas[0];
        var matrix = comp.node['_worldMatrix'];
        var matrixm = matrix.m, a = matrixm[0], b = matrixm[1], c = matrixm[4], d = matrixm[5], tx = matrixm[12], ty = matrixm[13];
        var vl = local[0], vr = local[2], vb = local[1], vt = local[3];
        var justTranslate = a === 1 && b === 0 && c === 0 && d === 1;
        var floatsPerVert = this.floatsPerVert;
        var vertIdx = 0;
        var _setVert = function (localColX, localRowY, vertIdx) {
            var worldIndex = floatsPerVert * vertIdx;
            verts[worldIndex] = localColX + tx;
            verts[worldIndex + 1] = localRowY + ty;
        };
        var _setVert2 = function (localColX, localRowY, vertIdx) {
            var worldIndex = vertIdx * floatsPerVert;
            verts[worldIndex] = localColX * a + localRowY * c + tx;
            verts[worldIndex + 1] = localColX * b + localRowY * d + ty;
        };
        var _fillOneRow = function (localRowY, setVert) {
            for (var col = 0; col < _this.col; col++) {
                var localColX = (col == _this.col - 1) ? vr : (vl + col * _this.StepCol);
                setVert(localColX, localRowY, vertIdx++);
                if (col !== 0 && col !== _this.col - 1) {
                    // 插入一列
                    setVert(localColX, localRowY, vertIdx++);
                }
            }
        };
        if (justTranslate) {
            for (var row = 0; row < this.row; row++) {
                var localRowY = (row == this.row - 1) ? vt : (vb + row * this.stepRow);
                _fillOneRow(localRowY, _setVert);
                if (row !== 0 && row !== this.row - 1) {
                    // 插入一行
                    _fillOneRow(localRowY, _setVert);
                }
            }
        }
        else {
            for (var row = 0; row < this.row; row++) {
                var localRowY = (row == this.row - 1) ? vt : (vb + row * this.stepRow);
                _fillOneRow(localRowY, _setVert2);
                if (row !== 0 && row !== this.row - 1) {
                    // 插入一行
                    _fillOneRow(localRowY, _setVert2);
                }
            }
        }
    };
    MeshAssembler.prototype.updateWorldVertsNative = function (comp) {
        var local = this._local;
        var verts = this._renderData.vDatas[0];
        var floatsPerVert = this.floatsPerVert;
        var vl = local[0], vr = local[2], vb = local[1], vt = local[3];
        var index = 0;
        // left bottom
        verts[index] = vl;
        verts[index + 1] = vb;
        index += floatsPerVert;
        // right bottom
        verts[index] = vr;
        verts[index + 1] = vb;
        index += floatsPerVert;
        // left top
        verts[index] = vl;
        verts[index + 1] = vt;
        index += floatsPerVert;
        // right top
        verts[index] = vr;
        verts[index + 1] = vt;
    };
    MeshAssembler.prototype.updateWorldVerts = function (comp) {
        if (CC_NATIVERENDERER) {
            this.updateWorldVertsNative(comp);
        }
        else {
            this.updateWorldVertsWebGL(comp);
        }
    };
    /** 更新顶点数据 */
    MeshAssembler.prototype.updateVerts = function (comp) {
        var node = comp.node, cw = node.width, ch = node.height, appx = node.anchorX * cw, appy = node.anchorY * ch, l, b, r, t;
        l = -appx;
        b = -appy;
        r = cw - appx;
        t = ch - appy;
        var local = this._local;
        local[0] = l;
        local[1] = b;
        local[2] = r;
        local[3] = t;
        this.updateWorldVerts(comp);
    };
    /** 更新renderdata */
    MeshAssembler.prototype.updateRenderData = function (comp) {
        if (comp._vertsDirty) {
            this.resetData(comp);
            this.updateUVs(comp);
            this.updateVerts(comp);
            comp._vertsDirty = false;
        }
    };
    MeshAssembler.prototype.fillBuffers = function (comp, renderer) {
        if (renderer.worldMatDirty) {
            this.updateWorldVerts(comp);
        }
        var renderData = this._renderData;
        // vData里包含 pos， uv， color数据， iData中包含顶点索引
        var vData = renderData.vDatas[0];
        var iData = renderData.iDatas[0];
        var buffer = this.getBuffer();
        var offsetInfo = buffer.request(this.verticesCount, this.indicesCount);
        // buffer data may be realloc, need get reference after request.
        // fill vertices
        var vertexOffset = offsetInfo.byteOffset >> 2, vbuf = buffer._vData;
        if (vData.length + vertexOffset > vbuf.length) {
            vbuf.set(vData.subarray(0, vbuf.length - vertexOffset), vertexOffset);
        }
        else {
            vbuf.set(vData, vertexOffset);
        }
        // fill indices
        var ibuf = buffer._iData, indiceOffset = offsetInfo.indiceOffset, vertexId = offsetInfo.vertexOffset;
        for (var i = 0, l = iData.length; i < l; i++) {
            ibuf[indiceOffset++] = vertexId + iData[i];
        }
    };
    MeshAssembler.prototype.packToDynamicAtlas = function (comp, frame) {
        if (CC_TEST)
            return;
        if (!frame._original && cc.dynamicAtlasManager && frame._texture.packable) {
            var packedFrame = cc.dynamicAtlasManager.insertSpriteFrame(frame);
            //@ts-ignore
            if (packedFrame) {
                frame._setDynamicAtlasFrame(packedFrame);
            }
        }
        var material = comp._materials[0];
        if (!material)
            return;
        if (material.getProperty('texture') !== frame._texture) {
            // texture was packed to dynamic atlas, should update uvs
            comp._vertsDirty = true;
            comp._updateMaterial();
        }
    };
    return MeshAssembler;
}(cc.Assembler));
exports.default = MeshAssembler;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0Fzc2VtYmxlcnMvTWVzaEFzc2VtYmxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFdEIsb0JBQW9CO0FBQ3BCLElBQUksY0FBYyxHQUFHLElBQUksR0FBRyxDQUFDLFlBQVksQ0FBQztJQUN0QyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRTtJQUNoRSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRTtJQUMzRCxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRTtDQUMvRSxDQUFDLENBQUM7QUFFSDtJQUEyQyxpQ0FBWTtJQUVuRDtRQUFBLFlBQ0ksaUJBQU8sU0FNVjtRQUVPLFNBQUcsR0FBRyxDQUFDLENBQUMsQ0FBZ0IsS0FBSztRQUM3QixTQUFHLEdBQUcsQ0FBQyxDQUFDLENBQWdCLEtBQUs7UUFDN0IsY0FBUSxHQUFHLENBQUMsQ0FBQyxDQUFXLE9BQU87UUFDL0IsY0FBUSxHQUFHLENBQUMsQ0FBQyxDQUFXLE9BQU87UUFDL0IsYUFBTyxHQUFHLENBQUMsQ0FBQyxDQUFZLEtBQUs7UUFDN0IsYUFBTyxHQUFHLENBQUMsQ0FBQyxDQUFZLEtBQUs7UUFDN0IsbUJBQWEsR0FBRyxDQUFDLENBQUM7UUFDbEIsa0JBQVksR0FBRyxDQUFDLENBQUM7UUFHekIsbUJBQWEsR0FBRyxDQUFDLENBQUM7UUFDbEIsY0FBUSxH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LENBQUMsZUFBZSxFQUFFLENBQUM7U0FDMUI7SUFDTCxDQUFDO0lBRUwsb0JBQUM7QUFBRCxDQS9ZQSxBQStZQyxDQS9ZMEMsRUFBRSxDQUFDLFNBQVMsR0ErWXREIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1lc2hUZXh0dXJlIGZyb20gXCIuLi9Db21wb25lbnRzL01lc2hUZXh0dXJlXCI7XG5cbmNvbnN0IGdmeCA9IGNjWydnZngnXTtcblxuLy8g6aG254K55qC85byPIC0+IOS9jee9riBVViwg6aKc6ImyXG5sZXQgdmZtdFBvc1V2Q29sb3IgPSBuZXcgZ2Z4LlZlcnRleEZvcm1hdChbXG4gICAgeyBuYW1lOiBnZnguQVRUUl9QT1NJVElPTiwgdHlwZTogZ2Z4LkFUVFJfVFlQRV9GTE9BVDMyLCBudW06IDIgfSxcbiAgICB7IG5hbWU6IGdmeC5BVFRSX1VWMCwgdHlwZTogZ2Z4LkFUVFJfVFlQRV9GTE9BVDMyLCBudW06IDIgfSxcbiAgICB7IG5hbWU6IGdmeC5BVFRSX0NPTE9SLCB0eXBlOiBnZnguQVRUUl9UWVBFX1VJTlQ4LCBudW06IDQsIG5vcm1hbGl6ZTogdHJ1ZSB9LFxuXSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc2hBc3NlbWJsZXIgZXh0ZW5kcyBjYy5Bc3NlbWJsZXJ7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyRGF0YSA9IG5ldyBjYy5SZW5kZXJEYXRhKCk7XG4gICAgICAgIHRoaXMuX3JlbmRlckRhdGEuaW5pdCh0aGlzKTtcblxuICAgICAgICB0aGlzLmluaXREYXRhKCk7XG4gICAgICAgIHRoaXMuaW5pdExvY2FsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByb3cgPSAwOyAgICAgICAgICAgICAgICAvLyDooYzmlbBcbiAgICBwcml2YXRlIGNvbCA9IDA7ICAgICAgICAgICAgICAgIC8vIOWIl+aVsFxuICAgIHByaXZhdGUgX3JlYWxSb3cgPSAwOyAgICAgICAgICAgLy8g5a6e6ZmF6KGM5pWwXG4gICAgcHJpdmF0ZSBfcmVhbENvbCA9IDA7ICAgICAgICAgICAvLyDlrp7pmYXliJfmlbBcbiAgICBwcml2YXRlIHN0ZXBSb3cgPSAwOyAgICAgICAgICAgIC8vIOatpemVv1xuICAgIHByaXZhdGUgU3RlcENvbCA9IDA7ICAgICAgICAgICAgLy8g5q2l6ZW/XG4gICAgcHJpdmF0ZSB2ZXJ0aWNlc0NvdW50ID0gNDtcbiAgICBwcml2YXRlIGluZGljZXNDb3VudCA9IDY7XG5cblxuICAgIGZsb2F0c1BlclZlcnQgPSA1O1xuICAgIHV2T2Zmc2V0ID0gMjsgICAgICAgXG4gICAgY29sb3JPZmZzZXQgPSA0O1xuXG4gICAgcHJpdmF0ZSBfcmVuZGVyRGF0YTogY2MuUmVuZGVyRGF0YSA9IG51bGw7XG4gICAgcHJpdmF0ZSBfbG9jYWw6IG51bWJlcltdID0gbnVsbDtcblxuICAgIGdldCB2ZXJ0aWNlc0Zsb2F0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVydGljZXNDb3VudCAqIHRoaXMuZmxvYXRzUGVyVmVydDtcbiAgICB9XG5cbiAgICAvKiog6I635b6X5LiJ6KeS5b2i54mH5q6155qE5pWw6YePICovXG4gICAgcHVibGljIGdldFRyaWFuZ2xlQ291bnQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5yb3ctMSkgKiAodGhpcy5jb2wgLSAxKSAqIDI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRyaWFuZ2xlKGlkeDogbnVtYmVyKSB7XG4gICAgICAgIGlmKGlkeCA8IDAgfHwgaWR4ID49IHRoaXMuZ2V0VHJpYW5nbGVDb3VudCgpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHZlcnRzID0gdGhpcy5fcmVuZGVyRGF0YS52RGF0YXNbMF0gYXMgQXJyYXk8bnVtYmVyPjtcbiAgICAgICAgbGV0IHZlcnRJZHggPSBNYXRoLmZsb29yKGlkeCAvIHRoaXMuX3JlYWxDb2wpICogdGhpcy5fcmVhbENvbCAqIDIgKyBpZHg7XG4gICAgICAgIGxldCBhcnI6IGNjLlZlYzJbXSA9IFtdO1xuICAgICAgICBpZihpZHggJSAyID09IDApIHtcbiAgICAgICAgICAgIGFyciA9IFtcbiAgICAgICAgICAgICAgICBjYy52Mih2ZXJ0c1t2ZXJ0SWR4ICogdGhpcy5mbG9hdHNQZXJWZXJ0XSwgdmVydHNbdmVydElkeCAqIHRoaXMuZmxvYXRzUGVyVmVydCsxXSksXG4gICAgICAgICAgICAgICAgY2MudjIodmVydHNbKHZlcnRJZHggKyAxKSAqIHRoaXMuZmxvYXRzUGVyVmVydF0sIHZlcnRzWyh2ZXJ0SWR4ICsgMSkgKiB0aGlzLmZsb2F0c1BlclZlcnQrMV0pLFxuICAgICAgICAgICAgICAgIGNjLnYyKHZlcnRzWyh2ZXJ0SWR4ICsgdGhpcy5fcmVhbENvbCkgKiB0aGlzLmZsb2F0c1BlclZlcnRdLCB2ZXJ0c1sodmVydElkeCArIHRoaXMuX3JlYWxDb2wpICogdGhpcy5mbG9hdHNQZXJWZXJ0KzFdKSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgYXJyID0gW1xuICAgICAgICAgICAgICAgIGNjLnYyKHZlcnRzW3ZlcnRJZHggKiB0aGlzLmZsb2F0c1BlclZlcnRdLCB2ZXJ0c1t2ZXJ0SWR4ICogdGhpcy5mbG9hdHNQZXJWZXJ0KzFdKSxcbiAgICAgICAgICAgICAgICBjYy52Mih2ZXJ0c1sodmVydElkeCArIHRoaXMuX3JlYWxDb2wpICogdGhpcy5mbG9hdHNQZXJWZXJ0XSwgdmVydHNbKHZlcnRJZHggKyB0aGlzLl9yZWFsQ29sKSAqIHRoaXMuZmxvYXRzUGVyVmVydCsxXSksXG4gICAgICAgICAgICAgICAgY2MudjIodmVydHNbKHZlcnRJZHggKyB0aGlzLl9yZWFsQ29sLTEpICogdGhpcy5mbG9hdHNQZXJWZXJ0XSwgdmVydHNbKHZlcnRJZHggKyB0aGlzLl9yZWFsQ29sLTEpICogdGhpcy5mbG9hdHNQZXJWZXJ0KzFdKSwgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VHJpYW5nbGUoaWR4OiBudW1iZXIsIGFycjogY2MuVmVjMltdLCBjb21wOiBhbnkpIHtcbiAgICAgICAgaWYoaWR4IDwgMCB8fCBpZHggPj0gdGhpcy5nZXRUcmlhbmdsZUNvdW50KCkpIHJldHVybiA7XG4gICAgICAgIGxldCB2ZXJ0cyA9IHRoaXMuX3JlbmRlckRhdGEudkRhdGFzWzBdIGFzIEFycmF5PG51bWJlcj47XG4gICAgICAgIGxldCB2ZXJ0SWR4ID0gTWF0aC5mbG9vcihpZHggLyB0aGlzLl9yZWFsQ29sKSAqIHRoaXMuX3JlYWxDb2wgKiAyICsgaWR4O1xuICAgICAgICBcbiAgICAgICAgaWYoaWR4ICUgMiA9PSAwKSB7XG4gICAgICAgICAgICB2ZXJ0c1t2ZXJ0SWR4ICogdGhpcy5mbG9hdHNQZXJWZXJ0XSA9IGFyclswXS54O1xuICAgICAgICAgICAgdmVydHNbdmVydElkeCAqIHRoaXMuZmxvYXRzUGVyVmVydCsxXSA9IGFyclswXS55O1xuXG4gICAgICAgICAgICB2ZXJ0c1sodmVydElkeCArIDEpICogdGhpcy5mbG9hdHNQZXJWZXJ0XSA9IGFyclsxXS54O1xuICAgICAgICAgICAgdmVydHNbKHZlcnRJZHggKyAxKSAqIHRoaXMuZmxvYXRzUGVyVmVydCsxXSA9IGFyclsxXS55O1xuXG4gICAgICAgICAgICB2ZXJ0c1sodmVydElkeCArIHRoaXMuX3JlYWxDb2wpICogdGhpcy5mbG9hdHNQZXJWZXJ0XSA9IGFyclsyXS54O1xuICAgICAgICAgICAgdmVydHNbKHZlcnRJZHggKyB0aGlzLl9yZWFsQ29sKSAqIHRoaXMuZmxvYXRzUGVyVmVydCsxXSA9IGFyclsyXS55O1xuXG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIHZlcnRzW3ZlcnRJZHggKiB0aGlzLmZsb2F0c1BlclZlcnRdID0gYXJyWzBdLng7XG4gICAgICAgICAgICB2ZXJ0c1t2ZXJ0SWR4ICogdGhpcy5mbG9hdHNQZXJWZXJ0KzFdID0gYXJyWzBdLnk7XG5cbiAgICAgICAgICAgIHZlcnRzWyh2ZXJ0SWR4ICsgdGhpcy5fcmVhbENvbCkgKiB0aGlzLmZsb2F0c1BlclZlcnRdID0gYXJyWzFdLng7XG4gICAgICAgICAgICB2ZXJ0c1sodmVydElkeCArIHRoaXMuX3JlYWxDb2wpICogdGhpcy5mbG9hdHNQZXJWZXJ0KzFdID0gYXJyWzFdLnk7XG5cbiAgICAgICAgICAgIHZlcnRzWyh2ZXJ0SWR4ICsgdGhpcy5fcmVhbENvbC0xKSAqIHRoaXMuZmxvYXRzUGVyVmVydF0gPSBhcnJbMl0ueDtcbiAgICAgICAgICAgIHZlcnRzWyh2ZXJ0SWR4ICsgdGhpcy5fcmVhbENvbC0xKSAqIHRoaXMuZmxvYXRzUGVyVmVydCsxXSA9IGFyclsyXS55O1xuICAgICAgICB9XG5cbiAgICAgICAgY29tcC5fdmVydHNEaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlY3RDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnJvdy0xKSAqICh0aGlzLmNvbCAtIDEpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0UmVjdChpZHg6IG51bWJlcikge1xuICAgICAgICBpZihpZHggPCAwIHx8IGlkeCA+PSB0aGlzLmdldFJlY3RDb3VudCgpKSByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHZlcnRzID0gdGhpcy5fcmVuZGVyRGF0YS52RGF0YXNbMF0gYXMgQXJyYXk8bnVtYmVyPjtcbiAgICAgICAgbGV0IHZlcnRJZHggPSBNYXRoLmZsb29yKGlkeCoyIC8gdGhpcy5fcmVhbENvbCkgKiB0aGlzLl9yZWFsQ29sICogMiArIChpZHggKiAyICUgdGhpcy5fcmVhbENvbCk7XG5cbiAgICAgICAgbGV0IGFycjogY2MuVmVjMltdID0gW1xuICAgICAgICAgICAgY2MudjIodmVydHNbdmVydElkeCAqIHRoaXMuZmxvYXRzUGVyVmVydF0sIHZlcnRzW3ZlcnRJZHggKiB0aGlzLmZsb2F0c1BlclZlcnQrMV0pLFxuICAgICAgICAgICAgY2MudjIodmVydHNbKHZlcnRJZHggKyAxKSAqIHRoaXMuZmxvYXRzUGVyVmVydF0sIHZlcnRzWyh2ZXJ0SWR4ICsgMSkgKiB0aGlzLmZsb2F0c1BlclZlcnQrMV0pLFxuICAgICAgICAgICAgY2MudjIodmVydHNbKHZlcnRJZHggKyB0aGlzLl9yZWFsQ29sKSAqIHRoaXMuZmxvYXRzUGVyVmVydF0sIHZlcnRzWyh2ZXJ0SWR4ICsgdGhpcy5fcmVhbENvbCkgKiB0aGlzLmZsb2F0c1BlclZlcnQrMV0pLFxuICAgICAgICAgICAgY2MudjIodmVydHNbKHZlcnRJZHggKyB0aGlzLl9yZWFsQ29sKzEpICogdGhpcy5mbG9hdHNQZXJWZXJ0XSwgdmVydHNbKHZlcnRJZHggKyB0aGlzLl9yZWFsQ29sKzEpICogdGhpcy5mbG9hdHNQZXJWZXJ0KzFdKSwgICAgICAgICAgICAgICAgXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuICAgIHB1YmxpYyBzZXRSZWN0KGlkeDogbnVtYmVyLCBhcnI6IGNjLlZlYzJbXSkge1xuICAgICAgICBpZihpZHggPCAwIHx8IGlkeCA+PSB0aGlzLmdldFJlY3RDb3VudCgpKSByZXR1cm4gO1xuICAgICAgICBsZXQgdmVydHMgPSB0aGlzLl9yZW5kZXJEYXRhLnZEYXRhc1swXSBhcyBBcnJheTxudW1iZXI+O1xuICAgICAgICBsZXQgdmVydElkeCA9IE1hdGguZmxvb3IoKGlkeCAqIDIpIC8gdGhpcy5fcmVhbENvbCkgKiB0aGlzLl9yZWFsQ29sICogMiArIChpZHggKiAyICUgdGhpcy5fcmVhbENvbCk7XG4gICAgICAgIFxuICAgICAgICB2ZXJ0c1t2ZXJ0SWR4ICogdGhpcy5mbG9hdHNQZXJWZXJ0XSA9IGFyclswXS54O1xuICAgICAgICB2ZXJ0c1t2ZXJ0SWR4ICogdGhpcy5mbG9hdHNQZXJWZXJ0KzFdID0gYXJyWzBdLnk7XG5cbiAgICAgICAgdmVydHNbKHZlcnRJZHggKyAxKSAqIHRoaXMuZmxvYXRzUGVyVmVydF0gPSBhcnJbMV0ueDtcbiAgICAgICAgdmVydHNbKHZlcnRJZHggKyAxKSAqIHRoaXMuZmxvYXRzUGVyVmVydCsxXSA9IGFyclsxXS55O1xuXG4gICAgICAgIHZlcnRzWyh2ZXJ0SWR4ICsgdGhpcy5fcmVhbENvbCkgKiB0aGlzLmZsb2F0c1BlclZlcnRdID0gYXJyWzJdLng7XG4gICAgICAgIHZlcnRzWyh2ZXJ0SWR4ICsgdGhpcy5fcmVhbENvbCkgKiB0aGlzLmZsb2F0c1BlclZlcnQrMV0gPSBhcnJbMl0ueTtcblxuICAgICAgICB2ZXJ0c1sodmVydElkeCArIHRoaXMuX3JlYWxDb2wrMSkgKiB0aGlzLmZsb2F0c1BlclZlcnRdID0gYXJyWzNdLng7XG4gICAgICAgIHZlcnRzWyh2ZXJ0SWR4ICsgdGhpcy5fcmVhbENvbCsxKSAqIHRoaXMuZmxvYXRzUGVyVmVydCsxXSA9IGFyclszXS55O1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldERhdGEoY29tcDogTWVzaFRleHR1cmUpIHtcbiAgICAgICAgaWYoIWNvbXAudGV4dHVyZSkgcmV0dXJuIDtcbiAgICAgICAgbGV0IHdpZHRoID0gY29tcC50ZXh0dXJlLndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gY29tcC50ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgbGV0IHN0ZXAgPSBjb21wLnN0ZXA7XG4gICAgICAgIHRoaXMucm93ID0gTWF0aC5mbG9vcihoZWlnaHQgLyBzdGVwKSArIDE7XG4gICAgICAgIHRoaXMuY29sID0gTWF0aC5mbG9vcih3aWR0aCAvIHN0ZXApICsgMTtcbiAgICAgICAgdGhpcy5zdGVwUm93ID0gaGVpZ2h0IC8gKHRoaXMucm93LTEpO1xuICAgICAgICB0aGlzLlN0ZXBDb2wgPSB3aWR0aCAvICh0aGlzLmNvbCAtIDEpO1xuXG4gICAgICAgIHRoaXMuX3JlYWxSb3cgPSAyICsgKHRoaXMucm93IC0gMikgKiAyO1xuICAgICAgICB0aGlzLl9yZWFsQ29sID0gMiArICh0aGlzLmNvbCAtIDIpICogMjtcblxuICAgICAgICBjYy5sb2codGhpcy5yb3csIHRoaXMuY29sKTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzQ291bnQgPSB0aGlzLl9yZWFsUm93ICogdGhpcy5fcmVhbENvbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzQ291bnQgPSAodGhpcy5yb3ctMSkgKiAodGhpcy5jb2wgLSAxKSAqIDY7XG4gICAgICAgIHRoaXMuX3JlbmRlckRhdGFbJ2NsZWFyJ10oKTtcbiAgICAgICAgdGhpcy5pbml0RGF0YSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWZm10KCkge1xuICAgICAgICByZXR1cm4gdmZtdFBvc1V2Q29sb3I7XG4gICAgfVxuICAgIHB1YmxpYyBnZXRCdWZmZXIoKSB7XG4gICAgICAgIHJldHVybiBjYy5yZW5kZXJlclsnX2hhbmRsZSddLmdldEJ1ZmZlcignbWVzaCcsIHRoaXMuZ2V0VmZtdCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdERhdGEoKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5fcmVuZGVyRGF0YTtcbiAgICAgICAgZGF0YS5jcmVhdGVRdWFkRGF0YSgwLCB0aGlzLnZlcnRpY2VzRmxvYXRzLCB0aGlzLmluZGljZXNDb3VudCk7XG5cbiAgICAgICAgbGV0IGluZGljZXMgPSB0aGlzLl9yZW5kZXJEYXRhLmlEYXRhc1swXTtcbiAgICAgICAgbGV0IGluZGV4T2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCB0aGlzLnJvdy0xOyArK3IpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgdGhpcy5jb2wtMTsgKytjKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gciAqIDIgKiB0aGlzLl9yZWFsQ29sICsgYyAqIDI7XG4gICAgICAgICAgICAgICAgaW5kaWNlc1tpbmRleE9mZnNldCsrXSA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIGluZGljZXNbaW5kZXhPZmZzZXQrK10gPSBzdGFydCArIDE7XG4gICAgICAgICAgICAgICAgaW5kaWNlc1tpbmRleE9mZnNldCsrXSA9IHN0YXJ0ICsgdGhpcy5fcmVhbENvbDtcbiAgICAgICAgICAgICAgICBpbmRpY2VzW2luZGV4T2Zmc2V0KytdID0gc3RhcnQgKyAxO1xuICAgICAgICAgICAgICAgIGluZGljZXNbaW5kZXhPZmZzZXQrK10gPSBzdGFydCArIHRoaXMuX3JlYWxDb2wrMTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzW2luZGV4T2Zmc2V0KytdID0gc3RhcnQgKyB0aGlzLl9yZWFsQ29sO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBpbml0TG9jYWwoKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsID0gW107XG4gICAgICAgIHRoaXMuX2xvY2FsLmxlbmd0aCA9IDQ7XG4gICAgfVxuXG4gICAgLyoqIOWhq+WFhemhtueCueeahGNvbG9yICovXG4gICAgcHVibGljIHVwZGF0ZUNvbG9yKGNvbXA6IGNjLlJlbmRlckNvbXBvbmVudCwgY29sb3I6IG51bWJlcikge1xuICAgICAgICBsZXQgdWludFZlcnRzID0gdGhpcy5fcmVuZGVyRGF0YS51aW50VkRhdGFzWzBdO1xuICAgICAgICBpZighdWludFZlcnRzKSByZXR1cm4gO1xuICAgICAgICBjb2xvciA9IGNvbG9yICE9IG51bGwgPyBjb2xvciA6IGNvbXAubm9kZS5jb2xvclsnX3ZhbCddO1xuICAgICAgICBsZXQgZmxvYXRzUGVyVmVydCA9IHRoaXMuZmxvYXRzUGVyVmVydDtcbiAgICAgICAgbGV0IGNvbG9yT2Zmc2V0ID0gdGhpcy5jb2xvck9mZnNldDtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy52ZXJ0aWNlc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHVpbnRWZXJ0c1tjb2xvck9mZnNldCArIGkgKiBmbG9hdHNQZXJWZXJ0XSA9IGNvbG9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiDmm7TmlrB1diAqL1xuICAgIHByb3RlY3RlZCB1cGRhdGVVVnMoY29tcDogY2MuUmVuZGVyQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCB1dk9mZnNldCA9IHRoaXMudXZPZmZzZXQ7XG4gICAgICAgIGxldCBmbG9hdHNQZXJWZXJ0ID0gdGhpcy5mbG9hdHNQZXJWZXJ0O1xuICAgICAgICBsZXQgdmVydHMgPSB0aGlzLl9yZW5kZXJEYXRhLnZEYXRhc1swXTtcbiAgICAgICAgbGV0IHZpZCA9IDA7XG5cbiAgICAgICAgbGV0IF9zZXRVdiA9ICh1dl94OiBudW1iZXIsIHV2X3k6IG51bWJlciwgdmlkOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGxldCB2b2Zmc2V0ID0gdmlkICogZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgIHZlcnRzW3ZvZmZzZXQgKyB1dk9mZnNldF0gPSB1dl94O1xuICAgICAgICAgICAgdmVydHNbdm9mZnNldCArIHV2T2Zmc2V0ICsgMV0gPSB1dl95O1xuICAgICAgICB9XG4gICAgICAgIGxldCBfZmlsbE9uZVJvdyA9ICh1dl95OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGZvcihsZXQgY29sPTA7IGNvbDx0aGlzLmNvbDsgY29sKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgdXZfeCA9IGNvbC8odGhpcy5jb2wtMSk7XG4gICAgICAgICAgICAgICAgX3NldFV2KHV2X3gsIHV2X3ksIHZpZCsrKTtcbiAgICAgICAgICAgICAgICBpZihjb2wgIT09IDAgJiYgY29sICE9PSB0aGlzLmNvbC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zZXRVdih1dl94LCB1dl95LCB2aWQrKyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcihsZXQgcm93PTA7IHJvdzx0aGlzLnJvdzsgcm93KyspIHtcbiAgICAgICAgICAgIGxldCB1dl95ID0gMS1yb3cvKHRoaXMucm93LTEpO1xuICAgICAgICAgICAgX2ZpbGxPbmVSb3codXZfeSk7XG4gICAgICAgICAgICBpZihyb3cgIT09IDAgJiYgcm93ICE9PSB0aGlzLnJvdy0xKSB7XG4gICAgICAgICAgICAgICAgX2ZpbGxPbmVSb3codXZfeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVdvcmxkVmVydHNXZWJHTChjb21wOiBjYy5SZW5kZXJDb21wb25lbnQpIHtcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5fbG9jYWw7XG4gICAgICAgIGxldCB2ZXJ0cyA9IHRoaXMuX3JlbmRlckRhdGEudkRhdGFzWzBdO1xuXG4gICAgICAgIGxldCBtYXRyaXg6IGNjLk1hdDQgPSBjb21wLm5vZGVbJ193b3JsZE1hdHJpeCddO1xuICAgICAgICBsZXQgbWF0cml4bSA9IG1hdHJpeC5tLFxuICAgICAgICBhID0gbWF0cml4bVswXSwgYiA9IG1hdHJpeG1bMV0sIGMgPSBtYXRyaXhtWzRdLCBkID0gbWF0cml4bVs1XSwgXG4gICAgICAgIHR4ID0gbWF0cml4bVsxMl0sIHR5ID0gbWF0cml4bVsxM107XG5cbiAgICAgICAgbGV0IHZsID0gbG9jYWxbMF0sIHZyID0gbG9jYWxbMl0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZiID0gbG9jYWxbMV0sIHZ0ID0gbG9jYWxbM107XG5cbiAgICAgICAgbGV0IGp1c3RUcmFuc2xhdGUgPSBhID09PSAxICYmIGIgPT09IDAgJiYgYyA9PT0gMCAmJiBkID09PSAxO1xuICAgICAgICBsZXQgZmxvYXRzUGVyVmVydCA9IHRoaXMuZmxvYXRzUGVyVmVydDtcbiAgICAgICAgbGV0IHZlcnRJZHggPSAwO1xuICAgICAgICBcbiAgICAgICAgbGV0IF9zZXRWZXJ0ID0gKGxvY2FsQ29sWDogbnVtYmVyLCBsb2NhbFJvd1k6IG51bWJlciwgdmVydElkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBsZXQgd29ybGRJbmRleCA9IGZsb2F0c1BlclZlcnQgKiB2ZXJ0SWR4O1xuICAgICAgICAgICAgdmVydHNbd29ybGRJbmRleF0gPSBsb2NhbENvbFggKyB0eDtcbiAgICAgICAgICAgIHZlcnRzW3dvcmxkSW5kZXggKyAxXSA9IGxvY2FsUm93WSArIHR5O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IF9zZXRWZXJ0MiA9IChsb2NhbENvbFg6IG51bWJlciwgbG9jYWxSb3dZOiBudW1iZXIsIHZlcnRJZHg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgbGV0IHdvcmxkSW5kZXggPSB2ZXJ0SWR4ICogZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgIHZlcnRzW3dvcmxkSW5kZXhdID0gbG9jYWxDb2xYICogYSArIGxvY2FsUm93WSAqIGMgKyB0eDtcbiAgICAgICAgICAgIHZlcnRzW3dvcmxkSW5kZXggKyAxXSA9IGxvY2FsQ29sWCAqIGIgKyBsb2NhbFJvd1kgKiBkICsgdHk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgX2ZpbGxPbmVSb3cgPSAobG9jYWxSb3dZOiBudW1iZXIsIHNldFZlcnQ6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICBmb3IobGV0IGNvbD0wOyBjb2w8dGhpcy5jb2w7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxvY2FsQ29sWCA9IChjb2wgPT0gdGhpcy5jb2wtMSkgPyB2ciA6ICh2bCArIGNvbCAqIHRoaXMuU3RlcENvbCk7XG4gICAgICAgICAgICAgICAgc2V0VmVydChsb2NhbENvbFgsIGxvY2FsUm93WSwgdmVydElkeCArKyk7XG4gICAgICAgICAgICAgICAgaWYoY29sICE9PSAwICYmIGNvbCAhPT0gdGhpcy5jb2wtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyDmj5LlhaXkuIDliJdcbiAgICAgICAgICAgICAgICAgICAgc2V0VmVydChsb2NhbENvbFgsIGxvY2FsUm93WSwgdmVydElkeCArKyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoanVzdFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgZm9yKGxldCByb3c9MDsgcm93PHRoaXMucm93OyByb3crKykge1xuICAgICAgICAgICAgICAgIGxldCBsb2NhbFJvd1kgPSAocm93ID09IHRoaXMucm93LTEpID8gdnQgOiAodmIgKyByb3cgKiB0aGlzLnN0ZXBSb3cpO1xuICAgICAgICAgICAgICAgIF9maWxsT25lUm93KGxvY2FsUm93WSwgX3NldFZlcnQpO1xuICAgICAgICAgICAgICAgIGlmKHJvdyAhPT0gMCAmJiByb3cgIT09IHRoaXMucm93LTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8g5o+S5YWl5LiA6KGMXG4gICAgICAgICAgICAgICAgICAgIF9maWxsT25lUm93KGxvY2FsUm93WSwgX3NldFZlcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgZm9yKGxldCByb3c9MDsgcm93PHRoaXMucm93OyByb3crKykge1xuICAgICAgICAgICAgICAgIGxldCBsb2NhbFJvd1kgPSAocm93ID09IHRoaXMucm93LTEpID8gdnQgOiAodmIgKyByb3cgKiB0aGlzLnN0ZXBSb3cpO1xuICAgICAgICAgICAgICAgIF9maWxsT25lUm93KGxvY2FsUm93WSwgX3NldFZlcnQyKTtcbiAgICAgICAgICAgICAgICBpZihyb3cgIT09IDAgJiYgcm93ICE9PSB0aGlzLnJvdy0xKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOaPkuWFpeS4gOihjFxuICAgICAgICAgICAgICAgICAgICBfZmlsbE9uZVJvdyhsb2NhbFJvd1ksIF9zZXRWZXJ0Mik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVdvcmxkVmVydHNOYXRpdmUoY29tcDogY2MuUmVuZGVyQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCBsb2NhbCA9IHRoaXMuX2xvY2FsO1xuICAgICAgICBsZXQgdmVydHMgPSB0aGlzLl9yZW5kZXJEYXRhLnZEYXRhc1swXTtcbiAgICAgICAgbGV0IGZsb2F0c1BlclZlcnQgPSB0aGlzLmZsb2F0c1BlclZlcnQ7XG4gICAgICBcbiAgICAgICAgbGV0IHZsID0gbG9jYWxbMF0sXG4gICAgICAgICAgICB2ciA9IGxvY2FsWzJdLFxuICAgICAgICAgICAgdmIgPSBsb2NhbFsxXSxcbiAgICAgICAgICAgIHZ0ID0gbG9jYWxbM107XG4gICAgICBcbiAgICAgICAgbGV0IGluZGV4OiBudW1iZXIgPSAwO1xuICAgICAgICAvLyBsZWZ0IGJvdHRvbVxuICAgICAgICB2ZXJ0c1tpbmRleF0gPSB2bDtcbiAgICAgICAgdmVydHNbaW5kZXgrMV0gPSB2YjtcbiAgICAgICAgaW5kZXggKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgLy8gcmlnaHQgYm90dG9tXG4gICAgICAgIHZlcnRzW2luZGV4XSA9IHZyO1xuICAgICAgICB2ZXJ0c1tpbmRleCsxXSA9IHZiO1xuICAgICAgICBpbmRleCArPSBmbG9hdHNQZXJWZXJ0O1xuICAgICAgICAvLyBsZWZ0IHRvcFxuICAgICAgICB2ZXJ0c1tpbmRleF0gPSB2bDtcbiAgICAgICAgdmVydHNbaW5kZXgrMV0gPSB2dDtcbiAgICAgICAgaW5kZXggKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgLy8gcmlnaHQgdG9wXG4gICAgICAgIHZlcnRzW2luZGV4XSA9IHZyO1xuICAgICAgICB2ZXJ0c1tpbmRleCsxXSA9IHZ0O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVXb3JsZFZlcnRzKGNvbXA6IGNjLlJlbmRlckNvbXBvbmVudCkge1xuICAgICAgICBpZiAoQ0NfTkFUSVZFUkVOREVSRVIpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV29ybGRWZXJ0c05hdGl2ZShjb21wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV29ybGRWZXJ0c1dlYkdMKGNvbXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIOabtOaWsOmhtueCueaVsOaNriAqL1xuICAgIHByb3RlY3RlZCB1cGRhdGVWZXJ0cyhjb21wOiBjYy5SZW5kZXJDb21wb25lbnQpIHtcbiAgICAgICAgbGV0IG5vZGU6IGNjLk5vZGUgPSBjb21wLm5vZGUsXG4gICAgICAgICAgICBjdzogbnVtYmVyID0gbm9kZS53aWR0aCxcbiAgICAgICAgICAgIGNoOiBudW1iZXIgPSBub2RlLmhlaWdodCxcbiAgICAgICAgICAgIGFwcHg6IG51bWJlciA9IG5vZGUuYW5jaG9yWCAqIGN3LFxuICAgICAgICAgICAgYXBweTogbnVtYmVyID0gbm9kZS5hbmNob3JZICogY2gsXG4gICAgICAgICAgICBsOiBudW1iZXIsXG4gICAgICAgICAgICBiOiBudW1iZXIsIFxuICAgICAgICAgICAgcjogbnVtYmVyLFxuICAgICAgICAgICAgdDogbnVtYmVyO1xuXG4gICAgICAgIGwgPSAtIGFwcHg7XG4gICAgICAgIGIgPSAtIGFwcHk7XG4gICAgICAgIHIgPSBjdyAtIGFwcHg7XG4gICAgICAgIHQgPSBjaCAtIGFwcHk7XG5cbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5fbG9jYWw7XG4gICAgICAgIGxvY2FsWzBdID0gbDtcbiAgICAgICAgbG9jYWxbMV0gPSBiO1xuICAgICAgICBsb2NhbFsyXSA9IHI7XG4gICAgICAgIGxvY2FsWzNdID0gdDtcbiAgICAgICAgdGhpcy51cGRhdGVXb3JsZFZlcnRzKGNvbXApO1xuICAgIH1cblxuICAgIC8qKiDmm7TmlrByZW5kZXJkYXRhICovXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVJlbmRlckRhdGEoY29tcDogTWVzaFRleHR1cmUpIHtcbiAgICAgICAgaWYgKGNvbXAuX3ZlcnRzRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXREYXRhKGNvbXApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVVnMoY29tcCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZlcnRzKGNvbXApO1xuICAgICAgICAgICAgY29tcC5fdmVydHNEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSBcblxuICAgIGZpbGxCdWZmZXJzKGNvbXA6IGNjLlJlbmRlckNvbXBvbmVudCwgcmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHJlbmRlcmVyLndvcmxkTWF0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV29ybGRWZXJ0cyhjb21wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZW5kZXJEYXRhID0gdGhpcy5fcmVuZGVyRGF0YTtcblxuICAgICAgICAvLyB2RGF0YemHjOWMheWQqyBwb3PvvIwgdXbvvIwgY29sb3LmlbDmja7vvIwgaURhdGHkuK3ljIXlkKvpobbngrnntKLlvJVcbiAgICAgICAgbGV0IHZEYXRhID0gcmVuZGVyRGF0YS52RGF0YXNbMF07XG4gICAgICAgIGxldCBpRGF0YSA9IHJlbmRlckRhdGEuaURhdGFzWzBdO1xuXG4gICAgICAgIGxldCBidWZmZXIgPSB0aGlzLmdldEJ1ZmZlcigpO1xuICAgICAgICBsZXQgb2Zmc2V0SW5mbyA9IGJ1ZmZlci5yZXF1ZXN0KHRoaXMudmVydGljZXNDb3VudCwgdGhpcy5pbmRpY2VzQ291bnQpO1xuXG4gICAgICAgIC8vIGJ1ZmZlciBkYXRhIG1heSBiZSByZWFsbG9jLCBuZWVkIGdldCByZWZlcmVuY2UgYWZ0ZXIgcmVxdWVzdC5cblxuICAgICAgICAvLyBmaWxsIHZlcnRpY2VzXG4gICAgICAgIGxldCB2ZXJ0ZXhPZmZzZXQgPSBvZmZzZXRJbmZvLmJ5dGVPZmZzZXQgPj4gMixcbiAgICAgICAgICAgIHZidWYgPSBidWZmZXIuX3ZEYXRhO1xuICAgICAgICBpZiAodkRhdGEubGVuZ3RoICsgdmVydGV4T2Zmc2V0ID4gdmJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZidWYuc2V0KHZEYXRhLnN1YmFycmF5KDAsIHZidWYubGVuZ3RoIC0gdmVydGV4T2Zmc2V0KSwgdmVydGV4T2Zmc2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZidWYuc2V0KHZEYXRhLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlsbCBpbmRpY2VzXG4gICAgICAgIGxldCBpYnVmID0gYnVmZmVyLl9pRGF0YSxcbiAgICAgICAgICAgIGluZGljZU9mZnNldCA9IG9mZnNldEluZm8uaW5kaWNlT2Zmc2V0LFxuICAgICAgICAgICAgdmVydGV4SWQgPSBvZmZzZXRJbmZvLnZlcnRleE9mZnNldDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBpRGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlidWZbaW5kaWNlT2Zmc2V0KytdID0gdmVydGV4SWQgKyBpRGF0YVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhY2tUb0R5bmFtaWNBdGxhcyhjb21wLCBmcmFtZSkge1xuICAgICAgICBpZiAoQ0NfVEVTVCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFmcmFtZS5fb3JpZ2luYWwgJiYgY2MuZHluYW1pY0F0bGFzTWFuYWdlciAmJiBmcmFtZS5fdGV4dHVyZS5wYWNrYWJsZSkge1xuICAgICAgICAgICAgbGV0IHBhY2tlZEZyYW1lID0gY2MuZHluYW1pY0F0bGFzTWFuYWdlci5pbnNlcnRTcHJpdGVGcmFtZShmcmFtZSk7ICAgICAgICAgICAgXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGlmIChwYWNrZWRGcmFtZSkge1xuICAgICAgICAgICAgICAgIGZyYW1lLl9zZXREeW5hbWljQXRsYXNGcmFtZShwYWNrZWRGcmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hdGVyaWFsID0gY29tcC5fbWF0ZXJpYWxzWzBdO1xuICAgICAgICBpZiAoIW1hdGVyaWFsKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBpZiAobWF0ZXJpYWwuZ2V0UHJvcGVydHkoJ3RleHR1cmUnKSAhPT0gZnJhbWUuX3RleHR1cmUpIHtcbiAgICAgICAgICAgIC8vIHRleHR1cmUgd2FzIHBhY2tlZCB0byBkeW5hbWljIGF0bGFzLCBzaG91bGQgdXBkYXRlIHV2c1xuICAgICAgICAgICAgY29tcC5fdmVydHNEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICBjb21wLl91cGRhdGVNYXRlcmlhbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxufSAgICJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Logic/Manager/ConfigMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '99faeZt2e5AobpvQuyUBgaI', 'ConfigMgr');
// Script/Logic/Manager/ConfigMgr.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var BaseMgr_1 = require("./BaseMgr");
var ConfigMgr = /** @class */ (function (_super) {
    __extends(ConfigMgr, _super);
    function ConfigMgr() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /** 加载配置文件 */
    ConfigMgr.prototype.loadConfigs = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/];
            });
        });
    };
    /** 通知其他manager */
    ConfigMgr.prototype.onConfigChange = function () {
        this.game.playerMgr.onConfigChange();
    };
    return ConfigMgr;
}(BaseMgr_1.BaseMgr));
exports.default = ConfigMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvTG9naWMvTWFuYWdlci9Db25maWdNZ3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscUNBQW9DO0FBRXBDO0lBQXVDLDZCQUFPO0lBQTlDOztJQVdBLENBQUM7SUFURyxhQUFhO0lBQ1AsK0JBQVcsR0FBakI7Ozs7OztLQUVDO0lBRUQsa0JBQWtCO0lBQ1gsa0NBQWMsR0FBckI7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsQ0FBQTtJQUN4QyxDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQVhBLEFBV0MsQ0FYc0MsaUJBQU8sR0FXN0MiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlTWdyIH0gZnJvbSBcIi4vQmFzZU1nclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25maWdNZ3IgZXh0ZW5kcyBCYXNlTWdyIHtcblxuICAgIC8qKiDliqDovb3phY3nva7mlofku7YgKi9cbiAgICBhc3luYyBsb2FkQ29uZmlncygpIHtcblxuICAgIH1cblxuICAgIC8qKiDpgJrnn6Xlhbbku5ZtYW5hZ2VyICovXG4gICAgcHVibGljIG9uQ29uZmlnQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmdhbWUucGxheWVyTWdyLm9uQ29uZmlnQ2hhbmdlKClcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UICapture_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '07ab8hfkXlPXJHF8cmBfVtX', 'UICapture_Auto');
// Script/AutoScripts/UICapture_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UICapture_Auto = /** @class */ (function (_super) {
    __extends(UICapture_Auto, _super);
    function UICapture_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Back = null;
        _this.Capture = null;
        _this.Pen = null;
        _this.Reaser = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UICapture_Auto.prototype, "Back", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UICapture_Auto.prototype, "Capture", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UICapture_Auto.prototype, "Pen", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UICapture_Auto.prototype, "Reaser", void 0);
    UICapture_Auto = __decorate([
        ccclass
    ], UICapture_Auto);
    return UICapture_Auto;
}(cc.Component));
exports.default = UICapture_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlDYXB0dXJlX0F1dG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZ0VBQTBEO0FBRXBELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRTFDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBVUM7UUFSQSxVQUFJLEdBQWUsSUFBSSxDQUFDO1FBRXhCLGFBQU8sR0FBZSxJQUFJLENBQUM7UUFFM0IsU0FBRyxHQUFlLElBQUksQ0FBQztRQUV2QixZQUFNLEdBQWUsSUFBSSxDQUFDOztJQUUzQixDQUFDO0lBUkE7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQztnREFDRztJQUV4QjtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDO21EQUNNO0lBRTNCO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7K0NBQ0U7SUFFdkI7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQztrREFDSztJQVJOLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FVbEM7SUFBRCxxQkFBQztDQVZELEFBVUMsQ0FWMkMsRUFBRSxDQUFDLFNBQVMsR0FVdkQ7a0JBVm9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBCdXR0b25QbHVzIGZyb20gXCIuLy4uL0NvbW1vbi9Db21wb25lbnRzL0J1dHRvblBsdXNcIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUNhcHR1cmVfQXV0byBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cdEBwcm9wZXJ0eShCdXR0b25QbHVzKVxuXHRCYWNrOiBCdXR0b25QbHVzID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdENhcHR1cmU6IEJ1dHRvblBsdXMgPSBudWxsO1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0UGVuOiBCdXR0b25QbHVzID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdFJlYXNlcjogQnV0dG9uUGx1cyA9IG51bGw7XG4gXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/BroadCasts/BroadcastCenter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c1631mjt99N+bqKIUwCcgeG', 'BroadcastCenter');
// Script/Common/BroadCasts/BroadcastCenter.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BroadcastCenter = exports.BuildingData = void 0;
var BroadCast_1 = require("../Utils/BroadCast");
var BuildingData = /** @class */ (function () {
    function BuildingData() {
    }
    return BuildingData;
}());
exports.BuildingData = BuildingData;
var BroadcastCenter = /** @class */ (function () {
    function BroadcastCenter() {
    }
    BroadcastCenter.buildingState = new BroadCast_1.Broadcast();
    return BroadcastCenter;
}());
exports.BroadcastCenter = BroadcastCenter;
BroadcastCenter.buildingState.on(function (data) {
    console.log(data.id, data.state);
}, this);
BroadcastCenter.buildingState.dispatch({ id: 1, state: "success" });

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0Jyb2FkQ2FzdHMvQnJvYWRjYXN0Q2VudGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdEQUErQztBQUUvQztJQUFBO0lBR0EsQ0FBQztJQUFELG1CQUFDO0FBQUQsQ0FIQSxBQUdDLElBQUE7QUFIWSxvQ0FBWTtBQUt6QjtJQUFBO0lBRUEsQ0FBQztJQURVLDZCQUFhLEdBQUcsSUFBSSxxQkFBUyxFQUFnQixDQUFDO0lBQ3pELHNCQUFDO0NBRkQsQUFFQyxJQUFBO0FBRlksMENBQWU7QUFLNUIsZUFBZSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsVUFBQyxJQUFJO0lBQ2xDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDckMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBR1QsZUFBZSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnJvYWRjYXN0IH0gZnJvbSBcIi4uL1V0aWxzL0Jyb2FkQ2FzdFwiO1xuXG5leHBvcnQgY2xhc3MgQnVpbGRpbmdEYXRhIHtcbiAgICBpZDogbnVtYmVyO1xuICAgIHN0YXRlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBCcm9hZGNhc3RDZW50ZXIge1xuICAgIHN0YXRpYyBidWlsZGluZ1N0YXRlID0gbmV3IEJyb2FkY2FzdDxCdWlsZGluZ0RhdGE+KCk7ICAgIFxufVxuXG5cbkJyb2FkY2FzdENlbnRlci5idWlsZGluZ1N0YXRlLm9uKChkYXRhKSA9PiB7XG4gICAgY29uc29sZS5sb2coZGF0YS5pZCwgZGF0YS5zdGF0ZSk7XG59LCB0aGlzKTtcblxuXG5Ccm9hZGNhc3RDZW50ZXIuYnVpbGRpbmdTdGF0ZS5kaXNwYXRjaCh7aWQ6IDEsIHN0YXRlOiBcInN1Y2Nlc3NcIn0pO1xuXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/ButtonPlus.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3eaf8iLxgtDEKVcEmFvrbqy', 'ButtonPlus');
// Script/Common/Components/ButtonPlus.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var SoundMgr_1 = require("../../UIFrame/SoundMgr");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executeInEditMode = _a.executeInEditMode, menu = _a.menu, help = _a.help, inspector = _a.inspector;
var ButtonPlus = /** @class */ (function (_super) {
    __extends(ButtonPlus, _super);
    function ButtonPlus() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.audioUrl = '';
        _this.openContinuous = true;
        _this.continuousTime = 1;
        // false表示可以点击
        _this.continuous = false;
        // 定时器
        _this._continuousTimer = null;
        // 长按触发
        _this.openLongPress = false;
        // 触发时间
        _this.longPressTime = 1;
        _this.longPressFlag = false;
        _this.longPressTimer = null;
        return _this;
    }
    ButtonPlus.prototype.onEnable = function () {
        this.continuous = false;
        _super.prototype.onEnable.call(this);
        if (!CC_EDITOR) {
        }
    };
    ButtonPlus.prototype.onDisable = function () {
        if (this._continuousTimer) {
            clearTimeout(this._continuousTimer);
            this._continuousTimer = null;
        }
        if (this.longPressTimer) {
            clearTimeout(this.longPressTimer);
            this.longPressTimer = null;
        }
        _super.prototype.onDisable.call(this);
    };
    /** 重写 */
    ButtonPlus.prototype._onTouchBegan = function (event) {
        if (!this.interactable || !this.enabledInHierarchy)
            return;
        if (this.openLongPress && !this.longPressFlag) { // 开启长按
            if (this.longPressTimer)
                clearTimeout(this.longPressTimer);
            this.longPressTimer = setTimeout(function () {
                // 还在触摸中 触发事件
                if (this["_pressed"]) {
                    this.node.emit('longclickStart', this);
                    this.longPressFlag = true;
                }
            }.bind(this), this.longPressTime * 1000);
        }
        this["_pressed"] = true;
        this["_updateState"]();
        event.stopPropagation();
    };
    ButtonPlus.prototype._onTouchEnded = function (event) {
        if (!this.interactable || !this.enabledInHierarchy)
            return;
        if (this["_pressed"] && this.longPressFlag) {
            this.node.emit('longclickEnd', this);
            this.longPressFlag = false;
        }
        else if (this["_pressed"] && !this.continuous) {
            this.continuous = this.openContinuous ? true : false;
            cc.Component.EventHandler.emitEvents(this.clickEvents, event);
            this.node.emit('click', event);
            SoundMgr_1.default.inst.playEffect(this.audioUrl);
            if (this.openContinuous) {
                this._continuousTimer = setTimeout(function () {
                    this.continuous = false;
                }.bind(this), this.continuousTime * 1000);
            }
        }
        this["_pressed"] = false;
        this["_updateState"]();
        event.stopPropagation();
    };
    ButtonPlus.prototype._onTouchCancel = function () {
        if (!this.interactable || !this.enabledInHierarchy)
            return;
        if (this["_pressed"] && this.longPressFlag) {
            this.node.emit('longclickEnd', this);
            this.longPressFlag = false;
        }
        this["_pressed"] = false;
        this["_updateState"]();
    };
    /** 添加点击事件 */
    ButtonPlus.prototype.addClick = function (callback, target) {
        this.node.off('click');
        this.node.on('click', callback, target);
    };
    /** 添加一个长按事件 */
    ButtonPlus.prototype.addLongClick = function (startFunc, endFunc, target) {
        this.node.off('longclickStart');
        this.node.off('longclickEnd');
        this.node.on('longclickStart', startFunc, target);
        this.node.on('longclickEnd', endFunc, target);
    };
    __decorate([
        property({ tooltip: "音效路径", type: '', multiline: true, formerlySerializedAs: '_N$string' })
    ], ButtonPlus.prototype, "audioUrl", void 0);
    __decorate([
        property({ tooltip: "屏蔽连续点击" })
    ], ButtonPlus.prototype, "openContinuous", void 0);
    __decorate([
        property({ tooltip: "屏蔽时间, 单位:秒" })
    ], ButtonPlus.prototype, "continuousTime", void 0);
    __decorate([
        property({ tooltip: "是否开启长按事件" })
    ], ButtonPlus.prototype, "openLongPress", void 0);
    __decorate([
        property({ tooltip: "长按时间" })
    ], ButtonPlus.prototype, "longPressTime", void 0);
    ButtonPlus = __decorate([
        ccclass,
        menu('i18n:MAIN_MENU.component.ui/ButtonPlus'),
        executeInEditMode,
        help('i18n:COMPONENT.help_url.button'),
        inspector('packages://buttonplus/inspector.js')
    ], ButtonPlus);
    return ButtonPlus;
}(cc.Button));
exports.default = ButtonPlus;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvQnV0dG9uUGx1cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBOEM7QUFFeEMsSUFBQSxLQUFnRSxFQUFFLENBQUMsVUFBVSxFQUE1RSxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxpQkFBaUIsdUJBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxTQUFTLGVBQWlCLENBQUM7QUFNcEY7SUFBd0MsOEJBQVM7SUFBakQ7UUFBQSxxRUF1R0M7UUFwR0csY0FBUSxHQUFHLEVBQUUsQ0FBQztRQUVkLG9CQUFjLEdBQUcsSUFBSSxDQUFDO1FBRXRCLG9CQUFjLEdBQUcsQ0FBQyxDQUFDO1FBRW5CLGNBQWM7UUFDZCxnQkFBVSxHQUFZLEtBQUssQ0FBQztRQUM1QixNQUFNO1FBQ04sc0JBQWdCLEdBQUcsSUFBSSxDQUFDO1FBR3hCLE9BQU87UUFFUCxtQkFBYSxHQUFHLEtBQUssQ0FBQztRQUN0QixPQUFPO1FBRVAsbUJBQWEsR0FBRyxDQUFDLENBQUM7UUFDbEIsbUJBQWEsR0FBRyxLQUFLLENBQUM7UUFFZCxvQkFBYyxHQUFHLElBQUksQ0FBQzs7SUFnRmxDLENBQUM7SUE5RUcsNkJBQVEsR0FBUjtRQUNJLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLGlCQUFNLFFBQVEsV0FBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxTQUFTLEVBQUU7U0FDZjtJQUNMLENBQUM7SUFDRCw4QkFBUyxHQUFUO1FBQ0ksSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDdkIsWUFBWSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7U0FDaEM7UUFDRCxJQUFHLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDcEIsWUFB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QyxDQUFDO3NEQUNkO0lBVW5CO1FBREMsUUFBUSxDQUFDLEVBQUMsT0FBTyxFQUFFLFVBQVUsRUFBQyxDQUFDO3FEQUNWO0lBR3RCO1FBREMsUUFBUSxDQUFDLEVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBQyxDQUFDO3FEQUNWO0lBcEJELFVBQVU7UUFMOUIsT0FBTztRQUNQLElBQUksQ0FBQyx3Q0FBd0MsQ0FBQztRQUM5QyxpQkFBaUI7UUFDakIsSUFBSSxDQUFDLGdDQUFnQyxDQUFDO1FBQ3RDLFNBQVMsQ0FBQyxvQ0FBb0MsQ0FBQztPQUMzQixVQUFVLENBdUc5QjtJQUFELGlCQUFDO0NBdkdELEFBdUdDLENBdkd1QyxFQUFFLENBQUMsTUFBTSxHQXVHaEQ7a0JBdkdvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNvdW5kTWdyIGZyb20gXCIuLi8uLi9VSUZyYW1lL1NvdW5kTWdyXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eSwgZXhlY3V0ZUluRWRpdE1vZGUsIG1lbnUsIGhlbHAsIGluc3BlY3Rvcn0gPSBjYy5fZGVjb3JhdG9yO1xuQGNjY2xhc3NcbkBtZW51KCdpMThuOk1BSU5fTUVOVS5jb21wb25lbnQudWkvQnV0dG9uUGx1cycpXG5AZXhlY3V0ZUluRWRpdE1vZGVcbkBoZWxwKCdpMThuOkNPTVBPTkVOVC5oZWxwX3VybC5idXR0b24nKVxuQGluc3BlY3RvcigncGFja2FnZXM6Ly9idXR0b25wbHVzL2luc3BlY3Rvci5qcycpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b25QbHVzIGV4dGVuZHMgY2MuQnV0dG9uIHtcblxuICAgIEBwcm9wZXJ0eSh7dG9vbHRpcDpcIumfs+aViOi3r+W+hFwiLCB0eXBlOiAnJywgbXVsdGlsaW5lOiB0cnVlLCBmb3JtZXJseVNlcmlhbGl6ZWRBczogJ19OJHN0cmluZyd9KVxuICAgIGF1ZGlvVXJsID0gJyc7XG4gICAgQHByb3BlcnR5KHt0b29sdGlwOiBcIuWxj+iUvei/nue7reeCueWHu1wifSlcbiAgICBvcGVuQ29udGludW91cyA9IHRydWU7XG4gICAgQHByb3BlcnR5KHt0b29sdGlwOlwi5bGP6JS95pe26Ze0LCDljZXkvY0656eSXCJ9KVxuICAgIGNvbnRpbnVvdXNUaW1lID0gMTtcblxuICAgIC8vIGZhbHNl6KGo56S65Y+v5Lul54K55Ye7XG4gICAgY29udGludW91czogYm9vbGVhbiA9IGZhbHNlO1xuICAgIC8vIOWumuaXtuWZqFxuICAgIF9jb250aW51b3VzVGltZXIgPSBudWxsO1xuICAgIFxuXG4gICAgLy8g6ZW/5oyJ6Kem5Y+RXG4gICAgQHByb3BlcnR5KHt0b29sdGlwOiBcIuaYr+WQpuW8gOWQr+mVv+aMieS6i+S7tlwifSlcbiAgICBvcGVuTG9uZ1ByZXNzID0gZmFsc2U7XG4gICAgLy8g6Kem5Y+R5pe26Ze0XG4gICAgQHByb3BlcnR5KHt0b29sdGlwOiBcIumVv+aMieaXtumXtFwifSlcbiAgICBsb25nUHJlc3NUaW1lID0gMTtcbiAgICBsb25nUHJlc3NGbGFnID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIGxvbmdQcmVzc1RpbWVyID0gbnVsbDtcbiAgICBcbiAgICBvbkVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5jb250aW51b3VzID0gZmFsc2U7XG4gICAgICAgIHN1cGVyLm9uRW5hYmxlKCk7XG4gICAgICAgIGlmICghQ0NfRURJVE9SKSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25EaXNhYmxlKCkge1xuICAgICAgICBpZiAodGhpcy5fY29udGludW91c1RpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY29udGludW91c1RpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRpbnVvdXNUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5sb25nUHJlc3NUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubG9uZ1ByZXNzVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5sb25nUHJlc3NUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIub25EaXNhYmxlKCk7XG4gICAgfVxuXG4gICAgLyoqIOmHjeWGmSAqL1xuICAgIF9vblRvdWNoQmVnYW4gKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGFibGUgfHwgIXRoaXMuZW5hYmxlZEluSGllcmFyY2h5KSByZXR1cm47XG4gXG4gICAgICAgIGlmKHRoaXMub3BlbkxvbmdQcmVzcyAmJiAhdGhpcy5sb25nUHJlc3NGbGFnKSB7ICAgIC8vIOW8gOWQr+mVv+aMiVxuICAgICAgICAgICAgaWYodGhpcy5sb25nUHJlc3NUaW1lcikgY2xlYXJUaW1lb3V0KHRoaXMubG9uZ1ByZXNzVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5sb25nUHJlc3NUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8g6L+Y5Zyo6Kem5pG45LitIOinpuWPkeS6i+S7tlxuICAgICAgICAgICAgICAgIGlmKHRoaXNbXCJfcHJlc3NlZFwiXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZW1pdCgnbG9uZ2NsaWNrU3RhcnQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb25nUHJlc3NGbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LmJpbmQodGhpcyksIHRoaXMubG9uZ1ByZXNzVGltZSAqIDEwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpc1tcIl9wcmVzc2VkXCJdID0gdHJ1ZTtcbiAgICAgICAgdGhpc1tcIl91cGRhdGVTdGF0ZVwiXSgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgX29uVG91Y2hFbmRlZChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3RhYmxlIHx8ICF0aGlzLmVuYWJsZWRJbkhpZXJhcmNoeSkgcmV0dXJuO1xuICAgICAgICBpZih0aGlzW1wiX3ByZXNzZWRcIl0gJiYgdGhpcy5sb25nUHJlc3NGbGFnKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGUuZW1pdCgnbG9uZ2NsaWNrRW5kJywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmxvbmdQcmVzc0ZsYWcgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzW1wiX3ByZXNzZWRcIl0gJiYgIXRoaXMuY29udGludW91cykge1xuICAgICAgICAgICAgdGhpcy5jb250aW51b3VzID0gdGhpcy5vcGVuQ29udGludW91cyA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgIGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIuZW1pdEV2ZW50cyh0aGlzLmNsaWNrRXZlbnRzLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLm5vZGUuZW1pdCgnY2xpY2snLCBldmVudCk7XG4gICAgICAgICAgICBTb3VuZE1nci5pbnN0LnBsYXlFZmZlY3QodGhpcy5hdWRpb1VybClcbiAgICAgICAgICAgIGlmICh0aGlzLm9wZW5Db250aW51b3VzKSB7XG4gICAgICAgICAgICAgICB0aGlzLl9jb250aW51b3VzVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGludW91cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgdGhpcy5jb250aW51b3VzVGltZSAqIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXNbXCJfcHJlc3NlZFwiXSA9IGZhbHNlO1xuICAgICAgICB0aGlzW1wiX3VwZGF0ZVN0YXRlXCJdKCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgICBfb25Ub3VjaENhbmNlbCAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGFibGUgfHwgIXRoaXMuZW5hYmxlZEluSGllcmFyY2h5KSByZXR1cm47XG4gICAgICAgIGlmKHRoaXNbXCJfcHJlc3NlZFwiXSAmJiB0aGlzLmxvbmdQcmVzc0ZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMubm9kZS5lbWl0KCdsb25nY2xpY2tFbmQnLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubG9uZ1ByZXNzRmxhZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbXCJfcHJlc3NlZFwiXSA9IGZhbHNlO1xuICAgICAgICB0aGlzW1wiX3VwZGF0ZVN0YXRlXCJdKCk7XG4gICAgfVxuICAgIC8qKiDmt7vliqDngrnlh7vkuovku7YgKi9cbiAgICBhZGRDbGljayhjYWxsYmFjazogRnVuY3Rpb24sIHRhcmdldDogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMubm9kZS5vZmYoJ2NsaWNrJyk7XG4gICAgICAgIHRoaXMubm9kZS5vbignY2xpY2snLCBjYWxsYmFjaywgdGFyZ2V0KTtcbiAgICB9XG4gICAgLyoqIOa3u+WKoOS4gOS4qumVv+aMieS6i+S7tiAqL1xuICAgIGFkZExvbmdDbGljayhzdGFydEZ1bmM6IEZ1bmN0aW9uLCBlbmRGdW5jOiBGdW5jdGlvbiwgdGFyZ2V0OiBPYmplY3QpIHtcbiAgICAgICAgdGhpcy5ub2RlLm9mZignbG9uZ2NsaWNrU3RhcnQnKTtcbiAgICAgICAgdGhpcy5ub2RlLm9mZignbG9uZ2NsaWNrRW5kJyk7XG4gICAgICAgIHRoaXMubm9kZS5vbignbG9uZ2NsaWNrU3RhcnQnLCBzdGFydEZ1bmMsIHRhcmdldCk7XG4gICAgICAgIHRoaXMubm9kZS5vbignbG9uZ2NsaWNrRW5kJywgZW5kRnVuYywgdGFyZ2V0KTtcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Light/LightStruct.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c719fETXCJI04htRCnD+NLA', 'LightStruct');
// Script/Common/Light/LightStruct.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Intersection = void 0;
/** 交点 */
var Intersection = /** @class */ (function () {
    function Intersection(x, y, len, angle) {
        this.x = x;
        this.y = y;
        this.len = len;
        this.angle = angle;
    }
    return Intersection;
}());
exports.Intersection = Intersection;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0xpZ2h0L0xpZ2h0U3RydWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLFNBQVM7QUFDVDtJQU1JLHNCQUFZLENBQVMsRUFBRSxDQUFTLEVBQUUsR0FBVyxFQUFFLEtBQWM7UUFDekQsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUNMLG1CQUFDO0FBQUQsQ0FaQSxBQVlDLElBQUE7QUFaWSxvQ0FBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiDkuqTngrkgKi9cbmV4cG9ydCBjbGFzcyBJbnRlcnNlY3Rpb24ge1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgbGVuOiBudW1iZXI7ICAgICAgICAgICAgICAgIC8vIOivpeeCueWIsOWFiea6kOeahOi3neemu1xuICAgIGFuZ2xlPzogbnVtYmVyOyAgICAgICAgICAgICAvLyDop5LluqYsIOmcgOimgeaOkuW6j+eUqFxuXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGxlbjogbnVtYmVyLCBhbmdsZT86IG51bWJlcikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Mobx/mobx.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}(function (global){
"use strict";
cc._RF.push(module, 'de3aaq1fItEy5tKcvHOTs15', 'mobx');
// Script/Common/Mobx/mobx.js

"use strict";

exports.__esModule = true;
exports.$mobx = void 0;
exports.FlowCancellationError = FlowCancellationError;
exports.Reaction = exports.ObservableSet = exports.ObservableMap = void 0;
exports._allowStateChanges = allowStateChanges;
exports.runInAction = exports._allowStateChangesInsideComputed = runInAction;
exports._allowStateReadsEnd = allowStateReadsEnd;
exports._allowStateReadsStart = allowStateReadsStart;
exports._autoAction = void 0;
exports._endAction = _endAction;
exports._getAdministration = getAdministration;
exports._getGlobalState = getGlobalState;
exports._interceptReads = interceptReads;
exports._isComputingDerivation = isComputingDerivation;
exports._resetGlobalState = resetGlobalState;
exports._startAction = _startAction;
exports.action = void 0;
exports.autorun = autorun;
exports.computed = exports.comparer = void 0;
exports.configure = configure;
exports.createAtom = createAtom;
exports.defineProperty = apiDefineProperty;
exports.entries = entries;
exports.extendObservable = extendObservable;
exports.flow = void 0;
exports.flowResult = flowResult;
exports.get = get;
exports.getAtom = getAtom;
exports.getDebugName = getDebugName;
exports.getDependencyTree = getDependencyTree;
exports.getObserverTree = getObserverTree;
exports.has = has;
exports.intercept = intercept;
exports.isAction = isAction;
exports.isBoxedObservable = void 0;
exports.isComputed = isComputed;
exports.isComputedProp = isComputedProp;
exports.isFlow = isFlow;
exports.isFlowCancellationError = isFlowCancellationError;
exports.isObservable = isObservable;
exports.isObservableArray = isObservableArray;
exports.isObservableMap = void 0;
exports.isObservableObject = isObservableObject;
exports.isObservableProp = isObservableProp;
exports.isObservableSet = void 0;
exports.keys = keys;
exports.makeAutoObservable = makeAutoObservable;
exports.makeObservable = makeObservable;
exports.observable = void 0;
exports.observe = observe;
exports.onBecomeObserved = onBecomeObserved;
exports.onBecomeUnobserved = onBecomeUnobserved;
exports.onReactionError = onReactionError;
exports.override = void 0;
exports.ownKeys = apiOwnKeys;
exports.reaction = reaction;
exports.remove = remove;
exports.set = set;
exports.spy = spy;
exports.toJS = toJS;
exports.trace = trace;
exports.transaction = transaction;
exports.untracked = untracked;
exports.values = values;
exports.when = when;
var NODE_ENV = "production";
var niceErrors = {
  0: "Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",
  1: function _(annotationType, key) {
    return "Cannot apply '" + annotationType + "' to '" + key.toString() + "': Field not found.";
  },

  /*
  2(prop) {
      return `invalid decorator for '${prop.toString()}'`
  },
  3(prop) {
      return `Cannot decorate '${prop.toString()}': action can only be used on properties with a function value.`
  },
  4(prop) {
      return `Cannot decorate '${prop.toString()}': computed can only be used on getter properties.`
  },
  */
  5: "'keys()' can only be used on observable objects, arrays, sets and maps",
  6: "'values()' can only be used on observable objects, arrays, sets and maps",
  7: "'entries()' can only be used on observable objects, arrays and maps",
  8: "'set()' can only be used on observable objects, arrays and maps",
  9: "'remove()' can only be used on observable objects, arrays and maps",
  10: "'has()' can only be used on observable objects, arrays and maps",
  11: "'get()' can only be used on observable objects, arrays and maps",
  12: "Invalid annotation",
  13: "Dynamic observable objects cannot be frozen",
  14: "Intercept handlers should return nothing or a change object",
  15: "Observable arrays cannot be frozen",
  16: "Modification exception: the internal structure of an observable array was changed.",
  17: function _(index, length) {
    return "[mobx.array] Index out of bounds, " + index + " is larger than " + length;
  },
  18: "mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",
  19: function _(other) {
    return "Cannot initialize from classes that inherit from Map: " + other.constructor.name;
  },
  20: function _(other) {
    return "Cannot initialize map from " + other;
  },
  21: function _(dataStructure) {
    return "Cannot convert to map from '" + dataStructure + "'";
  },
  22: "mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",
  23: "It is not possible to get index atoms from arrays",
  24: function _(thing) {
    return "Cannot obtain administration from " + thing;
  },
  25: function _(property, name) {
    return "the entry '" + property + "' does not exist in the observable map '" + name + "'";
  },
  26: "please specify a property",
  27: function _(property, name) {
    return "no observable property '" + property.toString() + "' found on the observable object '" + name + "'";
  },
  28: function _(thing) {
    return "Cannot obtain atom from " + thing;
  },
  29: "Expecting some object",
  30: "invalid action stack. did you forget to finish an action?",
  31: "missing option for computed: get",
  32: function _(name, derivation) {
    return "Cycle detected in computation " + name + ": " + derivation;
  },
  33: function _(name) {
    return "The setter of computed value '" + name + "' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?";
  },
  34: function _(name) {
    return "[ComputedValue '" + name + "'] It is not possible to assign a new value to a computed value.";
  },
  35: "There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",
  36: "isolateGlobalState should be called before MobX is running any reactions",
  37: function _(method) {
    return "[mobx] `observableArray." + method + "()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()." + method + "()` instead";
  },
  38: "'ownKeys()' can only be used on observable objects",
  39: "'defineProperty()' can only be used on observable objects"
};
var errors = NODE_ENV !== "production" ? niceErrors : {};

function die(error) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }

  if (NODE_ENV !== "production") {
    var e = typeof error === "string" ? error : errors[error];
    if (typeof e === "function") e = e.apply(null, args);
    throw new Error("[MobX] " + e);
  }

  throw new Error(typeof error === "number" ? "[MobX] minified error nr: " + error + (args.length ? " " + args.map(String).join(",") : "") + ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts" : "[MobX] " + error);
}

var mockGlobal = {};

function getGlobal() {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }

  if (typeof window !== "undefined") {
    return window;
  }

  if (typeof global !== "undefined") {
    return global;
  }

  if (typeof self !== "undefined") {
    return self;
  }

  return mockGlobal;
}

var assign = Object.assign;
var getDescriptor = Object.getOwnPropertyDescriptor;
var defineProperty = Object.defineProperty;
var objectPrototype = Object.prototype;
var EMPTY_ARRAY = [];
Object.freeze(EMPTY_ARRAY);
var EMPTY_OBJECT = {};
Object.freeze(EMPTY_OBJECT);
var hasProxy = typeof Proxy !== "undefined";
var plainObjectString = /*#__PURE__*/Object.toString();

function assertProxies() {
  if (!hasProxy) {
    die(NODE_ENV !== "production" ? "`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`" : "Proxy not available");
  }
}

function warnAboutProxyRequirement(msg) {
  if (NODE_ENV !== "production" && globalState.verifyProxies) {
    die("MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to " + msg);
  }
}

function getNextId() {
  return ++globalState.mobxGuid;
}
/**
 * Makes sure that the provided function is invoked at most once.
 */


function once(func) {
  var invoked = false;
  return function () {
    if (invoked) return;
    invoked = true;
    return func.apply(this, arguments);
  };
}

var noop = function noop() {};

function isFunction(fn) {
  return typeof fn === "function";
}

function isStringish(value) {
  var t = typeof value;

  switch (t) {
    case "string":
    case "symbol":
    case "number":
      return true;
  }

  return false;
}

function isObject(value) {
  return value !== null && typeof value === "object";
}

function isPlainObject(value) {
  var _proto$constructor;

  if (!isObject(value)) return false;
  var proto = Object.getPrototypeOf(value);
  if (proto == null) return true;
  return ((_proto$constructor = proto.constructor) == null ? void 0 : _proto$constructor.toString()) === plainObjectString;
} // https://stackoverflow.com/a/37865170


function isGenerator(obj) {
  var constructor = obj == null ? void 0 : obj.constructor;
  if (!constructor) return false;
  if ("GeneratorFunction" === constructor.name || "GeneratorFunction" === constructor.displayName) return true;
  return false;
}

function addHiddenProp(object, propName, value) {
  defineProperty(object, propName, {
    enumerable: false,
    writable: true,
    configurable: true,
    value: value
  });
}

function addHiddenFinalProp(object, propName, value) {
  defineProperty(object, propName, {
    enumerable: false,
    writable: false,
    configurable: true,
    value: value
  });
}

function createInstanceofPredicate(name, theClass) {
  var propName = "isMobX" + name;
  theClass.prototype[propName] = true;
  return function (x) {
    return isObject(x) && x[propName] === true;
  };
}

function isES6Map(thing) {
  return thing instanceof Map;
}

function isES6Set(thing) {
  return thing instanceof Set;
}

var hasGetOwnPropertySymbols = typeof Object.getOwnPropertySymbols !== "undefined";
/**
 * Returns the following: own enumerable keys and symbols.
 */

function getPlainObjectKeys(object) {
  var keys = Object.keys(object); // Not supported in IE, so there are not going to be symbol props anyway...

  if (!hasGetOwnPropertySymbols) return keys;
  var symbols = Object.getOwnPropertySymbols(object);
  if (!symbols.length) return keys;
  return [].concat(keys, symbols.filter(function (s) {
    return objectPrototype.propertyIsEnumerable.call(object, s);
  }));
} // From Immer utils
// Returns all own keys, including non-enumerable and symbolic


var ownKeys = typeof Reflect !== "undefined" && Reflect.ownKeys ? Reflect.ownKeys : hasGetOwnPropertySymbols ? function (obj) {
  return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj));
} :
/* istanbul ignore next */
Object.getOwnPropertyNames;

function stringifyKey(key) {
  if (typeof key === "string") return key;
  if (typeof key === "symbol") return key.toString();
  return new String(key).toString();
}

function toPrimitive(value) {
  return value === null ? null : typeof value === "object" ? "" + value : value;
}

function hasProp(target, prop) {
  return objectPrototype.hasOwnProperty.call(target, prop);
} // From Immer utils


var getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors || function getOwnPropertyDescriptors(target) {
  // Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274
  var res = {}; // Note: without polyfill for ownKeys, symbols won't be picked up

  ownKeys(target).forEach(function (key) {
    res[key] = getDescriptor(target, key);
  });
  return res;
};

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _createForOfIteratorHelperLoose(o, allowArrayLike) {
  var it;

  if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {
    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
      if (it) o = it;
      var i = 0;
      return function () {
        if (i >= o.length) return {
          done: true
        };
        return {
          done: false,
          value: o[i++]
        };
      };
    }

    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  it = o[Symbol.iterator]();
  return it.next.bind(it);
}

var storedAnnotationsSymbol = /*#__PURE__*/Symbol("mobx-stored-annotations");
/**
 * Creates a function that acts as
 * - decorator
 * - annotation object
 */

function createDecoratorAnnotation(annotation) {
  function decorator(target, property) {
    storeAnnotation(target, property, annotation);
  }

  return Object.assign(decorator, annotation);
}
/**
 * Stores annotation to prototype,
 * so it can be inspected later by `makeObservable` called from constructor
 */


function storeAnnotation(prototype, key, annotation) {
  if (!hasProp(prototype, storedAnnotationsSymbol)) {
    addHiddenProp(prototype, storedAnnotationsSymbol, _extends({}, prototype[storedAnnotationsSymbol]));
  } // @override must override something


  if (NODE_ENV !== "production" && isOverride(annotation) && !hasProp(prototype[storedAnnotationsSymbol], key)) {
    var fieldName = prototype.constructor.name + ".prototype." + key.toString();
    die("'" + fieldName + "' is decorated with 'override', " + "but no such decorated member was found on prototype.");
  } // Cannot re-decorate


  assertNotDecorated(prototype, annotation, key); // Ignore override

  if (!isOverride(annotation)) {
    prototype[storedAnnotationsSymbol][key] = annotation;
  }
}

function assertNotDecorated(prototype, annotation, key) {
  if (NODE_ENV !== "production" && !isOverride(annotation) && hasProp(prototype[storedAnnotationsSymbol], key)) {
    var fieldName = prototype.constructor.name + ".prototype." + key.toString();
    var currentAnnotationType = prototype[storedAnnotationsSymbol][key].annotationType_;
    var requestedAnnotationType = annotation.annotationType_;
    die("Cannot apply '@" + requestedAnnotationType + "' to '" + fieldName + "':" + ("\nThe field is already decorated with '@" + currentAnnotationType + "'.") + "\nRe-decorating fields is not allowed." + "\nUse '@override' decorator for methods overriden by subclass.");
  }
}
/**
 * Collects annotations from prototypes and stores them on target (instance)
 */


function collectStoredAnnotations(target) {
  if (!hasProp(target, storedAnnotationsSymbol)) {
    if (NODE_ENV !== "production" && !target[storedAnnotationsSymbol]) {
      die("No annotations were passed to makeObservable, but no decorated members have been found either");
    } // We need a copy as we will remove annotation from the list once it's applied.


    addHiddenProp(target, storedAnnotationsSymbol, _extends({}, target[storedAnnotationsSymbol]));
  }

  return target[storedAnnotationsSymbol];
}

var $mobx = /*#__PURE__*/Symbol("mobx administration");
exports.$mobx = $mobx;

var Atom = /*#__PURE__*/function () {
  // for effective unobserving. BaseAtom has true, for extra optimization, so its onBecomeUnobserved never gets called, because it's not needed

  /**
   * Create a new atom. For debugging purposes it is recommended to give it a name.
   * The onBecomeObserved and onBecomeUnobserved callbacks can be used for resource management.
   */
  function Atom(name_) {
    if (name_ === void 0) {
      name_ = NODE_ENV !== "production" ? "Atom@" + getNextId() : "Atom";
    }

    this.name_ = void 0;
    this.isPendingUnobservation_ = false;
    this.isBeingObserved_ = false;
    this.observers_ = new Set();
    this.diffValue_ = 0;
    this.lastAccessedBy_ = 0;
    this.lowestObserverState_ = IDerivationState_.NOT_TRACKING_;
    this.onBOL = void 0;
    this.onBUOL = void 0;
    this.name_ = name_;
  } // onBecomeObservedListeners


  var _proto = Atom.prototype;

  _proto.onBO = function onBO() {
    if (this.onBOL) {
      this.onBOL.forEach(function (listener) {
        return listener();
      });
    }
  };

  _proto.onBUO = function onBUO() {
    if (this.onBUOL) {
      this.onBUOL.forEach(function (listener) {
        return listener();
      });
    }
  }
  /**
   * Invoke this method to notify mobx that your atom has been used somehow.
   * Returns true if there is currently a reactive context.
   */
  ;

  _proto.reportObserved = function reportObserved$1() {
    return reportObserved(this);
  }
  /**
   * Invoke this method _after_ this method has changed to signal mobx that all its observers should invalidate.
   */
  ;

  _proto.reportChanged = function reportChanged() {
    startBatch();
    propagateChanged(this);
    endBatch();
  };

  _proto.toString = function toString() {
    return this.name_;
  };

  return Atom;
}();

var isAtom = /*#__PURE__*/createInstanceofPredicate("Atom", Atom);

function createAtom(name, onBecomeObservedHandler, onBecomeUnobservedHandler) {
  if (onBecomeObservedHandler === void 0) {
    onBecomeObservedHandler = noop;
  }

  if (onBecomeUnobservedHandler === void 0) {
    onBecomeUnobservedHandler = noop;
  }

  var atom = new Atom(name); // default `noop` listener will not initialize the hook Set

  if (onBecomeObservedHandler !== noop) {
    onBecomeObserved(atom, onBecomeObservedHandler);
  }

  if (onBecomeUnobservedHandler !== noop) {
    onBecomeUnobserved(atom, onBecomeUnobservedHandler);
  }

  return atom;
}

function identityComparer(a, b) {
  return a === b;
}

function structuralComparer(a, b) {
  return deepEqual(a, b);
}

function shallowComparer(a, b) {
  return deepEqual(a, b, 1);
}

function defaultComparer(a, b) {
  return Object.is(a, b);
}

var comparer = {
  identity: identityComparer,
  structural: structuralComparer,
  "default": defaultComparer,
  shallow: shallowComparer
};
exports.comparer = comparer;

function deepEnhancer(v, _, name) {
  // it is an observable already, done
  if (isObservable(v)) return v; // something that can be converted and mutated?

  if (Array.isArray(v)) return observable.array(v, {
    name: name
  });
  if (isPlainObject(v)) return observable.object(v, undefined, {
    name: name
  });
  if (isES6Map(v)) return observable.map(v, {
    name: name
  });
  if (isES6Set(v)) return observable.set(v, {
    name: name
  });

  if (typeof v === "function" && !isAction(v) && !isFlow(v)) {
    if (isGenerator(v)) {
      return flow(v);
    } else {
      return autoAction(name, v);
    }
  }

  return v;
}

function shallowEnhancer(v, _, name) {
  if (v === undefined || v === null) return v;
  if (isObservableObject(v) || isObservableArray(v) || isObservableMap(v) || isObservableSet(v)) return v;
  if (Array.isArray(v)) return observable.array(v, {
    name: name,
    deep: false
  });
  if (isPlainObject(v)) return observable.object(v, undefined, {
    name: name,
    deep: false
  });
  if (isES6Map(v)) return observable.map(v, {
    name: name,
    deep: false
  });
  if (isES6Set(v)) return observable.set(v, {
    name: name,
    deep: false
  });
  if (NODE_ENV !== "production") die("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets");
}

function referenceEnhancer(newValue) {
  // never turn into an observable
  return newValue;
}

function refStructEnhancer(v, oldValue) {
  if (NODE_ENV !== "production" && isObservable(v)) die("observable.struct should not be used with observable values");
  if (deepEqual(v, oldValue)) return oldValue;
  return v;
}

var OVERRIDE = "override";
var override = /*#__PURE__*/createDecoratorAnnotation({
  annotationType_: OVERRIDE,
  make_: make_,
  extend_: extend_
});
exports.override = override;

function isOverride(annotation) {
  return annotation.annotationType_ === OVERRIDE;
}

function make_(adm, key) {
  // Must not be plain object
  if (NODE_ENV !== "production" && adm.isPlainObject_) {
    die("Cannot apply '" + this.annotationType_ + "' to '" + adm.name_ + "." + key.toString() + "':" + ("\n'" + this.annotationType_ + "' cannot be used on plain objects."));
  } // Must override something


  if (NODE_ENV !== "production" && !hasProp(adm.appliedAnnotations_, key)) {
    die("'" + adm.name_ + "." + key.toString() + "' is annotated with '" + this.annotationType_ + "', " + "but no such annotated member was found on prototype.");
  }

  return 0
  /* Cancel */
  ;
}

function extend_(adm, key, descriptor, proxyTrap) {
  die("'" + this.annotationType_ + "' can only be used with 'makeObservable'");
}

function createActionAnnotation(name, options) {
  return {
    annotationType_: name,
    options_: options,
    make_: make_$1,
    extend_: extend_$1
  };
}

function make_$1(adm, key, descriptor, source) {
  var _this$options_; // bound


  if ((_this$options_ = this.options_) == null ? void 0 : _this$options_.bound) {
    return this.extend_(adm, key, descriptor, false) === null ? 0
    /* Cancel */
    : 1
    /* Break */
    ;
  } // own


  if (source === adm.target_) {
    return this.extend_(adm, key, descriptor, false) === null ? 0
    /* Cancel */
    : 2
    /* Continue */
    ;
  } // prototype


  if (isAction(descriptor.value)) {
    // A prototype could have been annotated already by other constructor,
    // rest of the proto chain must be annotated already
    return 1
    /* Break */
    ;
  }

  var actionDescriptor = createActionDescriptor(adm, this, key, descriptor, false);
  defineProperty(source, key, actionDescriptor);
  return 2
  /* Continue */
  ;
}

function extend_$1(adm, key, descriptor, proxyTrap) {
  var actionDescriptor = createActionDescriptor(adm, this, key, descriptor);
  return adm.defineProperty_(key, actionDescriptor, proxyTrap);
}

function assertActionDescriptor(adm, _ref, key, _ref2) {
  var annotationType_ = _ref.annotationType_;
  var value = _ref2.value;

  if (NODE_ENV !== "production" && !isFunction(value)) {
    die("Cannot apply '" + annotationType_ + "' to '" + adm.name_ + "." + key.toString() + "':" + ("\n'" + annotationType_ + "' can only be used on properties with a function value."));
  }
}

function createActionDescriptor(adm, annotation, key, descriptor, // provides ability to disable safeDescriptors for prototypes
safeDescriptors) {
  var _annotation$options_, _annotation$options_$, _annotation$options_2, _annotation$options_$2, _annotation$options_3;

  if (safeDescriptors === void 0) {
    safeDescriptors = globalState.safeDescriptors;
  }

  assertActionDescriptor(adm, annotation, key, descriptor);
  var value = descriptor.value;

  if ((_annotation$options_ = annotation.options_) == null ? void 0 : _annotation$options_.bound) {
    var _adm$proxy_;

    value = value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);
  }

  return {
    value: createAction((_annotation$options_$ = (_annotation$options_2 = annotation.options_) == null ? void 0 : _annotation$options_2.name) != null ? _annotation$options_$ : key.toString(), value, (_annotation$options_$2 = (_annotation$options_3 = annotation.options_) == null ? void 0 : _annotation$options_3.autoAction) != null ? _annotation$options_$2 : false),
    // Non-configurable for classes
    // prevents accidental field redefinition in subclass
    configurable: safeDescriptors ? adm.isPlainObject_ : true,
    // https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058
    enumerable: false,
    // Non-obsevable, therefore non-writable
    // Also prevents rewriting in subclass constructor
    writable: safeDescriptors ? false : true
  };
}

function createFlowAnnotation(name, options) {
  return {
    annotationType_: name,
    options_: options,
    make_: make_$2,
    extend_: extend_$2
  };
}

function make_$2(adm, key, descriptor, source) {
  var _this$options_; // own


  if (source === adm.target_) {
    return this.extend_(adm, key, descriptor, false) === null ? 0
    /* Cancel */
    : 2
    /* Continue */
    ;
  } // prototype
  // bound - must annotate protos to support super.flow()


  if (((_this$options_ = this.options_) == null ? void 0 : _this$options_.bound) && !isFlow(adm.target_[key])) {
    if (this.extend_(adm, key, descriptor, false) === null) return 0
    /* Cancel */
    ;
  }

  if (isFlow(descriptor.value)) {
    // A prototype could have been annotated already by other constructor,
    // rest of the proto chain must be annotated already
    return 1
    /* Break */
    ;
  }

  var flowDescriptor = createFlowDescriptor(adm, this, key, descriptor, false, false);
  defineProperty(source, key, flowDescriptor);
  return 2
  /* Continue */
  ;
}

function extend_$2(adm, key, descriptor, proxyTrap) {
  var _this$options_2;

  var flowDescriptor = createFlowDescriptor(adm, this, key, descriptor, (_this$options_2 = this.options_) == null ? void 0 : _this$options_2.bound);
  return adm.defineProperty_(key, flowDescriptor, proxyTrap);
}

function assertFlowDescriptor(adm, _ref, key, _ref2) {
  var annotationType_ = _ref.annotationType_;
  var value = _ref2.value;

  if (NODE_ENV !== "production" && !isFunction(value)) {
    die("Cannot apply '" + annotationType_ + "' to '" + adm.name_ + "." + key.toString() + "':" + ("\n'" + annotationType_ + "' can only be used on properties with a generator function value."));
  }
}

function createFlowDescriptor(adm, annotation, key, descriptor, bound, // provides ability to disable safeDescriptors for prototypes
safeDescriptors) {
  if (safeDescriptors === void 0) {
    safeDescriptors = globalState.safeDescriptors;
  }

  assertFlowDescriptor(adm, annotation, key, descriptor);
  var value = descriptor.value;

  if (bound) {
    var _adm$proxy_;

    value = value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);
  }

  return {
    value: flow(value),
    // Non-configurable for classes
    // prevents accidental field redefinition in subclass
    configurable: safeDescriptors ? adm.isPlainObject_ : true,
    // https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058
    enumerable: false,
    // Non-obsevable, therefore non-writable
    // Also prevents rewriting in subclass constructor
    writable: safeDescriptors ? false : true
  };
}

function createComputedAnnotation(name, options) {
  return {
    annotationType_: name,
    options_: options,
    make_: make_$3,
    extend_: extend_$3
  };
}

function make_$3(adm, key, descriptor) {
  return this.extend_(adm, key, descriptor, false) === null ? 0
  /* Cancel */
  : 1
  /* Break */
  ;
}

function extend_$3(adm, key, descriptor, proxyTrap) {
  assertComputedDescriptor(adm, this, key, descriptor);
  return adm.defineComputedProperty_(key, _extends({}, this.options_, {
    get: descriptor.get,
    set: descriptor.set
  }), proxyTrap);
}

function assertComputedDescriptor(adm, _ref, key, _ref2) {
  var annotationType_ = _ref.annotationType_;
  var get = _ref2.get;

  if (NODE_ENV !== "production" && !get) {
    die("Cannot apply '" + annotationType_ + "' to '" + adm.name_ + "." + key.toString() + "':" + ("\n'" + annotationType_ + "' can only be used on getter(+setter) properties."));
  }
}

function createObservableAnnotation(name, options) {
  return {
    annotationType_: name,
    options_: options,
    make_: make_$4,
    extend_: extend_$4
  };
}

function make_$4(adm, key, descriptor) {
  return this.extend_(adm, key, descriptor, false) === null ? 0
  /* Cancel */
  : 1
  /* Break */
  ;
}

function extend_$4(adm, key, descriptor, proxyTrap) {
  var _this$options_$enhanc, _this$options_;

  assertObservableDescriptor(adm, this, key, descriptor);
  return adm.defineObservableProperty_(key, descriptor.value, (_this$options_$enhanc = (_this$options_ = this.options_) == null ? void 0 : _this$options_.enhancer) != null ? _this$options_$enhanc : deepEnhancer, proxyTrap);
}

function assertObservableDescriptor(adm, _ref, key, descriptor) {
  var annotationType_ = _ref.annotationType_;

  if (NODE_ENV !== "production" && !("value" in descriptor)) {
    die("Cannot apply '" + annotationType_ + "' to '" + adm.name_ + "." + key.toString() + "':" + ("\n'" + annotationType_ + "' cannot be used on getter/setter properties"));
  }
}

var AUTO = "true";
var autoAnnotation = /*#__PURE__*/createAutoAnnotation();

function createAutoAnnotation(options) {
  return {
    annotationType_: AUTO,
    options_: options,
    make_: make_$5,
    extend_: extend_$5
  };
}

function make_$5(adm, key, descriptor, source) {
  var _this$options_3, _this$options_4; // getter -> computed


  if (descriptor.get) {
    return computed.make_(adm, key, descriptor, source);
  } // lone setter -> action setter


  if (descriptor.set) {
    // TODO make action applicable to setter and delegate to action.make_
    var set = createAction(key.toString(), descriptor.set); // own

    if (source === adm.target_) {
      return adm.defineProperty_(key, {
        configurable: globalState.safeDescriptors ? adm.isPlainObject_ : true,
        set: set
      }) === null ? 0
      /* Cancel */
      : 2
      /* Continue */
      ;
    } // proto


    defineProperty(source, key, {
      configurable: true,
      set: set
    });
    return 2
    /* Continue */
    ;
  } // function on proto -> autoAction/flow


  if (source !== adm.target_ && typeof descriptor.value === "function") {
    var _this$options_2;

    if (isGenerator(descriptor.value)) {
      var _this$options_;

      var flowAnnotation = ((_this$options_ = this.options_) == null ? void 0 : _this$options_.autoBind) ? flow.bound : flow;
      return flowAnnotation.make_(adm, key, descriptor, source);
    }

    var actionAnnotation = ((_this$options_2 = this.options_) == null ? void 0 : _this$options_2.autoBind) ? autoAction.bound : autoAction;
    return actionAnnotation.make_(adm, key, descriptor, source);
  } // other -> observable
  // Copy props from proto as well, see test:
  // "decorate should work with Object.create"


  var observableAnnotation = ((_this$options_3 = this.options_) == null ? void 0 : _this$options_3.deep) === false ? observable.ref : observable; // if function respect autoBind option

  if (typeof descriptor.value === "function" && ((_this$options_4 = this.options_) == null ? void 0 : _this$options_4.autoBind)) {
    var _adm$proxy_;

    descriptor.value = descriptor.value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);
  }

  return observableAnnotation.make_(adm, key, descriptor, source);
}

function extend_$5(adm, key, descriptor, proxyTrap) {
  var _this$options_5, _this$options_6; // getter -> computed


  if (descriptor.get) {
    return computed.extend_(adm, key, descriptor, proxyTrap);
  } // lone setter -> action setter


  if (descriptor.set) {
    // TODO make action applicable to setter and delegate to action.extend_
    return adm.defineProperty_(key, {
      configurable: globalState.safeDescriptors ? adm.isPlainObject_ : true,
      set: createAction(key.toString(), descriptor.set)
    }, proxyTrap);
  } // other -> observable
  // if function respect autoBind option


  if (typeof descriptor.value === "function" && ((_this$options_5 = this.options_) == null ? void 0 : _this$options_5.autoBind)) {
    var _adm$proxy_2;

    descriptor.value = descriptor.value.bind((_adm$proxy_2 = adm.proxy_) != null ? _adm$proxy_2 : adm.target_);
  }

  var observableAnnotation = ((_this$options_6 = this.options_) == null ? void 0 : _this$options_6.deep) === false ? observable.ref : observable;
  return observableAnnotation.extend_(adm, key, descriptor, proxyTrap);
} // in the majority of cases


var defaultCreateObservableOptions = {
  deep: true,
  name: undefined,
  defaultDecorator: undefined,
  proxy: true
};
Object.freeze(defaultCreateObservableOptions);

function asCreateObservableOptions(thing) {
  return thing || defaultCreateObservableOptions;
}

var observableAnnotation = /*#__PURE__*/createObservableAnnotation("observable");
var observableRefAnnotation = /*#__PURE__*/createObservableAnnotation("observable.ref", {
  enhancer: referenceEnhancer
});
var observableShallowAnnotation = /*#__PURE__*/createObservableAnnotation("observable.shallow", {
  enhancer: shallowEnhancer
});
var observableStructAnnotation = /*#__PURE__*/createObservableAnnotation("observable.struct", {
  enhancer: refStructEnhancer
});
var observableDecoratorAnnotation = /*#__PURE__*/createDecoratorAnnotation(observableAnnotation);

function getEnhancerFromOptions(options) {
  return options.deep === true ? deepEnhancer : options.deep === false ? referenceEnhancer : getEnhancerFromAnnotation(options.defaultDecorator);
}

function getAnnotationFromOptions(options) {
  var _options$defaultDecor;

  return options ? (_options$defaultDecor = options.defaultDecorator) != null ? _options$defaultDecor : createAutoAnnotation(options) : undefined;
}

function getEnhancerFromAnnotation(annotation) {
  var _annotation$options_$, _annotation$options_;

  return !annotation ? deepEnhancer : (_annotation$options_$ = (_annotation$options_ = annotation.options_) == null ? void 0 : _annotation$options_.enhancer) != null ? _annotation$options_$ : deepEnhancer;
}
/**
 * Turns an object, array or function into a reactive structure.
 * @param v the value which should become observable.
 */


function createObservable(v, arg2, arg3) {
  // @observable someProp;
  if (isStringish(arg2)) {
    storeAnnotation(v, arg2, observableAnnotation);
    return;
  } // already observable - ignore


  if (isObservable(v)) return v; // plain object

  if (isPlainObject(v)) return observable.object(v, arg2, arg3); // Array

  if (Array.isArray(v)) return observable.array(v, arg2); // Map

  if (isES6Map(v)) return observable.map(v, arg2); // Set

  if (isES6Set(v)) return observable.set(v, arg2); // other object - ignore

  if (typeof v === "object" && v !== null) return v; // anything else

  return observable.box(v, arg2);
}

Object.assign(createObservable, observableDecoratorAnnotation);
var observableFactories = {
  box: function box(value, options) {
    var o = asCreateObservableOptions(options);
    return new ObservableValue(value, getEnhancerFromOptions(o), o.name, true, o.equals);
  },
  array: function array(initialValues, options) {
    var o = asCreateObservableOptions(options);
    return (globalState.useProxies === false || o.proxy === false ? createLegacyArray : createObservableArray)(initialValues, getEnhancerFromOptions(o), o.name);
  },
  map: function map(initialValues, options) {
    var o = asCreateObservableOptions(options);
    return new ObservableMap(initialValues, getEnhancerFromOptions(o), o.name);
  },
  set: function set(initialValues, options) {
    var o = asCreateObservableOptions(options);
    return new ObservableSet(initialValues, getEnhancerFromOptions(o), o.name);
  },
  object: function object(props, decorators, options) {
    return extendObservable(globalState.useProxies === false || (options == null ? void 0 : options.proxy) === false ? asObservableObject({}, options) : asDynamicObservableObject({}, options), props, decorators);
  },
  ref: /*#__PURE__*/createDecoratorAnnotation(observableRefAnnotation),
  shallow: /*#__PURE__*/createDecoratorAnnotation(observableShallowAnnotation),
  deep: observableDecoratorAnnotation,
  struct: /*#__PURE__*/createDecoratorAnnotation(observableStructAnnotation)
}; // eslint-disable-next-line

var observable = /*#__PURE__*/assign(createObservable, observableFactories);
exports.observable = observable;
var COMPUTED = "computed";
var COMPUTED_STRUCT = "computed.struct";
var computedAnnotation = /*#__PURE__*/createComputedAnnotation(COMPUTED);
var computedStructAnnotation = /*#__PURE__*/createComputedAnnotation(COMPUTED_STRUCT, {
  equals: comparer.structural
});
/**
 * Decorator for class properties: @computed get value() { return expr; }.
 * For legacy purposes also invokable as ES5 observable created: `computed(() => expr)`;
 */

var computed = function computed(arg1, arg2) {
  if (isStringish(arg2)) {
    // @computed
    return storeAnnotation(arg1, arg2, computedAnnotation);
  }

  if (isPlainObject(arg1)) {
    // @computed({ options })
    return createDecoratorAnnotation(createComputedAnnotation(COMPUTED, arg1));
  } // computed(expr, options?)


  if (NODE_ENV !== "production") {
    if (!isFunction(arg1)) die("First argument to `computed` should be an expression.");
    if (isFunction(arg2)) die("A setter as second argument is no longer supported, use `{ set: fn }` option instead");
  }

  var opts = isPlainObject(arg2) ? arg2 : {};
  opts.get = arg1;
  opts.name || (opts.name = arg1.name || "");
  /* for generated name */

  return new ComputedValue(opts);
};

exports.computed = computed;
Object.assign(computed, computedAnnotation);
computed.struct = /*#__PURE__*/createDecoratorAnnotation(computedStructAnnotation);

var _getDescriptor$config, _getDescriptor; // mobx versions


var currentActionId = 0;
var nextActionId = 1;
var isFunctionNameConfigurable = (_getDescriptor$config = (_getDescriptor = /*#__PURE__*/getDescriptor(function () {}, "name")) == null ? void 0 : _getDescriptor.configurable) != null ? _getDescriptor$config : false; // we can safely recycle this object

var tmpNameDescriptor = {
  value: "action",
  configurable: true,
  writable: false,
  enumerable: false
};

function createAction(actionName, fn, autoAction, ref) {
  if (autoAction === void 0) {
    autoAction = false;
  }

  if (NODE_ENV !== "production") {
    if (!isFunction(fn)) die("`action` can only be invoked on functions");
    if (typeof actionName !== "string" || !actionName) die("actions should have valid names, got: '" + actionName + "'");
  }

  function res() {
    return executeAction(actionName, autoAction, fn, ref || this, arguments);
  }

  res.isMobxAction = true;

  if (isFunctionNameConfigurable) {
    tmpNameDescriptor.value = actionName;
    Object.defineProperty(res, "name", tmpNameDescriptor);
  }

  return res;
}

function executeAction(actionName, canRunAsDerivation, fn, scope, args) {
  var runInfo = _startAction(actionName, canRunAsDerivation, scope, args);

  try {
    return fn.apply(scope, args);
  } catch (err) {
    runInfo.error_ = err;
    throw err;
  } finally {
    _endAction(runInfo);
  }
}

function _startAction(actionName, canRunAsDerivation, // true for autoAction
scope, args) {
  var notifySpy_ = NODE_ENV !== "production" && isSpyEnabled() && !!actionName;
  var startTime_ = 0;

  if (NODE_ENV !== "production" && notifySpy_) {
    startTime_ = Date.now();
    var flattenedArgs = args ? Array.from(args) : EMPTY_ARRAY;
    spyReportStart({
      type: ACTION,
      name: actionName,
      object: scope,
      arguments: flattenedArgs
    });
  }

  var prevDerivation_ = globalState.trackingDerivation;
  var runAsAction = !canRunAsDerivation || !prevDerivation_;
  startBatch();
  var prevAllowStateChanges_ = globalState.allowStateChanges; // by default preserve previous allow

  if (runAsAction) {
    untrackedStart();
    prevAllowStateChanges_ = allowStateChangesStart(true);
  }

  var prevAllowStateReads_ = allowStateReadsStart(true);
  var runInfo = {
    runAsAction_: runAsAction,
    prevDerivation_: prevDerivation_,
    prevAllowStateChanges_: prevAllowStateChanges_,
    prevAllowStateReads_: prevAllowStateReads_,
    notifySpy_: notifySpy_,
    startTime_: startTime_,
    actionId_: nextActionId++,
    parentActionId_: currentActionId
  };
  currentActionId = runInfo.actionId_;
  return runInfo;
}

function _endAction(runInfo) {
  if (currentActionId !== runInfo.actionId_) {
    die(30);
  }

  currentActionId = runInfo.parentActionId_;

  if (runInfo.error_ !== undefined) {
    globalState.suppressReactionErrors = true;
  }

  allowStateChangesEnd(runInfo.prevAllowStateChanges_);
  allowStateReadsEnd(runInfo.prevAllowStateReads_);
  endBatch();
  if (runInfo.runAsAction_) untrackedEnd(runInfo.prevDerivation_);

  if (NODE_ENV !== "production" && runInfo.notifySpy_) {
    spyReportEnd({
      time: Date.now() - runInfo.startTime_
    });
  }

  globalState.suppressReactionErrors = false;
}

function allowStateChanges(allowStateChanges, func) {
  var prev = allowStateChangesStart(allowStateChanges);

  try {
    return func();
  } finally {
    allowStateChangesEnd(prev);
  }
}

function allowStateChangesStart(allowStateChanges) {
  var prev = globalState.allowStateChanges;
  globalState.allowStateChanges = allowStateChanges;
  return prev;
}

function allowStateChangesEnd(prev) {
  globalState.allowStateChanges = prev;
}

var _Symbol$toPrimitive;

var CREATE = "create";
_Symbol$toPrimitive = Symbol.toPrimitive;

var ObservableValue = /*#__PURE__*/function (_Atom) {
  _inheritsLoose(ObservableValue, _Atom);

  function ObservableValue(value, enhancer, name_, notifySpy, equals) {
    var _this;

    if (name_ === void 0) {
      name_ = NODE_ENV !== "production" ? "ObservableValue@" + getNextId() : "ObservableValue";
    }

    if (notifySpy === void 0) {
      notifySpy = true;
    }

    if (equals === void 0) {
      equals = comparer["default"];
    }

    _this = _Atom.call(this, name_) || this;
    _this.enhancer = void 0;
    _this.name_ = void 0;
    _this.equals = void 0;
    _this.hasUnreportedChange_ = false;
    _this.interceptors_ = void 0;
    _this.changeListeners_ = void 0;
    _this.value_ = void 0;
    _this.dehancer = void 0;
    _this.enhancer = enhancer;
    _this.name_ = name_;
    _this.equals = equals;
    _this.value_ = enhancer(value, undefined, name_);

    if (NODE_ENV !== "production" && notifySpy && isSpyEnabled()) {
      // only notify spy if this is a stand-alone observable
      spyReport({
        type: CREATE,
        object: _assertThisInitialized(_this),
        observableKind: "value",
        debugObjectName: _this.name_,
        newValue: "" + _this.value_
      });
    }

    return _this;
  }

  var _proto = ObservableValue.prototype;

  _proto.dehanceValue = function dehanceValue(value) {
    if (this.dehancer !== undefined) return this.dehancer(value);
    return value;
  };

  _proto.set = function set(newValue) {
    var oldValue = this.value_;
    newValue = this.prepareNewValue_(newValue);

    if (newValue !== globalState.UNCHANGED) {
      var notifySpy = isSpyEnabled();

      if (NODE_ENV !== "production" && notifySpy) {
        spyReportStart({
          type: UPDATE,
          object: this,
          observableKind: "value",
          debugObjectName: this.name_,
          newValue: newValue,
          oldValue: oldValue
        });
      }

      this.setNewValue_(newValue);
      if (NODE_ENV !== "production" && notifySpy) spyReportEnd();
    }
  };

  _proto.prepareNewValue_ = function prepareNewValue_(newValue) {
    checkIfStateModificationsAreAllowed(this);

    if (hasInterceptors(this)) {
      var change = interceptChange(this, {
        object: this,
        type: UPDATE,
        newValue: newValue
      });
      if (!change) return globalState.UNCHANGED;
      newValue = change.newValue;
    } // apply modifier


    newValue = this.enhancer(newValue, this.value_, this.name_);
    return this.equals(this.value_, newValue) ? globalState.UNCHANGED : newValue;
  };

  _proto.setNewValue_ = function setNewValue_(newValue) {
    var oldValue = this.value_;
    this.value_ = newValue;
    this.reportChanged();

    if (hasListeners(this)) {
      notifyListeners(this, {
        type: UPDATE,
        object: this,
        newValue: newValue,
        oldValue: oldValue
      });
    }
  };

  _proto.get = function get() {
    this.reportObserved();
    return this.dehanceValue(this.value_);
  };

  _proto.intercept_ = function intercept_(handler) {
    return registerInterceptor(this, handler);
  };

  _proto.observe_ = function observe_(listener, fireImmediately) {
    if (fireImmediately) listener({
      observableKind: "value",
      debugObjectName: this.name_,
      object: this,
      type: UPDATE,
      newValue: this.value_,
      oldValue: undefined
    });
    return registerListener(this, listener);
  };

  _proto.raw = function raw() {
    // used by MST ot get undehanced value
    return this.value_;
  };

  _proto.toJSON = function toJSON() {
    return this.get();
  };

  _proto.toString = function toString() {
    return this.name_ + "[" + this.value_ + "]";
  };

  _proto.valueOf = function valueOf() {
    return toPrimitive(this.get());
  };

  _proto[_Symbol$toPrimitive] = function () {
    return this.valueOf();
  };

  return ObservableValue;
}(Atom);

var isObservableValue = /*#__PURE__*/createInstanceofPredicate("ObservableValue", ObservableValue);
exports.isBoxedObservable = isObservableValue;

var _Symbol$toPrimitive$1;
/**
 * A node in the state dependency root that observes other nodes, and can be observed itself.
 *
 * ComputedValue will remember the result of the computation for the duration of the batch, or
 * while being observed.
 *
 * During this time it will recompute only when one of its direct dependencies changed,
 * but only when it is being accessed with `ComputedValue.get()`.
 *
 * Implementation description:
 * 1. First time it's being accessed it will compute and remember result
 *    give back remembered result until 2. happens
 * 2. First time any deep dependency change, propagate POSSIBLY_STALE to all observers, wait for 3.
 * 3. When it's being accessed, recompute if any shallow dependency changed.
 *    if result changed: propagate STALE to all observers, that were POSSIBLY_STALE from the last step.
 *    go to step 2. either way
 *
 * If at any point it's outside batch and it isn't observed: reset everything and go to 1.
 */


_Symbol$toPrimitive$1 = Symbol.toPrimitive;

var ComputedValue = /*#__PURE__*/function () {
  // nodes we are looking at. Our value depends on these nodes
  // during tracking it's an array with new observed observers
  // to check for cycles
  // N.B: unminified as it is used by MST

  /**
   * Create a new computed value based on a function expression.
   *
   * The `name` property is for debug purposes only.
   *
   * The `equals` property specifies the comparer function to use to determine if a newly produced
   * value differs from the previous value. Two comparers are provided in the library; `defaultComparer`
   * compares based on identity comparison (===), and `structuralComparer` deeply compares the structure.
   * Structural comparison can be convenient if you always produce a new aggregated object and
   * don't want to notify observers if it is structurally the same.
   * This is useful for working with vectors, mouse coordinates etc.
   */
  function ComputedValue(options) {
    this.dependenciesState_ = IDerivationState_.NOT_TRACKING_;
    this.observing_ = [];
    this.newObserving_ = null;
    this.isBeingObserved_ = false;
    this.isPendingUnobservation_ = false;
    this.observers_ = new Set();
    this.diffValue_ = 0;
    this.runId_ = 0;
    this.lastAccessedBy_ = 0;
    this.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;
    this.unboundDepsCount_ = 0;
    this.value_ = new CaughtException(null);
    this.name_ = void 0;
    this.triggeredBy_ = void 0;
    this.isComputing_ = false;
    this.isRunningSetter_ = false;
    this.derivation = void 0;
    this.setter_ = void 0;
    this.isTracing_ = TraceMode.NONE;
    this.scope_ = void 0;
    this.equals_ = void 0;
    this.requiresReaction_ = void 0;
    this.keepAlive_ = void 0;
    this.onBOL = void 0;
    this.onBUOL = void 0;
    if (!options.get) die(31);
    this.derivation = options.get;
    this.name_ = options.name || (NODE_ENV !== "production" ? "ComputedValue@" + getNextId() : "ComputedValue");

    if (options.set) {
      this.setter_ = createAction(NODE_ENV !== "production" ? this.name_ + "-setter" : "ComputedValue-setter", options.set);
    }

    this.equals_ = options.equals || (options.compareStructural || options.struct ? comparer.structural : comparer["default"]);
    this.scope_ = options.context;
    this.requiresReaction_ = !!options.requiresReaction;
    this.keepAlive_ = !!options.keepAlive;
  }

  var _proto = ComputedValue.prototype;

  _proto.onBecomeStale_ = function onBecomeStale_() {
    propagateMaybeChanged(this);
  };

  _proto.onBO = function onBO() {
    if (this.onBOL) {
      this.onBOL.forEach(function (listener) {
        return listener();
      });
    }
  };

  _proto.onBUO = function onBUO() {
    if (this.onBUOL) {
      this.onBUOL.forEach(function (listener) {
        return listener();
      });
    }
  }
  /**
   * Returns the current value of this computed value.
   * Will evaluate its computation first if needed.
   */
  ;

  _proto.get = function get() {
    if (this.isComputing_) die(32, this.name_, this.derivation);

    if (globalState.inBatch === 0 && // !globalState.trackingDerivatpion &&
    this.observers_.size === 0 && !this.keepAlive_) {
      if (shouldCompute(this)) {
        this.warnAboutUntrackedRead_();
        startBatch(); // See perf test 'computed memoization'

        this.value_ = this.computeValue_(false);
        endBatch();
      }
    } else {
      reportObserved(this);

      if (shouldCompute(this)) {
        var prevTrackingContext = globalState.trackingContext;
        if (this.keepAlive_ && !prevTrackingContext) globalState.trackingContext = this;
        if (this.trackAndCompute()) propagateChangeConfirmed(this);
        globalState.trackingContext = prevTrackingContext;
      }
    }

    var result = this.value_;
    if (isCaughtException(result)) throw result.cause;
    return result;
  };

  _proto.set = function set(value) {
    if (this.setter_) {
      if (this.isRunningSetter_) die(33, this.name_);
      this.isRunningSetter_ = true;

      try {
        this.setter_.call(this.scope_, value);
      } finally {
        this.isRunningSetter_ = false;
      }
    } else die(34, this.name_);
  };

  _proto.trackAndCompute = function trackAndCompute() {
    // N.B: unminified as it is used by MST
    var oldValue = this.value_;
    var wasSuspended =
    /* see #1208 */
    this.dependenciesState_ === IDerivationState_.NOT_TRACKING_;
    var newValue = this.computeValue_(true);

    if (NODE_ENV !== "production" && isSpyEnabled()) {
      spyReport({
        observableKind: "computed",
        debugObjectName: this.name_,
        object: this.scope_,
        type: "update",
        oldValue: this.value_,
        newValue: newValue
      });
    }

    var changed = wasSuspended || isCaughtException(oldValue) || isCaughtException(newValue) || !this.equals_(oldValue, newValue);

    if (changed) {
      this.value_ = newValue;
    }

    return changed;
  };

  _proto.computeValue_ = function computeValue_(track) {
    this.isComputing_ = true; // don't allow state changes during computation

    var prev = allowStateChangesStart(false);
    var res;

    if (track) {
      res = trackDerivedFunction(this, this.derivation, this.scope_);
    } else {
      if (globalState.disableErrorBoundaries === true) {
        res = this.derivation.call(this.scope_);
      } else {
        try {
          res = this.derivation.call(this.scope_);
        } catch (e) {
          res = new CaughtException(e);
        }
      }
    }

    allowStateChangesEnd(prev);
    this.isComputing_ = false;
    return res;
  };

  _proto.suspend_ = function suspend_() {
    if (!this.keepAlive_) {
      clearObserving(this);
      this.value_ = undefined; // don't hold on to computed value!
    }
  };

  _proto.observe_ = function observe_(listener, fireImmediately) {
    var _this = this;

    var firstTime = true;
    var prevValue = undefined;
    return autorun(function () {
      // TODO: why is this in a different place than the spyReport() function? in all other observables it's called in the same place
      var newValue = _this.get();

      if (!firstTime || fireImmediately) {
        var prevU = untrackedStart();
        listener({
          observableKind: "computed",
          debugObjectName: _this.name_,
          type: UPDATE,
          object: _this,
          newValue: newValue,
          oldValue: prevValue
        });
        untrackedEnd(prevU);
      }

      firstTime = false;
      prevValue = newValue;
    });
  };

  _proto.warnAboutUntrackedRead_ = function warnAboutUntrackedRead_() {
    if (!(NODE_ENV !== "production")) return;

    if (this.requiresReaction_ === true) {
      die("[mobx] Computed value " + this.name_ + " is read outside a reactive context");
    }

    if (this.isTracing_ !== TraceMode.NONE) {
      console.log("[mobx.trace] '" + this.name_ + "' is being read outside a reactive context. Doing a full recompute");
    }

    if (globalState.computedRequiresReaction) {
      console.warn("[mobx] Computed value " + this.name_ + " is being read outside a reactive context. Doing a full recompute");
    }
  };

  _proto.toString = function toString() {
    return this.name_ + "[" + this.derivation.toString() + "]";
  };

  _proto.valueOf = function valueOf() {
    return toPrimitive(this.get());
  };

  _proto[_Symbol$toPrimitive$1] = function () {
    return this.valueOf();
  };

  return ComputedValue;
}();

var isComputedValue = /*#__PURE__*/createInstanceofPredicate("ComputedValue", ComputedValue);
var IDerivationState_;

(function (IDerivationState_) {
  // before being run or (outside batch and not being observed)
  // at this point derivation is not holding any data about dependency tree
  IDerivationState_[IDerivationState_["NOT_TRACKING_"] = -1] = "NOT_TRACKING_"; // no shallow dependency changed since last computation
  // won't recalculate derivation
  // this is what makes mobx fast

  IDerivationState_[IDerivationState_["UP_TO_DATE_"] = 0] = "UP_TO_DATE_"; // some deep dependency changed, but don't know if shallow dependency changed
  // will require to check first if UP_TO_DATE or POSSIBLY_STALE
  // currently only ComputedValue will propagate POSSIBLY_STALE
  //
  // having this state is second big optimization:
  // don't have to recompute on every dependency change, but only when it's needed

  IDerivationState_[IDerivationState_["POSSIBLY_STALE_"] = 1] = "POSSIBLY_STALE_"; // A shallow dependency has changed since last computation and the derivation
  // will need to recompute when it's needed next.

  IDerivationState_[IDerivationState_["STALE_"] = 2] = "STALE_";
})(IDerivationState_ || (IDerivationState_ = {}));

var TraceMode;

(function (TraceMode) {
  TraceMode[TraceMode["NONE"] = 0] = "NONE";
  TraceMode[TraceMode["LOG"] = 1] = "LOG";
  TraceMode[TraceMode["BREAK"] = 2] = "BREAK";
})(TraceMode || (TraceMode = {}));

var CaughtException = function CaughtException(cause) {
  this.cause = void 0;
  this.cause = cause; // Empty
};

function isCaughtException(e) {
  return e instanceof CaughtException;
}
/**
 * Finds out whether any dependency of the derivation has actually changed.
 * If dependenciesState is 1 then it will recalculate dependencies,
 * if any dependency changed it will propagate it by changing dependenciesState to 2.
 *
 * By iterating over the dependencies in the same order that they were reported and
 * stopping on the first change, all the recalculations are only called for ComputedValues
 * that will be tracked by derivation. That is because we assume that if the first x
 * dependencies of the derivation doesn't change then the derivation should run the same way
 * up until accessing x-th dependency.
 */


function shouldCompute(derivation) {
  switch (derivation.dependenciesState_) {
    case IDerivationState_.UP_TO_DATE_:
      return false;

    case IDerivationState_.NOT_TRACKING_:
    case IDerivationState_.STALE_:
      return true;

    case IDerivationState_.POSSIBLY_STALE_:
      {
        // state propagation can occur outside of action/reactive context #2195
        var prevAllowStateReads = allowStateReadsStart(true);
        var prevUntracked = untrackedStart(); // no need for those computeds to be reported, they will be picked up in trackDerivedFunction.

        var obs = derivation.observing_,
            l = obs.length;

        for (var i = 0; i < l; i++) {
          var obj = obs[i];

          if (isComputedValue(obj)) {
            if (globalState.disableErrorBoundaries) {
              obj.get();
            } else {
              try {
                obj.get();
              } catch (e) {
                // we are not interested in the value *or* exception at this moment, but if there is one, notify all
                untrackedEnd(prevUntracked);
                allowStateReadsEnd(prevAllowStateReads);
                return true;
              }
            } // if ComputedValue `obj` actually changed it will be computed and propagated to its observers.
            // and `derivation` is an observer of `obj`
            // invariantShouldCompute(derivation)


            if (derivation.dependenciesState_ === IDerivationState_.STALE_) {
              untrackedEnd(prevUntracked);
              allowStateReadsEnd(prevAllowStateReads);
              return true;
            }
          }
        }

        changeDependenciesStateTo0(derivation);
        untrackedEnd(prevUntracked);
        allowStateReadsEnd(prevAllowStateReads);
        return false;
      }
  }
}

function isComputingDerivation() {
  return globalState.trackingDerivation !== null; // filter out actions inside computations
}

function checkIfStateModificationsAreAllowed(atom) {
  if (!(NODE_ENV !== "production")) {
    return;
  }

  var hasObservers = atom.observers_.size > 0; // Should not be possible to change observed state outside strict mode, except during initialization, see #563

  if (!globalState.allowStateChanges && (hasObservers || globalState.enforceActions === "always")) console.warn("[MobX] " + (globalState.enforceActions ? "Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: " : "Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: ") + atom.name_);
}

function checkIfStateReadsAreAllowed(observable) {
  if (NODE_ENV !== "production" && !globalState.allowStateReads && globalState.observableRequiresReaction) {
    console.warn("[mobx] Observable " + observable.name_ + " being read outside a reactive context");
  }
}
/**
 * Executes the provided function `f` and tracks which observables are being accessed.
 * The tracking information is stored on the `derivation` object and the derivation is registered
 * as observer of any of the accessed observables.
 */


function trackDerivedFunction(derivation, f, context) {
  var prevAllowStateReads = allowStateReadsStart(true); // pre allocate array allocation + room for variation in deps
  // array will be trimmed by bindDependencies

  changeDependenciesStateTo0(derivation);
  derivation.newObserving_ = new Array(derivation.observing_.length + 100);
  derivation.unboundDepsCount_ = 0;
  derivation.runId_ = ++globalState.runId;
  var prevTracking = globalState.trackingDerivation;
  globalState.trackingDerivation = derivation;
  globalState.inBatch++;
  var result;

  if (globalState.disableErrorBoundaries === true) {
    result = f.call(context);
  } else {
    try {
      result = f.call(context);
    } catch (e) {
      result = new CaughtException(e);
    }
  }

  globalState.inBatch--;
  globalState.trackingDerivation = prevTracking;
  bindDependencies(derivation);
  warnAboutDerivationWithoutDependencies(derivation);
  allowStateReadsEnd(prevAllowStateReads);
  return result;
}

function warnAboutDerivationWithoutDependencies(derivation) {
  if (!(NODE_ENV !== "production")) return;
  if (derivation.observing_.length !== 0) return;

  if (globalState.reactionRequiresObservable || derivation.requiresObservable_) {
    console.warn("[mobx] Derivation " + derivation.name_ + " is created/updated without reading any observable value");
  }
}
/**
 * diffs newObserving with observing.
 * update observing to be newObserving with unique observables
 * notify observers that become observed/unobserved
 */


function bindDependencies(derivation) {
  // invariant(derivation.dependenciesState !== IDerivationState.NOT_TRACKING, "INTERNAL ERROR bindDependencies expects derivation.dependenciesState !== -1");
  var prevObserving = derivation.observing_;
  var observing = derivation.observing_ = derivation.newObserving_;
  var lowestNewObservingDerivationState = IDerivationState_.UP_TO_DATE_; // Go through all new observables and check diffValue: (this list can contain duplicates):
  //   0: first occurrence, change to 1 and keep it
  //   1: extra occurrence, drop it

  var i0 = 0,
      l = derivation.unboundDepsCount_;

  for (var i = 0; i < l; i++) {
    var dep = observing[i];

    if (dep.diffValue_ === 0) {
      dep.diffValue_ = 1;
      if (i0 !== i) observing[i0] = dep;
      i0++;
    } // Upcast is 'safe' here, because if dep is IObservable, `dependenciesState` will be undefined,
    // not hitting the condition


    if (dep.dependenciesState_ > lowestNewObservingDerivationState) {
      lowestNewObservingDerivationState = dep.dependenciesState_;
    }
  }

  observing.length = i0;
  derivation.newObserving_ = null; // newObserving shouldn't be needed outside tracking (statement moved down to work around FF bug, see #614)
  // Go through all old observables and check diffValue: (it is unique after last bindDependencies)
  //   0: it's not in new observables, unobserve it
  //   1: it keeps being observed, don't want to notify it. change to 0

  l = prevObserving.length;

  while (l--) {
    var _dep = prevObserving[l];

    if (_dep.diffValue_ === 0) {
      removeObserver(_dep, derivation);
    }

    _dep.diffValue_ = 0;
  } // Go through all new observables and check diffValue: (now it should be unique)
  //   0: it was set to 0 in last loop. don't need to do anything.
  //   1: it wasn't observed, let's observe it. set back to 0


  while (i0--) {
    var _dep2 = observing[i0];

    if (_dep2.diffValue_ === 1) {
      _dep2.diffValue_ = 0;
      addObserver(_dep2, derivation);
    }
  } // Some new observed derivations may become stale during this derivation computation
  // so they have had no chance to propagate staleness (#916)


  if (lowestNewObservingDerivationState !== IDerivationState_.UP_TO_DATE_) {
    derivation.dependenciesState_ = lowestNewObservingDerivationState;
    derivation.onBecomeStale_();
  }
}

function clearObserving(derivation) {
  // invariant(globalState.inBatch > 0, "INTERNAL ERROR clearObserving should be called only inside batch");
  var obs = derivation.observing_;
  derivation.observing_ = [];
  var i = obs.length;

  while (i--) {
    removeObserver(obs[i], derivation);
  }

  derivation.dependenciesState_ = IDerivationState_.NOT_TRACKING_;
}

function untracked(action) {
  var prev = untrackedStart();

  try {
    return action();
  } finally {
    untrackedEnd(prev);
  }
}

function untrackedStart() {
  var prev = globalState.trackingDerivation;
  globalState.trackingDerivation = null;
  return prev;
}

function untrackedEnd(prev) {
  globalState.trackingDerivation = prev;
}

function allowStateReadsStart(allowStateReads) {
  var prev = globalState.allowStateReads;
  globalState.allowStateReads = allowStateReads;
  return prev;
}

function allowStateReadsEnd(prev) {
  globalState.allowStateReads = prev;
}
/**
 * needed to keep `lowestObserverState` correct. when changing from (2 or 1) to 0
 *
 */


function changeDependenciesStateTo0(derivation) {
  if (derivation.dependenciesState_ === IDerivationState_.UP_TO_DATE_) return;
  derivation.dependenciesState_ = IDerivationState_.UP_TO_DATE_;
  var obs = derivation.observing_;
  var i = obs.length;

  while (i--) {
    obs[i].lowestObserverState_ = IDerivationState_.UP_TO_DATE_;
  }
}
/**
 * These values will persist if global state is reset
 */


var persistentKeys = ["mobxGuid", "spyListeners", "enforceActions", "computedRequiresReaction", "reactionRequiresObservable", "observableRequiresReaction", "allowStateReads", "disableErrorBoundaries", "runId", "UNCHANGED", "useProxies"];

var MobXGlobals = function MobXGlobals() {
  this.version = 6;
  this.UNCHANGED = {};
  this.trackingDerivation = null;
  this.trackingContext = null;
  this.runId = 0;
  this.mobxGuid = 0;
  this.inBatch = 0;
  this.pendingUnobservations = [];
  this.pendingReactions = [];
  this.isRunningReactions = false;
  this.allowStateChanges = false;
  this.allowStateReads = true;
  this.enforceActions = true;
  this.spyListeners = [];
  this.globalReactionErrorHandlers = [];
  this.computedRequiresReaction = false;
  this.reactionRequiresObservable = false;
  this.observableRequiresReaction = false;
  this.disableErrorBoundaries = false;
  this.suppressReactionErrors = false;
  this.useProxies = true;
  this.verifyProxies = false;
  this.safeDescriptors = true;
};

var canMergeGlobalState = true;
var isolateCalled = false;

var globalState = /*#__PURE__*/function () {
  var global = /*#__PURE__*/getGlobal();
  if (global.__mobxInstanceCount > 0 && !global.__mobxGlobals) canMergeGlobalState = false;
  if (global.__mobxGlobals && global.__mobxGlobals.version !== new MobXGlobals().version) canMergeGlobalState = false;

  if (!canMergeGlobalState) {
    setTimeout(function () {
      if (!isolateCalled) {
        die(35);
      }
    }, 1);
    return new MobXGlobals();
  } else if (global.__mobxGlobals) {
    global.__mobxInstanceCount += 1;
    if (!global.__mobxGlobals.UNCHANGED) global.__mobxGlobals.UNCHANGED = {}; // make merge backward compatible

    return global.__mobxGlobals;
  } else {
    global.__mobxInstanceCount = 1;
    return global.__mobxGlobals = /*#__PURE__*/new MobXGlobals();
  }
}();

function isolateGlobalState() {
  if (globalState.pendingReactions.length || globalState.inBatch || globalState.isRunningReactions) die(36);
  isolateCalled = true;

  if (canMergeGlobalState) {
    var global = getGlobal();
    if (--global.__mobxInstanceCount === 0) global.__mobxGlobals = undefined;
    globalState = new MobXGlobals();
  }
}

function getGlobalState() {
  return globalState;
}
/**
 * For testing purposes only; this will break the internal state of existing observables,
 * but can be used to get back at a stable state after throwing errors
 */


function resetGlobalState() {
  var defaultGlobals = new MobXGlobals();

  for (var key in defaultGlobals) {
    if (persistentKeys.indexOf(key) === -1) globalState[key] = defaultGlobals[key];
  }

  globalState.allowStateChanges = !globalState.enforceActions;
}

function hasObservers(observable) {
  return observable.observers_ && observable.observers_.size > 0;
}

function getObservers(observable) {
  return observable.observers_;
} // function invariantObservers(observable: IObservable) {
//     const list = observable.observers
//     const map = observable.observersIndexes
//     const l = list.length
//     for (let i = 0; i < l; i++) {
//         const id = list[i].__mapid
//         if (i) {
//             invariant(map[id] === i, "INTERNAL ERROR maps derivation.__mapid to index in list") // for performance
//         } else {
//             invariant(!(id in map), "INTERNAL ERROR observer on index 0 shouldn't be held in map.") // for performance
//         }
//     }
//     invariant(
//         list.length === 0 || Object.keys(map).length === list.length - 1,
//         "INTERNAL ERROR there is no junk in map"
//     )
// }


function addObserver(observable, node) {
  // invariant(node.dependenciesState !== -1, "INTERNAL ERROR, can add only dependenciesState !== -1");
  // invariant(observable._observers.indexOf(node) === -1, "INTERNAL ERROR add already added node");
  // invariantObservers(observable);
  observable.observers_.add(node);
  if (observable.lowestObserverState_ > node.dependenciesState_) observable.lowestObserverState_ = node.dependenciesState_; // invariantObservers(observable);
  // invariant(observable._observers.indexOf(node) !== -1, "INTERNAL ERROR didn't add node");
}

function removeObserver(observable, node) {
  // invariant(globalState.inBatch > 0, "INTERNAL ERROR, remove should be called only inside batch");
  // invariant(observable._observers.indexOf(node) !== -1, "INTERNAL ERROR remove already removed node");
  // invariantObservers(observable);
  observable.observers_["delete"](node);

  if (observable.observers_.size === 0) {
    // deleting last observer
    queueForUnobservation(observable);
  } // invariantObservers(observable);
  // invariant(observable._observers.indexOf(node) === -1, "INTERNAL ERROR remove already removed node2");

}

function queueForUnobservation(observable) {
  if (observable.isPendingUnobservation_ === false) {
    // invariant(observable._observers.length === 0, "INTERNAL ERROR, should only queue for unobservation unobserved observables");
    observable.isPendingUnobservation_ = true;
    globalState.pendingUnobservations.push(observable);
  }
}
/**
 * Batch starts a transaction, at least for purposes of memoizing ComputedValues when nothing else does.
 * During a batch `onBecomeUnobserved` will be called at most once per observable.
 * Avoids unnecessary recalculations.
 */


function startBatch() {
  globalState.inBatch++;
}

function endBatch() {
  if (--globalState.inBatch === 0) {
    runReactions(); // the batch is actually about to finish, all unobserving should happen here.

    var list = globalState.pendingUnobservations;

    for (var i = 0; i < list.length; i++) {
      var observable = list[i];
      observable.isPendingUnobservation_ = false;

      if (observable.observers_.size === 0) {
        if (observable.isBeingObserved_) {
          // if this observable had reactive observers, trigger the hooks
          observable.isBeingObserved_ = false;
          observable.onBUO();
        }

        if (observable instanceof ComputedValue) {
          // computed values are automatically teared down when the last observer leaves
          // this window.process happens recursively, this computed might be the last observabe of another, etc..
          observable.suspend_();
        }
      }
    }

    globalState.pendingUnobservations = [];
  }
}

function reportObserved(observable) {
  checkIfStateReadsAreAllowed(observable);
  var derivation = globalState.trackingDerivation;

  if (derivation !== null) {
    /**
     * Simple optimization, give each derivation run an unique id (runId)
     * Check if last time this observable was accessed the same runId is used
     * if this is the case, the relation is already known
     */
    if (derivation.runId_ !== observable.lastAccessedBy_) {
      observable.lastAccessedBy_ = derivation.runId_; // Tried storing newObserving, or observing, or both as Set, but performance didn't come close...

      derivation.newObserving_[derivation.unboundDepsCount_++] = observable;

      if (!observable.isBeingObserved_ && globalState.trackingContext) {
        observable.isBeingObserved_ = true;
        observable.onBO();
      }
    }

    return true;
  } else if (observable.observers_.size === 0 && globalState.inBatch > 0) {
    queueForUnobservation(observable);
  }

  return false;
} // function invariantLOS(observable: IObservable, msg: string) {
//     // it's expensive so better not run it in produciton. but temporarily helpful for testing
//     const min = getObservers(observable).reduce((a, b) => Math.min(a, b.dependenciesState), 2)
//     if (min >= observable.lowestObserverState) return // <- the only assumption about `lowestObserverState`
//     throw new Error(
//         "lowestObserverState is wrong for " +
//             msg +
//             " because " +
//             min +
//             " < " +
//             observable.lowestObserverState
//     )
// }

/**
 * NOTE: current propagation mechanism will in case of self reruning autoruns behave unexpectedly
 * It will propagate changes to observers from previous run
 * It's hard or maybe impossible (with reasonable perf) to get it right with current approach
 * Hopefully self reruning autoruns aren't a feature people should depend on
 * Also most basic use cases should be ok
 */
// Called by Atom when its value changes


function propagateChanged(observable) {
  // invariantLOS(observable, "changed start");
  if (observable.lowestObserverState_ === IDerivationState_.STALE_) return;
  observable.lowestObserverState_ = IDerivationState_.STALE_; // Ideally we use for..of here, but the downcompiled version is really slow...

  observable.observers_.forEach(function (d) {
    if (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {
      if (NODE_ENV !== "production" && d.isTracing_ !== TraceMode.NONE) {
        logTraceInfo(d, observable);
      }

      d.onBecomeStale_();
    }

    d.dependenciesState_ = IDerivationState_.STALE_;
  }); // invariantLOS(observable, "changed end");
} // Called by ComputedValue when it recalculate and its value changed


function propagateChangeConfirmed(observable) {
  // invariantLOS(observable, "confirmed start");
  if (observable.lowestObserverState_ === IDerivationState_.STALE_) return;
  observable.lowestObserverState_ = IDerivationState_.STALE_;
  observable.observers_.forEach(function (d) {
    if (d.dependenciesState_ === IDerivationState_.POSSIBLY_STALE_) {
      d.dependenciesState_ = IDerivationState_.STALE_;

      if (NODE_ENV !== "production" && d.isTracing_ !== TraceMode.NONE) {
        logTraceInfo(d, observable);
      }
    } else if (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_ // this happens during computing of `d`, just keep lowestObserverState up to date.
    ) {
      observable.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;
    }
  }); // invariantLOS(observable, "confirmed end");
} // Used by computed when its dependency changed, but we don't wan't to immediately recompute.


function propagateMaybeChanged(observable) {
  // invariantLOS(observable, "maybe start");
  if (observable.lowestObserverState_ !== IDerivationState_.UP_TO_DATE_) return;
  observable.lowestObserverState_ = IDerivationState_.POSSIBLY_STALE_;
  observable.observers_.forEach(function (d) {
    if (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {
      d.dependenciesState_ = IDerivationState_.POSSIBLY_STALE_;
      d.onBecomeStale_();
    }
  }); // invariantLOS(observable, "maybe end");
}

function logTraceInfo(derivation, observable) {
  console.log("[mobx.trace] '" + derivation.name_ + "' is invalidated due to a change in: '" + observable.name_ + "'");

  if (derivation.isTracing_ === TraceMode.BREAK) {
    var lines = [];
    printDepTree(getDependencyTree(derivation), lines, 1); // prettier-ignore

    new Function("debugger;\n/*\nTracing '" + derivation.name_ + "'\n\nYou are entering this break point because derivation '" + derivation.name_ + "' is being traced and '" + observable.name_ + "' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n" + (derivation instanceof ComputedValue ? derivation.derivation.toString().replace(/[*]\//g, "/") : "") + "\n\nThe dependencies for this derivation are:\n\n" + lines.join("\n") + "\n*/\n    ")();
  }
}

function printDepTree(tree, lines, depth) {
  if (lines.length >= 1000) {
    lines.push("(and many more)");
    return;
  }

  lines.push("" + new Array(depth).join("\t") + tree.name); // MWE: not the fastest, but the easiest way :)

  if (tree.dependencies) tree.dependencies.forEach(function (child) {
    return printDepTree(child, lines, depth + 1);
  });
}

var Reaction = /*#__PURE__*/function () {
  // nodes we are looking at. Our value depends on these nodes
  function Reaction(name_, onInvalidate_, errorHandler_, requiresObservable_) {
    if (name_ === void 0) {
      name_ = NODE_ENV !== "production" ? "Reaction@" + getNextId() : "Reaction";
    }

    if (requiresObservable_ === void 0) {
      requiresObservable_ = false;
    }

    this.name_ = void 0;
    this.onInvalidate_ = void 0;
    this.errorHandler_ = void 0;
    this.requiresObservable_ = void 0;
    this.observing_ = [];
    this.newObserving_ = [];
    this.dependenciesState_ = IDerivationState_.NOT_TRACKING_;
    this.diffValue_ = 0;
    this.runId_ = 0;
    this.unboundDepsCount_ = 0;
    this.isDisposed_ = false;
    this.isScheduled_ = false;
    this.isTrackPending_ = false;
    this.isRunning_ = false;
    this.isTracing_ = TraceMode.NONE;
    this.name_ = name_;
    this.onInvalidate_ = onInvalidate_;
    this.errorHandler_ = errorHandler_;
    this.requiresObservable_ = requiresObservable_;
  }

  var _proto = Reaction.prototype;

  _proto.onBecomeStale_ = function onBecomeStale_() {
    this.schedule_();
  };

  _proto.schedule_ = function schedule_() {
    if (!this.isScheduled_) {
      this.isScheduled_ = true;
      globalState.pendingReactions.push(this);
      runReactions();
    }
  };

  _proto.isScheduled = function isScheduled() {
    return this.isScheduled_;
  }
  /**
   * internal, use schedule() if you intend to kick off a reaction
   */
  ;

  _proto.runReaction_ = function runReaction_() {
    if (!this.isDisposed_) {
      startBatch();
      this.isScheduled_ = false;
      var prev = globalState.trackingContext;
      globalState.trackingContext = this;

      if (shouldCompute(this)) {
        this.isTrackPending_ = true;

        try {
          this.onInvalidate_();

          if (NODE_ENV !== "production" && this.isTrackPending_ && isSpyEnabled()) {
            // onInvalidate didn't trigger track right away..
            spyReport({
              name: this.name_,
              type: "scheduled-reaction"
            });
          }
        } catch (e) {
          this.reportExceptionInDerivation_(e);
        }
      }

      globalState.trackingContext = prev;
      endBatch();
    }
  };

  _proto.track = function track(fn) {
    if (this.isDisposed_) {
      return; // console.warn("Reaction already disposed") // Note: Not a warning / error in mobx 4 either
    }

    startBatch();
    var notify = isSpyEnabled();
    var startTime;

    if (NODE_ENV !== "production" && notify) {
      startTime = Date.now();
      spyReportStart({
        name: this.name_,
        type: "reaction"
      });
    }

    this.isRunning_ = true;
    var prevReaction = globalState.trackingContext; // reactions could create reactions...

    globalState.trackingContext = this;
    var result = trackDerivedFunction(this, fn, undefined);
    globalState.trackingContext = prevReaction;
    this.isRunning_ = false;
    this.isTrackPending_ = false;

    if (this.isDisposed_) {
      // disposed during last run. Clean up everything that was bound after the dispose call.
      clearObserving(this);
    }

    if (isCaughtException(result)) this.reportExceptionInDerivation_(result.cause);

    if (NODE_ENV !== "production" && notify) {
      spyReportEnd({
        time: Date.now() - startTime
      });
    }

    endBatch();
  };

  _proto.reportExceptionInDerivation_ = function reportExceptionInDerivation_(error) {
    var _this = this;

    if (this.errorHandler_) {
      this.errorHandler_(error, this);
      return;
    }

    if (globalState.disableErrorBoundaries) throw error;
    var message = NODE_ENV !== "production" ? "[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '" + this + "'" : "[mobx] uncaught error in '" + this + "'";

    if (!globalState.suppressReactionErrors) {
      console.error(message, error);
      /** If debugging brought you here, please, read the above message :-). Tnx! */
    } else if (NODE_ENV !== "production") console.warn("[mobx] (error in reaction '" + this.name_ + "' suppressed, fix error of causing action below)"); // prettier-ignore


    if (NODE_ENV !== "production" && isSpyEnabled()) {
      spyReport({
        type: "error",
        name: this.name_,
        message: message,
        error: "" + error
      });
    }

    globalState.globalReactionErrorHandlers.forEach(function (f) {
      return f(error, _this);
    });
  };

  _proto.dispose = function dispose() {
    if (!this.isDisposed_) {
      this.isDisposed_ = true;

      if (!this.isRunning_) {
        // if disposed while running, clean up later. Maybe not optimal, but rare case
        startBatch();
        clearObserving(this);
        endBatch();
      }
    }
  };

  _proto.getDisposer_ = function getDisposer_() {
    var r = this.dispose.bind(this);
    r[$mobx] = this;
    return r;
  };

  _proto.toString = function toString() {
    return "Reaction[" + this.name_ + "]";
  };

  _proto.trace = function trace$1(enterBreakPoint) {
    if (enterBreakPoint === void 0) {
      enterBreakPoint = false;
    }

    trace(this, enterBreakPoint);
  };

  return Reaction;
}();

exports.Reaction = Reaction;

function onReactionError(handler) {
  globalState.globalReactionErrorHandlers.push(handler);
  return function () {
    var idx = globalState.globalReactionErrorHandlers.indexOf(handler);
    if (idx >= 0) globalState.globalReactionErrorHandlers.splice(idx, 1);
  };
}
/**
 * Magic number alert!
 * Defines within how many times a reaction is allowed to re-trigger itself
 * until it is assumed that this is gonna be a never ending loop...
 */


var MAX_REACTION_ITERATIONS = 100;

var reactionScheduler = function reactionScheduler(f) {
  return f();
};

function runReactions() {
  // Trampolining, if runReactions are already running, new reactions will be picked up
  if (globalState.inBatch > 0 || globalState.isRunningReactions) return;
  reactionScheduler(runReactionsHelper);
}

function runReactionsHelper() {
  globalState.isRunningReactions = true;
  var allReactions = globalState.pendingReactions;
  var iterations = 0; // While running reactions, new reactions might be triggered.
  // Hence we work with two variables and check whether
  // we converge to no remaining reactions after a while.

  while (allReactions.length > 0) {
    if (++iterations === MAX_REACTION_ITERATIONS) {
      console.error(NODE_ENV !== "production" ? "Reaction doesn't converge to a stable state after " + MAX_REACTION_ITERATIONS + " iterations." + (" Probably there is a cycle in the reactive function: " + allReactions[0]) : "[mobx] cycle in reaction: " + allReactions[0]);
      allReactions.splice(0); // clear reactions
    }

    var remainingReactions = allReactions.splice(0);

    for (var i = 0, l = remainingReactions.length; i < l; i++) {
      remainingReactions[i].runReaction_();
    }
  }

  globalState.isRunningReactions = false;
}

var isReaction = /*#__PURE__*/createInstanceofPredicate("Reaction", Reaction);

function setReactionScheduler(fn) {
  var baseScheduler = reactionScheduler;

  reactionScheduler = function reactionScheduler(f) {
    return fn(function () {
      return baseScheduler(f);
    });
  };
}

function isSpyEnabled() {
  return NODE_ENV !== "production" && !!globalState.spyListeners.length;
}

function spyReport(event) {
  if (!(NODE_ENV !== "production")) return; // dead code elimination can do the rest

  if (!globalState.spyListeners.length) return;
  var listeners = globalState.spyListeners;

  for (var i = 0, l = listeners.length; i < l; i++) {
    listeners[i](event);
  }
}

function spyReportStart(event) {
  if (!(NODE_ENV !== "production")) return;

  var change = _extends({}, event, {
    spyReportStart: true
  });

  spyReport(change);
}

var END_EVENT = {
  type: "report-end",
  spyReportEnd: true
};

function spyReportEnd(change) {
  if (!(NODE_ENV !== "production")) return;
  if (change) spyReport(_extends({}, change, {
    type: "report-end",
    spyReportEnd: true
  }));else spyReport(END_EVENT);
}

function spy(listener) {
  if (!(NODE_ENV !== "production")) {
    console.warn("[mobx.spy] Is a no-op in production builds");
    return function () {};
  } else {
    globalState.spyListeners.push(listener);
    return once(function () {
      globalState.spyListeners = globalState.spyListeners.filter(function (l) {
        return l !== listener;
      });
    });
  }
}

var ACTION = "action";
var ACTION_BOUND = "action.bound";
var AUTOACTION = "autoAction";
var AUTOACTION_BOUND = "autoAction.bound";
var DEFAULT_ACTION_NAME = "<unnamed action>";
var actionAnnotation = /*#__PURE__*/createActionAnnotation(ACTION);
var actionBoundAnnotation = /*#__PURE__*/createActionAnnotation(ACTION_BOUND, {
  bound: true
});
var autoActionAnnotation = /*#__PURE__*/createActionAnnotation(AUTOACTION, {
  autoAction: true
});
var autoActionBoundAnnotation = /*#__PURE__*/createActionAnnotation(AUTOACTION_BOUND, {
  autoAction: true,
  bound: true
});

function createActionFactory(autoAction) {
  var res = function action(arg1, arg2) {
    // action(fn() {})
    if (isFunction(arg1)) return createAction(arg1.name || DEFAULT_ACTION_NAME, arg1, autoAction); // action("name", fn() {})

    if (isFunction(arg2)) return createAction(arg1, arg2, autoAction); // @action

    if (isStringish(arg2)) {
      return storeAnnotation(arg1, arg2, autoAction ? autoActionAnnotation : actionAnnotation);
    } // action("name") & @action("name")


    if (isStringish(arg1)) {
      return createDecoratorAnnotation(createActionAnnotation(autoAction ? AUTOACTION : ACTION, {
        name: arg1,
        autoAction: autoAction
      }));
    }

    if (NODE_ENV !== "production") die("Invalid arguments for `action`");
  };

  return res;
}

var action = /*#__PURE__*/createActionFactory(false);
exports.action = action;
Object.assign(action, actionAnnotation);
var autoAction = /*#__PURE__*/createActionFactory(true);
exports._autoAction = autoAction;
Object.assign(autoAction, autoActionAnnotation);
action.bound = /*#__PURE__*/createDecoratorAnnotation(actionBoundAnnotation);
autoAction.bound = /*#__PURE__*/createDecoratorAnnotation(autoActionBoundAnnotation);

function runInAction(fn) {
  return executeAction(fn.name || DEFAULT_ACTION_NAME, false, fn, this, undefined);
}

function isAction(thing) {
  return isFunction(thing) && thing.isMobxAction === true;
}
/**
 * Creates a named reactive view and keeps it alive, so that the view is always
 * updated if one of the dependencies changes, even when the view is not further used by something else.
 * @param view The reactive view
 * @returns disposer function, which can be used to stop the view from being updated in the future.
 */


function autorun(view, opts) {
  var _opts$name, _opts;

  if (opts === void 0) {
    opts = EMPTY_OBJECT;
  }

  if (NODE_ENV !== "production") {
    if (!isFunction(view)) die("Autorun expects a function as first argument");
    if (isAction(view)) die("Autorun does not accept actions since actions are untrackable");
  }

  var name = (_opts$name = (_opts = opts) == null ? void 0 : _opts.name) != null ? _opts$name : NODE_ENV !== "production" ? view.name || "Autorun@" + getNextId() : "Autorun";
  var runSync = !opts.scheduler && !opts.delay;
  var reaction;

  if (runSync) {
    // normal autorun
    reaction = new Reaction(name, function () {
      this.track(reactionRunner);
    }, opts.onError, opts.requiresObservable);
  } else {
    var scheduler = createSchedulerFromOptions(opts); // debounced autorun

    var isScheduled = false;
    reaction = new Reaction(name, function () {
      if (!isScheduled) {
        isScheduled = true;
        scheduler(function () {
          isScheduled = false;
          if (!reaction.isDisposed_) reaction.track(reactionRunner);
        });
      }
    }, opts.onError, opts.requiresObservable);
  }

  function reactionRunner() {
    view(reaction);
  }

  reaction.schedule_();
  return reaction.getDisposer_();
}

var run = function run(f) {
  return f();
};

function createSchedulerFromOptions(opts) {
  return opts.scheduler ? opts.scheduler : opts.delay ? function (f) {
    return setTimeout(f, opts.delay);
  } : run;
}

function reaction(expression, effect, opts) {
  var _opts$name2;

  if (opts === void 0) {
    opts = EMPTY_OBJECT;
  }

  if (NODE_ENV !== "production") {
    if (!isFunction(expression) || !isFunction(effect)) die("First and second argument to reaction should be functions");
    if (!isPlainObject(opts)) die("Third argument of reactions should be an object");
  }

  var name = (_opts$name2 = opts.name) != null ? _opts$name2 : NODE_ENV !== "production" ? "Reaction@" + getNextId() : "Reaction";
  var effectAction = action(name, opts.onError ? wrapErrorHandler(opts.onError, effect) : effect);
  var runSync = !opts.scheduler && !opts.delay;
  var scheduler = createSchedulerFromOptions(opts);
  var firstTime = true;
  var isScheduled = false;
  var value;
  var oldValue = undefined; // only an issue with fireImmediately

  var equals = opts.compareStructural ? comparer.structural : opts.equals || comparer["default"];
  var r = new Reaction(name, function () {
    if (firstTime || runSync) {
      reactionRunner();
    } else if (!isScheduled) {
      isScheduled = true;
      scheduler(reactionRunner);
    }
  }, opts.onError, opts.requiresObservable);

  function reactionRunner() {
    isScheduled = false;
    if (r.isDisposed_) return;
    var changed = false;
    r.track(function () {
      var nextValue = allowStateChanges(false, function () {
        return expression(r);
      });
      changed = firstTime || !equals(value, nextValue);
      oldValue = value;
      value = nextValue;
    });
    if (firstTime && opts.fireImmediately) effectAction(value, oldValue, r);else if (!firstTime && changed) effectAction(value, oldValue, r);
    firstTime = false;
  }

  r.schedule_();
  return r.getDisposer_();
}

function wrapErrorHandler(errorHandler, baseFn) {
  return function () {
    try {
      return baseFn.apply(this, arguments);
    } catch (e) {
      errorHandler.call(this, e);
    }
  };
}

var ON_BECOME_OBSERVED = "onBO";
var ON_BECOME_UNOBSERVED = "onBUO";

function onBecomeObserved(thing, arg2, arg3) {
  return interceptHook(ON_BECOME_OBSERVED, thing, arg2, arg3);
}

function onBecomeUnobserved(thing, arg2, arg3) {
  return interceptHook(ON_BECOME_UNOBSERVED, thing, arg2, arg3);
}

function interceptHook(hook, thing, arg2, arg3) {
  var atom = typeof arg3 === "function" ? getAtom(thing, arg2) : getAtom(thing);
  var cb = isFunction(arg3) ? arg3 : arg2;
  var listenersKey = hook + "L";

  if (atom[listenersKey]) {
    atom[listenersKey].add(cb);
  } else {
    atom[listenersKey] = new Set([cb]);
  }

  return function () {
    var hookListeners = atom[listenersKey];

    if (hookListeners) {
      hookListeners["delete"](cb);

      if (hookListeners.size === 0) {
        delete atom[listenersKey];
      }
    }
  };
}

var NEVER = "never";
var ALWAYS = "always";
var OBSERVED = "observed"; // const IF_AVAILABLE = "ifavailable"

function configure(options) {
  if (options.isolateGlobalState === true) {
    isolateGlobalState();
  }

  var useProxies = options.useProxies,
      enforceActions = options.enforceActions;

  if (useProxies !== undefined) {
    globalState.useProxies = useProxies === ALWAYS ? true : useProxies === NEVER ? false : typeof Proxy !== "undefined";
  }

  if (useProxies === "ifavailable") globalState.verifyProxies = true;

  if (enforceActions !== undefined) {
    var ea = enforceActions === ALWAYS ? ALWAYS : enforceActions === OBSERVED;
    globalState.enforceActions = ea;
    globalState.allowStateChanges = ea === true || ea === ALWAYS ? false : true;
  }

  ["computedRequiresReaction", "reactionRequiresObservable", "observableRequiresReaction", "disableErrorBoundaries", "safeDescriptors"].forEach(function (key) {
    if (key in options) globalState[key] = !!options[key];
  });
  globalState.allowStateReads = !globalState.observableRequiresReaction;

  if (NODE_ENV !== "production" && globalState.disableErrorBoundaries === true) {
    console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled.");
  }

  if (options.reactionScheduler) {
    setReactionScheduler(options.reactionScheduler);
  }
}

function extendObservable(target, properties, annotations, options) {
  if (NODE_ENV !== "production") {
    if (arguments.length > 4) die("'extendObservable' expected 2-4 arguments");
    if (typeof target !== "object") die("'extendObservable' expects an object as first argument");
    if (isObservableMap(target)) die("'extendObservable' should not be used on maps, use map.merge instead");
    if (!isPlainObject(properties)) die("'extendObservabe' only accepts plain objects as second argument");
    if (isObservable(properties) || isObservable(annotations)) die("Extending an object with another observable (object) is not supported");
  } // Pull descriptors first, so we don't have to deal with props added by administration ($mobx)


  var descriptors = getOwnPropertyDescriptors(properties);
  var adm = asObservableObject(target, options)[$mobx];
  startBatch();

  try {
    ownKeys(descriptors).forEach(function (key) {
      adm.extend_(key, descriptors[key], // must pass "undefined" for { key: undefined }
      !annotations ? true : key in annotations ? annotations[key] : true);
    });
  } finally {
    endBatch();
  }

  return target;
}

function getDependencyTree(thing, property) {
  return nodeToDependencyTree(getAtom(thing, property));
}

function nodeToDependencyTree(node) {
  var result = {
    name: node.name_
  };
  if (node.observing_ && node.observing_.length > 0) result.dependencies = unique(node.observing_).map(nodeToDependencyTree);
  return result;
}

function getObserverTree(thing, property) {
  return nodeToObserverTree(getAtom(thing, property));
}

function nodeToObserverTree(node) {
  var result = {
    name: node.name_
  };
  if (hasObservers(node)) result.observers = Array.from(getObservers(node)).map(nodeToObserverTree);
  return result;
}

function unique(list) {
  return Array.from(new Set(list));
}

var generatorId = 0;

function FlowCancellationError() {
  this.message = "FLOW_CANCELLED";
}

FlowCancellationError.prototype = /*#__PURE__*/Object.create(Error.prototype);

function isFlowCancellationError(error) {
  return error instanceof FlowCancellationError;
}

var flowAnnotation = /*#__PURE__*/createFlowAnnotation("flow");
var flowBoundAnnotation = /*#__PURE__*/createFlowAnnotation("flow.bound", {
  bound: true
});
var flow = /*#__PURE__*/Object.assign(function flow(arg1, arg2) {
  // @flow
  if (isStringish(arg2)) {
    return storeAnnotation(arg1, arg2, flowAnnotation);
  } // flow(fn)


  if (NODE_ENV !== "production" && arguments.length !== 1) die("Flow expects single argument with generator function");
  var generator = arg1;
  var name = generator.name || "<unnamed flow>"; // Implementation based on https://github.com/tj/co/blob/master/index.js

  var res = function res() {
    var ctx = this;
    var args = arguments;
    var runId = ++generatorId;
    var gen = action(name + " - runid: " + runId + " - init", generator).apply(ctx, args);
    var rejector;
    var pendingPromise = undefined;
    var promise = new Promise(function (resolve, reject) {
      var stepId = 0;
      rejector = reject;

      function onFulfilled(res) {
        pendingPromise = undefined;
        var ret;

        try {
          ret = action(name + " - runid: " + runId + " - yield " + stepId++, gen.next).call(gen, res);
        } catch (e) {
          return reject(e);
        }

        next(ret);
      }

      function onRejected(err) {
        pendingPromise = undefined;
        var ret;

        try {
          ret = action(name + " - runid: " + runId + " - yield " + stepId++, gen["throw"]).call(gen, err);
        } catch (e) {
          return reject(e);
        }

        next(ret);
      }

      function next(ret) {
        if (isFunction(ret == null ? void 0 : ret.then)) {
          // an async iterator
          ret.then(next, reject);
          return;
        }

        if (ret.done) return resolve(ret.value);
        pendingPromise = Promise.resolve(ret.value);
        return pendingPromise.then(onFulfilled, onRejected);
      }

      onFulfilled(undefined); // kick off the window.process
    });
    promise.cancel = action(name + " - runid: " + runId + " - cancel", function () {
      try {
        if (pendingPromise) cancelPromise(pendingPromise); // Finally block can return (or yield) stuff..

        var _res = gen["return"](undefined); // eat anything that promise would do, it's cancelled!


        var yieldedPromise = Promise.resolve(_res.value);
        yieldedPromise.then(noop, noop);
        cancelPromise(yieldedPromise); // maybe it can be cancelled :)
        // reject our original promise

        rejector(new FlowCancellationError());
      } catch (e) {
        rejector(e); // there could be a throwing finally block
      }
    });
    return promise;
  };

  res.isMobXFlow = true;
  return res;
}, flowAnnotation);
exports.flow = flow;
flow.bound = /*#__PURE__*/createDecoratorAnnotation(flowBoundAnnotation);

function cancelPromise(promise) {
  if (isFunction(promise.cancel)) promise.cancel();
}

function flowResult(result) {
  return result; // just tricking TypeScript :)
}

function isFlow(fn) {
  return (fn == null ? void 0 : fn.isMobXFlow) === true;
}

function interceptReads(thing, propOrHandler, handler) {
  var target;

  if (isObservableMap(thing) || isObservableArray(thing) || isObservableValue(thing)) {
    target = getAdministration(thing);
  } else if (isObservableObject(thing)) {
    if (NODE_ENV !== "production" && !isStringish(propOrHandler)) return die("InterceptReads can only be used with a specific property, not with an object in general");
    target = getAdministration(thing, propOrHandler);
  } else if (NODE_ENV !== "production") {
    return die("Expected observable map, object or array as first array");
  }

  if (NODE_ENV !== "production" && target.dehancer !== undefined) return die("An intercept reader was already established");
  target.dehancer = typeof propOrHandler === "function" ? propOrHandler : handler;
  return function () {
    target.dehancer = undefined;
  };
}

function intercept(thing, propOrHandler, handler) {
  if (isFunction(handler)) return interceptProperty(thing, propOrHandler, handler);else return interceptInterceptable(thing, propOrHandler);
}

function interceptInterceptable(thing, handler) {
  return getAdministration(thing).intercept_(handler);
}

function interceptProperty(thing, property, handler) {
  return getAdministration(thing, property).intercept_(handler);
}

function _isComputed(value, property) {
  if (property !== undefined) {
    if (isObservableObject(value) === false) return false;
    if (!value[$mobx].values_.has(property)) return false;
    var atom = getAtom(value, property);
    return isComputedValue(atom);
  }

  return isComputedValue(value);
}

function isComputed(value) {
  if (NODE_ENV !== "production" && arguments.length > 1) return die("isComputed expects only 1 argument. Use isComputedProp to inspect the observability of a property");
  return _isComputed(value);
}

function isComputedProp(value, propName) {
  if (NODE_ENV !== "production" && !isStringish(propName)) return die("isComputed expected a property name as second argument");
  return _isComputed(value, propName);
}

function _isObservable(value, property) {
  if (!value) return false;

  if (property !== undefined) {
    if (NODE_ENV !== "production" && (isObservableMap(value) || isObservableArray(value))) return die("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.");

    if (isObservableObject(value)) {
      return value[$mobx].values_.has(property);
    }

    return false;
  } // For first check, see #701


  return isObservableObject(value) || !!value[$mobx] || isAtom(value) || isReaction(value) || isComputedValue(value);
}

function isObservable(value) {
  if (NODE_ENV !== "production" && arguments.length !== 1) die("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property");
  return _isObservable(value);
}

function isObservableProp(value, propName) {
  if (NODE_ENV !== "production" && !isStringish(propName)) return die("expected a property name as second argument");
  return _isObservable(value, propName);
}

function keys(obj) {
  if (isObservableObject(obj)) {
    return obj[$mobx].keys_();
  }

  if (isObservableMap(obj) || isObservableSet(obj)) {
    return Array.from(obj.keys());
  }

  if (isObservableArray(obj)) {
    return obj.map(function (_, index) {
      return index;
    });
  }

  die(5);
}

function values(obj) {
  if (isObservableObject(obj)) {
    return keys(obj).map(function (key) {
      return obj[key];
    });
  }

  if (isObservableMap(obj)) {
    return keys(obj).map(function (key) {
      return obj.get(key);
    });
  }

  if (isObservableSet(obj)) {
    return Array.from(obj.values());
  }

  if (isObservableArray(obj)) {
    return obj.slice();
  }

  die(6);
}

function entries(obj) {
  if (isObservableObject(obj)) {
    return keys(obj).map(function (key) {
      return [key, obj[key]];
    });
  }

  if (isObservableMap(obj)) {
    return keys(obj).map(function (key) {
      return [key, obj.get(key)];
    });
  }

  if (isObservableSet(obj)) {
    return Array.from(obj.entries());
  }

  if (isObservableArray(obj)) {
    return obj.map(function (key, index) {
      return [index, key];
    });
  }

  die(7);
}

function set(obj, key, value) {
  if (arguments.length === 2 && !isObservableSet(obj)) {
    startBatch();
    var _values = key;

    try {
      for (var _key in _values) {
        set(obj, _key, _values[_key]);
      }
    } finally {
      endBatch();
    }

    return;
  }

  if (isObservableObject(obj)) {
    obj[$mobx].set_(key, value);
  } else if (isObservableMap(obj)) {
    obj.set(key, value);
  } else if (isObservableSet(obj)) {
    obj.add(key);
  } else if (isObservableArray(obj)) {
    if (typeof key !== "number") key = parseInt(key, 10);
    if (key < 0) die("Invalid index: '" + key + "'");
    startBatch();
    if (key >= obj.length) obj.length = key + 1;
    obj[key] = value;
    endBatch();
  } else die(8);
}

function remove(obj, key) {
  if (isObservableObject(obj)) {
    obj[$mobx].delete_(key);
  } else if (isObservableMap(obj)) {
    obj["delete"](key);
  } else if (isObservableSet(obj)) {
    obj["delete"](key);
  } else if (isObservableArray(obj)) {
    if (typeof key !== "number") key = parseInt(key, 10);
    obj.splice(key, 1);
  } else {
    die(9);
  }
}

function has(obj, key) {
  if (isObservableObject(obj)) {
    return obj[$mobx].has_(key);
  } else if (isObservableMap(obj)) {
    return obj.has(key);
  } else if (isObservableSet(obj)) {
    return obj.has(key);
  } else if (isObservableArray(obj)) {
    return key >= 0 && key < obj.length;
  }

  die(10);
}

function get(obj, key) {
  if (!has(obj, key)) return undefined;

  if (isObservableObject(obj)) {
    return obj[$mobx].get_(key);
  } else if (isObservableMap(obj)) {
    return obj.get(key);
  } else if (isObservableArray(obj)) {
    return obj[key];
  }

  die(11);
}

function apiDefineProperty(obj, key, descriptor) {
  if (isObservableObject(obj)) {
    return obj[$mobx].defineProperty_(key, descriptor);
  }

  die(39);
}

function apiOwnKeys(obj) {
  if (isObservableObject(obj)) {
    return obj[$mobx].ownKeys_();
  }

  die(38);
}

function observe(thing, propOrCb, cbOrFire, fireImmediately) {
  if (isFunction(cbOrFire)) return observeObservableProperty(thing, propOrCb, cbOrFire, fireImmediately);else return observeObservable(thing, propOrCb, cbOrFire);
}

function observeObservable(thing, listener, fireImmediately) {
  return getAdministration(thing).observe_(listener, fireImmediately);
}

function observeObservableProperty(thing, property, listener, fireImmediately) {
  return getAdministration(thing, property).observe_(listener, fireImmediately);
}

function cache(map, key, value) {
  map.set(key, value);
  return value;
}

function toJSHelper(source, __alreadySeen) {
  if (source == null || typeof source !== "object" || source instanceof Date || !isObservable(source)) return source;
  if (isObservableValue(source) || isComputedValue(source)) return toJSHelper(source.get(), __alreadySeen);

  if (__alreadySeen.has(source)) {
    return __alreadySeen.get(source);
  }

  if (isObservableArray(source)) {
    var res = cache(__alreadySeen, source, new Array(source.length));
    source.forEach(function (value, idx) {
      res[idx] = toJSHelper(value, __alreadySeen);
    });
    return res;
  }

  if (isObservableSet(source)) {
    var _res = cache(__alreadySeen, source, new Set());

    source.forEach(function (value) {
      _res.add(toJSHelper(value, __alreadySeen));
    });
    return _res;
  }

  if (isObservableMap(source)) {
    var _res2 = cache(__alreadySeen, source, new Map());

    source.forEach(function (value, key) {
      _res2.set(key, toJSHelper(value, __alreadySeen));
    });
    return _res2;
  } else {
    // must be observable object
    var _res3 = cache(__alreadySeen, source, {});

    apiOwnKeys(source).forEach(function (key) {
      if (objectPrototype.propertyIsEnumerable.call(source, key)) {
        _res3[key] = toJSHelper(source[key], __alreadySeen);
      }
    });
    return _res3;
  }
}
/**
 * Basically, a deep clone, so that no reactive property will exist anymore.
 */


function toJS(source, options) {
  if (NODE_ENV !== "production" && options) die("toJS no longer supports options");
  return toJSHelper(source, new Map());
}

function trace() {
  if (!(NODE_ENV !== "production")) die("trace() is not available in production builds");
  var enterBreakPoint = false;

  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  if (typeof args[args.length - 1] === "boolean") enterBreakPoint = args.pop();
  var derivation = getAtomFromArgs(args);

  if (!derivation) {
    return die("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");
  }

  if (derivation.isTracing_ === TraceMode.NONE) {
    console.log("[mobx.trace] '" + derivation.name_ + "' tracing enabled");
  }

  derivation.isTracing_ = enterBreakPoint ? TraceMode.BREAK : TraceMode.LOG;
}

function getAtomFromArgs(args) {
  switch (args.length) {
    case 0:
      return globalState.trackingDerivation;

    case 1:
      return getAtom(args[0]);

    case 2:
      return getAtom(args[0], args[1]);
  }
}
/**
 * During a transaction no views are updated until the end of the transaction.
 * The transaction will be run synchronously nonetheless.
 *
 * @param action a function that updates some reactive state
 * @returns any value that was returned by the 'action' parameter.
 */


function transaction(action, thisArg) {
  if (thisArg === void 0) {
    thisArg = undefined;
  }

  startBatch();

  try {
    return action.apply(thisArg);
  } finally {
    endBatch();
  }
}

function when(predicate, arg1, arg2) {
  if (arguments.length === 1 || arg1 && typeof arg1 === "object") return whenPromise(predicate, arg1);
  return _when(predicate, arg1, arg2 || {});
}

function _when(predicate, effect, opts) {
  var timeoutHandle;

  if (typeof opts.timeout === "number") {
    timeoutHandle = setTimeout(function () {
      if (!disposer[$mobx].isDisposed_) {
        disposer();
        var error = new Error("WHEN_TIMEOUT");
        if (opts.onError) opts.onError(error);else throw error;
      }
    }, opts.timeout);
  }

  opts.name = NODE_ENV !== "production" ? opts.name || "When@" + getNextId() : "When";
  var effectAction = createAction(NODE_ENV !== "production" ? opts.name + "-effect" : "When-effect", effect); // eslint-disable-next-line

  var disposer = autorun(function (r) {
    // predicate should not change state
    var cond = allowStateChanges(false, predicate);

    if (cond) {
      r.dispose();
      if (timeoutHandle) clearTimeout(timeoutHandle);
      effectAction();
    }
  }, opts);
  return disposer;
}

function whenPromise(predicate, opts) {
  if (NODE_ENV !== "production" && opts && opts.onError) return die("the options 'onError' and 'promise' cannot be combined");
  var cancel;
  var res = new Promise(function (resolve, reject) {
    var disposer = _when(predicate, resolve, _extends({}, opts, {
      onError: reject
    }));

    cancel = function cancel() {
      disposer();
      reject("WHEN_CANCELLED");
    };
  });
  res.cancel = cancel;
  return res;
}

function getAdm(target) {
  return target[$mobx];
} // Optimization: we don't need the intermediate objects and could have a completely custom administration for DynamicObjects,
// and skip either the internal values map, or the base object with its property descriptors!


var objectProxyTraps = {
  has: function has(target, name) {
    if (NODE_ENV !== "production" && globalState.trackingDerivation) warnAboutProxyRequirement("detect new properties using the 'in' operator. Use 'has' from 'mobx' instead.");
    return getAdm(target).has_(name);
  },
  get: function get(target, name) {
    return getAdm(target).get_(name);
  },
  set: function set(target, name, value) {
    var _getAdm$set_;

    if (!isStringish(name)) return false;

    if (NODE_ENV !== "production" && !getAdm(target).values_.has(name)) {
      warnAboutProxyRequirement("add a new observable property through direct assignment. Use 'set' from 'mobx' instead.");
    } // null (intercepted) -> true (success)


    return (_getAdm$set_ = getAdm(target).set_(name, value, true)) != null ? _getAdm$set_ : true;
  },
  deleteProperty: function deleteProperty(target, name) {
    var _getAdm$delete_;

    if (NODE_ENV !== "production") {
      warnAboutProxyRequirement("delete properties from an observable object. Use 'remove' from 'mobx' instead.");
    }

    if (!isStringish(name)) return false; // null (intercepted) -> true (success)

    return (_getAdm$delete_ = getAdm(target).delete_(name, true)) != null ? _getAdm$delete_ : true;
  },
  defineProperty: function defineProperty(target, name, descriptor) {
    var _getAdm$definePropert;

    if (NODE_ENV !== "production") {
      warnAboutProxyRequirement("define property on an observable object. Use 'defineProperty' from 'mobx' instead.");
    } // null (intercepted) -> true (success)


    return (_getAdm$definePropert = getAdm(target).defineProperty_(name, descriptor)) != null ? _getAdm$definePropert : true;
  },
  ownKeys: function ownKeys(target) {
    if (NODE_ENV !== "production" && globalState.trackingDerivation) warnAboutProxyRequirement("iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead.");
    return getAdm(target).ownKeys_();
  },
  preventExtensions: function preventExtensions(target) {
    die(13);
  }
};

function asDynamicObservableObject(target, options) {
  var _target$$mobx, _target$$mobx$proxy_;

  assertProxies();
  target = asObservableObject(target, options);
  return (_target$$mobx$proxy_ = (_target$$mobx = target[$mobx]).proxy_) != null ? _target$$mobx$proxy_ : _target$$mobx.proxy_ = new Proxy(target, objectProxyTraps);
}

function hasInterceptors(interceptable) {
  return interceptable.interceptors_ !== undefined && interceptable.interceptors_.length > 0;
}

function registerInterceptor(interceptable, handler) {
  var interceptors = interceptable.interceptors_ || (interceptable.interceptors_ = []);
  interceptors.push(handler);
  return once(function () {
    var idx = interceptors.indexOf(handler);
    if (idx !== -1) interceptors.splice(idx, 1);
  });
}

function interceptChange(interceptable, change) {
  var prevU = untrackedStart();

  try {
    // Interceptor can modify the array, copy it to avoid concurrent modification, see #1950
    var interceptors = [].concat(interceptable.interceptors_ || []);

    for (var i = 0, l = interceptors.length; i < l; i++) {
      change = interceptors[i](change);
      if (change && !change.type) die(14);
      if (!change) break;
    }

    return change;
  } finally {
    untrackedEnd(prevU);
  }
}

function hasListeners(listenable) {
  return listenable.changeListeners_ !== undefined && listenable.changeListeners_.length > 0;
}

function registerListener(listenable, handler) {
  var listeners = listenable.changeListeners_ || (listenable.changeListeners_ = []);
  listeners.push(handler);
  return once(function () {
    var idx = listeners.indexOf(handler);
    if (idx !== -1) listeners.splice(idx, 1);
  });
}

function notifyListeners(listenable, change) {
  var prevU = untrackedStart();
  var listeners = listenable.changeListeners_;
  if (!listeners) return;
  listeners = listeners.slice();

  for (var i = 0, l = listeners.length; i < l; i++) {
    listeners[i](change);
  }

  untrackedEnd(prevU);
}

function makeObservable(target, annotations, options) {
  var adm = asObservableObject(target, options)[$mobx];
  startBatch();

  try {
    var _annotations; // Default to decorators


    (_annotations = annotations) != null ? _annotations : annotations = collectStoredAnnotations(target); // Annotate

    ownKeys(annotations).forEach(function (key) {
      return adm.make_(key, annotations[key]);
    });
  } finally {
    endBatch();
  }

  return target;
} // proto[keysSymbol] = new Set<PropertyKey>()


var keysSymbol = /*#__PURE__*/Symbol("mobx-keys");

function makeAutoObservable(target, overrides, options) {
  if (NODE_ENV !== "production") {
    if (!isPlainObject(target) && !isPlainObject(Object.getPrototypeOf(target))) die("'makeAutoObservable' can only be used for classes that don't have a superclass");
    if (isObservableObject(target)) die("makeAutoObservable can only be used on objects not already made observable");
  } // Optimization: avoid visiting protos
  // Assumes that annotation.make_/.extend_ works the same for plain objects


  if (isPlainObject(target)) {
    return extendObservable(target, target, overrides, options);
  }

  var adm = asObservableObject(target, options)[$mobx]; // Optimization: cache keys on proto
  // Assumes makeAutoObservable can be called only once per object and can't be used in subclass

  if (!target[keysSymbol]) {
    var proto = Object.getPrototypeOf(target);
    var keys = new Set([].concat(ownKeys(target), ownKeys(proto)));
    keys["delete"]("constructor");
    keys["delete"]($mobx);
    addHiddenProp(proto, keysSymbol, keys);
  }

  startBatch();

  try {
    target[keysSymbol].forEach(function (key) {
      return adm.make_(key, // must pass "undefined" for { key: undefined }
      !overrides ? true : key in overrides ? overrides[key] : true);
    });
  } finally {
    endBatch();
  }

  return target;
}

var SPLICE = "splice";
var UPDATE = "update";
var MAX_SPLICE_SIZE = 10000; // See e.g. https://github.com/mobxjs/mobx/issues/859

var arrayTraps = {
  get: function get(target, name) {
    var adm = target[$mobx];
    if (name === $mobx) return adm;
    if (name === "length") return adm.getArrayLength_();

    if (typeof name === "string" && !isNaN(name)) {
      return adm.get_(parseInt(name));
    }

    if (hasProp(arrayExtensions, name)) {
      return arrayExtensions[name];
    }

    return target[name];
  },
  set: function set(target, name, value) {
    var adm = target[$mobx];

    if (name === "length") {
      adm.setArrayLength_(value);
    }

    if (typeof name === "symbol" || isNaN(name)) {
      target[name] = value;
    } else {
      // numeric string
      adm.set_(parseInt(name), value);
    }

    return true;
  },
  preventExtensions: function preventExtensions() {
    die(15);
  }
};

var ObservableArrayAdministration = /*#__PURE__*/function () {
  // this is the prop that gets proxied, so can't replace it!
  function ObservableArrayAdministration(name, enhancer, owned_, legacyMode_) {
    if (name === void 0) {
      name = NODE_ENV !== "production" ? "ObservableArray@" + getNextId() : "ObservableArray";
    }

    this.owned_ = void 0;
    this.legacyMode_ = void 0;
    this.atom_ = void 0;
    this.values_ = [];
    this.interceptors_ = void 0;
    this.changeListeners_ = void 0;
    this.enhancer_ = void 0;
    this.dehancer = void 0;
    this.proxy_ = void 0;
    this.lastKnownLength_ = 0;
    this.owned_ = owned_;
    this.legacyMode_ = legacyMode_;
    this.atom_ = new Atom(name);

    this.enhancer_ = function (newV, oldV) {
      return enhancer(newV, oldV, NODE_ENV !== "production" ? name + "[..]" : "ObservableArray[..]");
    };
  }

  var _proto = ObservableArrayAdministration.prototype;

  _proto.dehanceValue_ = function dehanceValue_(value) {
    if (this.dehancer !== undefined) return this.dehancer(value);
    return value;
  };

  _proto.dehanceValues_ = function dehanceValues_(values) {
    if (this.dehancer !== undefined && values.length > 0) return values.map(this.dehancer);
    return values;
  };

  _proto.intercept_ = function intercept_(handler) {
    return registerInterceptor(this, handler);
  };

  _proto.observe_ = function observe_(listener, fireImmediately) {
    if (fireImmediately === void 0) {
      fireImmediately = false;
    }

    if (fireImmediately) {
      listener({
        observableKind: "array",
        object: this.proxy_,
        debugObjectName: this.atom_.name_,
        type: "splice",
        index: 0,
        added: this.values_.slice(),
        addedCount: this.values_.length,
        removed: [],
        removedCount: 0
      });
    }

    return registerListener(this, listener);
  };

  _proto.getArrayLength_ = function getArrayLength_() {
    this.atom_.reportObserved();
    return this.values_.length;
  };

  _proto.setArrayLength_ = function setArrayLength_(newLength) {
    if (typeof newLength !== "number" || newLength < 0) die("Out of range: " + newLength);
    var currentLength = this.values_.length;
    if (newLength === currentLength) return;else if (newLength > currentLength) {
      var newItems = new Array(newLength - currentLength);

      for (var i = 0; i < newLength - currentLength; i++) {
        newItems[i] = undefined;
      } // No Array.fill everywhere...


      this.spliceWithArray_(currentLength, 0, newItems);
    } else this.spliceWithArray_(newLength, currentLength - newLength);
  };

  _proto.updateArrayLength_ = function updateArrayLength_(oldLength, delta) {
    if (oldLength !== this.lastKnownLength_) die(16);
    this.lastKnownLength_ += delta;
    if (this.legacyMode_ && delta > 0) reserveArrayBuffer(oldLength + delta + 1);
  };

  _proto.spliceWithArray_ = function spliceWithArray_(index, deleteCount, newItems) {
    var _this = this;

    checkIfStateModificationsAreAllowed(this.atom_);
    var length = this.values_.length;
    if (index === undefined) index = 0;else if (index > length) index = length;else if (index < 0) index = Math.max(0, length + index);
    if (arguments.length === 1) deleteCount = length - index;else if (deleteCount === undefined || deleteCount === null) deleteCount = 0;else deleteCount = Math.max(0, Math.min(deleteCount, length - index));
    if (newItems === undefined) newItems = EMPTY_ARRAY;

    if (hasInterceptors(this)) {
      var change = interceptChange(this, {
        object: this.proxy_,
        type: SPLICE,
        index: index,
        removedCount: deleteCount,
        added: newItems
      });
      if (!change) return EMPTY_ARRAY;
      deleteCount = change.removedCount;
      newItems = change.added;
    }

    newItems = newItems.length === 0 ? newItems : newItems.map(function (v) {
      return _this.enhancer_(v, undefined);
    });

    if (this.legacyMode_ || NODE_ENV !== "production") {
      var lengthDelta = newItems.length - deleteCount;
      this.updateArrayLength_(length, lengthDelta); // checks if internal array wasn't modified
    }

    var res = this.spliceItemsIntoValues_(index, deleteCount, newItems);
    if (deleteCount !== 0 || newItems.length !== 0) this.notifyArraySplice_(index, newItems, res);
    return this.dehanceValues_(res);
  };

  _proto.spliceItemsIntoValues_ = function spliceItemsIntoValues_(index, deleteCount, newItems) {
    if (newItems.length < MAX_SPLICE_SIZE) {
      var _this$values_;

      return (_this$values_ = this.values_).splice.apply(_this$values_, [index, deleteCount].concat(newItems));
    } else {
      var res = this.values_.slice(index, index + deleteCount);
      var oldItems = this.values_.slice(index + deleteCount);
      this.values_.length = index + newItems.length - deleteCount;

      for (var i = 0; i < newItems.length; i++) {
        this.values_[index + i] = newItems[i];
      }

      for (var _i = 0; _i < oldItems.length; _i++) {
        this.values_[index + newItems.length + _i] = oldItems[_i];
      }

      return res;
    }
  };

  _proto.notifyArrayChildUpdate_ = function notifyArrayChildUpdate_(index, newValue, oldValue) {
    var notifySpy = !this.owned_ && isSpyEnabled();
    var notify = hasListeners(this);
    var change = notify || notifySpy ? {
      observableKind: "array",
      object: this.proxy_,
      type: UPDATE,
      debugObjectName: this.atom_.name_,
      index: index,
      newValue: newValue,
      oldValue: oldValue
    } : null; // The reason why this is on right hand side here (and not above), is this way the uglifier will drop it, but it won't
    // cause any runtime overhead in development mode without NODE_ENV set, unless spying is enabled

    if (NODE_ENV !== "production" && notifySpy) spyReportStart(change);
    this.atom_.reportChanged();
    if (notify) notifyListeners(this, change);
    if (NODE_ENV !== "production" && notifySpy) spyReportEnd();
  };

  _proto.notifyArraySplice_ = function notifyArraySplice_(index, added, removed) {
    var notifySpy = !this.owned_ && isSpyEnabled();
    var notify = hasListeners(this);
    var change = notify || notifySpy ? {
      observableKind: "array",
      object: this.proxy_,
      debugObjectName: this.atom_.name_,
      type: SPLICE,
      index: index,
      removed: removed,
      added: added,
      removedCount: removed.length,
      addedCount: added.length
    } : null;
    if (NODE_ENV !== "production" && notifySpy) spyReportStart(change);
    this.atom_.reportChanged(); // conform: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/observe

    if (notify) notifyListeners(this, change);
    if (NODE_ENV !== "production" && notifySpy) spyReportEnd();
  };

  _proto.get_ = function get_(index) {
    if (index < this.values_.length) {
      this.atom_.reportObserved();
      return this.dehanceValue_(this.values_[index]);
    }

    console.warn(NODE_ENV !== "production" ? "[mobx] Out of bounds read: " + index : "[mobx.array] Attempt to read an array index (" + index + ") that is out of bounds (" + this.values_.length + "). Please check length first. Out of bound indices will not be tracked by MobX");
  };

  _proto.set_ = function set_(index, newValue) {
    var values = this.values_;

    if (index < values.length) {
      // update at index in range
      checkIfStateModificationsAreAllowed(this.atom_);
      var oldValue = values[index];

      if (hasInterceptors(this)) {
        var change = interceptChange(this, {
          type: UPDATE,
          object: this.proxy_,
          index: index,
          newValue: newValue
        });
        if (!change) return;
        newValue = change.newValue;
      }

      newValue = this.enhancer_(newValue, oldValue);
      var changed = newValue !== oldValue;

      if (changed) {
        values[index] = newValue;
        this.notifyArrayChildUpdate_(index, newValue, oldValue);
      }
    } else if (index === values.length) {
      // add a new item
      this.spliceWithArray_(index, 0, [newValue]);
    } else {
      // out of bounds
      die(17, index, values.length);
    }
  };

  return ObservableArrayAdministration;
}();

function createObservableArray(initialValues, enhancer, name, owned) {
  if (name === void 0) {
    name = NODE_ENV !== "production" ? "ObservableArray@" + getNextId() : "ObservableArray";
  }

  if (owned === void 0) {
    owned = false;
  }

  assertProxies();
  var adm = new ObservableArrayAdministration(name, enhancer, owned, false);
  addHiddenFinalProp(adm.values_, $mobx, adm);
  var proxy = new Proxy(adm.values_, arrayTraps);
  adm.proxy_ = proxy;

  if (initialValues && initialValues.length) {
    var prev = allowStateChangesStart(true);
    adm.spliceWithArray_(0, 0, initialValues);
    allowStateChangesEnd(prev);
  }

  return proxy;
} // eslint-disable-next-line


var arrayExtensions = {
  clear: function clear() {
    return this.splice(0);
  },
  replace: function replace(newItems) {
    var adm = this[$mobx];
    return adm.spliceWithArray_(0, adm.values_.length, newItems);
  },
  // Used by JSON.stringify
  toJSON: function toJSON() {
    return this.slice();
  },

  /*
   * functions that do alter the internal structure of the array, (based on lib.es6.d.ts)
   * since these functions alter the inner structure of the array, the have side effects.
   * Because the have side effects, they should not be used in computed function,
   * and for that reason the do not call dependencyState.notifyObserved
   */
  splice: function splice(index, deleteCount) {
    for (var _len = arguments.length, newItems = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
      newItems[_key - 2] = arguments[_key];
    }

    var adm = this[$mobx];

    switch (arguments.length) {
      case 0:
        return [];

      case 1:
        return adm.spliceWithArray_(index);

      case 2:
        return adm.spliceWithArray_(index, deleteCount);
    }

    return adm.spliceWithArray_(index, deleteCount, newItems);
  },
  spliceWithArray: function spliceWithArray(index, deleteCount, newItems) {
    return this[$mobx].spliceWithArray_(index, deleteCount, newItems);
  },
  push: function push() {
    var adm = this[$mobx];

    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      items[_key2] = arguments[_key2];
    }

    adm.spliceWithArray_(adm.values_.length, 0, items);
    return adm.values_.length;
  },
  pop: function pop() {
    return this.splice(Math.max(this[$mobx].values_.length - 1, 0), 1)[0];
  },
  shift: function shift() {
    return this.splice(0, 1)[0];
  },
  unshift: function unshift() {
    var adm = this[$mobx];

    for (var _len3 = arguments.length, items = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      items[_key3] = arguments[_key3];
    }

    adm.spliceWithArray_(0, 0, items);
    return adm.values_.length;
  },
  reverse: function reverse() {
    // reverse by default mutates in place before returning the result
    // which makes it both a 'derivation' and a 'mutation'.
    if (globalState.trackingDerivation) {
      die(37, "reverse");
    }

    this.replace(this.slice().reverse());
    return this;
  },
  sort: function sort() {
    // sort by default mutates in place before returning the result
    // which goes against all good practices. Let's not change the array in place!
    if (globalState.trackingDerivation) {
      die(37, "sort");
    }

    var copy = this.slice();
    copy.sort.apply(copy, arguments);
    this.replace(copy);
    return this;
  },
  remove: function remove(value) {
    var adm = this[$mobx];
    var idx = adm.dehanceValues_(adm.values_).indexOf(value);

    if (idx > -1) {
      this.splice(idx, 1);
      return true;
    }

    return false;
  }
};
/**
 * Wrap function from prototype
 * Without this, everything works as well, but this works
 * faster as everything works on unproxied values
 */

addArrayExtension("concat", simpleFunc);
addArrayExtension("flat", simpleFunc);
addArrayExtension("includes", simpleFunc);
addArrayExtension("indexOf", simpleFunc);
addArrayExtension("join", simpleFunc);
addArrayExtension("lastIndexOf", simpleFunc);
addArrayExtension("slice", simpleFunc);
addArrayExtension("toString", simpleFunc);
addArrayExtension("toLocaleString", simpleFunc); // map

addArrayExtension("every", mapLikeFunc);
addArrayExtension("filter", mapLikeFunc);
addArrayExtension("find", mapLikeFunc);
addArrayExtension("findIndex", mapLikeFunc);
addArrayExtension("flatMap", mapLikeFunc);
addArrayExtension("forEach", mapLikeFunc);
addArrayExtension("map", mapLikeFunc);
addArrayExtension("some", mapLikeFunc); // reduce

addArrayExtension("reduce", reduceLikeFunc);
addArrayExtension("reduceRight", reduceLikeFunc);

function addArrayExtension(funcName, funcFactory) {
  if (typeof Array.prototype[funcName] === "function") {
    arrayExtensions[funcName] = funcFactory(funcName);
  }
} // Report and delegate to dehanced array


function simpleFunc(funcName) {
  return function () {
    var adm = this[$mobx];
    adm.atom_.reportObserved();
    var dehancedValues = adm.dehanceValues_(adm.values_);
    return dehancedValues[funcName].apply(dehancedValues, arguments);
  };
} // Make sure callbacks recieve correct array arg #2326


function mapLikeFunc(funcName) {
  return function (callback, thisArg) {
    var _this2 = this;

    var adm = this[$mobx];
    adm.atom_.reportObserved();
    var dehancedValues = adm.dehanceValues_(adm.values_);
    return dehancedValues[funcName](function (element, index) {
      return callback.call(thisArg, element, index, _this2);
    });
  };
} // Make sure callbacks recieve correct array arg #2326


function reduceLikeFunc(funcName) {
  return function () {
    var _this3 = this;

    var adm = this[$mobx];
    adm.atom_.reportObserved();
    var dehancedValues = adm.dehanceValues_(adm.values_); // #2432 - reduce behavior depends on arguments.length

    var callback = arguments[0];

    arguments[0] = function (accumulator, currentValue, index) {
      return callback(accumulator, currentValue, index, _this3);
    };

    return dehancedValues[funcName].apply(dehancedValues, arguments);
  };
}

var isObservableArrayAdministration = /*#__PURE__*/createInstanceofPredicate("ObservableArrayAdministration", ObservableArrayAdministration);

function isObservableArray(thing) {
  return isObject(thing) && isObservableArrayAdministration(thing[$mobx]);
}

var _Symbol$iterator, _Symbol$toStringTag;

var ObservableMapMarker = {};
var ADD = "add";
var DELETE = "delete"; // just extend Map? See also https://gist.github.com/nestharus/13b4d74f2ef4a2f4357dbd3fc23c1e54
// But: https://github.com/mobxjs/mobx/issues/1556

_Symbol$iterator = Symbol.iterator;
_Symbol$toStringTag = Symbol.toStringTag;

var ObservableMap = /*#__PURE__*/function () {
  // hasMap, not hashMap >-).
  function ObservableMap(initialData, enhancer_, name_) {
    if (enhancer_ === void 0) {
      enhancer_ = deepEnhancer;
    }

    if (name_ === void 0) {
      name_ = NODE_ENV !== "production" ? "ObservableMap@" + getNextId() : "ObservableMap";
    }

    this.enhancer_ = void 0;
    this.name_ = void 0;
    this[$mobx] = ObservableMapMarker;
    this.data_ = void 0;
    this.hasMap_ = void 0;
    this.keysAtom_ = void 0;
    this.interceptors_ = void 0;
    this.changeListeners_ = void 0;
    this.dehancer = void 0;
    this.enhancer_ = enhancer_;
    this.name_ = name_;

    if (!isFunction(Map)) {
      die(18);
    }

    this.keysAtom_ = createAtom(NODE_ENV !== "production" ? this.name_ + ".keys()" : "ObservableMap.keys()");
    this.data_ = new Map();
    this.hasMap_ = new Map();
    this.merge(initialData);
  }

  var _proto = ObservableMap.prototype;

  _proto.has_ = function has_(key) {
    return this.data_.has(key);
  };

  _proto.has = function has(key) {
    var _this = this;

    if (!globalState.trackingDerivation) return this.has_(key);
    var entry = this.hasMap_.get(key);

    if (!entry) {
      var newEntry = entry = new ObservableValue(this.has_(key), referenceEnhancer, NODE_ENV !== "production" ? this.name_ + "." + stringifyKey(key) + "?" : "ObservableMap.key?", false);
      this.hasMap_.set(key, newEntry);
      onBecomeUnobserved(newEntry, function () {
        return _this.hasMap_["delete"](key);
      });
    }

    return entry.get();
  };

  _proto.set = function set(key, value) {
    var hasKey = this.has_(key);

    if (hasInterceptors(this)) {
      var change = interceptChange(this, {
        type: hasKey ? UPDATE : ADD,
        object: this,
        newValue: value,
        name: key
      });
      if (!change) return this;
      value = change.newValue;
    }

    if (hasKey) {
      this.updateValue_(key, value);
    } else {
      this.addValue_(key, value);
    }

    return this;
  };

  _proto["delete"] = function _delete(key) {
    var _this2 = this;

    checkIfStateModificationsAreAllowed(this.keysAtom_);

    if (hasInterceptors(this)) {
      var change = interceptChange(this, {
        type: DELETE,
        object: this,
        name: key
      });
      if (!change) return false;
    }

    if (this.has_(key)) {
      var notifySpy = isSpyEnabled();
      var notify = hasListeners(this);

      var _change = notify || notifySpy ? {
        observableKind: "map",
        debugObjectName: this.name_,
        type: DELETE,
        object: this,
        oldValue: this.data_.get(key).value_,
        name: key
      } : null;

      if (NODE_ENV !== "production" && notifySpy) spyReportStart(_change);
      transaction(function () {
        _this2.keysAtom_.reportChanged();

        _this2.updateHasMapEntry_(key, false);

        var observable = _this2.data_.get(key);

        observable.setNewValue_(undefined);

        _this2.data_["delete"](key);
      });
      if (notify) notifyListeners(this, _change);
      if (NODE_ENV !== "production" && notifySpy) spyReportEnd();
      return true;
    }

    return false;
  };

  _proto.updateHasMapEntry_ = function updateHasMapEntry_(key, value) {
    var entry = this.hasMap_.get(key);

    if (entry) {
      entry.setNewValue_(value);
    }
  };

  _proto.updateValue_ = function updateValue_(key, newValue) {
    var observable = this.data_.get(key);
    newValue = observable.prepareNewValue_(newValue);

    if (newValue !== globalState.UNCHANGED) {
      var notifySpy = isSpyEnabled();
      var notify = hasListeners(this);
      var change = notify || notifySpy ? {
        observableKind: "map",
        debugObjectName: this.name_,
        type: UPDATE,
        object: this,
        oldValue: observable.value_,
        name: key,
        newValue: newValue
      } : null;
      if (NODE_ENV !== "production" && notifySpy) spyReportStart(change);
      observable.setNewValue_(newValue);
      if (notify) notifyListeners(this, change);
      if (NODE_ENV !== "production" && notifySpy) spyReportEnd();
    }
  };

  _proto.addValue_ = function addValue_(key, newValue) {
    var _this3 = this;

    checkIfStateModificationsAreAllowed(this.keysAtom_);
    transaction(function () {
      var observable = new ObservableValue(newValue, _this3.enhancer_, NODE_ENV !== "production" ? _this3.name_ + "." + stringifyKey(key) : "ObservableMap.key", false);

      _this3.data_.set(key, observable);

      newValue = observable.value_; // value might have been changed

      _this3.updateHasMapEntry_(key, true);

      _this3.keysAtom_.reportChanged();
    });
    var notifySpy = isSpyEnabled();
    var notify = hasListeners(this);
    var change = notify || notifySpy ? {
      observableKind: "map",
      debugObjectName: this.name_,
      type: ADD,
      object: this,
      name: key,
      newValue: newValue
    } : null;
    if (NODE_ENV !== "production" && notifySpy) spyReportStart(change);
    if (notify) notifyListeners(this, change);
    if (NODE_ENV !== "production" && notifySpy) spyReportEnd();
  };

  _proto.get = function get(key) {
    if (this.has(key)) return this.dehanceValue_(this.data_.get(key).get());
    return this.dehanceValue_(undefined);
  };

  _proto.dehanceValue_ = function dehanceValue_(value) {
    if (this.dehancer !== undefined) {
      return this.dehancer(value);
    }

    return value;
  };

  _proto.keys = function keys() {
    this.keysAtom_.reportObserved();
    return this.data_.keys();
  };

  _proto.values = function values() {
    var self = this;
    var keys = this.keys();
    return makeIterable({
      next: function next() {
        var _keys$next = keys.next(),
            done = _keys$next.done,
            value = _keys$next.value;

        return {
          done: done,
          value: done ? undefined : self.get(value)
        };
      }
    });
  };

  _proto.entries = function entries() {
    var self = this;
    var keys = this.keys();
    return makeIterable({
      next: function next() {
        var _keys$next2 = keys.next(),
            done = _keys$next2.done,
            value = _keys$next2.value;

        return {
          done: done,
          value: done ? undefined : [value, self.get(value)]
        };
      }
    });
  };

  _proto[_Symbol$iterator] = function () {
    return this.entries();
  };

  _proto.forEach = function forEach(callback, thisArg) {
    for (var _iterator = _createForOfIteratorHelperLoose(this), _step; !(_step = _iterator()).done;) {
      var _step$value = _step.value,
          key = _step$value[0],
          value = _step$value[1];
      callback.call(thisArg, value, key, this);
    }
  }
  /** Merge another object into this object, returns this. */
  ;

  _proto.merge = function merge(other) {
    var _this4 = this;

    if (isObservableMap(other)) {
      other = new Map(other);
    }

    transaction(function () {
      if (isPlainObject(other)) getPlainObjectKeys(other).forEach(function (key) {
        return _this4.set(key, other[key]);
      });else if (Array.isArray(other)) other.forEach(function (_ref) {
        var key = _ref[0],
            value = _ref[1];
        return _this4.set(key, value);
      });else if (isES6Map(other)) {
        if (other.constructor !== Map) die(19, other);
        other.forEach(function (value, key) {
          return _this4.set(key, value);
        });
      } else if (other !== null && other !== undefined) die(20, other);
    });
    return this;
  };

  _proto.clear = function clear() {
    var _this5 = this;

    transaction(function () {
      untracked(function () {
        for (var _iterator2 = _createForOfIteratorHelperLoose(_this5.keys()), _step2; !(_step2 = _iterator2()).done;) {
          var key = _step2.value;

          _this5["delete"](key);
        }
      });
    });
  };

  _proto.replace = function replace(values) {
    var _this6 = this; // Implementation requirements:
    // - respect ordering of replacement map
    // - allow interceptors to run and potentially prevent individual operations
    // - don't recreate observables that already exist in original map (so we don't destroy existing subscriptions)
    // - don't _keysAtom.reportChanged if the keys of resulting map are indentical (order matters!)
    // - note that result map may differ from replacement map due to the interceptors


    transaction(function () {
      // Convert to map so we can do quick key lookups
      var replacementMap = convertToMap(values);
      var orderedData = new Map(); // Used for optimization

      var keysReportChangedCalled = false; // Delete keys that don't exist in replacement map
      // if the key deletion is prevented by interceptor
      // add entry at the beginning of the result map

      for (var _iterator3 = _createForOfIteratorHelperLoose(_this6.data_.keys()), _step3; !(_step3 = _iterator3()).done;) {
        var key = _step3.value; // Concurrently iterating/deleting keys
        // iterator should handle this correctly

        if (!replacementMap.has(key)) {
          var deleted = _this6["delete"](key); // Was the key removed?


          if (deleted) {
            // _keysAtom.reportChanged() was already called
            keysReportChangedCalled = true;
          } else {
            // Delete prevented by interceptor
            var value = _this6.data_.get(key);

            orderedData.set(key, value);
          }
        }
      } // Merge entries


      for (var _iterator4 = _createForOfIteratorHelperLoose(replacementMap.entries()), _step4; !(_step4 = _iterator4()).done;) {
        var _step4$value = _step4.value,
            _key = _step4$value[0],
            _value = _step4$value[1]; // We will want to know whether a new key is added

        var keyExisted = _this6.data_.has(_key); // Add or update value


        _this6.set(_key, _value); // The addition could have been prevent by interceptor


        if (_this6.data_.has(_key)) {
          // The update could have been prevented by interceptor
          // and also we want to preserve existing values
          // so use value from _data map (instead of replacement map)
          var _value2 = _this6.data_.get(_key);

          orderedData.set(_key, _value2); // Was a new key added?

          if (!keyExisted) {
            // _keysAtom.reportChanged() was already called
            keysReportChangedCalled = true;
          }
        }
      } // Check for possible key order change


      if (!keysReportChangedCalled) {
        if (_this6.data_.size !== orderedData.size) {
          // If size differs, keys are definitely modified
          _this6.keysAtom_.reportChanged();
        } else {
          var iter1 = _this6.data_.keys();

          var iter2 = orderedData.keys();
          var next1 = iter1.next();
          var next2 = iter2.next();

          while (!next1.done) {
            if (next1.value !== next2.value) {
              _this6.keysAtom_.reportChanged();

              break;
            }

            next1 = iter1.next();
            next2 = iter2.next();
          }
        }
      } // Use correctly ordered map


      _this6.data_ = orderedData;
    });
    return this;
  };

  _proto.toString = function toString() {
    return "[object ObservableMap]";
  };

  _proto.toJSON = function toJSON() {
    return Array.from(this);
  };
  /**
   * Observes this object. Triggers for the events 'add', 'update' and 'delete'.
   * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe
   * for callback details
   */


  _proto.observe_ = function observe_(listener, fireImmediately) {
    if (NODE_ENV !== "production" && fireImmediately === true) die("`observe` doesn't support fireImmediately=true in combination with maps.");
    return registerListener(this, listener);
  };

  _proto.intercept_ = function intercept_(handler) {
    return registerInterceptor(this, handler);
  };

  _createClass(ObservableMap, [{
    key: "size",
    get: function get() {
      this.keysAtom_.reportObserved();
      return this.data_.size;
    }
  }, {
    key: _Symbol$toStringTag,
    get: function get() {
      return "Map";
    }
  }]);

  return ObservableMap;
}(); // eslint-disable-next-line


exports.ObservableMap = ObservableMap;
var isObservableMap = /*#__PURE__*/createInstanceofPredicate("ObservableMap", ObservableMap);
exports.isObservableMap = isObservableMap;

function convertToMap(dataStructure) {
  if (isES6Map(dataStructure) || isObservableMap(dataStructure)) {
    return dataStructure;
  } else if (Array.isArray(dataStructure)) {
    return new Map(dataStructure);
  } else if (isPlainObject(dataStructure)) {
    var map = new Map();

    for (var key in dataStructure) {
      map.set(key, dataStructure[key]);
    }

    return map;
  } else {
    return die(21, dataStructure);
  }
}

var _Symbol$iterator$1, _Symbol$toStringTag$1;

var ObservableSetMarker = {};
_Symbol$iterator$1 = Symbol.iterator;
_Symbol$toStringTag$1 = Symbol.toStringTag;

var ObservableSet = /*#__PURE__*/function () {
  function ObservableSet(initialData, enhancer, name_) {
    if (enhancer === void 0) {
      enhancer = deepEnhancer;
    }

    if (name_ === void 0) {
      name_ = NODE_ENV !== "production" ? "ObservableSet@" + getNextId() : "ObservableSet";
    }

    this.name_ = void 0;
    this[$mobx] = ObservableSetMarker;
    this.data_ = new Set();
    this.atom_ = void 0;
    this.changeListeners_ = void 0;
    this.interceptors_ = void 0;
    this.dehancer = void 0;
    this.enhancer_ = void 0;
    this.name_ = name_;

    if (!isFunction(Set)) {
      die(22);
    }

    this.atom_ = createAtom(this.name_);

    this.enhancer_ = function (newV, oldV) {
      return enhancer(newV, oldV, name_);
    };

    if (initialData) {
      this.replace(initialData);
    }
  }

  var _proto = ObservableSet.prototype;

  _proto.dehanceValue_ = function dehanceValue_(value) {
    if (this.dehancer !== undefined) {
      return this.dehancer(value);
    }

    return value;
  };

  _proto.clear = function clear() {
    var _this = this;

    transaction(function () {
      untracked(function () {
        for (var _iterator = _createForOfIteratorHelperLoose(_this.data_.values()), _step; !(_step = _iterator()).done;) {
          var value = _step.value;

          _this["delete"](value);
        }
      });
    });
  };

  _proto.forEach = function forEach(callbackFn, thisArg) {
    for (var _iterator2 = _createForOfIteratorHelperLoose(this), _step2; !(_step2 = _iterator2()).done;) {
      var value = _step2.value;
      callbackFn.call(thisArg, value, value, this);
    }
  };

  _proto.add = function add(value) {
    var _this2 = this;

    checkIfStateModificationsAreAllowed(this.atom_);

    if (hasInterceptors(this)) {
      var change = interceptChange(this, {
        type: ADD,
        object: this,
        newValue: value
      });
      if (!change) return this; // ideally, value = change.value would be done here, so that values can be
      // changed by interceptor. Same applies for other Set and Map api's.
    }

    if (!this.has(value)) {
      transaction(function () {
        _this2.data_.add(_this2.enhancer_(value, undefined));

        _this2.atom_.reportChanged();
      });
      var notifySpy = NODE_ENV !== "production" && isSpyEnabled();
      var notify = hasListeners(this);

      var _change = notify || notifySpy ? {
        observableKind: "set",
        debugObjectName: this.name_,
        type: ADD,
        object: this,
        newValue: value
      } : null;

      if (notifySpy && NODE_ENV !== "production") spyReportStart(_change);
      if (notify) notifyListeners(this, _change);
      if (notifySpy && NODE_ENV !== "production") spyReportEnd();
    }

    return this;
  };

  _proto["delete"] = function _delete(value) {
    var _this3 = this;

    if (hasInterceptors(this)) {
      var change = interceptChange(this, {
        type: DELETE,
        object: this,
        oldValue: value
      });
      if (!change) return false;
    }

    if (this.has(value)) {
      var notifySpy = NODE_ENV !== "production" && isSpyEnabled();
      var notify = hasListeners(this);

      var _change2 = notify || notifySpy ? {
        observableKind: "set",
        debugObjectName: this.name_,
        type: DELETE,
        object: this,
        oldValue: value
      } : null;

      if (notifySpy && NODE_ENV !== "production") spyReportStart(_change2);
      transaction(function () {
        _this3.atom_.reportChanged();

        _this3.data_["delete"](value);
      });
      if (notify) notifyListeners(this, _change2);
      if (notifySpy && NODE_ENV !== "production") spyReportEnd();
      return true;
    }

    return false;
  };

  _proto.has = function has(value) {
    this.atom_.reportObserved();
    return this.data_.has(this.dehanceValue_(value));
  };

  _proto.entries = function entries() {
    var nextIndex = 0;
    var keys = Array.from(this.keys());
    var values = Array.from(this.values());
    return makeIterable({
      next: function next() {
        var index = nextIndex;
        nextIndex += 1;
        return index < values.length ? {
          value: [keys[index], values[index]],
          done: false
        } : {
          done: true
        };
      }
    });
  };

  _proto.keys = function keys() {
    return this.values();
  };

  _proto.values = function values() {
    this.atom_.reportObserved();
    var self = this;
    var nextIndex = 0;
    var observableValues = Array.from(this.data_.values());
    return makeIterable({
      next: function next() {
        return nextIndex < observableValues.length ? {
          value: self.dehanceValue_(observableValues[nextIndex++]),
          done: false
        } : {
          done: true
        };
      }
    });
  };

  _proto.replace = function replace(other) {
    var _this4 = this;

    if (isObservableSet(other)) {
      other = new Set(other);
    }

    transaction(function () {
      if (Array.isArray(other)) {
        _this4.clear();

        other.forEach(function (value) {
          return _this4.add(value);
        });
      } else if (isES6Set(other)) {
        _this4.clear();

        other.forEach(function (value) {
          return _this4.add(value);
        });
      } else if (other !== null && other !== undefined) {
        die("Cannot initialize set from " + other);
      }
    });
    return this;
  };

  _proto.observe_ = function observe_(listener, fireImmediately) {
    // ... 'fireImmediately' could also be true?
    if (NODE_ENV !== "production" && fireImmediately === true) die("`observe` doesn't support fireImmediately=true in combination with sets.");
    return registerListener(this, listener);
  };

  _proto.intercept_ = function intercept_(handler) {
    return registerInterceptor(this, handler);
  };

  _proto.toJSON = function toJSON() {
    return Array.from(this);
  };

  _proto.toString = function toString() {
    return "[object ObservableSet]";
  };

  _proto[_Symbol$iterator$1] = function () {
    return this.values();
  };

  _createClass(ObservableSet, [{
    key: "size",
    get: function get() {
      this.atom_.reportObserved();
      return this.data_.size;
    }
  }, {
    key: _Symbol$toStringTag$1,
    get: function get() {
      return "Set";
    }
  }]);

  return ObservableSet;
}(); // eslint-disable-next-line


exports.ObservableSet = ObservableSet;
var isObservableSet = /*#__PURE__*/createInstanceofPredicate("ObservableSet", ObservableSet);
exports.isObservableSet = isObservableSet;
var descriptorCache = /*#__PURE__*/Object.create(null);
var REMOVE = "remove";

var ObservableObjectAdministration = /*#__PURE__*/function () {
  function ObservableObjectAdministration(target_, values_, name_, // Used anytime annotation is not explicitely provided
  defaultAnnotation_) {
    if (values_ === void 0) {
      values_ = new Map();
    }

    if (defaultAnnotation_ === void 0) {
      defaultAnnotation_ = autoAnnotation;
    }

    this.target_ = void 0;
    this.values_ = void 0;
    this.name_ = void 0;
    this.defaultAnnotation_ = void 0;
    this.keysAtom_ = void 0;
    this.changeListeners_ = void 0;
    this.interceptors_ = void 0;
    this.proxy_ = void 0;
    this.isPlainObject_ = void 0;
    this.appliedAnnotations_ = void 0;
    this.pendingKeys_ = void 0;
    this.target_ = target_;
    this.values_ = values_;
    this.name_ = name_;
    this.defaultAnnotation_ = defaultAnnotation_;
    this.keysAtom_ = new Atom(NODE_ENV !== "production" ? this.name_ + ".keys" : "ObservableObject.keys"); // Optimization: we use this frequently

    this.isPlainObject_ = isPlainObject(this.target_);

    if (NODE_ENV !== "production" && !isAnnotation(this.defaultAnnotation_)) {
      die("defaultAnnotation must be valid annotation");
    }

    if (NODE_ENV !== "production") {
      // Prepare structure for tracking which fields were already annotated
      this.appliedAnnotations_ = {};
    }
  }

  var _proto = ObservableObjectAdministration.prototype;

  _proto.getObservablePropValue_ = function getObservablePropValue_(key) {
    return this.values_.get(key).get();
  };

  _proto.setObservablePropValue_ = function setObservablePropValue_(key, newValue) {
    var observable = this.values_.get(key);

    if (observable instanceof ComputedValue) {
      observable.set(newValue);
      return true;
    } // intercept


    if (hasInterceptors(this)) {
      var change = interceptChange(this, {
        type: UPDATE,
        object: this.proxy_ || this.target_,
        name: key,
        newValue: newValue
      });
      if (!change) return null;
      newValue = change.newValue;
    }

    newValue = observable.prepareNewValue_(newValue); // notify spy & observers

    if (newValue !== globalState.UNCHANGED) {
      var notify = hasListeners(this);
      var notifySpy = NODE_ENV !== "production" && isSpyEnabled();

      var _change = notify || notifySpy ? {
        type: UPDATE,
        observableKind: "object",
        debugObjectName: this.name_,
        object: this.proxy_ || this.target_,
        oldValue: observable.value_,
        name: key,
        newValue: newValue
      } : null;

      if (NODE_ENV !== "production" && notifySpy) spyReportStart(_change);
      observable.setNewValue_(newValue);
      if (notify) notifyListeners(this, _change);
      if (NODE_ENV !== "production" && notifySpy) spyReportEnd();
    }

    return true;
  };

  _proto.get_ = function get_(key) {
    if (globalState.trackingDerivation && !hasProp(this.target_, key)) {
      // Key doesn't exist yet, subscribe for it in case it's added later
      this.has_(key);
    }

    return this.target_[key];
  }
  /**
   * @param {PropertyKey} key
   * @param {any} value
   * @param {Annotation|boolean} annotation true - use default annotation, false - copy as is
   * @param {boolean} proxyTrap whether it's called from proxy trap
   * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor
   */
  ;

  _proto.set_ = function set_(key, value, proxyTrap) {
    if (proxyTrap === void 0) {
      proxyTrap = false;
    } // Don't use .has(key) - we care about own


    if (hasProp(this.target_, key)) {
      // Existing prop
      if (this.values_.has(key)) {
        // Observable (can be intercepted)
        return this.setObservablePropValue_(key, value);
      } else if (proxyTrap) {
        // Non-observable - proxy
        return Reflect.set(this.target_, key, value);
      } else {
        // Non-observable
        this.target_[key] = value;
        return true;
      }
    } else {
      // New prop
      return this.extend_(key, {
        value: value,
        enumerable: true,
        writable: true,
        configurable: true
      }, this.defaultAnnotation_, proxyTrap);
    }
  } // Trap for "in"
  ;

  _proto.has_ = function has_(key) {
    if (!globalState.trackingDerivation) {
      // Skip key subscription outside derivation
      return key in this.target_;
    }

    this.pendingKeys_ || (this.pendingKeys_ = new Map());
    var entry = this.pendingKeys_.get(key);

    if (!entry) {
      entry = new ObservableValue(key in this.target_, referenceEnhancer, NODE_ENV !== "production" ? this.name_ + "." + stringifyKey(key) + "?" : "ObservableObject.key?", false);
      this.pendingKeys_.set(key, entry);
    }

    return entry.get();
  }
  /**
   * @param {PropertyKey} key
   * @param {Annotation|boolean} annotation true - use default annotation, false - ignore prop
   */
  ;

  _proto.make_ = function make_(key, annotation) {
    if (annotation === true) {
      annotation = this.defaultAnnotation_;
    }

    if (annotation === false) {
      return;
    }

    assertAnnotable(this, annotation, key);

    if (!(key in this.target_)) {
      var _this$target_$storedA; // Throw on missing key, except for decorators:
      // Decorator annotations are collected from whole prototype chain.
      // When called from super() some props may not exist yet.
      // However we don't have to worry about missing prop,
      // because the decorator must have been applied to something.


      if ((_this$target_$storedA = this.target_[storedAnnotationsSymbol]) == null ? void 0 : _this$target_$storedA[key]) {
        return; // will be annotated by subclass constructor
      } else {
        die(1, annotation.annotationType_, this.name_ + "." + key.toString());
      }
    }

    var source = this.target_;

    while (source && source !== objectPrototype) {
      var descriptor = getDescriptor(source, key);

      if (descriptor) {
        var outcome = annotation.make_(this, key, descriptor, source);
        if (outcome === 0
        /* Cancel */
        ) return;
        if (outcome === 1
        /* Break */
        ) break;
      }

      source = Object.getPrototypeOf(source);
    }

    recordAnnotationApplied(this, annotation, key);
  }
  /**
   * @param {PropertyKey} key
   * @param {PropertyDescriptor} descriptor
   * @param {Annotation|boolean} annotation true - use default annotation, false - copy as is
   * @param {boolean} proxyTrap whether it's called from proxy trap
   * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor
   */
  ;

  _proto.extend_ = function extend_(key, descriptor, annotation, proxyTrap) {
    if (proxyTrap === void 0) {
      proxyTrap = false;
    }

    if (annotation === true) {
      annotation = this.defaultAnnotation_;
    }

    if (annotation === false) {
      return this.defineProperty_(key, descriptor, proxyTrap);
    }

    assertAnnotable(this, annotation, key);
    var outcome = annotation.extend_(this, key, descriptor, proxyTrap);

    if (outcome) {
      recordAnnotationApplied(this, annotation, key);
    }

    return outcome;
  }
  /**
   * @param {PropertyKey} key
   * @param {PropertyDescriptor} descriptor
   * @param {boolean} proxyTrap whether it's called from proxy trap
   * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor
   */
  ;

  _proto.defineProperty_ = function defineProperty_(key, descriptor, proxyTrap) {
    if (proxyTrap === void 0) {
      proxyTrap = false;
    }

    try {
      startBatch(); // Delete

      var deleteOutcome = this.delete_(key);

      if (!deleteOutcome) {
        // Failure or intercepted
        return deleteOutcome;
      } // ADD interceptor


      if (hasInterceptors(this)) {
        var change = interceptChange(this, {
          object: this.proxy_ || this.target_,
          name: key,
          type: ADD,
          newValue: descriptor.value
        });
        if (!change) return null;
        var newValue = change.newValue;

        if (descriptor.value !== newValue) {
          descriptor = _extends({}, descriptor, {
            value: newValue
          });
        }
      } // Define


      if (proxyTrap) {
        if (!Reflect.defineProperty(this.target_, key, descriptor)) {
          return false;
        }
      } else {
        defineProperty(this.target_, key, descriptor);
      } // Notify


      this.notifyPropertyAddition_(key, descriptor.value);
    } finally {
      endBatch();
    }

    return true;
  } // If original descriptor becomes relevant, move this to annotation directly
  ;

  _proto.defineObservableProperty_ = function defineObservableProperty_(key, value, enhancer, proxyTrap) {
    if (proxyTrap === void 0) {
      proxyTrap = false;
    }

    try {
      startBatch(); // Delete

      var deleteOutcome = this.delete_(key);

      if (!deleteOutcome) {
        // Failure or intercepted
        return deleteOutcome;
      } // ADD interceptor


      if (hasInterceptors(this)) {
        var change = interceptChange(this, {
          object: this.proxy_ || this.target_,
          name: key,
          type: ADD,
          newValue: value
        });
        if (!change) return null;
        value = change.newValue;
      }

      var cachedDescriptor = getCachedObservablePropDescriptor(key);
      var descriptor = {
        configurable: globalState.safeDescriptors ? this.isPlainObject_ : true,
        enumerable: true,
        get: cachedDescriptor.get,
        set: cachedDescriptor.set
      }; // Define

      if (proxyTrap) {
        if (!Reflect.defineProperty(this.target_, key, descriptor)) {
          return false;
        }
      } else {
        defineProperty(this.target_, key, descriptor);
      }

      var observable = new ObservableValue(value, enhancer, NODE_ENV !== "production" ? this.name_ + "." + key.toString() : "ObservableObject.key", false);
      this.values_.set(key, observable); // Notify (value possibly changed by ObservableValue)

      this.notifyPropertyAddition_(key, observable.value_);
    } finally {
      endBatch();
    }

    return true;
  } // If original descriptor becomes relevant, move this to annotation directly
  ;

  _proto.defineComputedProperty_ = function defineComputedProperty_(key, options, proxyTrap) {
    if (proxyTrap === void 0) {
      proxyTrap = false;
    }

    try {
      startBatch(); // Delete

      var deleteOutcome = this.delete_(key);

      if (!deleteOutcome) {
        // Failure or intercepted
        return deleteOutcome;
      } // ADD interceptor


      if (hasInterceptors(this)) {
        var change = interceptChange(this, {
          object: this.proxy_ || this.target_,
          name: key,
          type: ADD,
          newValue: undefined
        });
        if (!change) return null;
      }

      options.name || (options.name = NODE_ENV !== "production" ? this.name_ + "." + key.toString() : "ObservableObject.key");
      options.context = this.proxy_ || this.target_;
      var cachedDescriptor = getCachedObservablePropDescriptor(key);
      var descriptor = {
        configurable: globalState.safeDescriptors ? this.isPlainObject_ : true,
        enumerable: false,
        get: cachedDescriptor.get,
        set: cachedDescriptor.set
      }; // Define

      if (proxyTrap) {
        if (!Reflect.defineProperty(this.target_, key, descriptor)) {
          return false;
        }
      } else {
        defineProperty(this.target_, key, descriptor);
      }

      this.values_.set(key, new ComputedValue(options)); // Notify

      this.notifyPropertyAddition_(key, undefined);
    } finally {
      endBatch();
    }

    return true;
  }
  /**
   * @param {PropertyKey} key
   * @param {PropertyDescriptor} descriptor
   * @param {boolean} proxyTrap whether it's called from proxy trap
   * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor
   */
  ;

  _proto.delete_ = function delete_(key, proxyTrap) {
    if (proxyTrap === void 0) {
      proxyTrap = false;
    } // No such prop


    if (!hasProp(this.target_, key)) {
      return true;
    } // Intercept


    if (hasInterceptors(this)) {
      var change = interceptChange(this, {
        object: this.proxy_ || this.target_,
        name: key,
        type: REMOVE
      }); // Cancelled

      if (!change) return null;
    } // Delete


    try {
      var _this$pendingKeys_, _this$pendingKeys_$ge;

      startBatch();
      var notify = hasListeners(this);
      var notifySpy = NODE_ENV !== "production" && isSpyEnabled();
      var observable = this.values_.get(key); // Value needed for spies/listeners

      var value = undefined; // Optimization: don't pull the value unless we will need it

      if (!observable && (notify || notifySpy)) {
        var _getDescriptor;

        value = (_getDescriptor = getDescriptor(this.target_, key)) == null ? void 0 : _getDescriptor.value;
      } // delete prop (do first, may fail)


      if (proxyTrap) {
        if (!Reflect.deleteProperty(this.target_, key)) {
          return false;
        }
      } else {
        delete this.target_[key];
      } // Allow re-annotating this field


      if (NODE_ENV !== "production") {
        delete this.appliedAnnotations_[key];
      } // Clear observable


      if (observable) {
        this.values_["delete"](key); // for computed, value is undefined

        if (observable instanceof ObservableValue) {
          value = observable.value_;
        } // Notify: autorun(() => obj[key]), see #1796


        propagateChanged(observable);
      } // Notify "keys/entries/values" observers


      this.keysAtom_.reportChanged(); // Notify "has" observers
      // "in" as it may still exist in proto

      (_this$pendingKeys_ = this.pendingKeys_) == null ? void 0 : (_this$pendingKeys_$ge = _this$pendingKeys_.get(key)) == null ? void 0 : _this$pendingKeys_$ge.set(key in this.target_); // Notify spies/listeners

      if (notify || notifySpy) {
        var _change2 = {
          type: REMOVE,
          observableKind: "object",
          object: this.proxy_ || this.target_,
          debugObjectName: this.name_,
          oldValue: value,
          name: key
        };
        if (NODE_ENV !== "production" && notifySpy) spyReportStart(_change2);
        if (notify) notifyListeners(this, _change2);
        if (NODE_ENV !== "production" && notifySpy) spyReportEnd();
      }
    } finally {
      endBatch();
    }

    return true;
  }
  /**
   * Observes this object. Triggers for the events 'add', 'update' and 'delete'.
   * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe
   * for callback details
   */
  ;

  _proto.observe_ = function observe_(callback, fireImmediately) {
    if (NODE_ENV !== "production" && fireImmediately === true) die("`observe` doesn't support the fire immediately property for observable objects.");
    return registerListener(this, callback);
  };

  _proto.intercept_ = function intercept_(handler) {
    return registerInterceptor(this, handler);
  };

  _proto.notifyPropertyAddition_ = function notifyPropertyAddition_(key, value) {
    var _this$pendingKeys_2, _this$pendingKeys_2$g;

    var notify = hasListeners(this);
    var notifySpy = NODE_ENV !== "production" && isSpyEnabled();

    if (notify || notifySpy) {
      var change = notify || notifySpy ? {
        type: ADD,
        observableKind: "object",
        debugObjectName: this.name_,
        object: this.proxy_ || this.target_,
        name: key,
        newValue: value
      } : null;
      if (NODE_ENV !== "production" && notifySpy) spyReportStart(change);
      if (notify) notifyListeners(this, change);
      if (NODE_ENV !== "production" && notifySpy) spyReportEnd();
    }

    (_this$pendingKeys_2 = this.pendingKeys_) == null ? void 0 : (_this$pendingKeys_2$g = _this$pendingKeys_2.get(key)) == null ? void 0 : _this$pendingKeys_2$g.set(true); // Notify "keys/entries/values" observers

    this.keysAtom_.reportChanged();
  };

  _proto.ownKeys_ = function ownKeys_() {
    this.keysAtom_.reportObserved();
    return ownKeys(this.target_);
  };

  _proto.keys_ = function keys_() {
    // Returns enumerable && own, but unfortunately keysAtom will report on ANY key change.
    // There is no way to distinguish between Object.keys(object) and Reflect.ownKeys(object) - both are handled by ownKeys trap.
    // We can either over-report in Object.keys(object) or under-report in Reflect.ownKeys(object)
    // We choose to over-report in Object.keys(object), because:
    // - typically it's used with simple data objects
    // - when symbolic/non-enumerable keys are relevant Reflect.ownKeys works as expected
    this.keysAtom_.reportObserved();
    return Object.keys(this.target_);
  };

  return ObservableObjectAdministration;
}();

function asObservableObject(target, options) {
  var _options$name;

  if (NODE_ENV !== "production" && options && isObservableObject(target)) {
    die("Options can't be provided for already observable objects.");
  }

  if (hasProp(target, $mobx)) {
    if (NODE_ENV !== "production" && !(getAdministration(target) instanceof ObservableObjectAdministration)) {
      die("Cannot convert '" + getDebugName(target) + "' into observable object:" + "\nThe target is already observable of different type." + "\nExtending builtins is not supported.");
    }

    return target;
  }

  if (NODE_ENV !== "production" && !Object.isExtensible(target)) die("Cannot make the designated object observable; it is not extensible");
  var name = (_options$name = options == null ? void 0 : options.name) != null ? _options$name : NODE_ENV !== "production" ? (isPlainObject(target) ? "ObservableObject" : target.constructor.name) + "@" + getNextId() : "ObservableObject";
  var adm = new ObservableObjectAdministration(target, new Map(), String(name), getAnnotationFromOptions(options));
  addHiddenProp(target, $mobx, adm);
  return target;
}

var isObservableObjectAdministration = /*#__PURE__*/createInstanceofPredicate("ObservableObjectAdministration", ObservableObjectAdministration);

function getCachedObservablePropDescriptor(key) {
  return descriptorCache[key] || (descriptorCache[key] = {
    get: function get() {
      return this[$mobx].getObservablePropValue_(key);
    },
    set: function set(value) {
      return this[$mobx].setObservablePropValue_(key, value);
    }
  });
}

function isObservableObject(thing) {
  if (isObject(thing)) {
    return isObservableObjectAdministration(thing[$mobx]);
  }

  return false;
}

function recordAnnotationApplied(adm, annotation, key) {
  var _adm$target_$storedAn;

  if (NODE_ENV !== "production") {
    adm.appliedAnnotations_[key] = annotation;
  } // Remove applied decorator annotation so we don't try to apply it again in subclass constructor


  (_adm$target_$storedAn = adm.target_[storedAnnotationsSymbol]) == null ? true : delete _adm$target_$storedAn[key];
}

function assertAnnotable(adm, annotation, key) {
  // Valid annotation
  if (NODE_ENV !== "production" && !isAnnotation(annotation)) {
    die("Cannot annotate '" + adm.name_ + "." + key.toString() + "': Invalid annotation.");
  }
  /*
  // Configurable, not sealed, not frozen
  // Possibly not needed, just a little better error then the one thrown by engine.
  // Cases where this would be useful the most (subclass field initializer) are not interceptable by this.
  if (__DEV__) {
      const configurable = getDescriptor(adm.target_, key)?.configurable
      const frozen = Object.isFrozen(adm.target_)
      const sealed = Object.isSealed(adm.target_)
      if (!configurable || frozen || sealed) {
          const fieldName = `${adm.name_}.${key.toString()}`
          const requestedAnnotationType = annotation.annotationType_
          let error = `Cannot apply '${requestedAnnotationType}' to '${fieldName}':`
          if (frozen) {
              error += `\nObject is frozen.`
          }
          if (sealed) {
              error += `\nObject is sealed.`
          }
          if (!configurable) {
              error += `\nproperty is not configurable.`
              // Mention only if caused by us to avoid confusion
              if (hasProp(adm.appliedAnnotations!, key)) {
                  error += `\nTo prevent accidental re-definition of a field by a subclass, `
                  error += `all annotated fields of non-plain objects (classes) are not configurable.`
              }
          }
          die(error)
      }
  }
  */
  // Not annotated


  if (NODE_ENV !== "production" && !isOverride(annotation) && hasProp(adm.appliedAnnotations_, key)) {
    var fieldName = adm.name_ + "." + key.toString();
    var currentAnnotationType = adm.appliedAnnotations_[key].annotationType_;
    var requestedAnnotationType = annotation.annotationType_;
    die("Cannot apply '" + requestedAnnotationType + "' to '" + fieldName + "':" + ("\nThe field is already annotated with '" + currentAnnotationType + "'.") + "\nRe-annotating fields is not allowed." + "\nUse 'override' annotation for methods overriden by subclass.");
  }
}
/**
 * This array buffer contains two lists of properties, so that all arrays
 * can recycle their property definitions, which significantly improves performance of creating
 * properties on the fly.
 */


var OBSERVABLE_ARRAY_BUFFER_SIZE = 0; // Typescript workaround to make sure ObservableArray extends Array

var StubArray = function StubArray() {};

function inherit(ctor, proto) {
  if (Object.setPrototypeOf) {
    Object.setPrototypeOf(ctor.prototype, proto);
  } else if (ctor.prototype.__proto__ !== undefined) {
    ctor.prototype.__proto__ = proto;
  } else {
    ctor.prototype = proto;
  }
}

inherit(StubArray, Array.prototype); // Weex proto freeze protection was here,
// but it is unclear why the hack is need as MobX never changed the prototype
// anyway, so removed it in V6

var LegacyObservableArray = /*#__PURE__*/function (_StubArray) {
  _inheritsLoose(LegacyObservableArray, _StubArray);

  function LegacyObservableArray(initialValues, enhancer, name, owned) {
    var _this;

    if (name === void 0) {
      name = NODE_ENV !== "production" ? "ObservableArray@" + getNextId() : "ObservableArray";
    }

    if (owned === void 0) {
      owned = false;
    }

    _this = _StubArray.call(this) || this;
    var adm = new ObservableArrayAdministration(name, enhancer, owned, true);
    adm.proxy_ = _assertThisInitialized(_this);
    addHiddenFinalProp(_assertThisInitialized(_this), $mobx, adm);

    if (initialValues && initialValues.length) {
      var prev = allowStateChangesStart(true); // @ts-ignore

      _this.spliceWithArray(0, 0, initialValues);

      allowStateChangesEnd(prev);
    }

    return _this;
  }

  var _proto = LegacyObservableArray.prototype;

  _proto.concat = function concat() {
    this[$mobx].atom_.reportObserved();

    for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {
      arrays[_key] = arguments[_key];
    }

    return Array.prototype.concat.apply(this.slice(), //@ts-ignore
    arrays.map(function (a) {
      return isObservableArray(a) ? a.slice() : a;
    }));
  };

  _proto[Symbol.iterator] = function () {
    var self = this;
    var nextIndex = 0;
    return makeIterable({
      next: function next() {
        // @ts-ignore
        return nextIndex < self.length ? {
          value: self[nextIndex++],
          done: false
        } : {
          done: true,
          value: undefined
        };
      }
    });
  };

  _createClass(LegacyObservableArray, [{
    key: "length",
    get: function get() {
      return this[$mobx].getArrayLength_();
    },
    set: function set(newLength) {
      this[$mobx].setArrayLength_(newLength);
    }
  }, {
    key: Symbol.toStringTag,
    get: function get() {
      return "Array";
    }
  }]);

  return LegacyObservableArray;
}(StubArray);

Object.entries(arrayExtensions).forEach(function (_ref) {
  var prop = _ref[0],
      fn = _ref[1];
  if (prop !== "concat") addHiddenProp(LegacyObservableArray.prototype, prop, fn);
});

function createArrayEntryDescriptor(index) {
  return {
    enumerable: false,
    configurable: true,
    get: function get() {
      return this[$mobx].get_(index);
    },
    set: function set(value) {
      this[$mobx].set_(index, value);
    }
  };
}

function createArrayBufferItem(index) {
  defineProperty(LegacyObservableArray.prototype, "" + index, createArrayEntryDescriptor(index));
}

function reserveArrayBuffer(max) {
  if (max > OBSERVABLE_ARRAY_BUFFER_SIZE) {
    for (var index = OBSERVABLE_ARRAY_BUFFER_SIZE; index < max + 100; index++) {
      createArrayBufferItem(index);
    }

    OBSERVABLE_ARRAY_BUFFER_SIZE = max;
  }
}

reserveArrayBuffer(1000);

function createLegacyArray(initialValues, enhancer, name) {
  return new LegacyObservableArray(initialValues, enhancer, name);
}

function getAtom(thing, property) {
  if (typeof thing === "object" && thing !== null) {
    if (isObservableArray(thing)) {
      if (property !== undefined) die(23);
      return thing[$mobx].atom_;
    }

    if (isObservableSet(thing)) {
      return thing[$mobx];
    }

    if (isObservableMap(thing)) {
      if (property === undefined) return thing.keysAtom_;
      var observable = thing.data_.get(property) || thing.hasMap_.get(property);
      if (!observable) die(25, property, getDebugName(thing));
      return observable;
    }

    if (isObservableObject(thing)) {
      if (!property) return die(26);

      var _observable = thing[$mobx].values_.get(property);

      if (!_observable) die(27, property, getDebugName(thing));
      return _observable;
    }

    if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {
      return thing;
    }
  } else if (isFunction(thing)) {
    if (isReaction(thing[$mobx])) {
      // disposer function
      return thing[$mobx];
    }
  }

  die(28);
}

function getAdministration(thing, property) {
  if (!thing) die(29);
  if (property !== undefined) return getAdministration(getAtom(thing, property));
  if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) return thing;
  if (isObservableMap(thing) || isObservableSet(thing)) return thing;
  if (thing[$mobx]) return thing[$mobx];
  die(24, thing);
}

function getDebugName(thing, property) {
  var named;

  if (property !== undefined) {
    named = getAtom(thing, property);
  } else if (isAction(thing)) {
    return thing.name;
  } else if (isObservableObject(thing) || isObservableMap(thing) || isObservableSet(thing)) {
    named = getAdministration(thing);
  } else {
    // valid for arrays as well
    named = getAtom(thing);
  }

  return named.name_;
}

var toString = objectPrototype.toString;

function deepEqual(a, b, depth) {
  if (depth === void 0) {
    depth = -1;
  }

  return eq(a, b, depth);
} // Copied from https://github.com/jashkenas/underscore/blob/5c237a7c682fb68fd5378203f0bf22dce1624854/underscore.js#L1186-L1289
// Internal recursive comparison function for `isEqual`.


function eq(a, b, depth, aStack, bStack) {
  // Identical objects are equal. `0 === -0`, but they aren't identical.
  // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
  if (a === b) return a !== 0 || 1 / a === 1 / b; // `null` or `undefined` only equal to itself (strict comparison).

  if (a == null || b == null) return false; // `NaN`s are equivalent, but non-reflexive.

  if (a !== a) return b !== b; // Exhaust primitive checks

  var type = typeof a;
  if (!isFunction(type) && type !== "object" && typeof b != "object") return false; // Compare `[[Class]]` names.

  var className = toString.call(a);
  if (className !== toString.call(b)) return false;

  switch (className) {
    // Strings, numbers, regular expressions, dates, and booleans are compared by value.
    case "[object RegExp]": // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')

    case "[object String]":
      // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
      // equivalent to `new String("5")`.
      return "" + a === "" + b;

    case "[object Number]":
      // `NaN`s are equivalent, but non-reflexive.
      // Object(NaN) is equivalent to NaN.
      if (+a !== +a) return +b !== +b; // An `egal` comparison is performed for other numeric values.

      return +a === 0 ? 1 / +a === 1 / b : +a === +b;

    case "[object Date]":
    case "[object Boolean]":
      // Coerce dates and booleans to numeric primitive values. Dates are compared by their
      // millisecond representations. Note that invalid dates with millisecond representations
      // of `NaN` are not equivalent.
      return +a === +b;

    case "[object Symbol]":
      return typeof Symbol !== "undefined" && Symbol.valueOf.call(a) === Symbol.valueOf.call(b);

    case "[object Map]":
    case "[object Set]":
      // Maps and Sets are unwrapped to arrays of entry-pairs, adding an incidental level.
      // Hide this extra level by increasing the depth.
      if (depth >= 0) {
        depth++;
      }

      break;
  } // Unwrap any wrapped objects.


  a = unwrap(a);
  b = unwrap(b);
  var areArrays = className === "[object Array]";

  if (!areArrays) {
    if (typeof a != "object" || typeof b != "object") return false; // Objects with different constructors are not equivalent, but `Object`s or `Array`s
    // from different frames are.

    var aCtor = a.constructor,
        bCtor = b.constructor;

    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor && isFunction(bCtor) && bCtor instanceof bCtor) && "constructor" in a && "constructor" in b) {
      return false;
    }
  }

  if (depth === 0) {
    return false;
  } else if (depth < 0) {
    depth = -1;
  } // Assume equality for cyclic structures. The algorithm for detecting cyclic
  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.
  // Initializing stack of traversed objects.
  // It's done here since we only need them for objects and arrays comparison.


  aStack = aStack || [];
  bStack = bStack || [];
  var length = aStack.length;

  while (length--) {
    // Linear search. Performance is inversely proportional to the number of
    // unique nested structures.
    if (aStack[length] === a) return bStack[length] === b;
  } // Add the first object to the stack of traversed objects.


  aStack.push(a);
  bStack.push(b); // Recursively compare objects and arrays.

  if (areArrays) {
    // Compare array lengths to determine if a deep comparison is necessary.
    length = a.length;
    if (length !== b.length) return false; // Deep compare the contents, ignoring non-numeric properties.

    while (length--) {
      if (!eq(a[length], b[length], depth - 1, aStack, bStack)) return false;
    }
  } else {
    // Deep compare objects.
    var keys = Object.keys(a);
    var key;
    length = keys.length; // Ensure that both objects contain the same number of properties before comparing deep equality.

    if (Object.keys(b).length !== length) return false;

    while (length--) {
      // Deep compare each member
      key = keys[length];
      if (!(hasProp(b, key) && eq(a[key], b[key], depth - 1, aStack, bStack))) return false;
    }
  } // Remove the first object from the stack of traversed objects.


  aStack.pop();
  bStack.pop();
  return true;
}

function unwrap(a) {
  if (isObservableArray(a)) return a.slice();
  if (isES6Map(a) || isObservableMap(a)) return Array.from(a.entries());
  if (isES6Set(a) || isObservableSet(a)) return Array.from(a.entries());
  return a;
}

function makeIterable(iterator) {
  iterator[Symbol.iterator] = getSelf;
  return iterator;
}

function getSelf() {
  return this;
}

function isAnnotation(thing) {
  return (// Can be function
    thing instanceof Object && typeof thing.annotationType_ === "string" && isFunction(thing.make_) && isFunction(thing.extend_)
  );
}
/**
 * (c) Michel Weststrate 2015 - 2020
 * MIT Licensed
 *
 * Welcome to the mobx sources! To get an global overview of how MobX internally works,
 * this is a good place to start:
 * https://medium.com/@mweststrate/becoming-fully-reactive-an-in-depth-explanation-of-mobservable-55995262a254#.xvbh6qd74
 *
 * Source folders:
 * ===============
 *
 * - api/     Most of the public static methods exposed by the module can be found here.
 * - core/    Implementation of the MobX algorithm; atoms, derivations, reactions, dependency trees, optimizations. Cool stuff can be found here.
 * - types/   All the magic that is need to have observable objects, arrays and values is in this folder. Including the modifiers like `asFlat`.
 * - utils/   Utility stuff.
 *
 */


["Symbol", "Map", "Set", "Symbol"].forEach(function (m) {
  var g = getGlobal();

  if (typeof g[m] === "undefined") {
    die("MobX requires global '" + m + "' to be available or polyfilled");
  }
});

if (typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === "object") {
  // See: https://github.com/andykog/mobx-devtools/
  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
    spy: spy,
    extras: {
      getDebugName: getDebugName
    },
    $mobx: $mobx
  });
} // # sourceMappingURL=mobx.esm.js.map

cc._RF.pop();

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hc3NldHMvU2NyaXB0L0NvbW1vbi9Nb2J4L21vYnguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJLFFBQVEsR0FBRyxZQUFmO0FBQ0EsSUFBSSxVQUFVLEdBQUc7QUFDZixLQUFHLDRGQURZO0FBRWYsS0FBRyxTQUFTLENBQVQsQ0FBVyxjQUFYLEVBQTJCLEdBQTNCLEVBQWdDO0FBQ2pDLFdBQU8sbUJBQW1CLGNBQW5CLEdBQW9DLFFBQXBDLEdBQStDLEdBQUcsQ0FBQyxRQUFKLEVBQS9DLEdBQWdFLHFCQUF2RTtBQUNELEdBSmM7O0FBTWY7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFLEtBQUcsd0VBakJZO0FBa0JmLEtBQUcsMEVBbEJZO0FBbUJmLEtBQUcscUVBbkJZO0FBb0JmLEtBQUcsaUVBcEJZO0FBcUJmLEtBQUcsb0VBckJZO0FBc0JmLE1BQUksaUVBdEJXO0FBdUJmLE1BQUksaUVBdkJXO0FBd0JmLE1BQUksb0JBeEJXO0FBeUJmLE1BQUksNkNBekJXO0FBMEJmLE1BQUksNkRBMUJXO0FBMkJmLE1BQUksb0NBM0JXO0FBNEJmLE1BQUksb0ZBNUJXO0FBNkJmLE1BQUksU0FBUyxDQUFULENBQVcsS0FBWCxFQUFrQixNQUFsQixFQUEwQjtBQUM1QixXQUFPLHVDQUF1QyxLQUF2QyxHQUErQyxrQkFBL0MsR0FBb0UsTUFBM0U7QUFDRCxHQS9CYztBQWdDZixNQUFJLG9HQWhDVztBQWlDZixNQUFJLFNBQVMsQ0FBVCxDQUFXLEtBQVgsRUFBa0I7QUFDcEIsV0FBTywyREFBMkQsS0FBSyxDQUFDLFdBQU4sQ0FBa0IsSUFBcEY7QUFDRCxHQW5DYztBQW9DZixNQUFJLFNBQVMsQ0FBVCxDQUFXLEtBQVgsRUFBa0I7QUFDcEIsV0FB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Q0EsU0FBTyxRQUFQO0FBQ0Q7O0FBRUQsU0FBUyxPQUFULEdBQW1CO0FBQ2pCLFNBQU8sSUFBUDtBQUNEOztBQUVELFNBQVMsWUFBVCxDQUFzQixLQUF0QixFQUE2QjtBQUMzQixTQUFRO0FBQ04sSUFBQSxLQUFLLFlBQVksTUFBakIsSUFBMkIsT0FBTyxLQUFLLENBQUMsZUFBYixLQUFpQyxRQUE1RCxJQUF3RSxVQUFVLENBQUMsS0FBSyxDQUFDLEtBQVAsQ0FBbEYsSUFBbUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxPQUFQO0FBRC9HO0FBR0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxDQUFDLFFBQUQsRUFBVyxLQUFYLEVBQWtCLEtBQWxCLEVBQXlCLFFBQXpCLEVBQW1DLE9BQW5DLENBQTJDLFVBQVUsQ0FBVixFQUFhO0FBQ3RELE1BQUksQ0FBQyxHQUFHLFNBQVMsRUFBakI7O0FBRUEsTUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFELENBQVIsS0FBZ0IsV0FBcEIsRUFBaUM7QUFDL0IsSUFBQSxHQUFHLENBQUMsMkJBQTJCLENBQTNCLEdBQStCLGlDQUFoQyxDQUFIO0FBQ0Q7QUFDRixDQU5EOztBQVFBLElBQUksT0FBTyw2QkFBUCxLQUF5QyxRQUE3QyxFQUF1RDtBQUNyRDtBQUNBLEVBQUEsNkJBQTZCLENBQUMsVUFBOUIsQ0FBeUM7QUFDdkMsSUFBQSxHQUFHLEVBQUUsR0FEa0M7QUFFdkMsSUFBQSxNQUFNLEVBQUU7QUFDTixNQUFBLFlBQVksRUFBRTtBQURSLEtBRitCO0FBS3ZDLElBQUEsS0FBSyxFQUFFO0FBTGdDLEdBQXpDO0FBT0QsRUFFRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIE5PREVfRU5WID0gXCJwcm9kdWN0aW9uXCI7XG52YXIgbmljZUVycm9ycyA9IHsgXG4gIDA6IFwiSW52YWxpZCB2YWx1ZSBmb3IgY29uZmlndXJhdGlvbiAnZW5mb3JjZUFjdGlvbnMnLCBleHBlY3RlZCAnbmV2ZXInLCAnYWx3YXlzJyBvciAnb2JzZXJ2ZWQnXCIsXG4gIDE6IGZ1bmN0aW9uIF8oYW5ub3RhdGlvblR5cGUsIGtleSkge1xuICAgIHJldHVybiBcIkNhbm5vdCBhcHBseSAnXCIgKyBhbm5vdGF0aW9uVHlwZSArIFwiJyB0byAnXCIgKyBrZXkudG9TdHJpbmcoKSArIFwiJzogRmllbGQgbm90IGZvdW5kLlwiO1xuICB9LFxuXG4gIC8qXG4gIDIocHJvcCkge1xuICAgICAgcmV0dXJuIGBpbnZhbGlkIGRlY29yYXRvciBmb3IgJyR7cHJvcC50b1N0cmluZygpfSdgXG4gIH0sXG4gIDMocHJvcCkge1xuICAgICAgcmV0dXJuIGBDYW5ub3QgZGVjb3JhdGUgJyR7cHJvcC50b1N0cmluZygpfSc6IGFjdGlvbiBjYW4gb25seSBiZSB1c2VkIG9uIHByb3BlcnRpZXMgd2l0aCBhIGZ1bmN0aW9uIHZhbHVlLmBcbiAgfSxcbiAgNChwcm9wKSB7XG4gICAgICByZXR1cm4gYENhbm5vdCBkZWNvcmF0ZSAnJHtwcm9wLnRvU3RyaW5nKCl9JzogY29tcHV0ZWQgY2FuIG9ubHkgYmUgdXNlZCBvbiBnZXR0ZXIgcHJvcGVydGllcy5gXG4gIH0sXG4gICovXG4gIDU6IFwiJ2tleXMoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cywgc2V0cyBhbmQgbWFwc1wiLFxuICA2OiBcIid2YWx1ZXMoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cywgc2V0cyBhbmQgbWFwc1wiLFxuICA3OiBcIidlbnRyaWVzKCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIG1hcHNcIixcbiAgODogXCInc2V0KCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIG1hcHNcIixcbiAgOTogXCIncmVtb3ZlKCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIG1hcHNcIixcbiAgMTA6IFwiJ2hhcygpJyBjYW4gb25seSBiZSB1c2VkIG9uIG9ic2VydmFibGUgb2JqZWN0cywgYXJyYXlzIGFuZCBtYXBzXCIsXG4gIDExOiBcIidnZXQoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHMsIGFycmF5cyBhbmQgbWFwc1wiLFxuICAxMjogXCJJbnZhbGlkIGFubm90YXRpb25cIixcbiAgMTM6IFwiRHluYW1pYyBvYnNlcnZhYmxlIG9iamVjdHMgY2Fubm90IGJlIGZyb3plblwiLFxuICAxNDogXCJJbnRlcmNlcHQgaGFuZGxlcnMgc2hvdWxkIHJldHVybiBub3RoaW5nIG9yIGEgY2hhbmdlIG9iamVjdFwiLFxuICAxNTogXCJPYnNlcnZhYmxlIGFycmF5cyBjYW5ub3QgYmUgZnJvemVuXCIsXG4gIDE2OiBcIk1vZGlmaWNhdGlvbiBleGNlcHRpb246IHRoZSBpbnRlcm5hbCBzdHJ1Y3R1cmUgb2YgYW4gb2JzZXJ2YWJsZSBhcnJheSB3YXMgY2hhbmdlZC5cIixcbiAgMTc6IGZ1bmN0aW9uIF8oaW5kZXgsIGxlbmd0aCkge1xuICAgIHJldHVybiBcIlttb2J4LmFycmF5XSBJbmRleCBvdXQgb2YgYm91bmRzLCBcIiArIGluZGV4ICsgXCIgaXMgbGFyZ2VyIHRoYW4gXCIgKyBsZW5ndGg7XG4gIH0sXG4gIDE4OiBcIm1vYngubWFwIHJlcXVpcmVzIE1hcCBwb2x5ZmlsbCBmb3IgdGhlIGN1cnJlbnQgYnJvd3Nlci4gQ2hlY2sgYmFiZWwtcG9seWZpbGwgb3IgY29yZS1qcy9lczYvbWFwLmpzXCIsXG4gIDE5OiBmdW5jdGlvbiBfKG90aGVyKSB7XG4gICAgcmV0dXJuIFwiQ2Fubm90IGluaXRpYWxpemUgZnJvbSBjbGFzc2VzIHRoYXQgaW5oZXJpdCBmcm9tIE1hcDogXCIgKyBvdGhlci5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9LFxuICAyMDogZnVuY3Rpb24gXyhvdGhlcikge1xuICAgIHJldHVybiBcIkNhbm5vdCBpbml0aWFsaXplIG1hcCBmcm9tIFwiICsgb3RoZXI7XG4gIH0sXG4gIDIxOiBmdW5jdGlvbiBfKGRhdGFTdHJ1Y3R1cmUpIHtcbiAgICByZXR1cm4gXCJDYW5ub3QgY29udmVydCB0byBtYXAgZnJvbSAnXCIgKyBkYXRhU3RydWN0dXJlICsgXCInXCI7XG4gIH0sXG4gIDIyOiBcIm1vYnguc2V0IHJlcXVpcmVzIFNldCBwb2x5ZmlsbCBmb3IgdGhlIGN1cnJlbnQgYnJvd3Nlci4gQ2hlY2sgYmFiZWwtcG9seWZpbGwgb3IgY29yZS1qcy9lczYvc2V0LmpzXCIsXG4gIDIzOiBcIkl0IGlzIG5vdCBwb3NzaWJsZSB0byBnZXQgaW5kZXggYXRvbXMgZnJvbSBhcnJheXNcIixcbiAgMjQ6IGZ1bmN0aW9uIF8odGhpbmcpIHtcbiAgICByZXR1cm4gXCJDYW5ub3Qgb2J0YWluIGFkbWluaXN0cmF0aW9uIGZyb20gXCIgKyB0aGluZztcbiAgfSxcbiAgMjU6IGZ1bmN0aW9uIF8ocHJvcGVydHksIG5hbWUpIHtcbiAgICByZXR1cm4gXCJ0aGUgZW50cnkgJ1wiICsgcHJvcGVydHkgKyBcIicgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG9ic2VydmFibGUgbWFwICdcIiArIG5hbWUgKyBcIidcIjtcbiAgfSxcbiAgMjY6IFwicGxlYXNlIHNwZWNpZnkgYSBwcm9wZXJ0eVwiLFxuICAyNzogZnVuY3Rpb24gXyhwcm9wZXJ0eSwgbmFtZSkge1xuICAgIHJldHVybiBcIm5vIG9ic2VydmFibGUgcHJvcGVydHkgJ1wiICsgcHJvcGVydHkudG9TdHJpbmcoKSArIFwiJyBmb3VuZCBvbiB0aGUgb2JzZXJ2YWJsZSBvYmplY3QgJ1wiICsgbmFtZSArIFwiJ1wiO1xuICB9LFxuICAyODogZnVuY3Rpb24gXyh0aGluZykge1xuICAgIHJldHVybiBcIkNhbm5vdCBvYnRhaW4gYXRvbSBmcm9tIFwiICsgdGhpbmc7XG4gIH0sXG4gIDI5OiBcIkV4cGVjdGluZyBzb21lIG9iamVjdFwiLFxuICAzMDogXCJpbnZhbGlkIGFjdGlvbiBzdGFjay4gZGlkIHlvdSBmb3JnZXQgdG8gZmluaXNoIGFuIGFjdGlvbj9cIixcbiAgMzE6IFwibWlzc2luZyBvcHRpb24gZm9yIGNvbXB1dGVkOiBnZXRcIixcbiAgMzI6IGZ1bmN0aW9uIF8obmFtZSwgZGVyaXZhdGlvbikge1xuICAgIHJldHVybiBcIkN5Y2xlIGRldGVjdGVkIGluIGNvbXB1dGF0aW9uIFwiICsgbmFtZSArIFwiOiBcIiArIGRlcml2YXRpb247XG4gIH0sXG4gIDMzOiBmdW5jdGlvbiBfKG5hbWUpIHtcbiAgICByZXR1cm4gXCJUaGUgc2V0dGVyIG9mIGNvbXB1dGVkIHZhbHVlICdcIiArIG5hbWUgKyBcIicgaXMgdHJ5aW5nIHRvIHVwZGF0ZSBpdHNlbGYuIERpZCB5b3UgaW50ZW5kIHRvIHVwZGF0ZSBhbiBfb2JzZXJ2YWJsZV8gdmFsdWUsIGluc3RlYWQgb2YgdGhlIGNvbXB1dGVkIHByb3BlcnR5P1wiO1xuICB9LFxuICAzNDogZnVuY3Rpb24gXyhuYW1lKSB7XG4gICAgcmV0dXJuIFwiW0NvbXB1dGVkVmFsdWUgJ1wiICsgbmFtZSArIFwiJ10gSXQgaXMgbm90IHBvc3NpYmxlIHRvIGFzc2lnbiBhIG5ldyB2YWx1ZSB0byBhIGNvbXB1dGVkIHZhbHVlLlwiO1xuICB9LFxuICAzNTogXCJUaGVyZSBhcmUgbXVsdGlwbGUsIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiBNb2JYIGFjdGl2ZS4gTWFrZSBzdXJlIE1vYlggaXMgbG9hZGVkIG9ubHkgb25jZSBvciB1c2UgYGNvbmZpZ3VyZSh7IGlzb2xhdGVHbG9iYWxTdGF0ZTogdHJ1ZSB9KWBcIixcbiAgMzY6IFwiaXNvbGF0ZUdsb2JhbFN0YXRlIHNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIE1vYlggaXMgcnVubmluZyBhbnkgcmVhY3Rpb25zXCIsXG4gIDM3OiBmdW5jdGlvbiBfKG1ldGhvZCkge1xuICAgIHJldHVybiBcIlttb2J4XSBgb2JzZXJ2YWJsZUFycmF5LlwiICsgbWV0aG9kICsgXCIoKWAgbXV0YXRlcyB0aGUgYXJyYXkgaW4tcGxhY2UsIHdoaWNoIGlzIG5vdCBhbGxvd2VkIGluc2lkZSBhIGRlcml2YXRpb24uIFVzZSBgYXJyYXkuc2xpY2UoKS5cIiArIG1ldGhvZCArIFwiKClgIGluc3RlYWRcIjtcbiAgfSxcbiAgMzg6IFwiJ293bktleXMoKScgY2FuIG9ubHkgYmUgdXNlZCBvbiBvYnNlcnZhYmxlIG9iamVjdHNcIixcbiAgMzk6IFwiJ2RlZmluZVByb3BlcnR5KCknIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JzZXJ2YWJsZSBvYmplY3RzXCJcbn07XG52YXIgZXJyb3JzID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gbmljZUVycm9ycyA6IHt9O1xuZnVuY3Rpb24gZGllKGVycm9yKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICB2YXIgZSA9IHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIiA/IGVycm9yIDogZXJyb3JzW2Vycm9yXTtcbiAgICBpZiAodHlwZW9mIGUgPT09IFwiZnVuY3Rpb25cIikgZSA9IGUuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiW01vYlhdIFwiICsgZSk7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IodHlwZW9mIGVycm9yID09PSBcIm51bWJlclwiID8gXCJbTW9iWF0gbWluaWZpZWQgZXJyb3IgbnI6IFwiICsgZXJyb3IgKyAoYXJncy5sZW5ndGggPyBcIiBcIiArIGFyZ3MubWFwKFN0cmluZykuam9pbihcIixcIikgOiBcIlwiKSArIFwiLiBGaW5kIHRoZSBmdWxsIGVycm9yIGF0OiBodHRwczovL2dpdGh1Yi5jb20vbW9ieGpzL21vYngvYmxvYi9tYWluL3BhY2thZ2VzL21vYngvc3JjL2Vycm9ycy50c1wiIDogXCJbTW9iWF0gXCIgKyBlcnJvcik7XG59XG5cbnZhciBtb2NrR2xvYmFsID0ge307XG5mdW5jdGlvbiBnZXRHbG9iYWwoKSB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZ2xvYmFsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICByZXR1cm4gbW9ja0dsb2JhbDtcbn1cblxudmFyIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG52YXIgZ2V0RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbnZhciBFTVBUWV9BUlJBWSA9IFtdO1xuT2JqZWN0LmZyZWV6ZShFTVBUWV9BUlJBWSk7XG52YXIgRU1QVFlfT0JKRUNUID0ge307XG5PYmplY3QuZnJlZXplKEVNUFRZX09CSkVDVCk7XG52YXIgaGFzUHJveHkgPSB0eXBlb2YgUHJveHkgIT09IFwidW5kZWZpbmVkXCI7XG52YXIgcGxhaW5PYmplY3RTdHJpbmcgPSAvKiNfX1BVUkVfXyovT2JqZWN0LnRvU3RyaW5nKCk7XG5mdW5jdGlvbiBhc3NlcnRQcm94aWVzKCkge1xuICBpZiAoIWhhc1Byb3h5KSB7XG4gICAgZGllKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFwiYFByb3h5YCBvYmplY3RzIGFyZSBub3QgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGVudmlyb25tZW50LiBQbGVhc2UgY29uZmlndXJlIE1vYlggdG8gZW5hYmxlIGEgZmFsbGJhY2sgaW1wbGVtZW50YXRpb24uYFwiIDogXCJQcm94eSBub3QgYXZhaWxhYmxlXCIpO1xuICB9XG59XG5mdW5jdGlvbiB3YXJuQWJvdXRQcm94eVJlcXVpcmVtZW50KG1zZykge1xuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGdsb2JhbFN0YXRlLnZlcmlmeVByb3hpZXMpIHtcbiAgICBkaWUoXCJNb2JYIGlzIGN1cnJlbnRseSBjb25maWd1cmVkIHRvIGJlIGFibGUgdG8gcnVuIGluIEVTNSBtb2RlLCBidXQgaW4gRVM1IE1vYlggd29uJ3QgYmUgYWJsZSB0byBcIiArIG1zZyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldE5leHRJZCgpIHtcbiAgcmV0dXJuICsrZ2xvYmFsU3RhdGUubW9ieEd1aWQ7XG59XG4vKipcbiAqIE1ha2VzIHN1cmUgdGhhdCB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gaXMgaW52b2tlZCBhdCBtb3N0IG9uY2UuXG4gKi9cblxuZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gIHZhciBpbnZva2VkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGludm9rZWQpIHJldHVybjtcbiAgICBpbnZva2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGZuKSB7XG4gIHJldHVybiB0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIGlzU3RyaW5naXNoKHZhbHVlKSB7XG4gIHZhciB0ID0gdHlwZW9mIHZhbHVlO1xuXG4gIHN3aXRjaCAodCkge1xuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xufVxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICB2YXIgX3Byb3RvJGNvbnN0cnVjdG9yO1xuXG4gIGlmICghaXNPYmplY3QodmFsdWUpKSByZXR1cm4gZmFsc2U7XG4gIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gIGlmIChwcm90byA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuICgoX3Byb3RvJGNvbnN0cnVjdG9yID0gcHJvdG8uY29uc3RydWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfcHJvdG8kY29uc3RydWN0b3IudG9TdHJpbmcoKSkgPT09IHBsYWluT2JqZWN0U3RyaW5nO1xufSAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzc4NjUxNzBcblxuZnVuY3Rpb24gaXNHZW5lcmF0b3Iob2JqKSB7XG4gIHZhciBjb25zdHJ1Y3RvciA9IG9iaiA9PSBudWxsID8gdm9pZCAwIDogb2JqLmNvbnN0cnVjdG9yO1xuICBpZiAoIWNvbnN0cnVjdG9yKSByZXR1cm4gZmFsc2U7XG4gIGlmIChcIkdlbmVyYXRvckZ1bmN0aW9uXCIgPT09IGNvbnN0cnVjdG9yLm5hbWUgfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSBjb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGFkZEhpZGRlblByb3Aob2JqZWN0LCBwcm9wTmFtZSwgdmFsdWUpIHtcbiAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wTmFtZSwge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfSk7XG59XG5mdW5jdGlvbiBhZGRIaWRkZW5GaW5hbFByb3Aob2JqZWN0LCBwcm9wTmFtZSwgdmFsdWUpIHtcbiAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wTmFtZSwge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHZhbHVlXG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZShuYW1lLCB0aGVDbGFzcykge1xuICB2YXIgcHJvcE5hbWUgPSBcImlzTW9iWFwiICsgbmFtZTtcbiAgdGhlQ2xhc3MucHJvdG90eXBlW3Byb3BOYW1lXSA9IHRydWU7XG4gIHJldHVybiBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBpc09iamVjdCh4KSAmJiB4W3Byb3BOYW1lXSA9PT0gdHJ1ZTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzRVM2TWFwKHRoaW5nKSB7XG4gIHJldHVybiB0aGluZyBpbnN0YW5jZW9mIE1hcDtcbn1cbmZ1bmN0aW9uIGlzRVM2U2V0KHRoaW5nKSB7XG4gIHJldHVybiB0aGluZyBpbnN0YW5jZW9mIFNldDtcbn1cbnZhciBoYXNHZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAhPT0gXCJ1bmRlZmluZWRcIjtcbi8qKlxuICogUmV0dXJucyB0aGUgZm9sbG93aW5nOiBvd24gZW51bWVyYWJsZSBrZXlzIGFuZCBzeW1ib2xzLlxuICovXG5cbmZ1bmN0aW9uIGdldFBsYWluT2JqZWN0S2V5cyhvYmplY3QpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyAvLyBOb3Qgc3VwcG9ydGVkIGluIElFLCBzbyB0aGVyZSBhcmUgbm90IGdvaW5nIHRvIGJlIHN5bWJvbCBwcm9wcyBhbnl3YXkuLi5cblxuICBpZiAoIWhhc0dldE93blByb3BlcnR5U3ltYm9scykgcmV0dXJuIGtleXM7XG4gIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICBpZiAoIXN5bWJvbHMubGVuZ3RoKSByZXR1cm4ga2V5cztcbiAgcmV0dXJuIFtdLmNvbmNhdChrZXlzLCBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAocykge1xuICAgIHJldHVybiBvYmplY3RQcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHMpO1xuICB9KSk7XG59IC8vIEZyb20gSW1tZXIgdXRpbHNcbi8vIFJldHVybnMgYWxsIG93biBrZXlzLCBpbmNsdWRpbmcgbm9uLWVudW1lcmFibGUgYW5kIHN5bWJvbGljXG5cbnZhciBvd25LZXlzID0gdHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIgJiYgUmVmbGVjdC5vd25LZXlzID8gUmVmbGVjdC5vd25LZXlzIDogaGFzR2V0T3duUHJvcGVydHlTeW1ib2xzID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmopKTtcbn0gOlxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xuZnVuY3Rpb24gc3RyaW5naWZ5S2V5KGtleSkge1xuICBpZiAodHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGtleTtcbiAgaWYgKHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIpIHJldHVybiBrZXkudG9TdHJpbmcoKTtcbiAgcmV0dXJuIG5ldyBTdHJpbmcoa2V5KS50b1N0cmluZygpO1xufVxuZnVuY3Rpb24gdG9QcmltaXRpdmUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gbnVsbCA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiA/IFwiXCIgKyB2YWx1ZSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gaGFzUHJvcCh0YXJnZXQsIHByb3ApIHtcbiAgcmV0dXJuIG9iamVjdFByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgcHJvcCk7XG59IC8vIEZyb20gSW1tZXIgdXRpbHNcblxudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHRhcmdldCkge1xuICAvLyBQb2x5ZmlsbCBuZWVkZWQgZm9yIEhlcm1lcyBhbmQgSUUsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svaGVybWVzL2lzc3Vlcy8yNzRcbiAgdmFyIHJlcyA9IHt9OyAvLyBOb3RlOiB3aXRob3V0IHBvbHlmaWxsIGZvciBvd25LZXlzLCBzeW1ib2xzIHdvbid0IGJlIHBpY2tlZCB1cFxuXG4gIG93bktleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXNba2V5XSA9IGdldERlc2NyaXB0b3IodGFyZ2V0LCBrZXkpO1xuICB9KTtcbiAgcmV0dXJuIHJlcztcbn07XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICByZXR1cm4gYXJyMjtcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvLCBhbGxvd0FycmF5TGlrZSkge1xuICB2YXIgaXQ7XG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgICBpZiAoaXQpIG8gPSBpdDtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICB2YWx1ZTogb1tpKytdXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH1cblxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgfVxuXG4gIGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIHJldHVybiBpdC5uZXh0LmJpbmQoaXQpO1xufVxuXG52YXIgc3RvcmVkQW5ub3RhdGlvbnNTeW1ib2wgPSAvKiNfX1BVUkVfXyovU3ltYm9sKFwibW9ieC1zdG9yZWQtYW5ub3RhdGlvbnNcIik7XG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjdHMgYXNcbiAqIC0gZGVjb3JhdG9yXG4gKiAtIGFubm90YXRpb24gb2JqZWN0XG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVjb3JhdG9yQW5ub3RhdGlvbihhbm5vdGF0aW9uKSB7XG4gIGZ1bmN0aW9uIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5KSB7XG4gICAgc3RvcmVBbm5vdGF0aW9uKHRhcmdldCwgcHJvcGVydHksIGFubm90YXRpb24pO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZGVjb3JhdG9yLCBhbm5vdGF0aW9uKTtcbn1cbi8qKlxuICogU3RvcmVzIGFubm90YXRpb24gdG8gcHJvdG90eXBlLFxuICogc28gaXQgY2FuIGJlIGluc3BlY3RlZCBsYXRlciBieSBgbWFrZU9ic2VydmFibGVgIGNhbGxlZCBmcm9tIGNvbnN0cnVjdG9yXG4gKi9cblxuZnVuY3Rpb24gc3RvcmVBbm5vdGF0aW9uKHByb3RvdHlwZSwga2V5LCBhbm5vdGF0aW9uKSB7XG4gIGlmICghaGFzUHJvcChwcm90b3R5cGUsIHN0b3JlZEFubm90YXRpb25zU3ltYm9sKSkge1xuICAgIGFkZEhpZGRlblByb3AocHJvdG90eXBlLCBzdG9yZWRBbm5vdGF0aW9uc1N5bWJvbCwgX2V4dGVuZHMoe30sIHByb3RvdHlwZVtzdG9yZWRBbm5vdGF0aW9uc1N5bWJvbF0pKTtcbiAgfSAvLyBAb3ZlcnJpZGUgbXVzdCBvdmVycmlkZSBzb21ldGhpbmdcblxuXG4gIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgaXNPdmVycmlkZShhbm5vdGF0aW9uKSAmJiAhaGFzUHJvcChwcm90b3R5cGVbc3RvcmVkQW5ub3RhdGlvbnNTeW1ib2xdLCBrZXkpKSB7XG4gICAgdmFyIGZpZWxkTmFtZSA9IHByb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lICsgXCIucHJvdG90eXBlLlwiICsga2V5LnRvU3RyaW5nKCk7XG4gICAgZGllKFwiJ1wiICsgZmllbGROYW1lICsgXCInIGlzIGRlY29yYXRlZCB3aXRoICdvdmVycmlkZScsIFwiICsgXCJidXQgbm8gc3VjaCBkZWNvcmF0ZWQgbWVtYmVyIHdhcyBmb3VuZCBvbiBwcm90b3R5cGUuXCIpO1xuICB9IC8vIENhbm5vdCByZS1kZWNvcmF0ZVxuXG5cbiAgYXNzZXJ0Tm90RGVjb3JhdGVkKHByb3RvdHlwZSwgYW5ub3RhdGlvbiwga2V5KTsgLy8gSWdub3JlIG92ZXJyaWRlXG5cbiAgaWYgKCFpc092ZXJyaWRlKGFubm90YXRpb24pKSB7XG4gICAgcHJvdG90eXBlW3N0b3JlZEFubm90YXRpb25zU3ltYm9sXVtrZXldID0gYW5ub3RhdGlvbjtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnROb3REZWNvcmF0ZWQocHJvdG90eXBlLCBhbm5vdGF0aW9uLCBrZXkpIHtcbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhaXNPdmVycmlkZShhbm5vdGF0aW9uKSAmJiBoYXNQcm9wKHByb3RvdHlwZVtzdG9yZWRBbm5vdGF0aW9uc1N5bWJvbF0sIGtleSkpIHtcbiAgICB2YXIgZmllbGROYW1lID0gcHJvdG90eXBlLmNvbnN0cnVjdG9yLm5hbWUgKyBcIi5wcm90b3R5cGUuXCIgKyBrZXkudG9TdHJpbmcoKTtcbiAgICB2YXIgY3VycmVudEFubm90YXRpb25UeXBlID0gcHJvdG90eXBlW3N0b3JlZEFubm90YXRpb25zU3ltYm9sXVtrZXldLmFubm90YXRpb25UeXBlXztcbiAgICB2YXIgcmVxdWVzdGVkQW5ub3RhdGlvblR5cGUgPSBhbm5vdGF0aW9uLmFubm90YXRpb25UeXBlXztcbiAgICBkaWUoXCJDYW5ub3QgYXBwbHkgJ0BcIiArIHJlcXVlc3RlZEFubm90YXRpb25UeXBlICsgXCInIHRvICdcIiArIGZpZWxkTmFtZSArIFwiJzpcIiArIChcIlxcblRoZSBmaWVsZCBpcyBhbHJlYWR5IGRlY29yYXRlZCB3aXRoICdAXCIgKyBjdXJyZW50QW5ub3RhdGlvblR5cGUgKyBcIicuXCIpICsgXCJcXG5SZS1kZWNvcmF0aW5nIGZpZWxkcyBpcyBub3QgYWxsb3dlZC5cIiArIFwiXFxuVXNlICdAb3ZlcnJpZGUnIGRlY29yYXRvciBmb3IgbWV0aG9kcyBvdmVycmlkZW4gYnkgc3ViY2xhc3MuXCIpO1xuICB9XG59XG4vKipcbiAqIENvbGxlY3RzIGFubm90YXRpb25zIGZyb20gcHJvdG90eXBlcyBhbmQgc3RvcmVzIHRoZW0gb24gdGFyZ2V0IChpbnN0YW5jZSlcbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbGxlY3RTdG9yZWRBbm5vdGF0aW9ucyh0YXJnZXQpIHtcbiAgaWYgKCFoYXNQcm9wKHRhcmdldCwgc3RvcmVkQW5ub3RhdGlvbnNTeW1ib2wpKSB7XG4gICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhdGFyZ2V0W3N0b3JlZEFubm90YXRpb25zU3ltYm9sXSkge1xuICAgICAgZGllKFwiTm8gYW5ub3RhdGlvbnMgd2VyZSBwYXNzZWQgdG8gbWFrZU9ic2VydmFibGUsIGJ1dCBubyBkZWNvcmF0ZWQgbWVtYmVycyBoYXZlIGJlZW4gZm91bmQgZWl0aGVyXCIpO1xuICAgIH0gLy8gV2UgbmVlZCBhIGNvcHkgYXMgd2Ugd2lsbCByZW1vdmUgYW5ub3RhdGlvbiBmcm9tIHRoZSBsaXN0IG9uY2UgaXQncyBhcHBsaWVkLlxuXG5cbiAgICBhZGRIaWRkZW5Qcm9wKHRhcmdldCwgc3RvcmVkQW5ub3RhdGlvbnNTeW1ib2wsIF9leHRlbmRzKHt9LCB0YXJnZXRbc3RvcmVkQW5ub3RhdGlvbnNTeW1ib2xdKSk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0W3N0b3JlZEFubm90YXRpb25zU3ltYm9sXTtcbn1cblxudmFyICRtb2J4ID0gLyojX19QVVJFX18qL1N5bWJvbChcIm1vYnggYWRtaW5pc3RyYXRpb25cIik7XG52YXIgQXRvbSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8vIGZvciBlZmZlY3RpdmUgdW5vYnNlcnZpbmcuIEJhc2VBdG9tIGhhcyB0cnVlLCBmb3IgZXh0cmEgb3B0aW1pemF0aW9uLCBzbyBpdHMgb25CZWNvbWVVbm9ic2VydmVkIG5ldmVyIGdldHMgY2FsbGVkLCBiZWNhdXNlIGl0J3Mgbm90IG5lZWRlZFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYXRvbS4gRm9yIGRlYnVnZ2luZyBwdXJwb3NlcyBpdCBpcyByZWNvbW1lbmRlZCB0byBnaXZlIGl0IGEgbmFtZS5cbiAgICogVGhlIG9uQmVjb21lT2JzZXJ2ZWQgYW5kIG9uQmVjb21lVW5vYnNlcnZlZCBjYWxsYmFja3MgY2FuIGJlIHVzZWQgZm9yIHJlc291cmNlIG1hbmFnZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBBdG9tKG5hbWVfKSB7XG4gICAgaWYgKG5hbWVfID09PSB2b2lkIDApIHtcbiAgICAgIG5hbWVfID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gXCJBdG9tQFwiICsgZ2V0TmV4dElkKCkgOiBcIkF0b21cIjtcbiAgICB9XG5cbiAgICB0aGlzLm5hbWVfID0gdm9pZCAwO1xuICAgIHRoaXMuaXNQZW5kaW5nVW5vYnNlcnZhdGlvbl8gPSBmYWxzZTtcbiAgICB0aGlzLmlzQmVpbmdPYnNlcnZlZF8gPSBmYWxzZTtcbiAgICB0aGlzLm9ic2VydmVyc18gPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5kaWZmVmFsdWVfID0gMDtcbiAgICB0aGlzLmxhc3RBY2Nlc3NlZEJ5XyA9IDA7XG4gICAgdGhpcy5sb3dlc3RPYnNlcnZlclN0YXRlXyA9IElEZXJpdmF0aW9uU3RhdGVfLk5PVF9UUkFDS0lOR187XG4gICAgdGhpcy5vbkJPTCA9IHZvaWQgMDtcbiAgICB0aGlzLm9uQlVPTCA9IHZvaWQgMDtcbiAgICB0aGlzLm5hbWVfID0gbmFtZV87XG4gIH0gLy8gb25CZWNvbWVPYnNlcnZlZExpc3RlbmVyc1xuXG5cbiAgdmFyIF9wcm90byA9IEF0b20ucHJvdG90eXBlO1xuXG4gIF9wcm90by5vbkJPID0gZnVuY3Rpb24gb25CTygpIHtcbiAgICBpZiAodGhpcy5vbkJPTCkge1xuICAgICAgdGhpcy5vbkJPTC5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gbGlzdGVuZXIoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ub25CVU8gPSBmdW5jdGlvbiBvbkJVTygpIHtcbiAgICBpZiAodGhpcy5vbkJVT0wpIHtcbiAgICAgIHRoaXMub25CVU9MLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBtZXRob2QgdG8gbm90aWZ5IG1vYnggdGhhdCB5b3VyIGF0b20gaGFzIGJlZW4gdXNlZCBzb21laG93LlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlcmUgaXMgY3VycmVudGx5IGEgcmVhY3RpdmUgY29udGV4dC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVwb3J0T2JzZXJ2ZWQgPSBmdW5jdGlvbiByZXBvcnRPYnNlcnZlZCQxKCkge1xuICAgIHJldHVybiByZXBvcnRPYnNlcnZlZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogSW52b2tlIHRoaXMgbWV0aG9kIF9hZnRlcl8gdGhpcyBtZXRob2QgaGFzIGNoYW5nZWQgdG8gc2lnbmFsIG1vYnggdGhhdCBhbGwgaXRzIG9ic2VydmVycyBzaG91bGQgaW52YWxpZGF0ZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVwb3J0Q2hhbmdlZCA9IGZ1bmN0aW9uIHJlcG9ydENoYW5nZWQoKSB7XG4gICAgc3RhcnRCYXRjaCgpO1xuICAgIHByb3BhZ2F0ZUNoYW5nZWQodGhpcyk7XG4gICAgZW5kQmF0Y2goKTtcbiAgfTtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lXztcbiAgfTtcblxuICByZXR1cm4gQXRvbTtcbn0oKTtcbnZhciBpc0F0b20gPSAvKiNfX1BVUkVfXyovY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZShcIkF0b21cIiwgQXRvbSk7XG5mdW5jdGlvbiBjcmVhdGVBdG9tKG5hbWUsIG9uQmVjb21lT2JzZXJ2ZWRIYW5kbGVyLCBvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyKSB7XG4gIGlmIChvbkJlY29tZU9ic2VydmVkSGFuZGxlciA9PT0gdm9pZCAwKSB7XG4gICAgb25CZWNvbWVPYnNlcnZlZEhhbmRsZXIgPSBub29wO1xuICB9XG5cbiAgaWYgKG9uQmVjb21lVW5vYnNlcnZlZEhhbmRsZXIgPT09IHZvaWQgMCkge1xuICAgIG9uQmVjb21lVW5vYnNlcnZlZEhhbmRsZXIgPSBub29wO1xuICB9XG5cbiAgdmFyIGF0b20gPSBuZXcgQXRvbShuYW1lKTsgLy8gZGVmYXVsdCBgbm9vcGAgbGlzdGVuZXIgd2lsbCBub3QgaW5pdGlhbGl6ZSB0aGUgaG9vayBTZXRcblxuICBpZiAob25CZWNvbWVPYnNlcnZlZEhhbmRsZXIgIT09IG5vb3ApIHtcbiAgICBvbkJlY29tZU9ic2VydmVkKGF0b20sIG9uQmVjb21lT2JzZXJ2ZWRIYW5kbGVyKTtcbiAgfVxuXG4gIGlmIChvbkJlY29tZVVub2JzZXJ2ZWRIYW5kbGVyICE9PSBub29wKSB7XG4gICAgb25CZWNvbWVVbm9ic2VydmVkKGF0b20sIG9uQmVjb21lVW5vYnNlcnZlZEhhbmRsZXIpO1xuICB9XG5cbiAgcmV0dXJuIGF0b207XG59XG5cbmZ1bmN0aW9uIGlkZW50aXR5Q29tcGFyZXIoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuZnVuY3Rpb24gc3RydWN0dXJhbENvbXBhcmVyKGEsIGIpIHtcbiAgcmV0dXJuIGRlZXBFcXVhbChhLCBiKTtcbn1cblxuZnVuY3Rpb24gc2hhbGxvd0NvbXBhcmVyKGEsIGIpIHtcbiAgcmV0dXJuIGRlZXBFcXVhbChhLCBiLCAxKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmVyKGEsIGIpIHtcbiAgcmV0dXJuIE9iamVjdC5pcyhhLCBiKTtcbn1cblxudmFyIGNvbXBhcmVyID0ge1xuICBpZGVudGl0eTogaWRlbnRpdHlDb21wYXJlcixcbiAgc3RydWN0dXJhbDogc3RydWN0dXJhbENvbXBhcmVyLFxuICBcImRlZmF1bHRcIjogZGVmYXVsdENvbXBhcmVyLFxuICBzaGFsbG93OiBzaGFsbG93Q29tcGFyZXJcbn07XG5cbmZ1bmN0aW9uIGRlZXBFbmhhbmNlcih2LCBfLCBuYW1lKSB7XG4gIC8vIGl0IGlzIGFuIG9ic2VydmFibGUgYWxyZWFkeSwgZG9uZVxuICBpZiAoaXNPYnNlcnZhYmxlKHYpKSByZXR1cm4gdjsgLy8gc29tZXRoaW5nIHRoYXQgY2FuIGJlIGNvbnZlcnRlZCBhbmQgbXV0YXRlZD9cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2KSkgcmV0dXJuIG9ic2VydmFibGUuYXJyYXkodiwge1xuICAgIG5hbWU6IG5hbWVcbiAgfSk7XG4gIGlmIChpc1BsYWluT2JqZWN0KHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5vYmplY3QodiwgdW5kZWZpbmVkLCB7XG4gICAgbmFtZTogbmFtZVxuICB9KTtcbiAgaWYgKGlzRVM2TWFwKHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5tYXAodiwge1xuICAgIG5hbWU6IG5hbWVcbiAgfSk7XG4gIGlmIChpc0VTNlNldCh2KSkgcmV0dXJuIG9ic2VydmFibGUuc2V0KHYsIHtcbiAgICBuYW1lOiBuYW1lXG4gIH0pO1xuXG4gIGlmICh0eXBlb2YgdiA9PT0gXCJmdW5jdGlvblwiICYmICFpc0FjdGlvbih2KSAmJiAhaXNGbG93KHYpKSB7XG4gICAgaWYgKGlzR2VuZXJhdG9yKHYpKSB7XG4gICAgICByZXR1cm4gZmxvdyh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGF1dG9BY3Rpb24obmFtZSwgdik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHY7XG59XG5mdW5jdGlvbiBzaGFsbG93RW5oYW5jZXIodiwgXywgbmFtZSkge1xuICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IG51bGwpIHJldHVybiB2O1xuICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KHYpIHx8IGlzT2JzZXJ2YWJsZUFycmF5KHYpIHx8IGlzT2JzZXJ2YWJsZU1hcCh2KSB8fCBpc09ic2VydmFibGVTZXQodikpIHJldHVybiB2O1xuICBpZiAoQXJyYXkuaXNBcnJheSh2KSkgcmV0dXJuIG9ic2VydmFibGUuYXJyYXkodiwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgZGVlcDogZmFsc2VcbiAgfSk7XG4gIGlmIChpc1BsYWluT2JqZWN0KHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5vYmplY3QodiwgdW5kZWZpbmVkLCB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBkZWVwOiBmYWxzZVxuICB9KTtcbiAgaWYgKGlzRVM2TWFwKHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5tYXAodiwge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgZGVlcDogZmFsc2VcbiAgfSk7XG4gIGlmIChpc0VTNlNldCh2KSkgcmV0dXJuIG9ic2VydmFibGUuc2V0KHYsIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIGRlZXA6IGZhbHNlXG4gIH0pO1xuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSBkaWUoXCJUaGUgc2hhbGxvdyBtb2RpZmllciAvIGRlY29yYXRvciBjYW4gb25seSB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGggYXJyYXlzLCBvYmplY3RzLCBtYXBzIGFuZCBzZXRzXCIpO1xufVxuZnVuY3Rpb24gcmVmZXJlbmNlRW5oYW5jZXIobmV3VmFsdWUpIHtcbiAgLy8gbmV2ZXIgdHVybiBpbnRvIGFuIG9ic2VydmFibGVcbiAgcmV0dXJuIG5ld1ZhbHVlO1xufVxuZnVuY3Rpb24gcmVmU3RydWN0RW5oYW5jZXIodiwgb2xkVmFsdWUpIHtcbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBpc09ic2VydmFibGUodikpIGRpZShcIm9ic2VydmFibGUuc3RydWN0IHNob3VsZCBub3QgYmUgdXNlZCB3aXRoIG9ic2VydmFibGUgdmFsdWVzXCIpO1xuICBpZiAoZGVlcEVxdWFsKHYsIG9sZFZhbHVlKSkgcmV0dXJuIG9sZFZhbHVlO1xuICByZXR1cm4gdjtcbn1cblxudmFyIE9WRVJSSURFID0gXCJvdmVycmlkZVwiO1xudmFyIG92ZXJyaWRlID0gLyojX19QVVJFX18qL2NyZWF0ZURlY29yYXRvckFubm90YXRpb24oe1xuICBhbm5vdGF0aW9uVHlwZV86IE9WRVJSSURFLFxuICBtYWtlXzogbWFrZV8sXG4gIGV4dGVuZF86IGV4dGVuZF9cbn0pO1xuZnVuY3Rpb24gaXNPdmVycmlkZShhbm5vdGF0aW9uKSB7XG4gIHJldHVybiBhbm5vdGF0aW9uLmFubm90YXRpb25UeXBlXyA9PT0gT1ZFUlJJREU7XG59XG5cbmZ1bmN0aW9uIG1ha2VfKGFkbSwga2V5KSB7XG4gIC8vIE11c3Qgbm90IGJlIHBsYWluIG9iamVjdFxuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGFkbS5pc1BsYWluT2JqZWN0Xykge1xuICAgIGRpZShcIkNhbm5vdCBhcHBseSAnXCIgKyB0aGlzLmFubm90YXRpb25UeXBlXyArIFwiJyB0byAnXCIgKyBhZG0ubmFtZV8gKyBcIi5cIiArIGtleS50b1N0cmluZygpICsgXCInOlwiICsgKFwiXFxuJ1wiICsgdGhpcy5hbm5vdGF0aW9uVHlwZV8gKyBcIicgY2Fubm90IGJlIHVzZWQgb24gcGxhaW4gb2JqZWN0cy5cIikpO1xuICB9IC8vIE11c3Qgb3ZlcnJpZGUgc29tZXRoaW5nXG5cblxuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFoYXNQcm9wKGFkbS5hcHBsaWVkQW5ub3RhdGlvbnNfLCBrZXkpKSB7XG4gICAgZGllKFwiJ1wiICsgYWRtLm5hbWVfICsgXCIuXCIgKyBrZXkudG9TdHJpbmcoKSArIFwiJyBpcyBhbm5vdGF0ZWQgd2l0aCAnXCIgKyB0aGlzLmFubm90YXRpb25UeXBlXyArIFwiJywgXCIgKyBcImJ1dCBubyBzdWNoIGFubm90YXRlZCBtZW1iZXIgd2FzIGZvdW5kIG9uIHByb3RvdHlwZS5cIik7XG4gIH1cblxuICByZXR1cm4gMFxuICAvKiBDYW5jZWwgKi9cbiAgO1xufVxuXG5mdW5jdGlvbiBleHRlbmRfKGFkbSwga2V5LCBkZXNjcmlwdG9yLCBwcm94eVRyYXApIHtcbiAgZGllKFwiJ1wiICsgdGhpcy5hbm5vdGF0aW9uVHlwZV8gKyBcIicgY2FuIG9ubHkgYmUgdXNlZCB3aXRoICdtYWtlT2JzZXJ2YWJsZSdcIik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFjdGlvbkFubm90YXRpb24obmFtZSwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIGFubm90YXRpb25UeXBlXzogbmFtZSxcbiAgICBvcHRpb25zXzogb3B0aW9ucyxcbiAgICBtYWtlXzogbWFrZV8kMSxcbiAgICBleHRlbmRfOiBleHRlbmRfJDFcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZV8kMShhZG0sIGtleSwgZGVzY3JpcHRvciwgc291cmNlKSB7XG4gIHZhciBfdGhpcyRvcHRpb25zXztcblxuICAvLyBib3VuZFxuICBpZiAoKF90aGlzJG9wdGlvbnNfID0gdGhpcy5vcHRpb25zXykgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJG9wdGlvbnNfLmJvdW5kKSB7XG4gICAgcmV0dXJuIHRoaXMuZXh0ZW5kXyhhZG0sIGtleSwgZGVzY3JpcHRvciwgZmFsc2UpID09PSBudWxsID8gMFxuICAgIC8qIENhbmNlbCAqL1xuICAgIDogMVxuICAgIC8qIEJyZWFrICovXG4gICAgO1xuICB9IC8vIG93blxuXG5cbiAgaWYgKHNvdXJjZSA9PT0gYWRtLnRhcmdldF8pIHtcbiAgICByZXR1cm4gdGhpcy5leHRlbmRfKGFkbSwga2V5LCBkZXNjcmlwdG9yLCBmYWxzZSkgPT09IG51bGwgPyAwXG4gICAgLyogQ2FuY2VsICovXG4gICAgOiAyXG4gICAgLyogQ29udGludWUgKi9cbiAgICA7XG4gIH0gLy8gcHJvdG90eXBlXG5cblxuICBpZiAoaXNBY3Rpb24oZGVzY3JpcHRvci52YWx1ZSkpIHtcbiAgICAvLyBBIHByb3RvdHlwZSBjb3VsZCBoYXZlIGJlZW4gYW5ub3RhdGVkIGFscmVhZHkgYnkgb3RoZXIgY29uc3RydWN0b3IsXG4gICAgLy8gcmVzdCBvZiB0aGUgcHJvdG8gY2hhaW4gbXVzdCBiZSBhbm5vdGF0ZWQgYWxyZWFkeVxuICAgIHJldHVybiAxXG4gICAgLyogQnJlYWsgKi9cbiAgICA7XG4gIH1cblxuICB2YXIgYWN0aW9uRGVzY3JpcHRvciA9IGNyZWF0ZUFjdGlvbkRlc2NyaXB0b3IoYWRtLCB0aGlzLCBrZXksIGRlc2NyaXB0b3IsIGZhbHNlKTtcbiAgZGVmaW5lUHJvcGVydHkoc291cmNlLCBrZXksIGFjdGlvbkRlc2NyaXB0b3IpO1xuICByZXR1cm4gMlxuICAvKiBDb250aW51ZSAqL1xuICA7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZF8kMShhZG0sIGtleSwgZGVzY3JpcHRvciwgcHJveHlUcmFwKSB7XG4gIHZhciBhY3Rpb25EZXNjcmlwdG9yID0gY3JlYXRlQWN0aW9uRGVzY3JpcHRvcihhZG0sIHRoaXMsIGtleSwgZGVzY3JpcHRvcik7XG4gIHJldHVybiBhZG0uZGVmaW5lUHJvcGVydHlfKGtleSwgYWN0aW9uRGVzY3JpcHRvciwgcHJveHlUcmFwKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0QWN0aW9uRGVzY3JpcHRvcihhZG0sIF9yZWYsIGtleSwgX3JlZjIpIHtcbiAgdmFyIGFubm90YXRpb25UeXBlXyA9IF9yZWYuYW5ub3RhdGlvblR5cGVfO1xuICB2YXIgdmFsdWUgPSBfcmVmMi52YWx1ZTtcblxuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIGRpZShcIkNhbm5vdCBhcHBseSAnXCIgKyBhbm5vdGF0aW9uVHlwZV8gKyBcIicgdG8gJ1wiICsgYWRtLm5hbWVfICsgXCIuXCIgKyBrZXkudG9TdHJpbmcoKSArIFwiJzpcIiArIChcIlxcbidcIiArIGFubm90YXRpb25UeXBlXyArIFwiJyBjYW4gb25seSBiZSB1c2VkIG9uIHByb3BlcnRpZXMgd2l0aCBhIGZ1bmN0aW9uIHZhbHVlLlwiKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlQWN0aW9uRGVzY3JpcHRvcihhZG0sIGFubm90YXRpb24sIGtleSwgZGVzY3JpcHRvciwgLy8gcHJvdmlkZXMgYWJpbGl0eSB0byBkaXNhYmxlIHNhZmVEZXNjcmlwdG9ycyBmb3IgcHJvdG90eXBlc1xuc2FmZURlc2NyaXB0b3JzKSB7XG4gIHZhciBfYW5ub3RhdGlvbiRvcHRpb25zXywgX2Fubm90YXRpb24kb3B0aW9uc18kLCBfYW5ub3RhdGlvbiRvcHRpb25zXzIsIF9hbm5vdGF0aW9uJG9wdGlvbnNfJDIsIF9hbm5vdGF0aW9uJG9wdGlvbnNfMztcblxuICBpZiAoc2FmZURlc2NyaXB0b3JzID09PSB2b2lkIDApIHtcbiAgICBzYWZlRGVzY3JpcHRvcnMgPSBnbG9iYWxTdGF0ZS5zYWZlRGVzY3JpcHRvcnM7XG4gIH1cblxuICBhc3NlcnRBY3Rpb25EZXNjcmlwdG9yKGFkbSwgYW5ub3RhdGlvbiwga2V5LCBkZXNjcmlwdG9yKTtcbiAgdmFyIHZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICBpZiAoKF9hbm5vdGF0aW9uJG9wdGlvbnNfID0gYW5ub3RhdGlvbi5vcHRpb25zXykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hbm5vdGF0aW9uJG9wdGlvbnNfLmJvdW5kKSB7XG4gICAgdmFyIF9hZG0kcHJveHlfO1xuXG4gICAgdmFsdWUgPSB2YWx1ZS5iaW5kKChfYWRtJHByb3h5XyA9IGFkbS5wcm94eV8pICE9IG51bGwgPyBfYWRtJHByb3h5XyA6IGFkbS50YXJnZXRfKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IGNyZWF0ZUFjdGlvbigoX2Fubm90YXRpb24kb3B0aW9uc18kID0gKF9hbm5vdGF0aW9uJG9wdGlvbnNfMiA9IGFubm90YXRpb24ub3B0aW9uc18pID09IG51bGwgPyB2b2lkIDAgOiBfYW5ub3RhdGlvbiRvcHRpb25zXzIubmFtZSkgIT0gbnVsbCA/IF9hbm5vdGF0aW9uJG9wdGlvbnNfJCA6IGtleS50b1N0cmluZygpLCB2YWx1ZSwgKF9hbm5vdGF0aW9uJG9wdGlvbnNfJDIgPSAoX2Fubm90YXRpb24kb3B0aW9uc18zID0gYW5ub3RhdGlvbi5vcHRpb25zXykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hbm5vdGF0aW9uJG9wdGlvbnNfMy5hdXRvQWN0aW9uKSAhPSBudWxsID8gX2Fubm90YXRpb24kb3B0aW9uc18kMiA6IGZhbHNlKSxcbiAgICAvLyBOb24tY29uZmlndXJhYmxlIGZvciBjbGFzc2VzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbCBmaWVsZCByZWRlZmluaXRpb24gaW4gc3ViY2xhc3NcbiAgICBjb25maWd1cmFibGU6IHNhZmVEZXNjcmlwdG9ycyA/IGFkbS5pc1BsYWluT2JqZWN0XyA6IHRydWUsXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vYnhqcy9tb2J4L3B1bGwvMjY0MSNpc3N1ZWNvbW1lbnQtNzM3MjkyMDU4XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgLy8gTm9uLW9ic2V2YWJsZSwgdGhlcmVmb3JlIG5vbi13cml0YWJsZVxuICAgIC8vIEFsc28gcHJldmVudHMgcmV3cml0aW5nIGluIHN1YmNsYXNzIGNvbnN0cnVjdG9yXG4gICAgd3JpdGFibGU6IHNhZmVEZXNjcmlwdG9ycyA/IGZhbHNlIDogdHJ1ZVxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGbG93QW5ub3RhdGlvbihuYW1lLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgYW5ub3RhdGlvblR5cGVfOiBuYW1lLFxuICAgIG9wdGlvbnNfOiBvcHRpb25zLFxuICAgIG1ha2VfOiBtYWtlXyQyLFxuICAgIGV4dGVuZF86IGV4dGVuZF8kMlxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlXyQyKGFkbSwga2V5LCBkZXNjcmlwdG9yLCBzb3VyY2UpIHtcbiAgdmFyIF90aGlzJG9wdGlvbnNfO1xuXG4gIC8vIG93blxuICBpZiAoc291cmNlID09PSBhZG0udGFyZ2V0Xykge1xuICAgIHJldHVybiB0aGlzLmV4dGVuZF8oYWRtLCBrZXksIGRlc2NyaXB0b3IsIGZhbHNlKSA9PT0gbnVsbCA/IDBcbiAgICAvKiBDYW5jZWwgKi9cbiAgICA6IDJcbiAgICAvKiBDb250aW51ZSAqL1xuICAgIDtcbiAgfSAvLyBwcm90b3R5cGVcbiAgLy8gYm91bmQgLSBtdXN0IGFubm90YXRlIHByb3RvcyB0byBzdXBwb3J0IHN1cGVyLmZsb3coKVxuXG5cbiAgaWYgKCgoX3RoaXMkb3B0aW9uc18gPSB0aGlzLm9wdGlvbnNfKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkb3B0aW9uc18uYm91bmQpICYmICFpc0Zsb3coYWRtLnRhcmdldF9ba2V5XSkpIHtcbiAgICBpZiAodGhpcy5leHRlbmRfKGFkbSwga2V5LCBkZXNjcmlwdG9yLCBmYWxzZSkgPT09IG51bGwpIHJldHVybiAwXG4gICAgLyogQ2FuY2VsICovXG4gICAgO1xuICB9XG5cbiAgaWYgKGlzRmxvdyhkZXNjcmlwdG9yLnZhbHVlKSkge1xuICAgIC8vIEEgcHJvdG90eXBlIGNvdWxkIGhhdmUgYmVlbiBhbm5vdGF0ZWQgYWxyZWFkeSBieSBvdGhlciBjb25zdHJ1Y3RvcixcbiAgICAvLyByZXN0IG9mIHRoZSBwcm90byBjaGFpbiBtdXN0IGJlIGFubm90YXRlZCBhbHJlYWR5XG4gICAgcmV0dXJuIDFcbiAgICAvKiBCcmVhayAqL1xuICAgIDtcbiAgfVxuXG4gIHZhciBmbG93RGVzY3JpcHRvciA9IGNyZWF0ZUZsb3dEZXNjcmlwdG9yKGFkbSwgdGhpcywga2V5LCBkZXNjcmlwdG9yLCBmYWxzZSwgZmFsc2UpO1xuICBkZWZpbmVQcm9wZXJ0eShzb3VyY2UsIGtleSwgZmxvd0Rlc2NyaXB0b3IpO1xuICByZXR1cm4gMlxuICAvKiBDb250aW51ZSAqL1xuICA7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZF8kMihhZG0sIGtleSwgZGVzY3JpcHRvciwgcHJveHlUcmFwKSB7XG4gIHZhciBfdGhpcyRvcHRpb25zXzI7XG5cbiAgdmFyIGZsb3dEZXNjcmlwdG9yID0gY3JlYXRlRmxvd0Rlc2NyaXB0b3IoYWRtLCB0aGlzLCBrZXksIGRlc2NyaXB0b3IsIChfdGhpcyRvcHRpb25zXzIgPSB0aGlzLm9wdGlvbnNfKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkb3B0aW9uc18yLmJvdW5kKTtcbiAgcmV0dXJuIGFkbS5kZWZpbmVQcm9wZXJ0eV8oa2V5LCBmbG93RGVzY3JpcHRvciwgcHJveHlUcmFwKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0Rmxvd0Rlc2NyaXB0b3IoYWRtLCBfcmVmLCBrZXksIF9yZWYyKSB7XG4gIHZhciBhbm5vdGF0aW9uVHlwZV8gPSBfcmVmLmFubm90YXRpb25UeXBlXztcbiAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWU7XG5cbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBkaWUoXCJDYW5ub3QgYXBwbHkgJ1wiICsgYW5ub3RhdGlvblR5cGVfICsgXCInIHRvICdcIiArIGFkbS5uYW1lXyArIFwiLlwiICsga2V5LnRvU3RyaW5nKCkgKyBcIic6XCIgKyAoXCJcXG4nXCIgKyBhbm5vdGF0aW9uVHlwZV8gKyBcIicgY2FuIG9ubHkgYmUgdXNlZCBvbiBwcm9wZXJ0aWVzIHdpdGggYSBnZW5lcmF0b3IgZnVuY3Rpb24gdmFsdWUuXCIpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVGbG93RGVzY3JpcHRvcihhZG0sIGFubm90YXRpb24sIGtleSwgZGVzY3JpcHRvciwgYm91bmQsIC8vIHByb3ZpZGVzIGFiaWxpdHkgdG8gZGlzYWJsZSBzYWZlRGVzY3JpcHRvcnMgZm9yIHByb3RvdHlwZXNcbnNhZmVEZXNjcmlwdG9ycykge1xuICBpZiAoc2FmZURlc2NyaXB0b3JzID09PSB2b2lkIDApIHtcbiAgICBzYWZlRGVzY3JpcHRvcnMgPSBnbG9iYWxTdGF0ZS5zYWZlRGVzY3JpcHRvcnM7XG4gIH1cblxuICBhc3NlcnRGbG93RGVzY3JpcHRvcihhZG0sIGFubm90YXRpb24sIGtleSwgZGVzY3JpcHRvcik7XG4gIHZhciB2YWx1ZSA9IGRlc2NyaXB0b3IudmFsdWU7XG5cbiAgaWYgKGJvdW5kKSB7XG4gICAgdmFyIF9hZG0kcHJveHlfO1xuXG4gICAgdmFsdWUgPSB2YWx1ZS5iaW5kKChfYWRtJHByb3h5XyA9IGFkbS5wcm94eV8pICE9IG51bGwgPyBfYWRtJHByb3h5XyA6IGFkbS50YXJnZXRfKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IGZsb3codmFsdWUpLFxuICAgIC8vIE5vbi1jb25maWd1cmFibGUgZm9yIGNsYXNzZXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsIGZpZWxkIHJlZGVmaW5pdGlvbiBpbiBzdWJjbGFzc1xuICAgIGNvbmZpZ3VyYWJsZTogc2FmZURlc2NyaXB0b3JzID8gYWRtLmlzUGxhaW5PYmplY3RfIDogdHJ1ZSxcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9ieGpzL21vYngvcHVsbC8yNjQxI2lzc3VlY29tbWVudC03MzcyOTIwNThcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAvLyBOb24tb2JzZXZhYmxlLCB0aGVyZWZvcmUgbm9uLXdyaXRhYmxlXG4gICAgLy8gQWxzbyBwcmV2ZW50cyByZXdyaXRpbmcgaW4gc3ViY2xhc3MgY29uc3RydWN0b3JcbiAgICB3cml0YWJsZTogc2FmZURlc2NyaXB0b3JzID8gZmFsc2UgOiB0cnVlXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbXB1dGVkQW5ub3RhdGlvbihuYW1lLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgYW5ub3RhdGlvblR5cGVfOiBuYW1lLFxuICAgIG9wdGlvbnNfOiBvcHRpb25zLFxuICAgIG1ha2VfOiBtYWtlXyQzLFxuICAgIGV4dGVuZF86IGV4dGVuZF8kM1xuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlXyQzKGFkbSwga2V5LCBkZXNjcmlwdG9yKSB7XG4gIHJldHVybiB0aGlzLmV4dGVuZF8oYWRtLCBrZXksIGRlc2NyaXB0b3IsIGZhbHNlKSA9PT0gbnVsbCA/IDBcbiAgLyogQ2FuY2VsICovXG4gIDogMVxuICAvKiBCcmVhayAqL1xuICA7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZF8kMyhhZG0sIGtleSwgZGVzY3JpcHRvciwgcHJveHlUcmFwKSB7XG4gIGFzc2VydENvbXB1dGVkRGVzY3JpcHRvcihhZG0sIHRoaXMsIGtleSwgZGVzY3JpcHRvcik7XG4gIHJldHVybiBhZG0uZGVmaW5lQ29tcHV0ZWRQcm9wZXJ0eV8oa2V5LCBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRpb25zXywge1xuICAgIGdldDogZGVzY3JpcHRvci5nZXQsXG4gICAgc2V0OiBkZXNjcmlwdG9yLnNldFxuICB9KSwgcHJveHlUcmFwKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0Q29tcHV0ZWREZXNjcmlwdG9yKGFkbSwgX3JlZiwga2V5LCBfcmVmMikge1xuICB2YXIgYW5ub3RhdGlvblR5cGVfID0gX3JlZi5hbm5vdGF0aW9uVHlwZV87XG4gIHZhciBnZXQgPSBfcmVmMi5nZXQ7XG5cbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhZ2V0KSB7XG4gICAgZGllKFwiQ2Fubm90IGFwcGx5ICdcIiArIGFubm90YXRpb25UeXBlXyArIFwiJyB0byAnXCIgKyBhZG0ubmFtZV8gKyBcIi5cIiArIGtleS50b1N0cmluZygpICsgXCInOlwiICsgKFwiXFxuJ1wiICsgYW5ub3RhdGlvblR5cGVfICsgXCInIGNhbiBvbmx5IGJlIHVzZWQgb24gZ2V0dGVyKCtzZXR0ZXIpIHByb3BlcnRpZXMuXCIpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVPYnNlcnZhYmxlQW5ub3RhdGlvbihuYW1lLCBvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgYW5ub3RhdGlvblR5cGVfOiBuYW1lLFxuICAgIG9wdGlvbnNfOiBvcHRpb25zLFxuICAgIG1ha2VfOiBtYWtlXyQ0LFxuICAgIGV4dGVuZF86IGV4dGVuZF8kNFxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlXyQ0KGFkbSwga2V5LCBkZXNjcmlwdG9yKSB7XG4gIHJldHVybiB0aGlzLmV4dGVuZF8oYWRtLCBrZXksIGRlc2NyaXB0b3IsIGZhbHNlKSA9PT0gbnVsbCA/IDBcbiAgLyogQ2FuY2VsICovXG4gIDogMVxuICAvKiBCcmVhayAqL1xuICA7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZF8kNChhZG0sIGtleSwgZGVzY3JpcHRvciwgcHJveHlUcmFwKSB7XG4gIHZhciBfdGhpcyRvcHRpb25zXyRlbmhhbmMsIF90aGlzJG9wdGlvbnNfO1xuXG4gIGFzc2VydE9ic2VydmFibGVEZXNjcmlwdG9yKGFkbSwgdGhpcywga2V5LCBkZXNjcmlwdG9yKTtcbiAgcmV0dXJuIGFkbS5kZWZpbmVPYnNlcnZhYmxlUHJvcGVydHlfKGtleSwgZGVzY3JpcHRvci52YWx1ZSwgKF90aGlzJG9wdGlvbnNfJGVuaGFuYyA9IChfdGhpcyRvcHRpb25zXyA9IHRoaXMub3B0aW9uc18pID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRvcHRpb25zXy5lbmhhbmNlcikgIT0gbnVsbCA/IF90aGlzJG9wdGlvbnNfJGVuaGFuYyA6IGRlZXBFbmhhbmNlciwgcHJveHlUcmFwKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0T2JzZXJ2YWJsZURlc2NyaXB0b3IoYWRtLCBfcmVmLCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgdmFyIGFubm90YXRpb25UeXBlXyA9IF9yZWYuYW5ub3RhdGlvblR5cGVfO1xuXG4gIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgIShcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikpIHtcbiAgICBkaWUoXCJDYW5ub3QgYXBwbHkgJ1wiICsgYW5ub3RhdGlvblR5cGVfICsgXCInIHRvICdcIiArIGFkbS5uYW1lXyArIFwiLlwiICsga2V5LnRvU3RyaW5nKCkgKyBcIic6XCIgKyAoXCJcXG4nXCIgKyBhbm5vdGF0aW9uVHlwZV8gKyBcIicgY2Fubm90IGJlIHVzZWQgb24gZ2V0dGVyL3NldHRlciBwcm9wZXJ0aWVzXCIpKTtcbiAgfVxufVxuXG52YXIgQVVUTyA9IFwidHJ1ZVwiO1xudmFyIGF1dG9Bbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZUF1dG9Bbm5vdGF0aW9uKCk7XG5mdW5jdGlvbiBjcmVhdGVBdXRvQW5ub3RhdGlvbihvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgYW5ub3RhdGlvblR5cGVfOiBBVVRPLFxuICAgIG9wdGlvbnNfOiBvcHRpb25zLFxuICAgIG1ha2VfOiBtYWtlXyQ1LFxuICAgIGV4dGVuZF86IGV4dGVuZF8kNVxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlXyQ1KGFkbSwga2V5LCBkZXNjcmlwdG9yLCBzb3VyY2UpIHtcbiAgdmFyIF90aGlzJG9wdGlvbnNfMywgX3RoaXMkb3B0aW9uc180O1xuXG4gIC8vIGdldHRlciAtPiBjb21wdXRlZFxuICBpZiAoZGVzY3JpcHRvci5nZXQpIHtcbiAgICByZXR1cm4gY29tcHV0ZWQubWFrZV8oYWRtLCBrZXksIGRlc2NyaXB0b3IsIHNvdXJjZSk7XG4gIH0gLy8gbG9uZSBzZXR0ZXIgLT4gYWN0aW9uIHNldHRlclxuXG5cbiAgaWYgKGRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgLy8gVE9ETyBtYWtlIGFjdGlvbiBhcHBsaWNhYmxlIHRvIHNldHRlciBhbmQgZGVsZWdhdGUgdG8gYWN0aW9uLm1ha2VfXG4gICAgdmFyIHNldCA9IGNyZWF0ZUFjdGlvbihrZXkudG9TdHJpbmcoKSwgZGVzY3JpcHRvci5zZXQpOyAvLyBvd25cblxuICAgIGlmIChzb3VyY2UgPT09IGFkbS50YXJnZXRfKSB7XG4gICAgICByZXR1cm4gYWRtLmRlZmluZVByb3BlcnR5XyhrZXksIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBnbG9iYWxTdGF0ZS5zYWZlRGVzY3JpcHRvcnMgPyBhZG0uaXNQbGFpbk9iamVjdF8gOiB0cnVlLFxuICAgICAgICBzZXQ6IHNldFxuICAgICAgfSkgPT09IG51bGwgPyAwXG4gICAgICAvKiBDYW5jZWwgKi9cbiAgICAgIDogMlxuICAgICAgLyogQ29udGludWUgKi9cbiAgICAgIDtcbiAgICB9IC8vIHByb3RvXG5cblxuICAgIGRlZmluZVByb3BlcnR5KHNvdXJjZSwga2V5LCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBzZXQ6IHNldFxuICAgIH0pO1xuICAgIHJldHVybiAyXG4gICAgLyogQ29udGludWUgKi9cbiAgICA7XG4gIH0gLy8gZnVuY3Rpb24gb24gcHJvdG8gLT4gYXV0b0FjdGlvbi9mbG93XG5cblxuICBpZiAoc291cmNlICE9PSBhZG0udGFyZ2V0XyAmJiB0eXBlb2YgZGVzY3JpcHRvci52YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIF90aGlzJG9wdGlvbnNfMjtcblxuICAgIGlmIChpc0dlbmVyYXRvcihkZXNjcmlwdG9yLnZhbHVlKSkge1xuICAgICAgdmFyIF90aGlzJG9wdGlvbnNfO1xuXG4gICAgICB2YXIgZmxvd0Fubm90YXRpb24gPSAoKF90aGlzJG9wdGlvbnNfID0gdGhpcy5vcHRpb25zXykgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJG9wdGlvbnNfLmF1dG9CaW5kKSA/IGZsb3cuYm91bmQgOiBmbG93O1xuICAgICAgcmV0dXJuIGZsb3dBbm5vdGF0aW9uLm1ha2VfKGFkbSwga2V5LCBkZXNjcmlwdG9yLCBzb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciBhY3Rpb25Bbm5vdGF0aW9uID0gKChfdGhpcyRvcHRpb25zXzIgPSB0aGlzLm9wdGlvbnNfKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkb3B0aW9uc18yLmF1dG9CaW5kKSA/IGF1dG9BY3Rpb24uYm91bmQgOiBhdXRvQWN0aW9uO1xuICAgIHJldHVybiBhY3Rpb25Bbm5vdGF0aW9uLm1ha2VfKGFkbSwga2V5LCBkZXNjcmlwdG9yLCBzb3VyY2UpO1xuICB9IC8vIG90aGVyIC0+IG9ic2VydmFibGVcbiAgLy8gQ29weSBwcm9wcyBmcm9tIHByb3RvIGFzIHdlbGwsIHNlZSB0ZXN0OlxuICAvLyBcImRlY29yYXRlIHNob3VsZCB3b3JrIHdpdGggT2JqZWN0LmNyZWF0ZVwiXG5cblxuICB2YXIgb2JzZXJ2YWJsZUFubm90YXRpb24gPSAoKF90aGlzJG9wdGlvbnNfMyA9IHRoaXMub3B0aW9uc18pID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRvcHRpb25zXzMuZGVlcCkgPT09IGZhbHNlID8gb2JzZXJ2YWJsZS5yZWYgOiBvYnNlcnZhYmxlOyAvLyBpZiBmdW5jdGlvbiByZXNwZWN0IGF1dG9CaW5kIG9wdGlvblxuXG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvci52YWx1ZSA9PT0gXCJmdW5jdGlvblwiICYmICgoX3RoaXMkb3B0aW9uc180ID0gdGhpcy5vcHRpb25zXykgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJG9wdGlvbnNfNC5hdXRvQmluZCkpIHtcbiAgICB2YXIgX2FkbSRwcm94eV87XG5cbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gZGVzY3JpcHRvci52YWx1ZS5iaW5kKChfYWRtJHByb3h5XyA9IGFkbS5wcm94eV8pICE9IG51bGwgPyBfYWRtJHByb3h5XyA6IGFkbS50YXJnZXRfKTtcbiAgfVxuXG4gIHJldHVybiBvYnNlcnZhYmxlQW5ub3RhdGlvbi5tYWtlXyhhZG0sIGtleSwgZGVzY3JpcHRvciwgc291cmNlKTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kXyQ1KGFkbSwga2V5LCBkZXNjcmlwdG9yLCBwcm94eVRyYXApIHtcbiAgdmFyIF90aGlzJG9wdGlvbnNfNSwgX3RoaXMkb3B0aW9uc182O1xuXG4gIC8vIGdldHRlciAtPiBjb21wdXRlZFxuICBpZiAoZGVzY3JpcHRvci5nZXQpIHtcbiAgICByZXR1cm4gY29tcHV0ZWQuZXh0ZW5kXyhhZG0sIGtleSwgZGVzY3JpcHRvciwgcHJveHlUcmFwKTtcbiAgfSAvLyBsb25lIHNldHRlciAtPiBhY3Rpb24gc2V0dGVyXG5cblxuICBpZiAoZGVzY3JpcHRvci5zZXQpIHtcbiAgICAvLyBUT0RPIG1ha2UgYWN0aW9uIGFwcGxpY2FibGUgdG8gc2V0dGVyIGFuZCBkZWxlZ2F0ZSB0byBhY3Rpb24uZXh0ZW5kX1xuICAgIHJldHVybiBhZG0uZGVmaW5lUHJvcGVydHlfKGtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiBnbG9iYWxTdGF0ZS5zYWZlRGVzY3JpcHRvcnMgPyBhZG0uaXNQbGFpbk9iamVjdF8gOiB0cnVlLFxuICAgICAgc2V0OiBjcmVhdGVBY3Rpb24oa2V5LnRvU3RyaW5nKCksIGRlc2NyaXB0b3Iuc2V0KVxuICAgIH0sIHByb3h5VHJhcCk7XG4gIH0gLy8gb3RoZXIgLT4gb2JzZXJ2YWJsZVxuICAvLyBpZiBmdW5jdGlvbiByZXNwZWN0IGF1dG9CaW5kIG9wdGlvblxuXG5cbiAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLnZhbHVlID09PSBcImZ1bmN0aW9uXCIgJiYgKChfdGhpcyRvcHRpb25zXzUgPSB0aGlzLm9wdGlvbnNfKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkb3B0aW9uc181LmF1dG9CaW5kKSkge1xuICAgIHZhciBfYWRtJHByb3h5XzI7XG5cbiAgICBkZXNjcmlwdG9yLnZhbHVlID0gZGVzY3JpcHRvci52YWx1ZS5iaW5kKChfYWRtJHByb3h5XzIgPSBhZG0ucHJveHlfKSAhPSBudWxsID8gX2FkbSRwcm94eV8yIDogYWRtLnRhcmdldF8pO1xuICB9XG5cbiAgdmFyIG9ic2VydmFibGVBbm5vdGF0aW9uID0gKChfdGhpcyRvcHRpb25zXzYgPSB0aGlzLm9wdGlvbnNfKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkb3B0aW9uc182LmRlZXApID09PSBmYWxzZSA/IG9ic2VydmFibGUucmVmIDogb2JzZXJ2YWJsZTtcbiAgcmV0dXJuIG9ic2VydmFibGVBbm5vdGF0aW9uLmV4dGVuZF8oYWRtLCBrZXksIGRlc2NyaXB0b3IsIHByb3h5VHJhcCk7XG59XG5cbi8vIGluIHRoZSBtYWpvcml0eSBvZiBjYXNlc1xuXG52YXIgZGVmYXVsdENyZWF0ZU9ic2VydmFibGVPcHRpb25zID0ge1xuICBkZWVwOiB0cnVlLFxuICBuYW1lOiB1bmRlZmluZWQsXG4gIGRlZmF1bHREZWNvcmF0b3I6IHVuZGVmaW5lZCxcbiAgcHJveHk6IHRydWVcbn07XG5PYmplY3QuZnJlZXplKGRlZmF1bHRDcmVhdGVPYnNlcnZhYmxlT3B0aW9ucyk7XG5mdW5jdGlvbiBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zKHRoaW5nKSB7XG4gIHJldHVybiB0aGluZyB8fCBkZWZhdWx0Q3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnM7XG59XG52YXIgb2JzZXJ2YWJsZUFubm90YXRpb24gPSAvKiNfX1BVUkVfXyovY3JlYXRlT2JzZXJ2YWJsZUFubm90YXRpb24oXCJvYnNlcnZhYmxlXCIpO1xudmFyIG9ic2VydmFibGVSZWZBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZU9ic2VydmFibGVBbm5vdGF0aW9uKFwib2JzZXJ2YWJsZS5yZWZcIiwge1xuICBlbmhhbmNlcjogcmVmZXJlbmNlRW5oYW5jZXJcbn0pO1xudmFyIG9ic2VydmFibGVTaGFsbG93QW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVPYnNlcnZhYmxlQW5ub3RhdGlvbihcIm9ic2VydmFibGUuc2hhbGxvd1wiLCB7XG4gIGVuaGFuY2VyOiBzaGFsbG93RW5oYW5jZXJcbn0pO1xudmFyIG9ic2VydmFibGVTdHJ1Y3RBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZU9ic2VydmFibGVBbm5vdGF0aW9uKFwib2JzZXJ2YWJsZS5zdHJ1Y3RcIiwge1xuICBlbmhhbmNlcjogcmVmU3RydWN0RW5oYW5jZXJcbn0pO1xudmFyIG9ic2VydmFibGVEZWNvcmF0b3JBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZURlY29yYXRvckFubm90YXRpb24ob2JzZXJ2YWJsZUFubm90YXRpb24pO1xuZnVuY3Rpb24gZ2V0RW5oYW5jZXJGcm9tT3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLmRlZXAgPT09IHRydWUgPyBkZWVwRW5oYW5jZXIgOiBvcHRpb25zLmRlZXAgPT09IGZhbHNlID8gcmVmZXJlbmNlRW5oYW5jZXIgOiBnZXRFbmhhbmNlckZyb21Bbm5vdGF0aW9uKG9wdGlvbnMuZGVmYXVsdERlY29yYXRvcik7XG59XG5mdW5jdGlvbiBnZXRBbm5vdGF0aW9uRnJvbU9wdGlvbnMob3B0aW9ucykge1xuICB2YXIgX29wdGlvbnMkZGVmYXVsdERlY29yO1xuXG4gIHJldHVybiBvcHRpb25zID8gKF9vcHRpb25zJGRlZmF1bHREZWNvciA9IG9wdGlvbnMuZGVmYXVsdERlY29yYXRvcikgIT0gbnVsbCA/IF9vcHRpb25zJGRlZmF1bHREZWNvciA6IGNyZWF0ZUF1dG9Bbm5vdGF0aW9uKG9wdGlvbnMpIDogdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZ2V0RW5oYW5jZXJGcm9tQW5ub3RhdGlvbihhbm5vdGF0aW9uKSB7XG4gIHZhciBfYW5ub3RhdGlvbiRvcHRpb25zXyQsIF9hbm5vdGF0aW9uJG9wdGlvbnNfO1xuXG4gIHJldHVybiAhYW5ub3RhdGlvbiA/IGRlZXBFbmhhbmNlciA6IChfYW5ub3RhdGlvbiRvcHRpb25zXyQgPSAoX2Fubm90YXRpb24kb3B0aW9uc18gPSBhbm5vdGF0aW9uLm9wdGlvbnNfKSA9PSBudWxsID8gdm9pZCAwIDogX2Fubm90YXRpb24kb3B0aW9uc18uZW5oYW5jZXIpICE9IG51bGwgPyBfYW5ub3RhdGlvbiRvcHRpb25zXyQgOiBkZWVwRW5oYW5jZXI7XG59XG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCwgYXJyYXkgb3IgZnVuY3Rpb24gaW50byBhIHJlYWN0aXZlIHN0cnVjdHVyZS5cbiAqIEBwYXJhbSB2IHRoZSB2YWx1ZSB3aGljaCBzaG91bGQgYmVjb21lIG9ic2VydmFibGUuXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlT2JzZXJ2YWJsZSh2LCBhcmcyLCBhcmczKSB7XG4gIC8vIEBvYnNlcnZhYmxlIHNvbWVQcm9wO1xuICBpZiAoaXNTdHJpbmdpc2goYXJnMikpIHtcbiAgICBzdG9yZUFubm90YXRpb24odiwgYXJnMiwgb2JzZXJ2YWJsZUFubm90YXRpb24pO1xuICAgIHJldHVybjtcbiAgfSAvLyBhbHJlYWR5IG9ic2VydmFibGUgLSBpZ25vcmVcblxuXG4gIGlmIChpc09ic2VydmFibGUodikpIHJldHVybiB2OyAvLyBwbGFpbiBvYmplY3RcblxuICBpZiAoaXNQbGFpbk9iamVjdCh2KSkgcmV0dXJuIG9ic2VydmFibGUub2JqZWN0KHYsIGFyZzIsIGFyZzMpOyAvLyBBcnJheVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5hcnJheSh2LCBhcmcyKTsgLy8gTWFwXG5cbiAgaWYgKGlzRVM2TWFwKHYpKSByZXR1cm4gb2JzZXJ2YWJsZS5tYXAodiwgYXJnMik7IC8vIFNldFxuXG4gIGlmIChpc0VTNlNldCh2KSkgcmV0dXJuIG9ic2VydmFibGUuc2V0KHYsIGFyZzIpOyAvLyBvdGhlciBvYmplY3QgLSBpZ25vcmVcblxuICBpZiAodHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPT0gbnVsbCkgcmV0dXJuIHY7IC8vIGFueXRoaW5nIGVsc2VcblxuICByZXR1cm4gb2JzZXJ2YWJsZS5ib3godiwgYXJnMik7XG59XG5cbk9iamVjdC5hc3NpZ24oY3JlYXRlT2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZURlY29yYXRvckFubm90YXRpb24pO1xudmFyIG9ic2VydmFibGVGYWN0b3JpZXMgPSB7XG4gIGJveDogZnVuY3Rpb24gYm94KHZhbHVlLCBvcHRpb25zKSB7XG4gICAgdmFyIG8gPSBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVZhbHVlKHZhbHVlLCBnZXRFbmhhbmNlckZyb21PcHRpb25zKG8pLCBvLm5hbWUsIHRydWUsIG8uZXF1YWxzKTtcbiAgfSxcbiAgYXJyYXk6IGZ1bmN0aW9uIGFycmF5KGluaXRpYWxWYWx1ZXMsIG9wdGlvbnMpIHtcbiAgICB2YXIgbyA9IGFzQ3JlYXRlT2JzZXJ2YWJsZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIChnbG9iYWxTdGF0ZS51c2VQcm94aWVzID09PSBmYWxzZSB8fCBvLnByb3h5ID09PSBmYWxzZSA/IGNyZWF0ZUxlZ2FjeUFycmF5IDogY3JlYXRlT2JzZXJ2YWJsZUFycmF5KShpbml0aWFsVmFsdWVzLCBnZXRFbmhhbmNlckZyb21PcHRpb25zKG8pLCBvLm5hbWUpO1xuICB9LFxuICBtYXA6IGZ1bmN0aW9uIG1hcChpbml0aWFsVmFsdWVzLCBvcHRpb25zKSB7XG4gICAgdmFyIG8gPSBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZU1hcChpbml0aWFsVmFsdWVzLCBnZXRFbmhhbmNlckZyb21PcHRpb25zKG8pLCBvLm5hbWUpO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldChpbml0aWFsVmFsdWVzLCBvcHRpb25zKSB7XG4gICAgdmFyIG8gPSBhc0NyZWF0ZU9ic2VydmFibGVPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVNldChpbml0aWFsVmFsdWVzLCBnZXRFbmhhbmNlckZyb21PcHRpb25zKG8pLCBvLm5hbWUpO1xuICB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uIG9iamVjdChwcm9wcywgZGVjb3JhdG9ycywgb3B0aW9ucykge1xuICAgIHJldHVybiBleHRlbmRPYnNlcnZhYmxlKGdsb2JhbFN0YXRlLnVzZVByb3hpZXMgPT09IGZhbHNlIHx8IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnByb3h5KSA9PT0gZmFsc2UgPyBhc09ic2VydmFibGVPYmplY3Qoe30sIG9wdGlvbnMpIDogYXNEeW5hbWljT2JzZXJ2YWJsZU9iamVjdCh7fSwgb3B0aW9ucyksIHByb3BzLCBkZWNvcmF0b3JzKTtcbiAgfSxcbiAgcmVmOiAvKiNfX1BVUkVfXyovY3JlYXRlRGVjb3JhdG9yQW5ub3RhdGlvbihvYnNlcnZhYmxlUmVmQW5ub3RhdGlvbiksXG4gIHNoYWxsb3c6IC8qI19fUFVSRV9fKi9jcmVhdGVEZWNvcmF0b3JBbm5vdGF0aW9uKG9ic2VydmFibGVTaGFsbG93QW5ub3RhdGlvbiksXG4gIGRlZXA6IG9ic2VydmFibGVEZWNvcmF0b3JBbm5vdGF0aW9uLFxuICBzdHJ1Y3Q6IC8qI19fUFVSRV9fKi9jcmVhdGVEZWNvcmF0b3JBbm5vdGF0aW9uKG9ic2VydmFibGVTdHJ1Y3RBbm5vdGF0aW9uKVxufTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbnZhciBvYnNlcnZhYmxlID0gLyojX19QVVJFX18qL2Fzc2lnbihjcmVhdGVPYnNlcnZhYmxlLCBvYnNlcnZhYmxlRmFjdG9yaWVzKTtcblxudmFyIENPTVBVVEVEID0gXCJjb21wdXRlZFwiO1xudmFyIENPTVBVVEVEX1NUUlVDVCA9IFwiY29tcHV0ZWQuc3RydWN0XCI7XG52YXIgY29tcHV0ZWRBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbXB1dGVkQW5ub3RhdGlvbihDT01QVVRFRCk7XG52YXIgY29tcHV0ZWRTdHJ1Y3RBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbXB1dGVkQW5ub3RhdGlvbihDT01QVVRFRF9TVFJVQ1QsIHtcbiAgZXF1YWxzOiBjb21wYXJlci5zdHJ1Y3R1cmFsXG59KTtcbi8qKlxuICogRGVjb3JhdG9yIGZvciBjbGFzcyBwcm9wZXJ0aWVzOiBAY29tcHV0ZWQgZ2V0IHZhbHVlKCkgeyByZXR1cm4gZXhwcjsgfS5cbiAqIEZvciBsZWdhY3kgcHVycG9zZXMgYWxzbyBpbnZva2FibGUgYXMgRVM1IG9ic2VydmFibGUgY3JlYXRlZDogYGNvbXB1dGVkKCgpID0+IGV4cHIpYDtcbiAqL1xuXG52YXIgY29tcHV0ZWQgPSBmdW5jdGlvbiBjb21wdXRlZChhcmcxLCBhcmcyKSB7XG4gIGlmIChpc1N0cmluZ2lzaChhcmcyKSkge1xuICAgIC8vIEBjb21wdXRlZFxuICAgIHJldHVybiBzdG9yZUFubm90YXRpb24oYXJnMSwgYXJnMiwgY29tcHV0ZWRBbm5vdGF0aW9uKTtcbiAgfVxuXG4gIGlmIChpc1BsYWluT2JqZWN0KGFyZzEpKSB7XG4gICAgLy8gQGNvbXB1dGVkKHsgb3B0aW9ucyB9KVxuICAgIHJldHVybiBjcmVhdGVEZWNvcmF0b3JBbm5vdGF0aW9uKGNyZWF0ZUNvbXB1dGVkQW5ub3RhdGlvbihDT01QVVRFRCwgYXJnMSkpO1xuICB9IC8vIGNvbXB1dGVkKGV4cHIsIG9wdGlvbnM/KVxuXG5cbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGlmICghaXNGdW5jdGlvbihhcmcxKSkgZGllKFwiRmlyc3QgYXJndW1lbnQgdG8gYGNvbXB1dGVkYCBzaG91bGQgYmUgYW4gZXhwcmVzc2lvbi5cIik7XG4gICAgaWYgKGlzRnVuY3Rpb24oYXJnMikpIGRpZShcIkEgc2V0dGVyIGFzIHNlY29uZCBhcmd1bWVudCBpcyBubyBsb25nZXIgc3VwcG9ydGVkLCB1c2UgYHsgc2V0OiBmbiB9YCBvcHRpb24gaW5zdGVhZFwiKTtcbiAgfVxuXG4gIHZhciBvcHRzID0gaXNQbGFpbk9iamVjdChhcmcyKSA/IGFyZzIgOiB7fTtcbiAgb3B0cy5nZXQgPSBhcmcxO1xuICBvcHRzLm5hbWUgfHwgKG9wdHMubmFtZSA9IGFyZzEubmFtZSB8fCBcIlwiKTtcbiAgLyogZm9yIGdlbmVyYXRlZCBuYW1lICovXG5cbiAgcmV0dXJuIG5ldyBDb21wdXRlZFZhbHVlKG9wdHMpO1xufTtcbk9iamVjdC5hc3NpZ24oY29tcHV0ZWQsIGNvbXB1dGVkQW5ub3RhdGlvbik7XG5jb21wdXRlZC5zdHJ1Y3QgPSAvKiNfX1BVUkVfXyovY3JlYXRlRGVjb3JhdG9yQW5ub3RhdGlvbihjb21wdXRlZFN0cnVjdEFubm90YXRpb24pO1xuXG52YXIgX2dldERlc2NyaXB0b3IkY29uZmlnLCBfZ2V0RGVzY3JpcHRvcjtcbi8vIG1vYnggdmVyc2lvbnNcblxudmFyIGN1cnJlbnRBY3Rpb25JZCA9IDA7XG52YXIgbmV4dEFjdGlvbklkID0gMTtcbnZhciBpc0Z1bmN0aW9uTmFtZUNvbmZpZ3VyYWJsZSA9IChfZ2V0RGVzY3JpcHRvciRjb25maWcgPSAoX2dldERlc2NyaXB0b3IgPSAvKiNfX1BVUkVfXyovZ2V0RGVzY3JpcHRvcihmdW5jdGlvbiAoKSB7fSwgXCJuYW1lXCIpKSA9PSBudWxsID8gdm9pZCAwIDogX2dldERlc2NyaXB0b3IuY29uZmlndXJhYmxlKSAhPSBudWxsID8gX2dldERlc2NyaXB0b3IkY29uZmlnIDogZmFsc2U7IC8vIHdlIGNhbiBzYWZlbHkgcmVjeWNsZSB0aGlzIG9iamVjdFxuXG52YXIgdG1wTmFtZURlc2NyaXB0b3IgPSB7XG4gIHZhbHVlOiBcImFjdGlvblwiLFxuICBjb25maWd1cmFibGU6IHRydWUsXG4gIHdyaXRhYmxlOiBmYWxzZSxcbiAgZW51bWVyYWJsZTogZmFsc2Vcbn07XG5mdW5jdGlvbiBjcmVhdGVBY3Rpb24oYWN0aW9uTmFtZSwgZm4sIGF1dG9BY3Rpb24sIHJlZikge1xuICBpZiAoYXV0b0FjdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgYXV0b0FjdGlvbiA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGlmICghaXNGdW5jdGlvbihmbikpIGRpZShcImBhY3Rpb25gIGNhbiBvbmx5IGJlIGludm9rZWQgb24gZnVuY3Rpb25zXCIpO1xuICAgIGlmICh0eXBlb2YgYWN0aW9uTmFtZSAhPT0gXCJzdHJpbmdcIiB8fCAhYWN0aW9uTmFtZSkgZGllKFwiYWN0aW9ucyBzaG91bGQgaGF2ZSB2YWxpZCBuYW1lcywgZ290OiAnXCIgKyBhY3Rpb25OYW1lICsgXCInXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzKCkge1xuICAgIHJldHVybiBleGVjdXRlQWN0aW9uKGFjdGlvbk5hbWUsIGF1dG9BY3Rpb24sIGZuLCByZWYgfHwgdGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJlcy5pc01vYnhBY3Rpb24gPSB0cnVlO1xuXG4gIGlmIChpc0Z1bmN0aW9uTmFtZUNvbmZpZ3VyYWJsZSkge1xuICAgIHRtcE5hbWVEZXNjcmlwdG9yLnZhbHVlID0gYWN0aW9uTmFtZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzLCBcIm5hbWVcIiwgdG1wTmFtZURlc2NyaXB0b3IpO1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGV4ZWN1dGVBY3Rpb24oYWN0aW9uTmFtZSwgY2FuUnVuQXNEZXJpdmF0aW9uLCBmbiwgc2NvcGUsIGFyZ3MpIHtcbiAgdmFyIHJ1bkluZm8gPSBfc3RhcnRBY3Rpb24oYWN0aW9uTmFtZSwgY2FuUnVuQXNEZXJpdmF0aW9uLCBzY29wZSwgYXJncyk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4uYXBwbHkoc2NvcGUsIGFyZ3MpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBydW5JbmZvLmVycm9yXyA9IGVycjtcbiAgICB0aHJvdyBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgX2VuZEFjdGlvbihydW5JbmZvKTtcbiAgfVxufVxuZnVuY3Rpb24gX3N0YXJ0QWN0aW9uKGFjdGlvbk5hbWUsIGNhblJ1bkFzRGVyaXZhdGlvbiwgLy8gdHJ1ZSBmb3IgYXV0b0FjdGlvblxuc2NvcGUsIGFyZ3MpIHtcbiAgdmFyIG5vdGlmeVNweV8gPSBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgaXNTcHlFbmFibGVkKCkgJiYgISFhY3Rpb25OYW1lO1xuICB2YXIgc3RhcnRUaW1lXyA9IDA7XG5cbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBub3RpZnlTcHlfKSB7XG4gICAgc3RhcnRUaW1lXyA9IERhdGUubm93KCk7XG4gICAgdmFyIGZsYXR0ZW5lZEFyZ3MgPSBhcmdzID8gQXJyYXkuZnJvbShhcmdzKSA6IEVNUFRZX0FSUkFZO1xuICAgIHNweVJlcG9ydFN0YXJ0KHtcbiAgICAgIHR5cGU6IEFDVElPTixcbiAgICAgIG5hbWU6IGFjdGlvbk5hbWUsXG4gICAgICBvYmplY3Q6IHNjb3BlLFxuICAgICAgYXJndW1lbnRzOiBmbGF0dGVuZWRBcmdzXG4gICAgfSk7XG4gIH1cblxuICB2YXIgcHJldkRlcml2YXRpb25fID0gZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uO1xuICB2YXIgcnVuQXNBY3Rpb24gPSAhY2FuUnVuQXNEZXJpdmF0aW9uIHx8ICFwcmV2RGVyaXZhdGlvbl87XG4gIHN0YXJ0QmF0Y2goKTtcbiAgdmFyIHByZXZBbGxvd1N0YXRlQ2hhbmdlc18gPSBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlczsgLy8gYnkgZGVmYXVsdCBwcmVzZXJ2ZSBwcmV2aW91cyBhbGxvd1xuXG4gIGlmIChydW5Bc0FjdGlvbikge1xuICAgIHVudHJhY2tlZFN0YXJ0KCk7XG4gICAgcHJldkFsbG93U3RhdGVDaGFuZ2VzXyA9IGFsbG93U3RhdGVDaGFuZ2VzU3RhcnQodHJ1ZSk7XG4gIH1cblxuICB2YXIgcHJldkFsbG93U3RhdGVSZWFkc18gPSBhbGxvd1N0YXRlUmVhZHNTdGFydCh0cnVlKTtcbiAgdmFyIHJ1bkluZm8gPSB7XG4gICAgcnVuQXNBY3Rpb25fOiBydW5Bc0FjdGlvbixcbiAgICBwcmV2RGVyaXZhdGlvbl86IHByZXZEZXJpdmF0aW9uXyxcbiAgICBwcmV2QWxsb3dTdGF0ZUNoYW5nZXNfOiBwcmV2QWxsb3dTdGF0ZUNoYW5nZXNfLFxuICAgIHByZXZBbGxvd1N0YXRlUmVhZHNfOiBwcmV2QWxsb3dTdGF0ZVJlYWRzXyxcbiAgICBub3RpZnlTcHlfOiBub3RpZnlTcHlfLFxuICAgIHN0YXJ0VGltZV86IHN0YXJ0VGltZV8sXG4gICAgYWN0aW9uSWRfOiBuZXh0QWN0aW9uSWQrKyxcbiAgICBwYXJlbnRBY3Rpb25JZF86IGN1cnJlbnRBY3Rpb25JZFxuICB9O1xuICBjdXJyZW50QWN0aW9uSWQgPSBydW5JbmZvLmFjdGlvbklkXztcbiAgcmV0dXJuIHJ1bkluZm87XG59XG5mdW5jdGlvbiBfZW5kQWN0aW9uKHJ1bkluZm8pIHtcbiAgaWYgKGN1cnJlbnRBY3Rpb25JZCAhPT0gcnVuSW5mby5hY3Rpb25JZF8pIHtcbiAgICBkaWUoMzApO1xuICB9XG5cbiAgY3VycmVudEFjdGlvbklkID0gcnVuSW5mby5wYXJlbnRBY3Rpb25JZF87XG5cbiAgaWYgKHJ1bkluZm8uZXJyb3JfICE9PSB1bmRlZmluZWQpIHtcbiAgICBnbG9iYWxTdGF0ZS5zdXBwcmVzc1JlYWN0aW9uRXJyb3JzID0gdHJ1ZTtcbiAgfVxuXG4gIGFsbG93U3RhdGVDaGFuZ2VzRW5kKHJ1bkluZm8ucHJldkFsbG93U3RhdGVDaGFuZ2VzXyk7XG4gIGFsbG93U3RhdGVSZWFkc0VuZChydW5JbmZvLnByZXZBbGxvd1N0YXRlUmVhZHNfKTtcbiAgZW5kQmF0Y2goKTtcbiAgaWYgKHJ1bkluZm8ucnVuQXNBY3Rpb25fKSB1bnRyYWNrZWRFbmQocnVuSW5mby5wcmV2RGVyaXZhdGlvbl8pO1xuXG4gIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgcnVuSW5mby5ub3RpZnlTcHlfKSB7XG4gICAgc3B5UmVwb3J0RW5kKHtcbiAgICAgIHRpbWU6IERhdGUubm93KCkgLSBydW5JbmZvLnN0YXJ0VGltZV9cbiAgICB9KTtcbiAgfVxuXG4gIGdsb2JhbFN0YXRlLnN1cHByZXNzUmVhY3Rpb25FcnJvcnMgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGFsbG93U3RhdGVDaGFuZ2VzKGFsbG93U3RhdGVDaGFuZ2VzLCBmdW5jKSB7XG4gIHZhciBwcmV2ID0gYWxsb3dTdGF0ZUNoYW5nZXNTdGFydChhbGxvd1N0YXRlQ2hhbmdlcyk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gZnVuYygpO1xuICB9IGZpbmFsbHkge1xuICAgIGFsbG93U3RhdGVDaGFuZ2VzRW5kKHByZXYpO1xuICB9XG59XG5mdW5jdGlvbiBhbGxvd1N0YXRlQ2hhbmdlc1N0YXJ0KGFsbG93U3RhdGVDaGFuZ2VzKSB7XG4gIHZhciBwcmV2ID0gZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZUNoYW5nZXM7XG4gIGdsb2JhbFN0YXRlLmFsbG93U3RhdGVDaGFuZ2VzID0gYWxsb3dTdGF0ZUNoYW5nZXM7XG4gIHJldHVybiBwcmV2O1xufVxuZnVuY3Rpb24gYWxsb3dTdGF0ZUNoYW5nZXNFbmQocHJldikge1xuICBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlcyA9IHByZXY7XG59XG5cbnZhciBfU3ltYm9sJHRvUHJpbWl0aXZlO1xudmFyIENSRUFURSA9IFwiY3JlYXRlXCI7XG5fU3ltYm9sJHRvUHJpbWl0aXZlID0gU3ltYm9sLnRvUHJpbWl0aXZlO1xudmFyIE9ic2VydmFibGVWYWx1ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0F0b20pIHtcbiAgX2luaGVyaXRzTG9vc2UoT2JzZXJ2YWJsZVZhbHVlLCBfQXRvbSk7XG5cbiAgZnVuY3Rpb24gT2JzZXJ2YWJsZVZhbHVlKHZhbHVlLCBlbmhhbmNlciwgbmFtZV8sIG5vdGlmeVNweSwgZXF1YWxzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgaWYgKG5hbWVfID09PSB2b2lkIDApIHtcbiAgICAgIG5hbWVfID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gXCJPYnNlcnZhYmxlVmFsdWVAXCIgKyBnZXROZXh0SWQoKSA6IFwiT2JzZXJ2YWJsZVZhbHVlXCI7XG4gICAgfVxuXG4gICAgaWYgKG5vdGlmeVNweSA9PT0gdm9pZCAwKSB7XG4gICAgICBub3RpZnlTcHkgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChlcXVhbHMgPT09IHZvaWQgMCkge1xuICAgICAgZXF1YWxzID0gY29tcGFyZXJbXCJkZWZhdWx0XCJdO1xuICAgIH1cblxuICAgIF90aGlzID0gX0F0b20uY2FsbCh0aGlzLCBuYW1lXykgfHwgdGhpcztcbiAgICBfdGhpcy5lbmhhbmNlciA9IHZvaWQgMDtcbiAgICBfdGhpcy5uYW1lXyA9IHZvaWQgMDtcbiAgICBfdGhpcy5lcXVhbHMgPSB2b2lkIDA7XG4gICAgX3RoaXMuaGFzVW5yZXBvcnRlZENoYW5nZV8gPSBmYWxzZTtcbiAgICBfdGhpcy5pbnRlcmNlcHRvcnNfID0gdm9pZCAwO1xuICAgIF90aGlzLmNoYW5nZUxpc3RlbmVyc18gPSB2b2lkIDA7XG4gICAgX3RoaXMudmFsdWVfID0gdm9pZCAwO1xuICAgIF90aGlzLmRlaGFuY2VyID0gdm9pZCAwO1xuICAgIF90aGlzLmVuaGFuY2VyID0gZW5oYW5jZXI7XG4gICAgX3RoaXMubmFtZV8gPSBuYW1lXztcbiAgICBfdGhpcy5lcXVhbHMgPSBlcXVhbHM7XG4gICAgX3RoaXMudmFsdWVfID0gZW5oYW5jZXIodmFsdWUsIHVuZGVmaW5lZCwgbmFtZV8pO1xuXG4gICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBub3RpZnlTcHkgJiYgaXNTcHlFbmFibGVkKCkpIHtcbiAgICAgIC8vIG9ubHkgbm90aWZ5IHNweSBpZiB0aGlzIGlzIGEgc3RhbmQtYWxvbmUgb2JzZXJ2YWJsZVxuICAgICAgc3B5UmVwb3J0KHtcbiAgICAgICAgdHlwZTogQ1JFQVRFLFxuICAgICAgICBvYmplY3Q6IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLFxuICAgICAgICBvYnNlcnZhYmxlS2luZDogXCJ2YWx1ZVwiLFxuICAgICAgICBkZWJ1Z09iamVjdE5hbWU6IF90aGlzLm5hbWVfLFxuICAgICAgICBuZXdWYWx1ZTogXCJcIiArIF90aGlzLnZhbHVlX1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IE9ic2VydmFibGVWYWx1ZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmRlaGFuY2VWYWx1ZSA9IGZ1bmN0aW9uIGRlaGFuY2VWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmRlaGFuY2VyICE9PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLmRlaGFuY2VyKHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgX3Byb3RvLnNldCA9IGZ1bmN0aW9uIHNldChuZXdWYWx1ZSkge1xuICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWVfO1xuICAgIG5ld1ZhbHVlID0gdGhpcy5wcmVwYXJlTmV3VmFsdWVfKG5ld1ZhbHVlKTtcblxuICAgIGlmIChuZXdWYWx1ZSAhPT0gZ2xvYmFsU3RhdGUuVU5DSEFOR0VEKSB7XG4gICAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkKCk7XG5cbiAgICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgbm90aWZ5U3B5KSB7XG4gICAgICAgIHNweVJlcG9ydFN0YXJ0KHtcbiAgICAgICAgICB0eXBlOiBVUERBVEUsXG4gICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgIG9ic2VydmFibGVLaW5kOiBcInZhbHVlXCIsXG4gICAgICAgICAgZGVidWdPYmplY3ROYW1lOiB0aGlzLm5hbWVfLFxuICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgICBvbGRWYWx1ZTogb2xkVmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0TmV3VmFsdWVfKG5ld1ZhbHVlKTtcbiAgICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgbm90aWZ5U3B5KSBzcHlSZXBvcnRFbmQoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnByZXBhcmVOZXdWYWx1ZV8gPSBmdW5jdGlvbiBwcmVwYXJlTmV3VmFsdWVfKG5ld1ZhbHVlKSB7XG4gICAgY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQodGhpcyk7XG5cbiAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XG4gICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICB0eXBlOiBVUERBVEUsXG4gICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxuICAgICAgfSk7XG4gICAgICBpZiAoIWNoYW5nZSkgcmV0dXJuIGdsb2JhbFN0YXRlLlVOQ0hBTkdFRDtcbiAgICAgIG5ld1ZhbHVlID0gY2hhbmdlLm5ld1ZhbHVlO1xuICAgIH0gLy8gYXBwbHkgbW9kaWZpZXJcblxuXG4gICAgbmV3VmFsdWUgPSB0aGlzLmVuaGFuY2VyKG5ld1ZhbHVlLCB0aGlzLnZhbHVlXywgdGhpcy5uYW1lXyk7XG4gICAgcmV0dXJuIHRoaXMuZXF1YWxzKHRoaXMudmFsdWVfLCBuZXdWYWx1ZSkgPyBnbG9iYWxTdGF0ZS5VTkNIQU5HRUQgOiBuZXdWYWx1ZTtcbiAgfTtcblxuICBfcHJvdG8uc2V0TmV3VmFsdWVfID0gZnVuY3Rpb24gc2V0TmV3VmFsdWVfKG5ld1ZhbHVlKSB7XG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZV87XG4gICAgdGhpcy52YWx1ZV8gPSBuZXdWYWx1ZTtcbiAgICB0aGlzLnJlcG9ydENoYW5nZWQoKTtcblxuICAgIGlmIChoYXNMaXN0ZW5lcnModGhpcykpIHtcbiAgICAgIG5vdGlmeUxpc3RlbmVycyh0aGlzLCB7XG4gICAgICAgIHR5cGU6IFVQREFURSxcbiAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWUsXG4gICAgICAgIG9sZFZhbHVlOiBvbGRWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5nZXQgPSBmdW5jdGlvbiBnZXQoKSB7XG4gICAgdGhpcy5yZXBvcnRPYnNlcnZlZCgpO1xuICAgIHJldHVybiB0aGlzLmRlaGFuY2VWYWx1ZSh0aGlzLnZhbHVlXyk7XG4gIH07XG5cbiAgX3Byb3RvLmludGVyY2VwdF8gPSBmdW5jdGlvbiBpbnRlcmNlcHRfKGhhbmRsZXIpIHtcbiAgICByZXR1cm4gcmVnaXN0ZXJJbnRlcmNlcHRvcih0aGlzLCBoYW5kbGVyKTtcbiAgfTtcblxuICBfcHJvdG8ub2JzZXJ2ZV8gPSBmdW5jdGlvbiBvYnNlcnZlXyhsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgaWYgKGZpcmVJbW1lZGlhdGVseSkgbGlzdGVuZXIoe1xuICAgICAgb2JzZXJ2YWJsZUtpbmQ6IFwidmFsdWVcIixcbiAgICAgIGRlYnVnT2JqZWN0TmFtZTogdGhpcy5uYW1lXyxcbiAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgIHR5cGU6IFVQREFURSxcbiAgICAgIG5ld1ZhbHVlOiB0aGlzLnZhbHVlXyxcbiAgICAgIG9sZFZhbHVlOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgICByZXR1cm4gcmVnaXN0ZXJMaXN0ZW5lcih0aGlzLCBsaXN0ZW5lcik7XG4gIH07XG5cbiAgX3Byb3RvLnJhdyA9IGZ1bmN0aW9uIHJhdygpIHtcbiAgICAvLyB1c2VkIGJ5IE1TVCBvdCBnZXQgdW5kZWhhbmNlZCB2YWx1ZVxuICAgIHJldHVybiB0aGlzLnZhbHVlXztcbiAgfTtcblxuICBfcHJvdG8udG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLmdldCgpO1xuICB9O1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWVfICsgXCJbXCIgKyB0aGlzLnZhbHVlXyArIFwiXVwiO1xuICB9O1xuXG4gIF9wcm90by52YWx1ZU9mID0gZnVuY3Rpb24gdmFsdWVPZigpIHtcbiAgICByZXR1cm4gdG9QcmltaXRpdmUodGhpcy5nZXQoKSk7XG4gIH07XG5cbiAgX3Byb3RvW19TeW1ib2wkdG9QcmltaXRpdmVdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKTtcbiAgfTtcblxuICByZXR1cm4gT2JzZXJ2YWJsZVZhbHVlO1xufShBdG9tKTtcbnZhciBpc09ic2VydmFibGVWYWx1ZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVJbnN0YW5jZW9mUHJlZGljYXRlKFwiT2JzZXJ2YWJsZVZhbHVlXCIsIE9ic2VydmFibGVWYWx1ZSk7XG5cbnZhciBfU3ltYm9sJHRvUHJpbWl0aXZlJDE7XG4vKipcbiAqIEEgbm9kZSBpbiB0aGUgc3RhdGUgZGVwZW5kZW5jeSByb290IHRoYXQgb2JzZXJ2ZXMgb3RoZXIgbm9kZXMsIGFuZCBjYW4gYmUgb2JzZXJ2ZWQgaXRzZWxmLlxuICpcbiAqIENvbXB1dGVkVmFsdWUgd2lsbCByZW1lbWJlciB0aGUgcmVzdWx0IG9mIHRoZSBjb21wdXRhdGlvbiBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBiYXRjaCwgb3JcbiAqIHdoaWxlIGJlaW5nIG9ic2VydmVkLlxuICpcbiAqIER1cmluZyB0aGlzIHRpbWUgaXQgd2lsbCByZWNvbXB1dGUgb25seSB3aGVuIG9uZSBvZiBpdHMgZGlyZWN0IGRlcGVuZGVuY2llcyBjaGFuZ2VkLFxuICogYnV0IG9ubHkgd2hlbiBpdCBpcyBiZWluZyBhY2Nlc3NlZCB3aXRoIGBDb21wdXRlZFZhbHVlLmdldCgpYC5cbiAqXG4gKiBJbXBsZW1lbnRhdGlvbiBkZXNjcmlwdGlvbjpcbiAqIDEuIEZpcnN0IHRpbWUgaXQncyBiZWluZyBhY2Nlc3NlZCBpdCB3aWxsIGNvbXB1dGUgYW5kIHJlbWVtYmVyIHJlc3VsdFxuICogICAgZ2l2ZSBiYWNrIHJlbWVtYmVyZWQgcmVzdWx0IHVudGlsIDIuIGhhcHBlbnNcbiAqIDIuIEZpcnN0IHRpbWUgYW55IGRlZXAgZGVwZW5kZW5jeSBjaGFuZ2UsIHByb3BhZ2F0ZSBQT1NTSUJMWV9TVEFMRSB0byBhbGwgb2JzZXJ2ZXJzLCB3YWl0IGZvciAzLlxuICogMy4gV2hlbiBpdCdzIGJlaW5nIGFjY2Vzc2VkLCByZWNvbXB1dGUgaWYgYW55IHNoYWxsb3cgZGVwZW5kZW5jeSBjaGFuZ2VkLlxuICogICAgaWYgcmVzdWx0IGNoYW5nZWQ6IHByb3BhZ2F0ZSBTVEFMRSB0byBhbGwgb2JzZXJ2ZXJzLCB0aGF0IHdlcmUgUE9TU0lCTFlfU1RBTEUgZnJvbSB0aGUgbGFzdCBzdGVwLlxuICogICAgZ28gdG8gc3RlcCAyLiBlaXRoZXIgd2F5XG4gKlxuICogSWYgYXQgYW55IHBvaW50IGl0J3Mgb3V0c2lkZSBiYXRjaCBhbmQgaXQgaXNuJ3Qgb2JzZXJ2ZWQ6IHJlc2V0IGV2ZXJ5dGhpbmcgYW5kIGdvIHRvIDEuXG4gKi9cblxuX1N5bWJvbCR0b1ByaW1pdGl2ZSQxID0gU3ltYm9sLnRvUHJpbWl0aXZlO1xudmFyIENvbXB1dGVkVmFsdWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvLyBub2RlcyB3ZSBhcmUgbG9va2luZyBhdC4gT3VyIHZhbHVlIGRlcGVuZHMgb24gdGhlc2Ugbm9kZXNcbiAgLy8gZHVyaW5nIHRyYWNraW5nIGl0J3MgYW4gYXJyYXkgd2l0aCBuZXcgb2JzZXJ2ZWQgb2JzZXJ2ZXJzXG4gIC8vIHRvIGNoZWNrIGZvciBjeWNsZXNcbiAgLy8gTi5COiB1bm1pbmlmaWVkIGFzIGl0IGlzIHVzZWQgYnkgTVNUXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjb21wdXRlZCB2YWx1ZSBiYXNlZCBvbiBhIGZ1bmN0aW9uIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIFRoZSBgbmFtZWAgcHJvcGVydHkgaXMgZm9yIGRlYnVnIHB1cnBvc2VzIG9ubHkuXG4gICAqXG4gICAqIFRoZSBgZXF1YWxzYCBwcm9wZXJ0eSBzcGVjaWZpZXMgdGhlIGNvbXBhcmVyIGZ1bmN0aW9uIHRvIHVzZSB0byBkZXRlcm1pbmUgaWYgYSBuZXdseSBwcm9kdWNlZFxuICAgKiB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHByZXZpb3VzIHZhbHVlLiBUd28gY29tcGFyZXJzIGFyZSBwcm92aWRlZCBpbiB0aGUgbGlicmFyeTsgYGRlZmF1bHRDb21wYXJlcmBcbiAgICogY29tcGFyZXMgYmFzZWQgb24gaWRlbnRpdHkgY29tcGFyaXNvbiAoPT09KSwgYW5kIGBzdHJ1Y3R1cmFsQ29tcGFyZXJgIGRlZXBseSBjb21wYXJlcyB0aGUgc3RydWN0dXJlLlxuICAgKiBTdHJ1Y3R1cmFsIGNvbXBhcmlzb24gY2FuIGJlIGNvbnZlbmllbnQgaWYgeW91IGFsd2F5cyBwcm9kdWNlIGEgbmV3IGFnZ3JlZ2F0ZWQgb2JqZWN0IGFuZFxuICAgKiBkb24ndCB3YW50IHRvIG5vdGlmeSBvYnNlcnZlcnMgaWYgaXQgaXMgc3RydWN0dXJhbGx5IHRoZSBzYW1lLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3Igd29ya2luZyB3aXRoIHZlY3RvcnMsIG1vdXNlIGNvb3JkaW5hdGVzIGV0Yy5cbiAgICovXG4gIGZ1bmN0aW9uIENvbXB1dGVkVmFsdWUob3B0aW9ucykge1xuICAgIHRoaXMuZGVwZW5kZW5jaWVzU3RhdGVfID0gSURlcml2YXRpb25TdGF0ZV8uTk9UX1RSQUNLSU5HXztcbiAgICB0aGlzLm9ic2VydmluZ18gPSBbXTtcbiAgICB0aGlzLm5ld09ic2VydmluZ18gPSBudWxsO1xuICAgIHRoaXMuaXNCZWluZ09ic2VydmVkXyA9IGZhbHNlO1xuICAgIHRoaXMuaXNQZW5kaW5nVW5vYnNlcnZhdGlvbl8gPSBmYWxzZTtcbiAgICB0aGlzLm9ic2VydmVyc18gPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5kaWZmVmFsdWVfID0gMDtcbiAgICB0aGlzLnJ1bklkXyA9IDA7XG4gICAgdGhpcy5sYXN0QWNjZXNzZWRCeV8gPSAwO1xuICAgIHRoaXMubG93ZXN0T2JzZXJ2ZXJTdGF0ZV8gPSBJRGVyaXZhdGlvblN0YXRlXy5VUF9UT19EQVRFXztcbiAgICB0aGlzLnVuYm91bmREZXBzQ291bnRfID0gMDtcbiAgICB0aGlzLnZhbHVlXyA9IG5ldyBDYXVnaHRFeGNlcHRpb24obnVsbCk7XG4gICAgdGhpcy5uYW1lXyA9IHZvaWQgMDtcbiAgICB0aGlzLnRyaWdnZXJlZEJ5XyA9IHZvaWQgMDtcbiAgICB0aGlzLmlzQ29tcHV0aW5nXyA9IGZhbHNlO1xuICAgIHRoaXMuaXNSdW5uaW5nU2V0dGVyXyA9IGZhbHNlO1xuICAgIHRoaXMuZGVyaXZhdGlvbiA9IHZvaWQgMDtcbiAgICB0aGlzLnNldHRlcl8gPSB2b2lkIDA7XG4gICAgdGhpcy5pc1RyYWNpbmdfID0gVHJhY2VNb2RlLk5PTkU7XG4gICAgdGhpcy5zY29wZV8gPSB2b2lkIDA7XG4gICAgdGhpcy5lcXVhbHNfID0gdm9pZCAwO1xuICAgIHRoaXMucmVxdWlyZXNSZWFjdGlvbl8gPSB2b2lkIDA7XG4gICAgdGhpcy5rZWVwQWxpdmVfID0gdm9pZCAwO1xuICAgIHRoaXMub25CT0wgPSB2b2lkIDA7XG4gICAgdGhpcy5vbkJVT0wgPSB2b2lkIDA7XG4gICAgaWYgKCFvcHRpb25zLmdldCkgZGllKDMxKTtcbiAgICB0aGlzLmRlcml2YXRpb24gPSBvcHRpb25zLmdldDtcbiAgICB0aGlzLm5hbWVfID0gb3B0aW9ucy5uYW1lIHx8IChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBcIkNvbXB1dGVkVmFsdWVAXCIgKyBnZXROZXh0SWQoKSA6IFwiQ29tcHV0ZWRWYWx1ZVwiKTtcblxuICAgIGlmIChvcHRpb25zLnNldCkge1xuICAgICAgdGhpcy5zZXR0ZXJfID0gY3JlYXRlQWN0aW9uKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHRoaXMubmFtZV8gKyBcIi1zZXR0ZXJcIiA6IFwiQ29tcHV0ZWRWYWx1ZS1zZXR0ZXJcIiwgb3B0aW9ucy5zZXQpO1xuICAgIH1cblxuICAgIHRoaXMuZXF1YWxzXyA9IG9wdGlvbnMuZXF1YWxzIHx8IChvcHRpb25zLmNvbXBhcmVTdHJ1Y3R1cmFsIHx8IG9wdGlvbnMuc3RydWN0ID8gY29tcGFyZXIuc3RydWN0dXJhbCA6IGNvbXBhcmVyW1wiZGVmYXVsdFwiXSk7XG4gICAgdGhpcy5zY29wZV8gPSBvcHRpb25zLmNvbnRleHQ7XG4gICAgdGhpcy5yZXF1aXJlc1JlYWN0aW9uXyA9ICEhb3B0aW9ucy5yZXF1aXJlc1JlYWN0aW9uO1xuICAgIHRoaXMua2VlcEFsaXZlXyA9ICEhb3B0aW9ucy5rZWVwQWxpdmU7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQ29tcHV0ZWRWYWx1ZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLm9uQmVjb21lU3RhbGVfID0gZnVuY3Rpb24gb25CZWNvbWVTdGFsZV8oKSB7XG4gICAgcHJvcGFnYXRlTWF5YmVDaGFuZ2VkKHRoaXMpO1xuICB9O1xuXG4gIF9wcm90by5vbkJPID0gZnVuY3Rpb24gb25CTygpIHtcbiAgICBpZiAodGhpcy5vbkJPTCkge1xuICAgICAgdGhpcy5vbkJPTC5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gbGlzdGVuZXIoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ub25CVU8gPSBmdW5jdGlvbiBvbkJVTygpIHtcbiAgICBpZiAodGhpcy5vbkJVT0wpIHtcbiAgICAgIHRoaXMub25CVU9MLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoaXMgY29tcHV0ZWQgdmFsdWUuXG4gICAqIFdpbGwgZXZhbHVhdGUgaXRzIGNvbXB1dGF0aW9uIGZpcnN0IGlmIG5lZWRlZC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0ID0gZnVuY3Rpb24gZ2V0KCkge1xuICAgIGlmICh0aGlzLmlzQ29tcHV0aW5nXykgZGllKDMyLCB0aGlzLm5hbWVfLCB0aGlzLmRlcml2YXRpb24pO1xuXG4gICAgaWYgKGdsb2JhbFN0YXRlLmluQmF0Y2ggPT09IDAgJiYgLy8gIWdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdHBpb24gJiZcbiAgICB0aGlzLm9ic2VydmVyc18uc2l6ZSA9PT0gMCAmJiAhdGhpcy5rZWVwQWxpdmVfKSB7XG4gICAgICBpZiAoc2hvdWxkQ29tcHV0ZSh0aGlzKSkge1xuICAgICAgICB0aGlzLndhcm5BYm91dFVudHJhY2tlZFJlYWRfKCk7XG4gICAgICAgIHN0YXJ0QmF0Y2goKTsgLy8gU2VlIHBlcmYgdGVzdCAnY29tcHV0ZWQgbWVtb2l6YXRpb24nXG5cbiAgICAgICAgdGhpcy52YWx1ZV8gPSB0aGlzLmNvbXB1dGVWYWx1ZV8oZmFsc2UpO1xuICAgICAgICBlbmRCYXRjaCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBvcnRPYnNlcnZlZCh0aGlzKTtcblxuICAgICAgaWYgKHNob3VsZENvbXB1dGUodGhpcykpIHtcbiAgICAgICAgdmFyIHByZXZUcmFja2luZ0NvbnRleHQgPSBnbG9iYWxTdGF0ZS50cmFja2luZ0NvbnRleHQ7XG4gICAgICAgIGlmICh0aGlzLmtlZXBBbGl2ZV8gJiYgIXByZXZUcmFja2luZ0NvbnRleHQpIGdsb2JhbFN0YXRlLnRyYWNraW5nQ29udGV4dCA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnRyYWNrQW5kQ29tcHV0ZSgpKSBwcm9wYWdhdGVDaGFuZ2VDb25maXJtZWQodGhpcyk7XG4gICAgICAgIGdsb2JhbFN0YXRlLnRyYWNraW5nQ29udGV4dCA9IHByZXZUcmFja2luZ0NvbnRleHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IHRoaXMudmFsdWVfO1xuICAgIGlmIChpc0NhdWdodEV4Y2VwdGlvbihyZXN1bHQpKSB0aHJvdyByZXN1bHQuY2F1c2U7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBfcHJvdG8uc2V0ID0gZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuc2V0dGVyXykge1xuICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nU2V0dGVyXykgZGllKDMzLCB0aGlzLm5hbWVfKTtcbiAgICAgIHRoaXMuaXNSdW5uaW5nU2V0dGVyXyA9IHRydWU7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuc2V0dGVyXy5jYWxsKHRoaXMuc2NvcGVfLCB2YWx1ZSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLmlzUnVubmluZ1NldHRlcl8gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgZGllKDM0LCB0aGlzLm5hbWVfKTtcbiAgfTtcblxuICBfcHJvdG8udHJhY2tBbmRDb21wdXRlID0gZnVuY3Rpb24gdHJhY2tBbmRDb21wdXRlKCkge1xuICAgIC8vIE4uQjogdW5taW5pZmllZCBhcyBpdCBpcyB1c2VkIGJ5IE1TVFxuICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWVfO1xuICAgIHZhciB3YXNTdXNwZW5kZWQgPVxuICAgIC8qIHNlZSAjMTIwOCAqL1xuICAgIHRoaXMuZGVwZW5kZW5jaWVzU3RhdGVfID09PSBJRGVyaXZhdGlvblN0YXRlXy5OT1RfVFJBQ0tJTkdfO1xuICAgIHZhciBuZXdWYWx1ZSA9IHRoaXMuY29tcHV0ZVZhbHVlXyh0cnVlKTtcblxuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgaXNTcHlFbmFibGVkKCkpIHtcbiAgICAgIHNweVJlcG9ydCh7XG4gICAgICAgIG9ic2VydmFibGVLaW5kOiBcImNvbXB1dGVkXCIsXG4gICAgICAgIGRlYnVnT2JqZWN0TmFtZTogdGhpcy5uYW1lXyxcbiAgICAgICAgb2JqZWN0OiB0aGlzLnNjb3BlXyxcbiAgICAgICAgdHlwZTogXCJ1cGRhdGVcIixcbiAgICAgICAgb2xkVmFsdWU6IHRoaXMudmFsdWVfLFxuICAgICAgICBuZXdWYWx1ZTogbmV3VmFsdWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBjaGFuZ2VkID0gd2FzU3VzcGVuZGVkIHx8IGlzQ2F1Z2h0RXhjZXB0aW9uKG9sZFZhbHVlKSB8fCBpc0NhdWdodEV4Y2VwdGlvbihuZXdWYWx1ZSkgfHwgIXRoaXMuZXF1YWxzXyhvbGRWYWx1ZSwgbmV3VmFsdWUpO1xuXG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgIHRoaXMudmFsdWVfID0gbmV3VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoYW5nZWQ7XG4gIH07XG5cbiAgX3Byb3RvLmNvbXB1dGVWYWx1ZV8gPSBmdW5jdGlvbiBjb21wdXRlVmFsdWVfKHRyYWNrKSB7XG4gICAgdGhpcy5pc0NvbXB1dGluZ18gPSB0cnVlOyAvLyBkb24ndCBhbGxvdyBzdGF0ZSBjaGFuZ2VzIGR1cmluZyBjb21wdXRhdGlvblxuXG4gICAgdmFyIHByZXYgPSBhbGxvd1N0YXRlQ2hhbmdlc1N0YXJ0KGZhbHNlKTtcbiAgICB2YXIgcmVzO1xuXG4gICAgaWYgKHRyYWNrKSB7XG4gICAgICByZXMgPSB0cmFja0Rlcml2ZWRGdW5jdGlvbih0aGlzLCB0aGlzLmRlcml2YXRpb24sIHRoaXMuc2NvcGVfKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGdsb2JhbFN0YXRlLmRpc2FibGVFcnJvckJvdW5kYXJpZXMgPT09IHRydWUpIHtcbiAgICAgICAgcmVzID0gdGhpcy5kZXJpdmF0aW9uLmNhbGwodGhpcy5zY29wZV8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXMgPSB0aGlzLmRlcml2YXRpb24uY2FsbCh0aGlzLnNjb3BlXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXMgPSBuZXcgQ2F1Z2h0RXhjZXB0aW9uKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgYWxsb3dTdGF0ZUNoYW5nZXNFbmQocHJldik7XG4gICAgdGhpcy5pc0NvbXB1dGluZ18gPSBmYWxzZTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIF9wcm90by5zdXNwZW5kXyA9IGZ1bmN0aW9uIHN1c3BlbmRfKCkge1xuICAgIGlmICghdGhpcy5rZWVwQWxpdmVfKSB7XG4gICAgICBjbGVhck9ic2VydmluZyh0aGlzKTtcbiAgICAgIHRoaXMudmFsdWVfID0gdW5kZWZpbmVkOyAvLyBkb24ndCBob2xkIG9uIHRvIGNvbXB1dGVkIHZhbHVlIVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ub2JzZXJ2ZV8gPSBmdW5jdGlvbiBvYnNlcnZlXyhsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuICAgIHZhciBwcmV2VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGF1dG9ydW4oZnVuY3Rpb24gKCkge1xuICAgICAgLy8gVE9ETzogd2h5IGlzIHRoaXMgaW4gYSBkaWZmZXJlbnQgcGxhY2UgdGhhbiB0aGUgc3B5UmVwb3J0KCkgZnVuY3Rpb24/IGluIGFsbCBvdGhlciBvYnNlcnZhYmxlcyBpdCdzIGNhbGxlZCBpbiB0aGUgc2FtZSBwbGFjZVxuICAgICAgdmFyIG5ld1ZhbHVlID0gX3RoaXMuZ2V0KCk7XG5cbiAgICAgIGlmICghZmlyc3RUaW1lIHx8IGZpcmVJbW1lZGlhdGVseSkge1xuICAgICAgICB2YXIgcHJldlUgPSB1bnRyYWNrZWRTdGFydCgpO1xuICAgICAgICBsaXN0ZW5lcih7XG4gICAgICAgICAgb2JzZXJ2YWJsZUtpbmQ6IFwiY29tcHV0ZWRcIixcbiAgICAgICAgICBkZWJ1Z09iamVjdE5hbWU6IF90aGlzLm5hbWVfLFxuICAgICAgICAgIHR5cGU6IFVQREFURSxcbiAgICAgICAgICBvYmplY3Q6IF90aGlzLFxuICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgICBvbGRWYWx1ZTogcHJldlZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgICB1bnRyYWNrZWRFbmQocHJldlUpO1xuICAgICAgfVxuXG4gICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgIHByZXZWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by53YXJuQWJvdXRVbnRyYWNrZWRSZWFkXyA9IGZ1bmN0aW9uIHdhcm5BYm91dFVudHJhY2tlZFJlYWRfKCkge1xuICAgIGlmICghKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHJldHVybjtcblxuICAgIGlmICh0aGlzLnJlcXVpcmVzUmVhY3Rpb25fID09PSB0cnVlKSB7XG4gICAgICBkaWUoXCJbbW9ieF0gQ29tcHV0ZWQgdmFsdWUgXCIgKyB0aGlzLm5hbWVfICsgXCIgaXMgcmVhZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dFwiKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1RyYWNpbmdfICE9PSBUcmFjZU1vZGUuTk9ORSkge1xuICAgICAgY29uc29sZS5sb2coXCJbbW9ieC50cmFjZV0gJ1wiICsgdGhpcy5uYW1lXyArIFwiJyBpcyBiZWluZyByZWFkIG91dHNpZGUgYSByZWFjdGl2ZSBjb250ZXh0LiBEb2luZyBhIGZ1bGwgcmVjb21wdXRlXCIpO1xuICAgIH1cblxuICAgIGlmIChnbG9iYWxTdGF0ZS5jb21wdXRlZFJlcXVpcmVzUmVhY3Rpb24pIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlttb2J4XSBDb21wdXRlZCB2YWx1ZSBcIiArIHRoaXMubmFtZV8gKyBcIiBpcyBiZWluZyByZWFkIG91dHNpZGUgYSByZWFjdGl2ZSBjb250ZXh0LiBEb2luZyBhIGZ1bGwgcmVjb21wdXRlXCIpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lXyArIFwiW1wiICsgdGhpcy5kZXJpdmF0aW9uLnRvU3RyaW5nKCkgKyBcIl1cIjtcbiAgfTtcblxuICBfcHJvdG8udmFsdWVPZiA9IGZ1bmN0aW9uIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIHRvUHJpbWl0aXZlKHRoaXMuZ2V0KCkpO1xuICB9O1xuXG4gIF9wcm90b1tfU3ltYm9sJHRvUHJpbWl0aXZlJDFdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKTtcbiAgfTtcblxuICByZXR1cm4gQ29tcHV0ZWRWYWx1ZTtcbn0oKTtcbnZhciBpc0NvbXB1dGVkVmFsdWUgPSAvKiNfX1BVUkVfXyovY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZShcIkNvbXB1dGVkVmFsdWVcIiwgQ29tcHV0ZWRWYWx1ZSk7XG5cbnZhciBJRGVyaXZhdGlvblN0YXRlXztcblxuKGZ1bmN0aW9uIChJRGVyaXZhdGlvblN0YXRlXykge1xuICAvLyBiZWZvcmUgYmVpbmcgcnVuIG9yIChvdXRzaWRlIGJhdGNoIGFuZCBub3QgYmVpbmcgb2JzZXJ2ZWQpXG4gIC8vIGF0IHRoaXMgcG9pbnQgZGVyaXZhdGlvbiBpcyBub3QgaG9sZGluZyBhbnkgZGF0YSBhYm91dCBkZXBlbmRlbmN5IHRyZWVcbiAgSURlcml2YXRpb25TdGF0ZV9bSURlcml2YXRpb25TdGF0ZV9bXCJOT1RfVFJBQ0tJTkdfXCJdID0gLTFdID0gXCJOT1RfVFJBQ0tJTkdfXCI7IC8vIG5vIHNoYWxsb3cgZGVwZW5kZW5jeSBjaGFuZ2VkIHNpbmNlIGxhc3QgY29tcHV0YXRpb25cbiAgLy8gd29uJ3QgcmVjYWxjdWxhdGUgZGVyaXZhdGlvblxuICAvLyB0aGlzIGlzIHdoYXQgbWFrZXMgbW9ieCBmYXN0XG5cbiAgSURlcml2YXRpb25TdGF0ZV9bSURlcml2YXRpb25TdGF0ZV9bXCJVUF9UT19EQVRFX1wiXSA9IDBdID0gXCJVUF9UT19EQVRFX1wiOyAvLyBzb21lIGRlZXAgZGVwZW5kZW5jeSBjaGFuZ2VkLCBidXQgZG9uJ3Qga25vdyBpZiBzaGFsbG93IGRlcGVuZGVuY3kgY2hhbmdlZFxuICAvLyB3aWxsIHJlcXVpcmUgdG8gY2hlY2sgZmlyc3QgaWYgVVBfVE9fREFURSBvciBQT1NTSUJMWV9TVEFMRVxuICAvLyBjdXJyZW50bHkgb25seSBDb21wdXRlZFZhbHVlIHdpbGwgcHJvcGFnYXRlIFBPU1NJQkxZX1NUQUxFXG4gIC8vXG4gIC8vIGhhdmluZyB0aGlzIHN0YXRlIGlzIHNlY29uZCBiaWcgb3B0aW1pemF0aW9uOlxuICAvLyBkb24ndCBoYXZlIHRvIHJlY29tcHV0ZSBvbiBldmVyeSBkZXBlbmRlbmN5IGNoYW5nZSwgYnV0IG9ubHkgd2hlbiBpdCdzIG5lZWRlZFxuXG4gIElEZXJpdmF0aW9uU3RhdGVfW0lEZXJpdmF0aW9uU3RhdGVfW1wiUE9TU0lCTFlfU1RBTEVfXCJdID0gMV0gPSBcIlBPU1NJQkxZX1NUQUxFX1wiOyAvLyBBIHNoYWxsb3cgZGVwZW5kZW5jeSBoYXMgY2hhbmdlZCBzaW5jZSBsYXN0IGNvbXB1dGF0aW9uIGFuZCB0aGUgZGVyaXZhdGlvblxuICAvLyB3aWxsIG5lZWQgdG8gcmVjb21wdXRlIHdoZW4gaXQncyBuZWVkZWQgbmV4dC5cblxuICBJRGVyaXZhdGlvblN0YXRlX1tJRGVyaXZhdGlvblN0YXRlX1tcIlNUQUxFX1wiXSA9IDJdID0gXCJTVEFMRV9cIjtcbn0pKElEZXJpdmF0aW9uU3RhdGVfIHx8IChJRGVyaXZhdGlvblN0YXRlXyA9IHt9KSk7XG5cbnZhciBUcmFjZU1vZGU7XG5cbihmdW5jdGlvbiAoVHJhY2VNb2RlKSB7XG4gIFRyYWNlTW9kZVtUcmFjZU1vZGVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgVHJhY2VNb2RlW1RyYWNlTW9kZVtcIkxPR1wiXSA9IDFdID0gXCJMT0dcIjtcbiAgVHJhY2VNb2RlW1RyYWNlTW9kZVtcIkJSRUFLXCJdID0gMl0gPSBcIkJSRUFLXCI7XG59KShUcmFjZU1vZGUgfHwgKFRyYWNlTW9kZSA9IHt9KSk7XG5cbnZhciBDYXVnaHRFeGNlcHRpb24gPSBmdW5jdGlvbiBDYXVnaHRFeGNlcHRpb24oY2F1c2UpIHtcbiAgdGhpcy5jYXVzZSA9IHZvaWQgMDtcbiAgdGhpcy5jYXVzZSA9IGNhdXNlOyAvLyBFbXB0eVxufTtcbmZ1bmN0aW9uIGlzQ2F1Z2h0RXhjZXB0aW9uKGUpIHtcbiAgcmV0dXJuIGUgaW5zdGFuY2VvZiBDYXVnaHRFeGNlcHRpb247XG59XG4vKipcbiAqIEZpbmRzIG91dCB3aGV0aGVyIGFueSBkZXBlbmRlbmN5IG9mIHRoZSBkZXJpdmF0aW9uIGhhcyBhY3R1YWxseSBjaGFuZ2VkLlxuICogSWYgZGVwZW5kZW5jaWVzU3RhdGUgaXMgMSB0aGVuIGl0IHdpbGwgcmVjYWxjdWxhdGUgZGVwZW5kZW5jaWVzLFxuICogaWYgYW55IGRlcGVuZGVuY3kgY2hhbmdlZCBpdCB3aWxsIHByb3BhZ2F0ZSBpdCBieSBjaGFuZ2luZyBkZXBlbmRlbmNpZXNTdGF0ZSB0byAyLlxuICpcbiAqIEJ5IGl0ZXJhdGluZyBvdmVyIHRoZSBkZXBlbmRlbmNpZXMgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdCB0aGV5IHdlcmUgcmVwb3J0ZWQgYW5kXG4gKiBzdG9wcGluZyBvbiB0aGUgZmlyc3QgY2hhbmdlLCBhbGwgdGhlIHJlY2FsY3VsYXRpb25zIGFyZSBvbmx5IGNhbGxlZCBmb3IgQ29tcHV0ZWRWYWx1ZXNcbiAqIHRoYXQgd2lsbCBiZSB0cmFja2VkIGJ5IGRlcml2YXRpb24uIFRoYXQgaXMgYmVjYXVzZSB3ZSBhc3N1bWUgdGhhdCBpZiB0aGUgZmlyc3QgeFxuICogZGVwZW5kZW5jaWVzIG9mIHRoZSBkZXJpdmF0aW9uIGRvZXNuJ3QgY2hhbmdlIHRoZW4gdGhlIGRlcml2YXRpb24gc2hvdWxkIHJ1biB0aGUgc2FtZSB3YXlcbiAqIHVwIHVudGlsIGFjY2Vzc2luZyB4LXRoIGRlcGVuZGVuY3kuXG4gKi9cblxuZnVuY3Rpb24gc2hvdWxkQ29tcHV0ZShkZXJpdmF0aW9uKSB7XG4gIHN3aXRjaCAoZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZV8pIHtcbiAgICBjYXNlIElEZXJpdmF0aW9uU3RhdGVfLlVQX1RPX0RBVEVfOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgY2FzZSBJRGVyaXZhdGlvblN0YXRlXy5OT1RfVFJBQ0tJTkdfOlxuICAgIGNhc2UgSURlcml2YXRpb25TdGF0ZV8uU1RBTEVfOlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIElEZXJpdmF0aW9uU3RhdGVfLlBPU1NJQkxZX1NUQUxFXzpcbiAgICAgIHtcbiAgICAgICAgLy8gc3RhdGUgcHJvcGFnYXRpb24gY2FuIG9jY3VyIG91dHNpZGUgb2YgYWN0aW9uL3JlYWN0aXZlIGNvbnRleHQgIzIxOTVcbiAgICAgICAgdmFyIHByZXZBbGxvd1N0YXRlUmVhZHMgPSBhbGxvd1N0YXRlUmVhZHNTdGFydCh0cnVlKTtcbiAgICAgICAgdmFyIHByZXZVbnRyYWNrZWQgPSB1bnRyYWNrZWRTdGFydCgpOyAvLyBubyBuZWVkIGZvciB0aG9zZSBjb21wdXRlZHMgdG8gYmUgcmVwb3J0ZWQsIHRoZXkgd2lsbCBiZSBwaWNrZWQgdXAgaW4gdHJhY2tEZXJpdmVkRnVuY3Rpb24uXG5cbiAgICAgICAgdmFyIG9icyA9IGRlcml2YXRpb24ub2JzZXJ2aW5nXyxcbiAgICAgICAgICAgIGwgPSBvYnMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdmFyIG9iaiA9IG9ic1tpXTtcblxuICAgICAgICAgIGlmIChpc0NvbXB1dGVkVmFsdWUob2JqKSkge1xuICAgICAgICAgICAgaWYgKGdsb2JhbFN0YXRlLmRpc2FibGVFcnJvckJvdW5kYXJpZXMpIHtcbiAgICAgICAgICAgICAgb2JqLmdldCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvYmouZ2V0KCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgbm90IGludGVyZXN0ZWQgaW4gdGhlIHZhbHVlICpvciogZXhjZXB0aW9uIGF0IHRoaXMgbW9tZW50LCBidXQgaWYgdGhlcmUgaXMgb25lLCBub3RpZnkgYWxsXG4gICAgICAgICAgICAgICAgdW50cmFja2VkRW5kKHByZXZVbnRyYWNrZWQpO1xuICAgICAgICAgICAgICAgIGFsbG93U3RhdGVSZWFkc0VuZChwcmV2QWxsb3dTdGF0ZVJlYWRzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBpZiBDb21wdXRlZFZhbHVlIGBvYmpgIGFjdHVhbGx5IGNoYW5nZWQgaXQgd2lsbCBiZSBjb21wdXRlZCBhbmQgcHJvcGFnYXRlZCB0byBpdHMgb2JzZXJ2ZXJzLlxuICAgICAgICAgICAgLy8gYW5kIGBkZXJpdmF0aW9uYCBpcyBhbiBvYnNlcnZlciBvZiBgb2JqYFxuICAgICAgICAgICAgLy8gaW52YXJpYW50U2hvdWxkQ29tcHV0ZShkZXJpdmF0aW9uKVxuXG5cbiAgICAgICAgICAgIGlmIChkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlXyA9PT0gSURlcml2YXRpb25TdGF0ZV8uU1RBTEVfKSB7XG4gICAgICAgICAgICAgIHVudHJhY2tlZEVuZChwcmV2VW50cmFja2VkKTtcbiAgICAgICAgICAgICAgYWxsb3dTdGF0ZVJlYWRzRW5kKHByZXZBbGxvd1N0YXRlUmVhZHMpO1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjaGFuZ2VEZXBlbmRlbmNpZXNTdGF0ZVRvMChkZXJpdmF0aW9uKTtcbiAgICAgICAgdW50cmFja2VkRW5kKHByZXZVbnRyYWNrZWQpO1xuICAgICAgICBhbGxvd1N0YXRlUmVhZHNFbmQocHJldkFsbG93U3RhdGVSZWFkcyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaXNDb21wdXRpbmdEZXJpdmF0aW9uKCkge1xuICByZXR1cm4gZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uICE9PSBudWxsOyAvLyBmaWx0ZXIgb3V0IGFjdGlvbnMgaW5zaWRlIGNvbXB1dGF0aW9uc1xufVxuZnVuY3Rpb24gY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQoYXRvbSkge1xuICBpZiAoIShOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGhhc09ic2VydmVycyA9IGF0b20ub2JzZXJ2ZXJzXy5zaXplID4gMDsgLy8gU2hvdWxkIG5vdCBiZSBwb3NzaWJsZSB0byBjaGFuZ2Ugb2JzZXJ2ZWQgc3RhdGUgb3V0c2lkZSBzdHJpY3QgbW9kZSwgZXhjZXB0IGR1cmluZyBpbml0aWFsaXphdGlvbiwgc2VlICM1NjNcblxuICBpZiAoIWdsb2JhbFN0YXRlLmFsbG93U3RhdGVDaGFuZ2VzICYmIChoYXNPYnNlcnZlcnMgfHwgZ2xvYmFsU3RhdGUuZW5mb3JjZUFjdGlvbnMgPT09IFwiYWx3YXlzXCIpKSBjb25zb2xlLndhcm4oXCJbTW9iWF0gXCIgKyAoZ2xvYmFsU3RhdGUuZW5mb3JjZUFjdGlvbnMgPyBcIlNpbmNlIHN0cmljdC1tb2RlIGlzIGVuYWJsZWQsIGNoYW5naW5nIChvYnNlcnZlZCkgb2JzZXJ2YWJsZSB2YWx1ZXMgd2l0aG91dCB1c2luZyBhbiBhY3Rpb24gaXMgbm90IGFsbG93ZWQuIFRyaWVkIHRvIG1vZGlmeTogXCIgOiBcIlNpZGUgZWZmZWN0cyBsaWtlIGNoYW5naW5nIHN0YXRlIGFyZSBub3QgYWxsb3dlZCBhdCB0aGlzIHBvaW50LiBBcmUgeW91IHRyeWluZyB0byBtb2RpZnkgc3RhdGUgZnJvbSwgZm9yIGV4YW1wbGUsIGEgY29tcHV0ZWQgdmFsdWUgb3IgdGhlIHJlbmRlciBmdW5jdGlvbiBvZiBhIFJlYWN0IGNvbXBvbmVudD8gWW91IGNhbiB3cmFwIHNpZGUgZWZmZWN0cyBpbiAncnVuSW5BY3Rpb24nIChvciBkZWNvcmF0ZSBmdW5jdGlvbnMgd2l0aCAnYWN0aW9uJykgaWYgbmVlZGVkLiBUcmllZCB0byBtb2RpZnk6IFwiKSArIGF0b20ubmFtZV8pO1xufVxuZnVuY3Rpb24gY2hlY2tJZlN0YXRlUmVhZHNBcmVBbGxvd2VkKG9ic2VydmFibGUpIHtcbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZVJlYWRzICYmIGdsb2JhbFN0YXRlLm9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uKSB7XG4gICAgY29uc29sZS53YXJuKFwiW21vYnhdIE9ic2VydmFibGUgXCIgKyBvYnNlcnZhYmxlLm5hbWVfICsgXCIgYmVpbmcgcmVhZCBvdXRzaWRlIGEgcmVhY3RpdmUgY29udGV4dFwiKTtcbiAgfVxufVxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgZnVuY3Rpb24gYGZgIGFuZCB0cmFja3Mgd2hpY2ggb2JzZXJ2YWJsZXMgYXJlIGJlaW5nIGFjY2Vzc2VkLlxuICogVGhlIHRyYWNraW5nIGluZm9ybWF0aW9uIGlzIHN0b3JlZCBvbiB0aGUgYGRlcml2YXRpb25gIG9iamVjdCBhbmQgdGhlIGRlcml2YXRpb24gaXMgcmVnaXN0ZXJlZFxuICogYXMgb2JzZXJ2ZXIgb2YgYW55IG9mIHRoZSBhY2Nlc3NlZCBvYnNlcnZhYmxlcy5cbiAqL1xuXG5mdW5jdGlvbiB0cmFja0Rlcml2ZWRGdW5jdGlvbihkZXJpdmF0aW9uLCBmLCBjb250ZXh0KSB7XG4gIHZhciBwcmV2QWxsb3dTdGF0ZVJlYWRzID0gYWxsb3dTdGF0ZVJlYWRzU3RhcnQodHJ1ZSk7IC8vIHByZSBhbGxvY2F0ZSBhcnJheSBhbGxvY2F0aW9uICsgcm9vbSBmb3IgdmFyaWF0aW9uIGluIGRlcHNcbiAgLy8gYXJyYXkgd2lsbCBiZSB0cmltbWVkIGJ5IGJpbmREZXBlbmRlbmNpZXNcblxuICBjaGFuZ2VEZXBlbmRlbmNpZXNTdGF0ZVRvMChkZXJpdmF0aW9uKTtcbiAgZGVyaXZhdGlvbi5uZXdPYnNlcnZpbmdfID0gbmV3IEFycmF5KGRlcml2YXRpb24ub2JzZXJ2aW5nXy5sZW5ndGggKyAxMDApO1xuICBkZXJpdmF0aW9uLnVuYm91bmREZXBzQ291bnRfID0gMDtcbiAgZGVyaXZhdGlvbi5ydW5JZF8gPSArK2dsb2JhbFN0YXRlLnJ1bklkO1xuICB2YXIgcHJldlRyYWNraW5nID0gZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uO1xuICBnbG9iYWxTdGF0ZS50cmFja2luZ0Rlcml2YXRpb24gPSBkZXJpdmF0aW9uO1xuICBnbG9iYWxTdGF0ZS5pbkJhdGNoKys7XG4gIHZhciByZXN1bHQ7XG5cbiAgaWYgKGdsb2JhbFN0YXRlLmRpc2FibGVFcnJvckJvdW5kYXJpZXMgPT09IHRydWUpIHtcbiAgICByZXN1bHQgPSBmLmNhbGwoY29udGV4dCk7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGYuY2FsbChjb250ZXh0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXN1bHQgPSBuZXcgQ2F1Z2h0RXhjZXB0aW9uKGUpO1xuICAgIH1cbiAgfVxuXG4gIGdsb2JhbFN0YXRlLmluQmF0Y2gtLTtcbiAgZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uID0gcHJldlRyYWNraW5nO1xuICBiaW5kRGVwZW5kZW5jaWVzKGRlcml2YXRpb24pO1xuICB3YXJuQWJvdXREZXJpdmF0aW9uV2l0aG91dERlcGVuZGVuY2llcyhkZXJpdmF0aW9uKTtcbiAgYWxsb3dTdGF0ZVJlYWRzRW5kKHByZXZBbGxvd1N0YXRlUmVhZHMpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB3YXJuQWJvdXREZXJpdmF0aW9uV2l0aG91dERlcGVuZGVuY2llcyhkZXJpdmF0aW9uKSB7XG4gIGlmICghKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHJldHVybjtcbiAgaWYgKGRlcml2YXRpb24ub2JzZXJ2aW5nXy5sZW5ndGggIT09IDApIHJldHVybjtcblxuICBpZiAoZ2xvYmFsU3RhdGUucmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGUgfHwgZGVyaXZhdGlvbi5yZXF1aXJlc09ic2VydmFibGVfKSB7XG4gICAgY29uc29sZS53YXJuKFwiW21vYnhdIERlcml2YXRpb24gXCIgKyBkZXJpdmF0aW9uLm5hbWVfICsgXCIgaXMgY3JlYXRlZC91cGRhdGVkIHdpdGhvdXQgcmVhZGluZyBhbnkgb2JzZXJ2YWJsZSB2YWx1ZVwiKTtcbiAgfVxufVxuLyoqXG4gKiBkaWZmcyBuZXdPYnNlcnZpbmcgd2l0aCBvYnNlcnZpbmcuXG4gKiB1cGRhdGUgb2JzZXJ2aW5nIHRvIGJlIG5ld09ic2VydmluZyB3aXRoIHVuaXF1ZSBvYnNlcnZhYmxlc1xuICogbm90aWZ5IG9ic2VydmVycyB0aGF0IGJlY29tZSBvYnNlcnZlZC91bm9ic2VydmVkXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kRGVwZW5kZW5jaWVzKGRlcml2YXRpb24pIHtcbiAgLy8gaW52YXJpYW50KGRlcml2YXRpb24uZGVwZW5kZW5jaWVzU3RhdGUgIT09IElEZXJpdmF0aW9uU3RhdGUuTk9UX1RSQUNLSU5HLCBcIklOVEVSTkFMIEVSUk9SIGJpbmREZXBlbmRlbmNpZXMgZXhwZWN0cyBkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlICE9PSAtMVwiKTtcbiAgdmFyIHByZXZPYnNlcnZpbmcgPSBkZXJpdmF0aW9uLm9ic2VydmluZ187XG4gIHZhciBvYnNlcnZpbmcgPSBkZXJpdmF0aW9uLm9ic2VydmluZ18gPSBkZXJpdmF0aW9uLm5ld09ic2VydmluZ187XG4gIHZhciBsb3dlc3ROZXdPYnNlcnZpbmdEZXJpdmF0aW9uU3RhdGUgPSBJRGVyaXZhdGlvblN0YXRlXy5VUF9UT19EQVRFXzsgLy8gR28gdGhyb3VnaCBhbGwgbmV3IG9ic2VydmFibGVzIGFuZCBjaGVjayBkaWZmVmFsdWU6ICh0aGlzIGxpc3QgY2FuIGNvbnRhaW4gZHVwbGljYXRlcyk6XG4gIC8vICAgMDogZmlyc3Qgb2NjdXJyZW5jZSwgY2hhbmdlIHRvIDEgYW5kIGtlZXAgaXRcbiAgLy8gICAxOiBleHRyYSBvY2N1cnJlbmNlLCBkcm9wIGl0XG5cbiAgdmFyIGkwID0gMCxcbiAgICAgIGwgPSBkZXJpdmF0aW9uLnVuYm91bmREZXBzQ291bnRfO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGRlcCA9IG9ic2VydmluZ1tpXTtcblxuICAgIGlmIChkZXAuZGlmZlZhbHVlXyA9PT0gMCkge1xuICAgICAgZGVwLmRpZmZWYWx1ZV8gPSAxO1xuICAgICAgaWYgKGkwICE9PSBpKSBvYnNlcnZpbmdbaTBdID0gZGVwO1xuICAgICAgaTArKztcbiAgICB9IC8vIFVwY2FzdCBpcyAnc2FmZScgaGVyZSwgYmVjYXVzZSBpZiBkZXAgaXMgSU9ic2VydmFibGUsIGBkZXBlbmRlbmNpZXNTdGF0ZWAgd2lsbCBiZSB1bmRlZmluZWQsXG4gICAgLy8gbm90IGhpdHRpbmcgdGhlIGNvbmRpdGlvblxuXG5cbiAgICBpZiAoZGVwLmRlcGVuZGVuY2llc1N0YXRlXyA+IGxvd2VzdE5ld09ic2VydmluZ0Rlcml2YXRpb25TdGF0ZSkge1xuICAgICAgbG93ZXN0TmV3T2JzZXJ2aW5nRGVyaXZhdGlvblN0YXRlID0gZGVwLmRlcGVuZGVuY2llc1N0YXRlXztcbiAgICB9XG4gIH1cblxuICBvYnNlcnZpbmcubGVuZ3RoID0gaTA7XG4gIGRlcml2YXRpb24ubmV3T2JzZXJ2aW5nXyA9IG51bGw7IC8vIG5ld09ic2VydmluZyBzaG91bGRuJ3QgYmUgbmVlZGVkIG91dHNpZGUgdHJhY2tpbmcgKHN0YXRlbWVudCBtb3ZlZCBkb3duIHRvIHdvcmsgYXJvdW5kIEZGIGJ1Zywgc2VlICM2MTQpXG4gIC8vIEdvIHRocm91Z2ggYWxsIG9sZCBvYnNlcnZhYmxlcyBhbmQgY2hlY2sgZGlmZlZhbHVlOiAoaXQgaXMgdW5pcXVlIGFmdGVyIGxhc3QgYmluZERlcGVuZGVuY2llcylcbiAgLy8gICAwOiBpdCdzIG5vdCBpbiBuZXcgb2JzZXJ2YWJsZXMsIHVub2JzZXJ2ZSBpdFxuICAvLyAgIDE6IGl0IGtlZXBzIGJlaW5nIG9ic2VydmVkLCBkb24ndCB3YW50IHRvIG5vdGlmeSBpdC4gY2hhbmdlIHRvIDBcblxuICBsID0gcHJldk9ic2VydmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKGwtLSkge1xuICAgIHZhciBfZGVwID0gcHJldk9ic2VydmluZ1tsXTtcblxuICAgIGlmIChfZGVwLmRpZmZWYWx1ZV8gPT09IDApIHtcbiAgICAgIHJlbW92ZU9ic2VydmVyKF9kZXAsIGRlcml2YXRpb24pO1xuICAgIH1cblxuICAgIF9kZXAuZGlmZlZhbHVlXyA9IDA7XG4gIH0gLy8gR28gdGhyb3VnaCBhbGwgbmV3IG9ic2VydmFibGVzIGFuZCBjaGVjayBkaWZmVmFsdWU6IChub3cgaXQgc2hvdWxkIGJlIHVuaXF1ZSlcbiAgLy8gICAwOiBpdCB3YXMgc2V0IHRvIDAgaW4gbGFzdCBsb29wLiBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nLlxuICAvLyAgIDE6IGl0IHdhc24ndCBvYnNlcnZlZCwgbGV0J3Mgb2JzZXJ2ZSBpdC4gc2V0IGJhY2sgdG8gMFxuXG5cbiAgd2hpbGUgKGkwLS0pIHtcbiAgICB2YXIgX2RlcDIgPSBvYnNlcnZpbmdbaTBdO1xuXG4gICAgaWYgKF9kZXAyLmRpZmZWYWx1ZV8gPT09IDEpIHtcbiAgICAgIF9kZXAyLmRpZmZWYWx1ZV8gPSAwO1xuICAgICAgYWRkT2JzZXJ2ZXIoX2RlcDIsIGRlcml2YXRpb24pO1xuICAgIH1cbiAgfSAvLyBTb21lIG5ldyBvYnNlcnZlZCBkZXJpdmF0aW9ucyBtYXkgYmVjb21lIHN0YWxlIGR1cmluZyB0aGlzIGRlcml2YXRpb24gY29tcHV0YXRpb25cbiAgLy8gc28gdGhleSBoYXZlIGhhZCBubyBjaGFuY2UgdG8gcHJvcGFnYXRlIHN0YWxlbmVzcyAoIzkxNilcblxuXG4gIGlmIChsb3dlc3ROZXdPYnNlcnZpbmdEZXJpdmF0aW9uU3RhdGUgIT09IElEZXJpdmF0aW9uU3RhdGVfLlVQX1RPX0RBVEVfKSB7XG4gICAgZGVyaXZhdGlvbi5kZXBlbmRlbmNpZXNTdGF0ZV8gPSBsb3dlc3ROZXdPYnNlcnZpbmdEZXJpdmF0aW9uU3RhdGU7XG4gICAgZGVyaXZhdGlvbi5vbkJlY29tZVN0YWxlXygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyT2JzZXJ2aW5nKGRlcml2YXRpb24pIHtcbiAgLy8gaW52YXJpYW50KGdsb2JhbFN0YXRlLmluQmF0Y2ggPiAwLCBcIklOVEVSTkFMIEVSUk9SIGNsZWFyT2JzZXJ2aW5nIHNob3VsZCBiZSBjYWxsZWQgb25seSBpbnNpZGUgYmF0Y2hcIik7XG4gIHZhciBvYnMgPSBkZXJpdmF0aW9uLm9ic2VydmluZ187XG4gIGRlcml2YXRpb24ub2JzZXJ2aW5nXyA9IFtdO1xuICB2YXIgaSA9IG9icy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHJlbW92ZU9ic2VydmVyKG9ic1tpXSwgZGVyaXZhdGlvbik7XG4gIH1cblxuICBkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlXyA9IElEZXJpdmF0aW9uU3RhdGVfLk5PVF9UUkFDS0lOR187XG59XG5mdW5jdGlvbiB1bnRyYWNrZWQoYWN0aW9uKSB7XG4gIHZhciBwcmV2ID0gdW50cmFja2VkU3RhcnQoKTtcblxuICB0cnkge1xuICAgIHJldHVybiBhY3Rpb24oKTtcbiAgfSBmaW5hbGx5IHtcbiAgICB1bnRyYWNrZWRFbmQocHJldik7XG4gIH1cbn1cbmZ1bmN0aW9uIHVudHJhY2tlZFN0YXJ0KCkge1xuICB2YXIgcHJldiA9IGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbjtcbiAgZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uID0gbnVsbDtcbiAgcmV0dXJuIHByZXY7XG59XG5mdW5jdGlvbiB1bnRyYWNrZWRFbmQocHJldikge1xuICBnbG9iYWxTdGF0ZS50cmFja2luZ0Rlcml2YXRpb24gPSBwcmV2O1xufVxuZnVuY3Rpb24gYWxsb3dTdGF0ZVJlYWRzU3RhcnQoYWxsb3dTdGF0ZVJlYWRzKSB7XG4gIHZhciBwcmV2ID0gZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZVJlYWRzO1xuICBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlUmVhZHMgPSBhbGxvd1N0YXRlUmVhZHM7XG4gIHJldHVybiBwcmV2O1xufVxuZnVuY3Rpb24gYWxsb3dTdGF0ZVJlYWRzRW5kKHByZXYpIHtcbiAgZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZVJlYWRzID0gcHJldjtcbn1cbi8qKlxuICogbmVlZGVkIHRvIGtlZXAgYGxvd2VzdE9ic2VydmVyU3RhdGVgIGNvcnJlY3QuIHdoZW4gY2hhbmdpbmcgZnJvbSAoMiBvciAxKSB0byAwXG4gKlxuICovXG5cbmZ1bmN0aW9uIGNoYW5nZURlcGVuZGVuY2llc1N0YXRlVG8wKGRlcml2YXRpb24pIHtcbiAgaWYgKGRlcml2YXRpb24uZGVwZW5kZW5jaWVzU3RhdGVfID09PSBJRGVyaXZhdGlvblN0YXRlXy5VUF9UT19EQVRFXykgcmV0dXJuO1xuICBkZXJpdmF0aW9uLmRlcGVuZGVuY2llc1N0YXRlXyA9IElEZXJpdmF0aW9uU3RhdGVfLlVQX1RPX0RBVEVfO1xuICB2YXIgb2JzID0gZGVyaXZhdGlvbi5vYnNlcnZpbmdfO1xuICB2YXIgaSA9IG9icy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIG9ic1tpXS5sb3dlc3RPYnNlcnZlclN0YXRlXyA9IElEZXJpdmF0aW9uU3RhdGVfLlVQX1RPX0RBVEVfO1xuICB9XG59XG5cbi8qKlxuICogVGhlc2UgdmFsdWVzIHdpbGwgcGVyc2lzdCBpZiBnbG9iYWwgc3RhdGUgaXMgcmVzZXRcbiAqL1xuXG52YXIgcGVyc2lzdGVudEtleXMgPSBbXCJtb2J4R3VpZFwiLCBcInNweUxpc3RlbmVyc1wiLCBcImVuZm9yY2VBY3Rpb25zXCIsIFwiY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uXCIsIFwicmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGVcIiwgXCJvYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvblwiLCBcImFsbG93U3RhdGVSZWFkc1wiLCBcImRpc2FibGVFcnJvckJvdW5kYXJpZXNcIiwgXCJydW5JZFwiLCBcIlVOQ0hBTkdFRFwiLCBcInVzZVByb3hpZXNcIl07XG52YXIgTW9iWEdsb2JhbHMgPSBmdW5jdGlvbiBNb2JYR2xvYmFscygpIHtcbiAgdGhpcy52ZXJzaW9uID0gNjtcbiAgdGhpcy5VTkNIQU5HRUQgPSB7fTtcbiAgdGhpcy50cmFja2luZ0Rlcml2YXRpb24gPSBudWxsO1xuICB0aGlzLnRyYWNraW5nQ29udGV4dCA9IG51bGw7XG4gIHRoaXMucnVuSWQgPSAwO1xuICB0aGlzLm1vYnhHdWlkID0gMDtcbiAgdGhpcy5pbkJhdGNoID0gMDtcbiAgdGhpcy5wZW5kaW5nVW5vYnNlcnZhdGlvbnMgPSBbXTtcbiAgdGhpcy5wZW5kaW5nUmVhY3Rpb25zID0gW107XG4gIHRoaXMuaXNSdW5uaW5nUmVhY3Rpb25zID0gZmFsc2U7XG4gIHRoaXMuYWxsb3dTdGF0ZUNoYW5nZXMgPSBmYWxzZTtcbiAgdGhpcy5hbGxvd1N0YXRlUmVhZHMgPSB0cnVlO1xuICB0aGlzLmVuZm9yY2VBY3Rpb25zID0gdHJ1ZTtcbiAgdGhpcy5zcHlMaXN0ZW5lcnMgPSBbXTtcbiAgdGhpcy5nbG9iYWxSZWFjdGlvbkVycm9ySGFuZGxlcnMgPSBbXTtcbiAgdGhpcy5jb21wdXRlZFJlcXVpcmVzUmVhY3Rpb24gPSBmYWxzZTtcbiAgdGhpcy5yZWFjdGlvblJlcXVpcmVzT2JzZXJ2YWJsZSA9IGZhbHNlO1xuICB0aGlzLm9ic2VydmFibGVSZXF1aXJlc1JlYWN0aW9uID0gZmFsc2U7XG4gIHRoaXMuZGlzYWJsZUVycm9yQm91bmRhcmllcyA9IGZhbHNlO1xuICB0aGlzLnN1cHByZXNzUmVhY3Rpb25FcnJvcnMgPSBmYWxzZTtcbiAgdGhpcy51c2VQcm94aWVzID0gdHJ1ZTtcbiAgdGhpcy52ZXJpZnlQcm94aWVzID0gZmFsc2U7XG4gIHRoaXMuc2FmZURlc2NyaXB0b3JzID0gdHJ1ZTtcbn07XG52YXIgY2FuTWVyZ2VHbG9iYWxTdGF0ZSA9IHRydWU7XG52YXIgaXNvbGF0ZUNhbGxlZCA9IGZhbHNlO1xudmFyIGdsb2JhbFN0YXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIGdsb2JhbCA9IC8qI19fUFVSRV9fKi9nZXRHbG9iYWwoKTtcbiAgaWYgKGdsb2JhbC5fX21vYnhJbnN0YW5jZUNvdW50ID4gMCAmJiAhZ2xvYmFsLl9fbW9ieEdsb2JhbHMpIGNhbk1lcmdlR2xvYmFsU3RhdGUgPSBmYWxzZTtcbiAgaWYgKGdsb2JhbC5fX21vYnhHbG9iYWxzICYmIGdsb2JhbC5fX21vYnhHbG9iYWxzLnZlcnNpb24gIT09IG5ldyBNb2JYR2xvYmFscygpLnZlcnNpb24pIGNhbk1lcmdlR2xvYmFsU3RhdGUgPSBmYWxzZTtcblxuICBpZiAoIWNhbk1lcmdlR2xvYmFsU3RhdGUpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaXNvbGF0ZUNhbGxlZCkge1xuICAgICAgICBkaWUoMzUpO1xuICAgICAgfVxuICAgIH0sIDEpO1xuICAgIHJldHVybiBuZXcgTW9iWEdsb2JhbHMoKTtcbiAgfSBlbHNlIGlmIChnbG9iYWwuX19tb2J4R2xvYmFscykge1xuICAgIGdsb2JhbC5fX21vYnhJbnN0YW5jZUNvdW50ICs9IDE7XG4gICAgaWYgKCFnbG9iYWwuX19tb2J4R2xvYmFscy5VTkNIQU5HRUQpIGdsb2JhbC5fX21vYnhHbG9iYWxzLlVOQ0hBTkdFRCA9IHt9OyAvLyBtYWtlIG1lcmdlIGJhY2t3YXJkIGNvbXBhdGlibGVcblxuICAgIHJldHVybiBnbG9iYWwuX19tb2J4R2xvYmFscztcbiAgfSBlbHNlIHtcbiAgICBnbG9iYWwuX19tb2J4SW5zdGFuY2VDb3VudCA9IDE7XG4gICAgcmV0dXJuIGdsb2JhbC5fX21vYnhHbG9iYWxzID0gLyojX19QVVJFX18qL25ldyBNb2JYR2xvYmFscygpO1xuICB9XG59KCk7XG5mdW5jdGlvbiBpc29sYXRlR2xvYmFsU3RhdGUoKSB7XG4gIGlmIChnbG9iYWxTdGF0ZS5wZW5kaW5nUmVhY3Rpb25zLmxlbmd0aCB8fCBnbG9iYWxTdGF0ZS5pbkJhdGNoIHx8IGdsb2JhbFN0YXRlLmlzUnVubmluZ1JlYWN0aW9ucykgZGllKDM2KTtcbiAgaXNvbGF0ZUNhbGxlZCA9IHRydWU7XG5cbiAgaWYgKGNhbk1lcmdlR2xvYmFsU3RhdGUpIHtcbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsKCk7XG4gICAgaWYgKC0tZ2xvYmFsLl9fbW9ieEluc3RhbmNlQ291bnQgPT09IDApIGdsb2JhbC5fX21vYnhHbG9iYWxzID0gdW5kZWZpbmVkO1xuICAgIGdsb2JhbFN0YXRlID0gbmV3IE1vYlhHbG9iYWxzKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEdsb2JhbFN0YXRlKCkge1xuICByZXR1cm4gZ2xvYmFsU3RhdGU7XG59XG4vKipcbiAqIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHk7IHRoaXMgd2lsbCBicmVhayB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgZXhpc3Rpbmcgb2JzZXJ2YWJsZXMsXG4gKiBidXQgY2FuIGJlIHVzZWQgdG8gZ2V0IGJhY2sgYXQgYSBzdGFibGUgc3RhdGUgYWZ0ZXIgdGhyb3dpbmcgZXJyb3JzXG4gKi9cblxuZnVuY3Rpb24gcmVzZXRHbG9iYWxTdGF0ZSgpIHtcbiAgdmFyIGRlZmF1bHRHbG9iYWxzID0gbmV3IE1vYlhHbG9iYWxzKCk7XG5cbiAgZm9yICh2YXIga2V5IGluIGRlZmF1bHRHbG9iYWxzKSB7XG4gICAgaWYgKHBlcnNpc3RlbnRLZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIGdsb2JhbFN0YXRlW2tleV0gPSBkZWZhdWx0R2xvYmFsc1trZXldO1xuICB9XG5cbiAgZ2xvYmFsU3RhdGUuYWxsb3dTdGF0ZUNoYW5nZXMgPSAhZ2xvYmFsU3RhdGUuZW5mb3JjZUFjdGlvbnM7XG59XG5cbmZ1bmN0aW9uIGhhc09ic2VydmVycyhvYnNlcnZhYmxlKSB7XG4gIHJldHVybiBvYnNlcnZhYmxlLm9ic2VydmVyc18gJiYgb2JzZXJ2YWJsZS5vYnNlcnZlcnNfLnNpemUgPiAwO1xufVxuZnVuY3Rpb24gZ2V0T2JzZXJ2ZXJzKG9ic2VydmFibGUpIHtcbiAgcmV0dXJuIG9ic2VydmFibGUub2JzZXJ2ZXJzXztcbn0gLy8gZnVuY3Rpb24gaW52YXJpYW50T2JzZXJ2ZXJzKG9ic2VydmFibGU6IElPYnNlcnZhYmxlKSB7XG4vLyAgICAgY29uc3QgbGlzdCA9IG9ic2VydmFibGUub2JzZXJ2ZXJzXG4vLyAgICAgY29uc3QgbWFwID0gb2JzZXJ2YWJsZS5vYnNlcnZlcnNJbmRleGVzXG4vLyAgICAgY29uc3QgbCA9IGxpc3QubGVuZ3RoXG4vLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbi8vICAgICAgICAgY29uc3QgaWQgPSBsaXN0W2ldLl9fbWFwaWRcbi8vICAgICAgICAgaWYgKGkpIHtcbi8vICAgICAgICAgICAgIGludmFyaWFudChtYXBbaWRdID09PSBpLCBcIklOVEVSTkFMIEVSUk9SIG1hcHMgZGVyaXZhdGlvbi5fX21hcGlkIHRvIGluZGV4IGluIGxpc3RcIikgLy8gZm9yIHBlcmZvcm1hbmNlXG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICBpbnZhcmlhbnQoIShpZCBpbiBtYXApLCBcIklOVEVSTkFMIEVSUk9SIG9ic2VydmVyIG9uIGluZGV4IDAgc2hvdWxkbid0IGJlIGhlbGQgaW4gbWFwLlwiKSAvLyBmb3IgcGVyZm9ybWFuY2Vcbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vICAgICBpbnZhcmlhbnQoXG4vLyAgICAgICAgIGxpc3QubGVuZ3RoID09PSAwIHx8IE9iamVjdC5rZXlzKG1hcCkubGVuZ3RoID09PSBsaXN0Lmxlbmd0aCAtIDEsXG4vLyAgICAgICAgIFwiSU5URVJOQUwgRVJST1IgdGhlcmUgaXMgbm8ganVuayBpbiBtYXBcIlxuLy8gICAgIClcbi8vIH1cblxuZnVuY3Rpb24gYWRkT2JzZXJ2ZXIob2JzZXJ2YWJsZSwgbm9kZSkge1xuICAvLyBpbnZhcmlhbnQobm9kZS5kZXBlbmRlbmNpZXNTdGF0ZSAhPT0gLTEsIFwiSU5URVJOQUwgRVJST1IsIGNhbiBhZGQgb25seSBkZXBlbmRlbmNpZXNTdGF0ZSAhPT0gLTFcIik7XG4gIC8vIGludmFyaWFudChvYnNlcnZhYmxlLl9vYnNlcnZlcnMuaW5kZXhPZihub2RlKSA9PT0gLTEsIFwiSU5URVJOQUwgRVJST1IgYWRkIGFscmVhZHkgYWRkZWQgbm9kZVwiKTtcbiAgLy8gaW52YXJpYW50T2JzZXJ2ZXJzKG9ic2VydmFibGUpO1xuICBvYnNlcnZhYmxlLm9ic2VydmVyc18uYWRkKG5vZGUpO1xuICBpZiAob2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlXyA+IG5vZGUuZGVwZW5kZW5jaWVzU3RhdGVfKSBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGVfID0gbm9kZS5kZXBlbmRlbmNpZXNTdGF0ZV87IC8vIGludmFyaWFudE9ic2VydmVycyhvYnNlcnZhYmxlKTtcbiAgLy8gaW52YXJpYW50KG9ic2VydmFibGUuX29ic2VydmVycy5pbmRleE9mKG5vZGUpICE9PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiBkaWRuJ3QgYWRkIG5vZGVcIik7XG59XG5mdW5jdGlvbiByZW1vdmVPYnNlcnZlcihvYnNlcnZhYmxlLCBub2RlKSB7XG4gIC8vIGludmFyaWFudChnbG9iYWxTdGF0ZS5pbkJhdGNoID4gMCwgXCJJTlRFUk5BTCBFUlJPUiwgcmVtb3ZlIHNob3VsZCBiZSBjYWxsZWQgb25seSBpbnNpZGUgYmF0Y2hcIik7XG4gIC8vIGludmFyaWFudChvYnNlcnZhYmxlLl9vYnNlcnZlcnMuaW5kZXhPZihub2RlKSAhPT0gLTEsIFwiSU5URVJOQUwgRVJST1IgcmVtb3ZlIGFscmVhZHkgcmVtb3ZlZCBub2RlXCIpO1xuICAvLyBpbnZhcmlhbnRPYnNlcnZlcnMob2JzZXJ2YWJsZSk7XG4gIG9ic2VydmFibGUub2JzZXJ2ZXJzX1tcImRlbGV0ZVwiXShub2RlKTtcblxuICBpZiAob2JzZXJ2YWJsZS5vYnNlcnZlcnNfLnNpemUgPT09IDApIHtcbiAgICAvLyBkZWxldGluZyBsYXN0IG9ic2VydmVyXG4gICAgcXVldWVGb3JVbm9ic2VydmF0aW9uKG9ic2VydmFibGUpO1xuICB9IC8vIGludmFyaWFudE9ic2VydmVycyhvYnNlcnZhYmxlKTtcbiAgLy8gaW52YXJpYW50KG9ic2VydmFibGUuX29ic2VydmVycy5pbmRleE9mKG5vZGUpID09PSAtMSwgXCJJTlRFUk5BTCBFUlJPUiByZW1vdmUgYWxyZWFkeSByZW1vdmVkIG5vZGUyXCIpO1xuXG59XG5mdW5jdGlvbiBxdWV1ZUZvclVub2JzZXJ2YXRpb24ob2JzZXJ2YWJsZSkge1xuICBpZiAob2JzZXJ2YWJsZS5pc1BlbmRpbmdVbm9ic2VydmF0aW9uXyA9PT0gZmFsc2UpIHtcbiAgICAvLyBpbnZhcmlhbnQob2JzZXJ2YWJsZS5fb2JzZXJ2ZXJzLmxlbmd0aCA9PT0gMCwgXCJJTlRFUk5BTCBFUlJPUiwgc2hvdWxkIG9ubHkgcXVldWUgZm9yIHVub2JzZXJ2YXRpb24gdW5vYnNlcnZlZCBvYnNlcnZhYmxlc1wiKTtcbiAgICBvYnNlcnZhYmxlLmlzUGVuZGluZ1Vub2JzZXJ2YXRpb25fID0gdHJ1ZTtcbiAgICBnbG9iYWxTdGF0ZS5wZW5kaW5nVW5vYnNlcnZhdGlvbnMucHVzaChvYnNlcnZhYmxlKTtcbiAgfVxufVxuLyoqXG4gKiBCYXRjaCBzdGFydHMgYSB0cmFuc2FjdGlvbiwgYXQgbGVhc3QgZm9yIHB1cnBvc2VzIG9mIG1lbW9pemluZyBDb21wdXRlZFZhbHVlcyB3aGVuIG5vdGhpbmcgZWxzZSBkb2VzLlxuICogRHVyaW5nIGEgYmF0Y2ggYG9uQmVjb21lVW5vYnNlcnZlZGAgd2lsbCBiZSBjYWxsZWQgYXQgbW9zdCBvbmNlIHBlciBvYnNlcnZhYmxlLlxuICogQXZvaWRzIHVubmVjZXNzYXJ5IHJlY2FsY3VsYXRpb25zLlxuICovXG5cbmZ1bmN0aW9uIHN0YXJ0QmF0Y2goKSB7XG4gIGdsb2JhbFN0YXRlLmluQmF0Y2grKztcbn1cbmZ1bmN0aW9uIGVuZEJhdGNoKCkge1xuICBpZiAoLS1nbG9iYWxTdGF0ZS5pbkJhdGNoID09PSAwKSB7XG4gICAgcnVuUmVhY3Rpb25zKCk7IC8vIHRoZSBiYXRjaCBpcyBhY3R1YWxseSBhYm91dCB0byBmaW5pc2gsIGFsbCB1bm9ic2VydmluZyBzaG91bGQgaGFwcGVuIGhlcmUuXG5cbiAgICB2YXIgbGlzdCA9IGdsb2JhbFN0YXRlLnBlbmRpbmdVbm9ic2VydmF0aW9ucztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG9ic2VydmFibGUgPSBsaXN0W2ldO1xuICAgICAgb2JzZXJ2YWJsZS5pc1BlbmRpbmdVbm9ic2VydmF0aW9uXyA9IGZhbHNlO1xuXG4gICAgICBpZiAob2JzZXJ2YWJsZS5vYnNlcnZlcnNfLnNpemUgPT09IDApIHtcbiAgICAgICAgaWYgKG9ic2VydmFibGUuaXNCZWluZ09ic2VydmVkXykge1xuICAgICAgICAgIC8vIGlmIHRoaXMgb2JzZXJ2YWJsZSBoYWQgcmVhY3RpdmUgb2JzZXJ2ZXJzLCB0cmlnZ2VyIHRoZSBob29rc1xuICAgICAgICAgIG9ic2VydmFibGUuaXNCZWluZ09ic2VydmVkXyA9IGZhbHNlO1xuICAgICAgICAgIG9ic2VydmFibGUub25CVU8oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvYnNlcnZhYmxlIGluc3RhbmNlb2YgQ29tcHV0ZWRWYWx1ZSkge1xuICAgICAgICAgIC8vIGNvbXB1dGVkIHZhbHVlcyBhcmUgYXV0b21hdGljYWxseSB0ZWFyZWQgZG93biB3aGVuIHRoZSBsYXN0IG9ic2VydmVyIGxlYXZlc1xuICAgICAgICAgIC8vIHRoaXMgd2luZG93LnByb2Nlc3MgaGFwcGVucyByZWN1cnNpdmVseSwgdGhpcyBjb21wdXRlZCBtaWdodCBiZSB0aGUgbGFzdCBvYnNlcnZhYmUgb2YgYW5vdGhlciwgZXRjLi5cbiAgICAgICAgICBvYnNlcnZhYmxlLnN1c3BlbmRfKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBnbG9iYWxTdGF0ZS5wZW5kaW5nVW5vYnNlcnZhdGlvbnMgPSBbXTtcbiAgfVxufVxuZnVuY3Rpb24gcmVwb3J0T2JzZXJ2ZWQob2JzZXJ2YWJsZSkge1xuICBjaGVja0lmU3RhdGVSZWFkc0FyZUFsbG93ZWQob2JzZXJ2YWJsZSk7XG4gIHZhciBkZXJpdmF0aW9uID0gZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uO1xuXG4gIGlmIChkZXJpdmF0aW9uICE9PSBudWxsKSB7XG4gICAgLyoqXG4gICAgICogU2ltcGxlIG9wdGltaXphdGlvbiwgZ2l2ZSBlYWNoIGRlcml2YXRpb24gcnVuIGFuIHVuaXF1ZSBpZCAocnVuSWQpXG4gICAgICogQ2hlY2sgaWYgbGFzdCB0aW1lIHRoaXMgb2JzZXJ2YWJsZSB3YXMgYWNjZXNzZWQgdGhlIHNhbWUgcnVuSWQgaXMgdXNlZFxuICAgICAqIGlmIHRoaXMgaXMgdGhlIGNhc2UsIHRoZSByZWxhdGlvbiBpcyBhbHJlYWR5IGtub3duXG4gICAgICovXG4gICAgaWYgKGRlcml2YXRpb24ucnVuSWRfICE9PSBvYnNlcnZhYmxlLmxhc3RBY2Nlc3NlZEJ5Xykge1xuICAgICAgb2JzZXJ2YWJsZS5sYXN0QWNjZXNzZWRCeV8gPSBkZXJpdmF0aW9uLnJ1bklkXzsgLy8gVHJpZWQgc3RvcmluZyBuZXdPYnNlcnZpbmcsIG9yIG9ic2VydmluZywgb3IgYm90aCBhcyBTZXQsIGJ1dCBwZXJmb3JtYW5jZSBkaWRuJ3QgY29tZSBjbG9zZS4uLlxuXG4gICAgICBkZXJpdmF0aW9uLm5ld09ic2VydmluZ19bZGVyaXZhdGlvbi51bmJvdW5kRGVwc0NvdW50XysrXSA9IG9ic2VydmFibGU7XG5cbiAgICAgIGlmICghb2JzZXJ2YWJsZS5pc0JlaW5nT2JzZXJ2ZWRfICYmIGdsb2JhbFN0YXRlLnRyYWNraW5nQ29udGV4dCkge1xuICAgICAgICBvYnNlcnZhYmxlLmlzQmVpbmdPYnNlcnZlZF8gPSB0cnVlO1xuICAgICAgICBvYnNlcnZhYmxlLm9uQk8oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChvYnNlcnZhYmxlLm9ic2VydmVyc18uc2l6ZSA9PT0gMCAmJiBnbG9iYWxTdGF0ZS5pbkJhdGNoID4gMCkge1xuICAgIHF1ZXVlRm9yVW5vYnNlcnZhdGlvbihvYnNlcnZhYmxlKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn0gLy8gZnVuY3Rpb24gaW52YXJpYW50TE9TKG9ic2VydmFibGU6IElPYnNlcnZhYmxlLCBtc2c6IHN0cmluZykge1xuLy8gICAgIC8vIGl0J3MgZXhwZW5zaXZlIHNvIGJldHRlciBub3QgcnVuIGl0IGluIHByb2R1Y2l0b24uIGJ1dCB0ZW1wb3JhcmlseSBoZWxwZnVsIGZvciB0ZXN0aW5nXG4vLyAgICAgY29uc3QgbWluID0gZ2V0T2JzZXJ2ZXJzKG9ic2VydmFibGUpLnJlZHVjZSgoYSwgYikgPT4gTWF0aC5taW4oYSwgYi5kZXBlbmRlbmNpZXNTdGF0ZSksIDIpXG4vLyAgICAgaWYgKG1pbiA+PSBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGUpIHJldHVybiAvLyA8LSB0aGUgb25seSBhc3N1bXB0aW9uIGFib3V0IGBsb3dlc3RPYnNlcnZlclN0YXRlYFxuLy8gICAgIHRocm93IG5ldyBFcnJvcihcbi8vICAgICAgICAgXCJsb3dlc3RPYnNlcnZlclN0YXRlIGlzIHdyb25nIGZvciBcIiArXG4vLyAgICAgICAgICAgICBtc2cgK1xuLy8gICAgICAgICAgICAgXCIgYmVjYXVzZSBcIiArXG4vLyAgICAgICAgICAgICBtaW4gK1xuLy8gICAgICAgICAgICAgXCIgPCBcIiArXG4vLyAgICAgICAgICAgICBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGVcbi8vICAgICApXG4vLyB9XG5cbi8qKlxuICogTk9URTogY3VycmVudCBwcm9wYWdhdGlvbiBtZWNoYW5pc20gd2lsbCBpbiBjYXNlIG9mIHNlbGYgcmVydW5pbmcgYXV0b3J1bnMgYmVoYXZlIHVuZXhwZWN0ZWRseVxuICogSXQgd2lsbCBwcm9wYWdhdGUgY2hhbmdlcyB0byBvYnNlcnZlcnMgZnJvbSBwcmV2aW91cyBydW5cbiAqIEl0J3MgaGFyZCBvciBtYXliZSBpbXBvc3NpYmxlICh3aXRoIHJlYXNvbmFibGUgcGVyZikgdG8gZ2V0IGl0IHJpZ2h0IHdpdGggY3VycmVudCBhcHByb2FjaFxuICogSG9wZWZ1bGx5IHNlbGYgcmVydW5pbmcgYXV0b3J1bnMgYXJlbid0IGEgZmVhdHVyZSBwZW9wbGUgc2hvdWxkIGRlcGVuZCBvblxuICogQWxzbyBtb3N0IGJhc2ljIHVzZSBjYXNlcyBzaG91bGQgYmUgb2tcbiAqL1xuLy8gQ2FsbGVkIGJ5IEF0b20gd2hlbiBpdHMgdmFsdWUgY2hhbmdlc1xuXG5mdW5jdGlvbiBwcm9wYWdhdGVDaGFuZ2VkKG9ic2VydmFibGUpIHtcbiAgLy8gaW52YXJpYW50TE9TKG9ic2VydmFibGUsIFwiY2hhbmdlZCBzdGFydFwiKTtcbiAgaWYgKG9ic2VydmFibGUubG93ZXN0T2JzZXJ2ZXJTdGF0ZV8gPT09IElEZXJpdmF0aW9uU3RhdGVfLlNUQUxFXykgcmV0dXJuO1xuICBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGVfID0gSURlcml2YXRpb25TdGF0ZV8uU1RBTEVfOyAvLyBJZGVhbGx5IHdlIHVzZSBmb3IuLm9mIGhlcmUsIGJ1dCB0aGUgZG93bmNvbXBpbGVkIHZlcnNpb24gaXMgcmVhbGx5IHNsb3cuLi5cblxuICBvYnNlcnZhYmxlLm9ic2VydmVyc18uZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgIGlmIChkLmRlcGVuZGVuY2llc1N0YXRlXyA9PT0gSURlcml2YXRpb25TdGF0ZV8uVVBfVE9fREFURV8pIHtcbiAgICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgZC5pc1RyYWNpbmdfICE9PSBUcmFjZU1vZGUuTk9ORSkge1xuICAgICAgICBsb2dUcmFjZUluZm8oZCwgb2JzZXJ2YWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGQub25CZWNvbWVTdGFsZV8oKTtcbiAgICB9XG5cbiAgICBkLmRlcGVuZGVuY2llc1N0YXRlXyA9IElEZXJpdmF0aW9uU3RhdGVfLlNUQUxFXztcbiAgfSk7IC8vIGludmFyaWFudExPUyhvYnNlcnZhYmxlLCBcImNoYW5nZWQgZW5kXCIpO1xufSAvLyBDYWxsZWQgYnkgQ29tcHV0ZWRWYWx1ZSB3aGVuIGl0IHJlY2FsY3VsYXRlIGFuZCBpdHMgdmFsdWUgY2hhbmdlZFxuXG5mdW5jdGlvbiBwcm9wYWdhdGVDaGFuZ2VDb25maXJtZWQob2JzZXJ2YWJsZSkge1xuICAvLyBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZSwgXCJjb25maXJtZWQgc3RhcnRcIik7XG4gIGlmIChvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGVfID09PSBJRGVyaXZhdGlvblN0YXRlXy5TVEFMRV8pIHJldHVybjtcbiAgb2JzZXJ2YWJsZS5sb3dlc3RPYnNlcnZlclN0YXRlXyA9IElEZXJpdmF0aW9uU3RhdGVfLlNUQUxFXztcbiAgb2JzZXJ2YWJsZS5vYnNlcnZlcnNfLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICBpZiAoZC5kZXBlbmRlbmNpZXNTdGF0ZV8gPT09IElEZXJpdmF0aW9uU3RhdGVfLlBPU1NJQkxZX1NUQUxFXykge1xuICAgICAgZC5kZXBlbmRlbmNpZXNTdGF0ZV8gPSBJRGVyaXZhdGlvblN0YXRlXy5TVEFMRV87XG5cbiAgICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgZC5pc1RyYWNpbmdfICE9PSBUcmFjZU1vZGUuTk9ORSkge1xuICAgICAgICBsb2dUcmFjZUluZm8oZCwgb2JzZXJ2YWJsZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkLmRlcGVuZGVuY2llc1N0YXRlXyA9PT0gSURlcml2YXRpb25TdGF0ZV8uVVBfVE9fREFURV8gLy8gdGhpcyBoYXBwZW5zIGR1cmluZyBjb21wdXRpbmcgb2YgYGRgLCBqdXN0IGtlZXAgbG93ZXN0T2JzZXJ2ZXJTdGF0ZSB1cCB0byBkYXRlLlxuICAgICkge1xuICAgICAgICBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGVfID0gSURlcml2YXRpb25TdGF0ZV8uVVBfVE9fREFURV87XG4gICAgICB9XG4gIH0pOyAvLyBpbnZhcmlhbnRMT1Mob2JzZXJ2YWJsZSwgXCJjb25maXJtZWQgZW5kXCIpO1xufSAvLyBVc2VkIGJ5IGNvbXB1dGVkIHdoZW4gaXRzIGRlcGVuZGVuY3kgY2hhbmdlZCwgYnV0IHdlIGRvbid0IHdhbid0IHRvIGltbWVkaWF0ZWx5IHJlY29tcHV0ZS5cblxuZnVuY3Rpb24gcHJvcGFnYXRlTWF5YmVDaGFuZ2VkKG9ic2VydmFibGUpIHtcbiAgLy8gaW52YXJpYW50TE9TKG9ic2VydmFibGUsIFwibWF5YmUgc3RhcnRcIik7XG4gIGlmIChvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGVfICE9PSBJRGVyaXZhdGlvblN0YXRlXy5VUF9UT19EQVRFXykgcmV0dXJuO1xuICBvYnNlcnZhYmxlLmxvd2VzdE9ic2VydmVyU3RhdGVfID0gSURlcml2YXRpb25TdGF0ZV8uUE9TU0lCTFlfU1RBTEVfO1xuICBvYnNlcnZhYmxlLm9ic2VydmVyc18uZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgIGlmIChkLmRlcGVuZGVuY2llc1N0YXRlXyA9PT0gSURlcml2YXRpb25TdGF0ZV8uVVBfVE9fREFURV8pIHtcbiAgICAgIGQuZGVwZW5kZW5jaWVzU3RhdGVfID0gSURlcml2YXRpb25TdGF0ZV8uUE9TU0lCTFlfU1RBTEVfO1xuICAgICAgZC5vbkJlY29tZVN0YWxlXygpO1xuICAgIH1cbiAgfSk7IC8vIGludmFyaWFudExPUyhvYnNlcnZhYmxlLCBcIm1heWJlIGVuZFwiKTtcbn1cblxuZnVuY3Rpb24gbG9nVHJhY2VJbmZvKGRlcml2YXRpb24sIG9ic2VydmFibGUpIHtcbiAgY29uc29sZS5sb2coXCJbbW9ieC50cmFjZV0gJ1wiICsgZGVyaXZhdGlvbi5uYW1lXyArIFwiJyBpcyBpbnZhbGlkYXRlZCBkdWUgdG8gYSBjaGFuZ2UgaW46ICdcIiArIG9ic2VydmFibGUubmFtZV8gKyBcIidcIik7XG5cbiAgaWYgKGRlcml2YXRpb24uaXNUcmFjaW5nXyA9PT0gVHJhY2VNb2RlLkJSRUFLKSB7XG4gICAgdmFyIGxpbmVzID0gW107XG4gICAgcHJpbnREZXBUcmVlKGdldERlcGVuZGVuY3lUcmVlKGRlcml2YXRpb24pLCBsaW5lcywgMSk7IC8vIHByZXR0aWVyLWlnbm9yZVxuXG4gICAgbmV3IEZ1bmN0aW9uKFwiZGVidWdnZXI7XFxuLypcXG5UcmFjaW5nICdcIiArIGRlcml2YXRpb24ubmFtZV8gKyBcIidcXG5cXG5Zb3UgYXJlIGVudGVyaW5nIHRoaXMgYnJlYWsgcG9pbnQgYmVjYXVzZSBkZXJpdmF0aW9uICdcIiArIGRlcml2YXRpb24ubmFtZV8gKyBcIicgaXMgYmVpbmcgdHJhY2VkIGFuZCAnXCIgKyBvYnNlcnZhYmxlLm5hbWVfICsgXCInIGlzIG5vdyBmb3JjaW5nIGl0IHRvIHVwZGF0ZS5cXG5KdXN0IGZvbGxvdyB0aGUgc3RhY2t0cmFjZSB5b3Ugc2hvdWxkIG5vdyBzZWUgaW4gdGhlIGRldnRvb2xzIHRvIHNlZSBwcmVjaXNlbHkgd2hhdCBwaWVjZSBvZiB5b3VyIGNvZGUgaXMgY2F1c2luZyB0aGlzIHVwZGF0ZVxcblRoZSBzdGFja2ZyYW1lIHlvdSBhcmUgbG9va2luZyBmb3IgaXMgYXQgbGVhc3QgfjYtOCBzdGFjay1mcmFtZXMgdXAuXFxuXFxuXCIgKyAoZGVyaXZhdGlvbiBpbnN0YW5jZW9mIENvbXB1dGVkVmFsdWUgPyBkZXJpdmF0aW9uLmRlcml2YXRpb24udG9TdHJpbmcoKS5yZXBsYWNlKC9bKl1cXC8vZywgXCIvXCIpIDogXCJcIikgKyBcIlxcblxcblRoZSBkZXBlbmRlbmNpZXMgZm9yIHRoaXMgZGVyaXZhdGlvbiBhcmU6XFxuXFxuXCIgKyBsaW5lcy5qb2luKFwiXFxuXCIpICsgXCJcXG4qL1xcbiAgICBcIikoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmludERlcFRyZWUodHJlZSwgbGluZXMsIGRlcHRoKSB7XG4gIGlmIChsaW5lcy5sZW5ndGggPj0gMTAwMCkge1xuICAgIGxpbmVzLnB1c2goXCIoYW5kIG1hbnkgbW9yZSlcIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGluZXMucHVzaChcIlwiICsgbmV3IEFycmF5KGRlcHRoKS5qb2luKFwiXFx0XCIpICsgdHJlZS5uYW1lKTsgLy8gTVdFOiBub3QgdGhlIGZhc3Rlc3QsIGJ1dCB0aGUgZWFzaWVzdCB3YXkgOilcblxuICBpZiAodHJlZS5kZXBlbmRlbmNpZXMpIHRyZWUuZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIHByaW50RGVwVHJlZShjaGlsZCwgbGluZXMsIGRlcHRoICsgMSk7XG4gIH0pO1xufVxuXG52YXIgUmVhY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvLyBub2RlcyB3ZSBhcmUgbG9va2luZyBhdC4gT3VyIHZhbHVlIGRlcGVuZHMgb24gdGhlc2Ugbm9kZXNcbiAgZnVuY3Rpb24gUmVhY3Rpb24obmFtZV8sIG9uSW52YWxpZGF0ZV8sIGVycm9ySGFuZGxlcl8sIHJlcXVpcmVzT2JzZXJ2YWJsZV8pIHtcbiAgICBpZiAobmFtZV8gPT09IHZvaWQgMCkge1xuICAgICAgbmFtZV8gPSBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBcIlJlYWN0aW9uQFwiICsgZ2V0TmV4dElkKCkgOiBcIlJlYWN0aW9uXCI7XG4gICAgfVxuXG4gICAgaWYgKHJlcXVpcmVzT2JzZXJ2YWJsZV8gPT09IHZvaWQgMCkge1xuICAgICAgcmVxdWlyZXNPYnNlcnZhYmxlXyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMubmFtZV8gPSB2b2lkIDA7XG4gICAgdGhpcy5vbkludmFsaWRhdGVfID0gdm9pZCAwO1xuICAgIHRoaXMuZXJyb3JIYW5kbGVyXyA9IHZvaWQgMDtcbiAgICB0aGlzLnJlcXVpcmVzT2JzZXJ2YWJsZV8gPSB2b2lkIDA7XG4gICAgdGhpcy5vYnNlcnZpbmdfID0gW107XG4gICAgdGhpcy5uZXdPYnNlcnZpbmdfID0gW107XG4gICAgdGhpcy5kZXBlbmRlbmNpZXNTdGF0ZV8gPSBJRGVyaXZhdGlvblN0YXRlXy5OT1RfVFJBQ0tJTkdfO1xuICAgIHRoaXMuZGlmZlZhbHVlXyA9IDA7XG4gICAgdGhpcy5ydW5JZF8gPSAwO1xuICAgIHRoaXMudW5ib3VuZERlcHNDb3VudF8gPSAwO1xuICAgIHRoaXMuaXNEaXNwb3NlZF8gPSBmYWxzZTtcbiAgICB0aGlzLmlzU2NoZWR1bGVkXyA9IGZhbHNlO1xuICAgIHRoaXMuaXNUcmFja1BlbmRpbmdfID0gZmFsc2U7XG4gICAgdGhpcy5pc1J1bm5pbmdfID0gZmFsc2U7XG4gICAgdGhpcy5pc1RyYWNpbmdfID0gVHJhY2VNb2RlLk5PTkU7XG4gICAgdGhpcy5uYW1lXyA9IG5hbWVfO1xuICAgIHRoaXMub25JbnZhbGlkYXRlXyA9IG9uSW52YWxpZGF0ZV87XG4gICAgdGhpcy5lcnJvckhhbmRsZXJfID0gZXJyb3JIYW5kbGVyXztcbiAgICB0aGlzLnJlcXVpcmVzT2JzZXJ2YWJsZV8gPSByZXF1aXJlc09ic2VydmFibGVfO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFJlYWN0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8ub25CZWNvbWVTdGFsZV8gPSBmdW5jdGlvbiBvbkJlY29tZVN0YWxlXygpIHtcbiAgICB0aGlzLnNjaGVkdWxlXygpO1xuICB9O1xuXG4gIF9wcm90by5zY2hlZHVsZV8gPSBmdW5jdGlvbiBzY2hlZHVsZV8oKSB7XG4gICAgaWYgKCF0aGlzLmlzU2NoZWR1bGVkXykge1xuICAgICAgdGhpcy5pc1NjaGVkdWxlZF8gPSB0cnVlO1xuICAgICAgZ2xvYmFsU3RhdGUucGVuZGluZ1JlYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgcnVuUmVhY3Rpb25zKCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5pc1NjaGVkdWxlZCA9IGZ1bmN0aW9uIGlzU2NoZWR1bGVkKCkge1xuICAgIHJldHVybiB0aGlzLmlzU2NoZWR1bGVkXztcbiAgfVxuICAvKipcbiAgICogaW50ZXJuYWwsIHVzZSBzY2hlZHVsZSgpIGlmIHlvdSBpbnRlbmQgdG8ga2ljayBvZmYgYSByZWFjdGlvblxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5ydW5SZWFjdGlvbl8gPSBmdW5jdGlvbiBydW5SZWFjdGlvbl8oKSB7XG4gICAgaWYgKCF0aGlzLmlzRGlzcG9zZWRfKSB7XG4gICAgICBzdGFydEJhdGNoKCk7XG4gICAgICB0aGlzLmlzU2NoZWR1bGVkXyA9IGZhbHNlO1xuICAgICAgdmFyIHByZXYgPSBnbG9iYWxTdGF0ZS50cmFja2luZ0NvbnRleHQ7XG4gICAgICBnbG9iYWxTdGF0ZS50cmFja2luZ0NvbnRleHQgPSB0aGlzO1xuXG4gICAgICBpZiAoc2hvdWxkQ29tcHV0ZSh0aGlzKSkge1xuICAgICAgICB0aGlzLmlzVHJhY2tQZW5kaW5nXyA9IHRydWU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLm9uSW52YWxpZGF0ZV8oKTtcblxuICAgICAgICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgdGhpcy5pc1RyYWNrUGVuZGluZ18gJiYgaXNTcHlFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIC8vIG9uSW52YWxpZGF0ZSBkaWRuJ3QgdHJpZ2dlciB0cmFjayByaWdodCBhd2F5Li5cbiAgICAgICAgICAgIHNweVJlcG9ydCh7XG4gICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZV8sXG4gICAgICAgICAgICAgIHR5cGU6IFwic2NoZWR1bGVkLXJlYWN0aW9uXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRoaXMucmVwb3J0RXhjZXB0aW9uSW5EZXJpdmF0aW9uXyhlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBnbG9iYWxTdGF0ZS50cmFja2luZ0NvbnRleHQgPSBwcmV2O1xuICAgICAgZW5kQmF0Y2goKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnRyYWNrID0gZnVuY3Rpb24gdHJhY2soZm4pIHtcbiAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkXykge1xuICAgICAgcmV0dXJuOyAvLyBjb25zb2xlLndhcm4oXCJSZWFjdGlvbiBhbHJlYWR5IGRpc3Bvc2VkXCIpIC8vIE5vdGU6IE5vdCBhIHdhcm5pbmcgLyBlcnJvciBpbiBtb2J4IDQgZWl0aGVyXG4gICAgfVxuXG4gICAgc3RhcnRCYXRjaCgpO1xuICAgIHZhciBub3RpZnkgPSBpc1NweUVuYWJsZWQoKTtcbiAgICB2YXIgc3RhcnRUaW1lO1xuXG4gICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBub3RpZnkpIHtcbiAgICAgIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBzcHlSZXBvcnRTdGFydCh7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZV8sXG4gICAgICAgIHR5cGU6IFwicmVhY3Rpb25cIlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5pc1J1bm5pbmdfID0gdHJ1ZTtcbiAgICB2YXIgcHJldlJlYWN0aW9uID0gZ2xvYmFsU3RhdGUudHJhY2tpbmdDb250ZXh0OyAvLyByZWFjdGlvbnMgY291bGQgY3JlYXRlIHJlYWN0aW9ucy4uLlxuXG4gICAgZ2xvYmFsU3RhdGUudHJhY2tpbmdDb250ZXh0ID0gdGhpcztcbiAgICB2YXIgcmVzdWx0ID0gdHJhY2tEZXJpdmVkRnVuY3Rpb24odGhpcywgZm4sIHVuZGVmaW5lZCk7XG4gICAgZ2xvYmFsU3RhdGUudHJhY2tpbmdDb250ZXh0ID0gcHJldlJlYWN0aW9uO1xuICAgIHRoaXMuaXNSdW5uaW5nXyA9IGZhbHNlO1xuICAgIHRoaXMuaXNUcmFja1BlbmRpbmdfID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkXykge1xuICAgICAgLy8gZGlzcG9zZWQgZHVyaW5nIGxhc3QgcnVuLiBDbGVhbiB1cCBldmVyeXRoaW5nIHRoYXQgd2FzIGJvdW5kIGFmdGVyIHRoZSBkaXNwb3NlIGNhbGwuXG4gICAgICBjbGVhck9ic2VydmluZyh0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAoaXNDYXVnaHRFeGNlcHRpb24ocmVzdWx0KSkgdGhpcy5yZXBvcnRFeGNlcHRpb25JbkRlcml2YXRpb25fKHJlc3VsdC5jYXVzZSk7XG5cbiAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIG5vdGlmeSkge1xuICAgICAgc3B5UmVwb3J0RW5kKHtcbiAgICAgICAgdGltZTogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZW5kQmF0Y2goKTtcbiAgfTtcblxuICBfcHJvdG8ucmVwb3J0RXhjZXB0aW9uSW5EZXJpdmF0aW9uXyA9IGZ1bmN0aW9uIHJlcG9ydEV4Y2VwdGlvbkluRGVyaXZhdGlvbl8oZXJyb3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuZXJyb3JIYW5kbGVyXykge1xuICAgICAgdGhpcy5lcnJvckhhbmRsZXJfKGVycm9yLCB0aGlzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZ2xvYmFsU3RhdGUuZGlzYWJsZUVycm9yQm91bmRhcmllcykgdGhyb3cgZXJyb3I7XG4gICAgdmFyIG1lc3NhZ2UgPSBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBcIlttb2J4XSBFbmNvdW50ZXJlZCBhbiB1bmNhdWdodCBleGNlcHRpb24gdGhhdCB3YXMgdGhyb3duIGJ5IGEgcmVhY3Rpb24gb3Igb2JzZXJ2ZXIgY29tcG9uZW50LCBpbjogJ1wiICsgdGhpcyArIFwiJ1wiIDogXCJbbW9ieF0gdW5jYXVnaHQgZXJyb3IgaW4gJ1wiICsgdGhpcyArIFwiJ1wiO1xuXG4gICAgaWYgKCFnbG9iYWxTdGF0ZS5zdXBwcmVzc1JlYWN0aW9uRXJyb3JzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UsIGVycm9yKTtcbiAgICAgIC8qKiBJZiBkZWJ1Z2dpbmcgYnJvdWdodCB5b3UgaGVyZSwgcGxlYXNlLCByZWFkIHRoZSBhYm92ZSBtZXNzYWdlIDotKS4gVG54ISAqL1xuICAgIH0gZWxzZSBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSBjb25zb2xlLndhcm4oXCJbbW9ieF0gKGVycm9yIGluIHJlYWN0aW9uICdcIiArIHRoaXMubmFtZV8gKyBcIicgc3VwcHJlc3NlZCwgZml4IGVycm9yIG9mIGNhdXNpbmcgYWN0aW9uIGJlbG93KVwiKTsgLy8gcHJldHRpZXItaWdub3JlXG5cblxuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgaXNTcHlFbmFibGVkKCkpIHtcbiAgICAgIHNweVJlcG9ydCh7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lXyxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgZXJyb3I6IFwiXCIgKyBlcnJvclxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2xvYmFsU3RhdGUuZ2xvYmFsUmVhY3Rpb25FcnJvckhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICAgIHJldHVybiBmKGVycm9yLCBfdGhpcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIGlmICghdGhpcy5pc0Rpc3Bvc2VkXykge1xuICAgICAgdGhpcy5pc0Rpc3Bvc2VkXyA9IHRydWU7XG5cbiAgICAgIGlmICghdGhpcy5pc1J1bm5pbmdfKSB7XG4gICAgICAgIC8vIGlmIGRpc3Bvc2VkIHdoaWxlIHJ1bm5pbmcsIGNsZWFuIHVwIGxhdGVyLiBNYXliZSBub3Qgb3B0aW1hbCwgYnV0IHJhcmUgY2FzZVxuICAgICAgICBzdGFydEJhdGNoKCk7XG4gICAgICAgIGNsZWFyT2JzZXJ2aW5nKHRoaXMpO1xuICAgICAgICBlbmRCYXRjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uZ2V0RGlzcG9zZXJfID0gZnVuY3Rpb24gZ2V0RGlzcG9zZXJfKCkge1xuICAgIHZhciByID0gdGhpcy5kaXNwb3NlLmJpbmQodGhpcyk7XG4gICAgclskbW9ieF0gPSB0aGlzO1xuICAgIHJldHVybiByO1xuICB9O1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBcIlJlYWN0aW9uW1wiICsgdGhpcy5uYW1lXyArIFwiXVwiO1xuICB9O1xuXG4gIF9wcm90by50cmFjZSA9IGZ1bmN0aW9uIHRyYWNlJDEoZW50ZXJCcmVha1BvaW50KSB7XG4gICAgaWYgKGVudGVyQnJlYWtQb2ludCA9PT0gdm9pZCAwKSB7XG4gICAgICBlbnRlckJyZWFrUG9pbnQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0cmFjZSh0aGlzLCBlbnRlckJyZWFrUG9pbnQpO1xuICB9O1xuXG4gIHJldHVybiBSZWFjdGlvbjtcbn0oKTtcbmZ1bmN0aW9uIG9uUmVhY3Rpb25FcnJvcihoYW5kbGVyKSB7XG4gIGdsb2JhbFN0YXRlLmdsb2JhbFJlYWN0aW9uRXJyb3JIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpZHggPSBnbG9iYWxTdGF0ZS5nbG9iYWxSZWFjdGlvbkVycm9ySGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICBpZiAoaWR4ID49IDApIGdsb2JhbFN0YXRlLmdsb2JhbFJlYWN0aW9uRXJyb3JIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgfTtcbn1cbi8qKlxuICogTWFnaWMgbnVtYmVyIGFsZXJ0IVxuICogRGVmaW5lcyB3aXRoaW4gaG93IG1hbnkgdGltZXMgYSByZWFjdGlvbiBpcyBhbGxvd2VkIHRvIHJlLXRyaWdnZXIgaXRzZWxmXG4gKiB1bnRpbCBpdCBpcyBhc3N1bWVkIHRoYXQgdGhpcyBpcyBnb25uYSBiZSBhIG5ldmVyIGVuZGluZyBsb29wLi4uXG4gKi9cblxudmFyIE1BWF9SRUFDVElPTl9JVEVSQVRJT05TID0gMTAwO1xuXG52YXIgcmVhY3Rpb25TY2hlZHVsZXIgPSBmdW5jdGlvbiByZWFjdGlvblNjaGVkdWxlcihmKSB7XG4gIHJldHVybiBmKCk7XG59O1xuXG5mdW5jdGlvbiBydW5SZWFjdGlvbnMoKSB7XG4gIC8vIFRyYW1wb2xpbmluZywgaWYgcnVuUmVhY3Rpb25zIGFyZSBhbHJlYWR5IHJ1bm5pbmcsIG5ldyByZWFjdGlvbnMgd2lsbCBiZSBwaWNrZWQgdXBcbiAgaWYgKGdsb2JhbFN0YXRlLmluQmF0Y2ggPiAwIHx8IGdsb2JhbFN0YXRlLmlzUnVubmluZ1JlYWN0aW9ucykgcmV0dXJuO1xuICByZWFjdGlvblNjaGVkdWxlcihydW5SZWFjdGlvbnNIZWxwZXIpO1xufVxuXG5mdW5jdGlvbiBydW5SZWFjdGlvbnNIZWxwZXIoKSB7XG4gIGdsb2JhbFN0YXRlLmlzUnVubmluZ1JlYWN0aW9ucyA9IHRydWU7XG4gIHZhciBhbGxSZWFjdGlvbnMgPSBnbG9iYWxTdGF0ZS5wZW5kaW5nUmVhY3Rpb25zO1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7IC8vIFdoaWxlIHJ1bm5pbmcgcmVhY3Rpb25zLCBuZXcgcmVhY3Rpb25zIG1pZ2h0IGJlIHRyaWdnZXJlZC5cbiAgLy8gSGVuY2Ugd2Ugd29yayB3aXRoIHR3byB2YXJpYWJsZXMgYW5kIGNoZWNrIHdoZXRoZXJcbiAgLy8gd2UgY29udmVyZ2UgdG8gbm8gcmVtYWluaW5nIHJlYWN0aW9ucyBhZnRlciBhIHdoaWxlLlxuXG4gIHdoaWxlIChhbGxSZWFjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGlmICgrK2l0ZXJhdGlvbnMgPT09IE1BWF9SRUFDVElPTl9JVEVSQVRJT05TKSB7XG4gICAgICBjb25zb2xlLmVycm9yKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFwiUmVhY3Rpb24gZG9lc24ndCBjb252ZXJnZSB0byBhIHN0YWJsZSBzdGF0ZSBhZnRlciBcIiArIE1BWF9SRUFDVElPTl9JVEVSQVRJT05TICsgXCIgaXRlcmF0aW9ucy5cIiArIChcIiBQcm9iYWJseSB0aGVyZSBpcyBhIGN5Y2xlIGluIHRoZSByZWFjdGl2ZSBmdW5jdGlvbjogXCIgKyBhbGxSZWFjdGlvbnNbMF0pIDogXCJbbW9ieF0gY3ljbGUgaW4gcmVhY3Rpb246IFwiICsgYWxsUmVhY3Rpb25zWzBdKTtcbiAgICAgIGFsbFJlYWN0aW9ucy5zcGxpY2UoMCk7IC8vIGNsZWFyIHJlYWN0aW9uc1xuICAgIH1cblxuICAgIHZhciByZW1haW5pbmdSZWFjdGlvbnMgPSBhbGxSZWFjdGlvbnMuc3BsaWNlKDApO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZW1haW5pbmdSZWFjdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICByZW1haW5pbmdSZWFjdGlvbnNbaV0ucnVuUmVhY3Rpb25fKCk7XG4gICAgfVxuICB9XG5cbiAgZ2xvYmFsU3RhdGUuaXNSdW5uaW5nUmVhY3Rpb25zID0gZmFsc2U7XG59XG5cbnZhciBpc1JlYWN0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJSZWFjdGlvblwiLCBSZWFjdGlvbik7XG5mdW5jdGlvbiBzZXRSZWFjdGlvblNjaGVkdWxlcihmbikge1xuICB2YXIgYmFzZVNjaGVkdWxlciA9IHJlYWN0aW9uU2NoZWR1bGVyO1xuXG4gIHJlYWN0aW9uU2NoZWR1bGVyID0gZnVuY3Rpb24gcmVhY3Rpb25TY2hlZHVsZXIoZikge1xuICAgIHJldHVybiBmbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYmFzZVNjaGVkdWxlcihmKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNTcHlFbmFibGVkKCkge1xuICByZXR1cm4gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICEhZ2xvYmFsU3RhdGUuc3B5TGlzdGVuZXJzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIHNweVJlcG9ydChldmVudCkge1xuICBpZiAoIShOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSByZXR1cm47IC8vIGRlYWQgY29kZSBlbGltaW5hdGlvbiBjYW4gZG8gdGhlIHJlc3RcblxuICBpZiAoIWdsb2JhbFN0YXRlLnNweUxpc3RlbmVycy5sZW5ndGgpIHJldHVybjtcbiAgdmFyIGxpc3RlbmVycyA9IGdsb2JhbFN0YXRlLnNweUxpc3RlbmVycztcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBsaXN0ZW5lcnNbaV0oZXZlbnQpO1xuICB9XG59XG5mdW5jdGlvbiBzcHlSZXBvcnRTdGFydChldmVudCkge1xuICBpZiAoIShOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSByZXR1cm47XG5cbiAgdmFyIGNoYW5nZSA9IF9leHRlbmRzKHt9LCBldmVudCwge1xuICAgIHNweVJlcG9ydFN0YXJ0OiB0cnVlXG4gIH0pO1xuXG4gIHNweVJlcG9ydChjaGFuZ2UpO1xufVxudmFyIEVORF9FVkVOVCA9IHtcbiAgdHlwZTogXCJyZXBvcnQtZW5kXCIsXG4gIHNweVJlcG9ydEVuZDogdHJ1ZVxufTtcbmZ1bmN0aW9uIHNweVJlcG9ydEVuZChjaGFuZ2UpIHtcbiAgaWYgKCEoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgcmV0dXJuO1xuICBpZiAoY2hhbmdlKSBzcHlSZXBvcnQoX2V4dGVuZHMoe30sIGNoYW5nZSwge1xuICAgIHR5cGU6IFwicmVwb3J0LWVuZFwiLFxuICAgIHNweVJlcG9ydEVuZDogdHJ1ZVxuICB9KSk7ZWxzZSBzcHlSZXBvcnQoRU5EX0VWRU5UKTtcbn1cbmZ1bmN0aW9uIHNweShsaXN0ZW5lcikge1xuICBpZiAoIShOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc29sZS53YXJuKFwiW21vYnguc3B5XSBJcyBhIG5vLW9wIGluIHByb2R1Y3Rpb24gYnVpbGRzXCIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgfSBlbHNlIHtcbiAgICBnbG9iYWxTdGF0ZS5zcHlMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIG9uY2UoZnVuY3Rpb24gKCkge1xuICAgICAgZ2xvYmFsU3RhdGUuc3B5TGlzdGVuZXJzID0gZ2xvYmFsU3RhdGUuc3B5TGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAobCkge1xuICAgICAgICByZXR1cm4gbCAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG52YXIgQUNUSU9OID0gXCJhY3Rpb25cIjtcbnZhciBBQ1RJT05fQk9VTkQgPSBcImFjdGlvbi5ib3VuZFwiO1xudmFyIEFVVE9BQ1RJT04gPSBcImF1dG9BY3Rpb25cIjtcbnZhciBBVVRPQUNUSU9OX0JPVU5EID0gXCJhdXRvQWN0aW9uLmJvdW5kXCI7XG52YXIgREVGQVVMVF9BQ1RJT05fTkFNRSA9IFwiPHVubmFtZWQgYWN0aW9uPlwiO1xudmFyIGFjdGlvbkFubm90YXRpb24gPSAvKiNfX1BVUkVfXyovY3JlYXRlQWN0aW9uQW5ub3RhdGlvbihBQ1RJT04pO1xudmFyIGFjdGlvbkJvdW5kQW5ub3RhdGlvbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVBY3Rpb25Bbm5vdGF0aW9uKEFDVElPTl9CT1VORCwge1xuICBib3VuZDogdHJ1ZVxufSk7XG52YXIgYXV0b0FjdGlvbkFubm90YXRpb24gPSAvKiNfX1BVUkVfXyovY3JlYXRlQWN0aW9uQW5ub3RhdGlvbihBVVRPQUNUSU9OLCB7XG4gIGF1dG9BY3Rpb246IHRydWVcbn0pO1xudmFyIGF1dG9BY3Rpb25Cb3VuZEFubm90YXRpb24gPSAvKiNfX1BVUkVfXyovY3JlYXRlQWN0aW9uQW5ub3RhdGlvbihBVVRPQUNUSU9OX0JPVU5ELCB7XG4gIGF1dG9BY3Rpb246IHRydWUsXG4gIGJvdW5kOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gY3JlYXRlQWN0aW9uRmFjdG9yeShhdXRvQWN0aW9uKSB7XG4gIHZhciByZXMgPSBmdW5jdGlvbiBhY3Rpb24oYXJnMSwgYXJnMikge1xuICAgIC8vIGFjdGlvbihmbigpIHt9KVxuICAgIGlmIChpc0Z1bmN0aW9uKGFyZzEpKSByZXR1cm4gY3JlYXRlQWN0aW9uKGFyZzEubmFtZSB8fCBERUZBVUxUX0FDVElPTl9OQU1FLCBhcmcxLCBhdXRvQWN0aW9uKTsgLy8gYWN0aW9uKFwibmFtZVwiLCBmbigpIHt9KVxuXG4gICAgaWYgKGlzRnVuY3Rpb24oYXJnMikpIHJldHVybiBjcmVhdGVBY3Rpb24oYXJnMSwgYXJnMiwgYXV0b0FjdGlvbik7IC8vIEBhY3Rpb25cblxuICAgIGlmIChpc1N0cmluZ2lzaChhcmcyKSkge1xuICAgICAgcmV0dXJuIHN0b3JlQW5ub3RhdGlvbihhcmcxLCBhcmcyLCBhdXRvQWN0aW9uID8gYXV0b0FjdGlvbkFubm90YXRpb24gOiBhY3Rpb25Bbm5vdGF0aW9uKTtcbiAgICB9IC8vIGFjdGlvbihcIm5hbWVcIikgJiBAYWN0aW9uKFwibmFtZVwiKVxuXG5cbiAgICBpZiAoaXNTdHJpbmdpc2goYXJnMSkpIHtcbiAgICAgIHJldHVybiBjcmVhdGVEZWNvcmF0b3JBbm5vdGF0aW9uKGNyZWF0ZUFjdGlvbkFubm90YXRpb24oYXV0b0FjdGlvbiA/IEFVVE9BQ1RJT04gOiBBQ1RJT04sIHtcbiAgICAgICAgbmFtZTogYXJnMSxcbiAgICAgICAgYXV0b0FjdGlvbjogYXV0b0FjdGlvblxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGRpZShcIkludmFsaWQgYXJndW1lbnRzIGZvciBgYWN0aW9uYFwiKTtcbiAgfTtcblxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgYWN0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZUFjdGlvbkZhY3RvcnkoZmFsc2UpO1xuT2JqZWN0LmFzc2lnbihhY3Rpb24sIGFjdGlvbkFubm90YXRpb24pO1xudmFyIGF1dG9BY3Rpb24gPSAvKiNfX1BVUkVfXyovY3JlYXRlQWN0aW9uRmFjdG9yeSh0cnVlKTtcbk9iamVjdC5hc3NpZ24oYXV0b0FjdGlvbiwgYXV0b0FjdGlvbkFubm90YXRpb24pO1xuYWN0aW9uLmJvdW5kID0gLyojX19QVVJFX18qL2NyZWF0ZURlY29yYXRvckFubm90YXRpb24oYWN0aW9uQm91bmRBbm5vdGF0aW9uKTtcbmF1dG9BY3Rpb24uYm91bmQgPSAvKiNfX1BVUkVfXyovY3JlYXRlRGVjb3JhdG9yQW5ub3RhdGlvbihhdXRvQWN0aW9uQm91bmRBbm5vdGF0aW9uKTtcbmZ1bmN0aW9uIHJ1bkluQWN0aW9uKGZuKSB7XG4gIHJldHVybiBleGVjdXRlQWN0aW9uKGZuLm5hbWUgfHwgREVGQVVMVF9BQ1RJT05fTkFNRSwgZmFsc2UsIGZuLCB0aGlzLCB1bmRlZmluZWQpO1xufVxuZnVuY3Rpb24gaXNBY3Rpb24odGhpbmcpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odGhpbmcpICYmIHRoaW5nLmlzTW9ieEFjdGlvbiA9PT0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmFtZWQgcmVhY3RpdmUgdmlldyBhbmQga2VlcHMgaXQgYWxpdmUsIHNvIHRoYXQgdGhlIHZpZXcgaXMgYWx3YXlzXG4gKiB1cGRhdGVkIGlmIG9uZSBvZiB0aGUgZGVwZW5kZW5jaWVzIGNoYW5nZXMsIGV2ZW4gd2hlbiB0aGUgdmlldyBpcyBub3QgZnVydGhlciB1c2VkIGJ5IHNvbWV0aGluZyBlbHNlLlxuICogQHBhcmFtIHZpZXcgVGhlIHJlYWN0aXZlIHZpZXdcbiAqIEByZXR1cm5zIGRpc3Bvc2VyIGZ1bmN0aW9uLCB3aGljaCBjYW4gYmUgdXNlZCB0byBzdG9wIHRoZSB2aWV3IGZyb20gYmVpbmcgdXBkYXRlZCBpbiB0aGUgZnV0dXJlLlxuICovXG5cbmZ1bmN0aW9uIGF1dG9ydW4odmlldywgb3B0cykge1xuICB2YXIgX29wdHMkbmFtZSwgX29wdHM7XG5cbiAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgIG9wdHMgPSBFTVBUWV9PQkpFQ1Q7XG4gIH1cblxuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHZpZXcpKSBkaWUoXCJBdXRvcnVuIGV4cGVjdHMgYSBmdW5jdGlvbiBhcyBmaXJzdCBhcmd1bWVudFwiKTtcbiAgICBpZiAoaXNBY3Rpb24odmlldykpIGRpZShcIkF1dG9ydW4gZG9lcyBub3QgYWNjZXB0IGFjdGlvbnMgc2luY2UgYWN0aW9ucyBhcmUgdW50cmFja2FibGVcIik7XG4gIH1cblxuICB2YXIgbmFtZSA9IChfb3B0cyRuYW1lID0gKF9vcHRzID0gb3B0cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9vcHRzLm5hbWUpICE9IG51bGwgPyBfb3B0cyRuYW1lIDogTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gdmlldy5uYW1lIHx8IFwiQXV0b3J1bkBcIiArIGdldE5leHRJZCgpIDogXCJBdXRvcnVuXCI7XG4gIHZhciBydW5TeW5jID0gIW9wdHMuc2NoZWR1bGVyICYmICFvcHRzLmRlbGF5O1xuICB2YXIgcmVhY3Rpb247XG5cbiAgaWYgKHJ1blN5bmMpIHtcbiAgICAvLyBub3JtYWwgYXV0b3J1blxuICAgIHJlYWN0aW9uID0gbmV3IFJlYWN0aW9uKG5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMudHJhY2socmVhY3Rpb25SdW5uZXIpO1xuICAgIH0sIG9wdHMub25FcnJvciwgb3B0cy5yZXF1aXJlc09ic2VydmFibGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBzY2hlZHVsZXIgPSBjcmVhdGVTY2hlZHVsZXJGcm9tT3B0aW9ucyhvcHRzKTsgLy8gZGVib3VuY2VkIGF1dG9ydW5cblxuICAgIHZhciBpc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHJlYWN0aW9uID0gbmV3IFJlYWN0aW9uKG5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaXNTY2hlZHVsZWQpIHtcbiAgICAgICAgaXNTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICBzY2hlZHVsZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlzU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgaWYgKCFyZWFjdGlvbi5pc0Rpc3Bvc2VkXykgcmVhY3Rpb24udHJhY2socmVhY3Rpb25SdW5uZXIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCBvcHRzLm9uRXJyb3IsIG9wdHMucmVxdWlyZXNPYnNlcnZhYmxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWN0aW9uUnVubmVyKCkge1xuICAgIHZpZXcocmVhY3Rpb24pO1xuICB9XG5cbiAgcmVhY3Rpb24uc2NoZWR1bGVfKCk7XG4gIHJldHVybiByZWFjdGlvbi5nZXREaXNwb3Nlcl8oKTtcbn1cblxudmFyIHJ1biA9IGZ1bmN0aW9uIHJ1bihmKSB7XG4gIHJldHVybiBmKCk7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVTY2hlZHVsZXJGcm9tT3B0aW9ucyhvcHRzKSB7XG4gIHJldHVybiBvcHRzLnNjaGVkdWxlciA/IG9wdHMuc2NoZWR1bGVyIDogb3B0cy5kZWxheSA/IGZ1bmN0aW9uIChmKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZiwgb3B0cy5kZWxheSk7XG4gIH0gOiBydW47XG59XG5cbmZ1bmN0aW9uIHJlYWN0aW9uKGV4cHJlc3Npb24sIGVmZmVjdCwgb3B0cykge1xuICB2YXIgX29wdHMkbmFtZTI7XG5cbiAgaWYgKG9wdHMgPT09IHZvaWQgMCkge1xuICAgIG9wdHMgPSBFTVBUWV9PQkpFQ1Q7XG4gIH1cblxuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGV4cHJlc3Npb24pIHx8ICFpc0Z1bmN0aW9uKGVmZmVjdCkpIGRpZShcIkZpcnN0IGFuZCBzZWNvbmQgYXJndW1lbnQgdG8gcmVhY3Rpb24gc2hvdWxkIGJlIGZ1bmN0aW9uc1wiKTtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3Qob3B0cykpIGRpZShcIlRoaXJkIGFyZ3VtZW50IG9mIHJlYWN0aW9ucyBzaG91bGQgYmUgYW4gb2JqZWN0XCIpO1xuICB9XG5cbiAgdmFyIG5hbWUgPSAoX29wdHMkbmFtZTIgPSBvcHRzLm5hbWUpICE9IG51bGwgPyBfb3B0cyRuYW1lMiA6IE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFwiUmVhY3Rpb25AXCIgKyBnZXROZXh0SWQoKSA6IFwiUmVhY3Rpb25cIjtcbiAgdmFyIGVmZmVjdEFjdGlvbiA9IGFjdGlvbihuYW1lLCBvcHRzLm9uRXJyb3IgPyB3cmFwRXJyb3JIYW5kbGVyKG9wdHMub25FcnJvciwgZWZmZWN0KSA6IGVmZmVjdCk7XG4gIHZhciBydW5TeW5jID0gIW9wdHMuc2NoZWR1bGVyICYmICFvcHRzLmRlbGF5O1xuICB2YXIgc2NoZWR1bGVyID0gY3JlYXRlU2NoZWR1bGVyRnJvbU9wdGlvbnMob3B0cyk7XG4gIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuICB2YXIgaXNTY2hlZHVsZWQgPSBmYWxzZTtcbiAgdmFyIHZhbHVlO1xuICB2YXIgb2xkVmFsdWUgPSB1bmRlZmluZWQ7IC8vIG9ubHkgYW4gaXNzdWUgd2l0aCBmaXJlSW1tZWRpYXRlbHlcblxuICB2YXIgZXF1YWxzID0gb3B0cy5jb21wYXJlU3RydWN0dXJhbCA/IGNvbXBhcmVyLnN0cnVjdHVyYWwgOiBvcHRzLmVxdWFscyB8fCBjb21wYXJlcltcImRlZmF1bHRcIl07XG4gIHZhciByID0gbmV3IFJlYWN0aW9uKG5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZmlyc3RUaW1lIHx8IHJ1blN5bmMpIHtcbiAgICAgIHJlYWN0aW9uUnVubmVyKCk7XG4gICAgfSBlbHNlIGlmICghaXNTY2hlZHVsZWQpIHtcbiAgICAgIGlzU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIHNjaGVkdWxlcihyZWFjdGlvblJ1bm5lcik7XG4gICAgfVxuICB9LCBvcHRzLm9uRXJyb3IsIG9wdHMucmVxdWlyZXNPYnNlcnZhYmxlKTtcblxuICBmdW5jdGlvbiByZWFjdGlvblJ1bm5lcigpIHtcbiAgICBpc1NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGlmIChyLmlzRGlzcG9zZWRfKSByZXR1cm47XG4gICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICByLnRyYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBuZXh0VmFsdWUgPSBhbGxvd1N0YXRlQ2hhbmdlcyhmYWxzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbihyKTtcbiAgICAgIH0pO1xuICAgICAgY2hhbmdlZCA9IGZpcnN0VGltZSB8fCAhZXF1YWxzKHZhbHVlLCBuZXh0VmFsdWUpO1xuICAgICAgb2xkVmFsdWUgPSB2YWx1ZTtcbiAgICAgIHZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH0pO1xuICAgIGlmIChmaXJzdFRpbWUgJiYgb3B0cy5maXJlSW1tZWRpYXRlbHkpIGVmZmVjdEFjdGlvbih2YWx1ZSwgb2xkVmFsdWUsIHIpO2Vsc2UgaWYgKCFmaXJzdFRpbWUgJiYgY2hhbmdlZCkgZWZmZWN0QWN0aW9uKHZhbHVlLCBvbGRWYWx1ZSwgcik7XG4gICAgZmlyc3RUaW1lID0gZmFsc2U7XG4gIH1cblxuICByLnNjaGVkdWxlXygpO1xuICByZXR1cm4gci5nZXREaXNwb3Nlcl8oKTtcbn1cblxuZnVuY3Rpb24gd3JhcEVycm9ySGFuZGxlcihlcnJvckhhbmRsZXIsIGJhc2VGbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYmFzZUZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3JIYW5kbGVyLmNhbGwodGhpcywgZSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgT05fQkVDT01FX09CU0VSVkVEID0gXCJvbkJPXCI7XG52YXIgT05fQkVDT01FX1VOT0JTRVJWRUQgPSBcIm9uQlVPXCI7XG5mdW5jdGlvbiBvbkJlY29tZU9ic2VydmVkKHRoaW5nLCBhcmcyLCBhcmczKSB7XG4gIHJldHVybiBpbnRlcmNlcHRIb29rKE9OX0JFQ09NRV9PQlNFUlZFRCwgdGhpbmcsIGFyZzIsIGFyZzMpO1xufVxuZnVuY3Rpb24gb25CZWNvbWVVbm9ic2VydmVkKHRoaW5nLCBhcmcyLCBhcmczKSB7XG4gIHJldHVybiBpbnRlcmNlcHRIb29rKE9OX0JFQ09NRV9VTk9CU0VSVkVELCB0aGluZywgYXJnMiwgYXJnMyk7XG59XG5cbmZ1bmN0aW9uIGludGVyY2VwdEhvb2soaG9vaywgdGhpbmcsIGFyZzIsIGFyZzMpIHtcbiAgdmFyIGF0b20gPSB0eXBlb2YgYXJnMyA9PT0gXCJmdW5jdGlvblwiID8gZ2V0QXRvbSh0aGluZywgYXJnMikgOiBnZXRBdG9tKHRoaW5nKTtcbiAgdmFyIGNiID0gaXNGdW5jdGlvbihhcmczKSA/IGFyZzMgOiBhcmcyO1xuICB2YXIgbGlzdGVuZXJzS2V5ID0gaG9vayArIFwiTFwiO1xuXG4gIGlmIChhdG9tW2xpc3RlbmVyc0tleV0pIHtcbiAgICBhdG9tW2xpc3RlbmVyc0tleV0uYWRkKGNiKTtcbiAgfSBlbHNlIHtcbiAgICBhdG9tW2xpc3RlbmVyc0tleV0gPSBuZXcgU2V0KFtjYl0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaG9va0xpc3RlbmVycyA9IGF0b21bbGlzdGVuZXJzS2V5XTtcblxuICAgIGlmIChob29rTGlzdGVuZXJzKSB7XG4gICAgICBob29rTGlzdGVuZXJzW1wiZGVsZXRlXCJdKGNiKTtcblxuICAgICAgaWYgKGhvb2tMaXN0ZW5lcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBkZWxldGUgYXRvbVtsaXN0ZW5lcnNLZXldO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxudmFyIE5FVkVSID0gXCJuZXZlclwiO1xudmFyIEFMV0FZUyA9IFwiYWx3YXlzXCI7XG52YXIgT0JTRVJWRUQgPSBcIm9ic2VydmVkXCI7IC8vIGNvbnN0IElGX0FWQUlMQUJMRSA9IFwiaWZhdmFpbGFibGVcIlxuXG5mdW5jdGlvbiBjb25maWd1cmUob3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5pc29sYXRlR2xvYmFsU3RhdGUgPT09IHRydWUpIHtcbiAgICBpc29sYXRlR2xvYmFsU3RhdGUoKTtcbiAgfVxuXG4gIHZhciB1c2VQcm94aWVzID0gb3B0aW9ucy51c2VQcm94aWVzLFxuICAgICAgZW5mb3JjZUFjdGlvbnMgPSBvcHRpb25zLmVuZm9yY2VBY3Rpb25zO1xuXG4gIGlmICh1c2VQcm94aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICBnbG9iYWxTdGF0ZS51c2VQcm94aWVzID0gdXNlUHJveGllcyA9PT0gQUxXQVlTID8gdHJ1ZSA6IHVzZVByb3hpZXMgPT09IE5FVkVSID8gZmFsc2UgOiB0eXBlb2YgUHJveHkgIT09IFwidW5kZWZpbmVkXCI7XG4gIH1cblxuICBpZiAodXNlUHJveGllcyA9PT0gXCJpZmF2YWlsYWJsZVwiKSBnbG9iYWxTdGF0ZS52ZXJpZnlQcm94aWVzID0gdHJ1ZTtcblxuICBpZiAoZW5mb3JjZUFjdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBlYSA9IGVuZm9yY2VBY3Rpb25zID09PSBBTFdBWVMgPyBBTFdBWVMgOiBlbmZvcmNlQWN0aW9ucyA9PT0gT0JTRVJWRUQ7XG4gICAgZ2xvYmFsU3RhdGUuZW5mb3JjZUFjdGlvbnMgPSBlYTtcbiAgICBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlQ2hhbmdlcyA9IGVhID09PSB0cnVlIHx8IGVhID09PSBBTFdBWVMgPyBmYWxzZSA6IHRydWU7XG4gIH1cbiAgW1wiY29tcHV0ZWRSZXF1aXJlc1JlYWN0aW9uXCIsIFwicmVhY3Rpb25SZXF1aXJlc09ic2VydmFibGVcIiwgXCJvYnNlcnZhYmxlUmVxdWlyZXNSZWFjdGlvblwiLCBcImRpc2FibGVFcnJvckJvdW5kYXJpZXNcIiwgXCJzYWZlRGVzY3JpcHRvcnNcIl0uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSBpbiBvcHRpb25zKSBnbG9iYWxTdGF0ZVtrZXldID0gISFvcHRpb25zW2tleV07XG4gIH0pO1xuICBnbG9iYWxTdGF0ZS5hbGxvd1N0YXRlUmVhZHMgPSAhZ2xvYmFsU3RhdGUub2JzZXJ2YWJsZVJlcXVpcmVzUmVhY3Rpb247XG5cbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBnbG9iYWxTdGF0ZS5kaXNhYmxlRXJyb3JCb3VuZGFyaWVzID09PSB0cnVlKSB7XG4gICAgY29uc29sZS53YXJuKFwiV0FSTklORzogRGVidWcgZmVhdHVyZSBvbmx5LiBNb2JYIHdpbGwgTk9UIHJlY292ZXIgZnJvbSBlcnJvcnMgd2hlbiBgZGlzYWJsZUVycm9yQm91bmRhcmllc2AgaXMgZW5hYmxlZC5cIik7XG4gIH1cblxuICBpZiAob3B0aW9ucy5yZWFjdGlvblNjaGVkdWxlcikge1xuICAgIHNldFJlYWN0aW9uU2NoZWR1bGVyKG9wdGlvbnMucmVhY3Rpb25TY2hlZHVsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4dGVuZE9ic2VydmFibGUodGFyZ2V0LCBwcm9wZXJ0aWVzLCBhbm5vdGF0aW9ucywgb3B0aW9ucykge1xuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiA0KSBkaWUoXCInZXh0ZW5kT2JzZXJ2YWJsZScgZXhwZWN0ZWQgMi00IGFyZ3VtZW50c1wiKTtcbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIikgZGllKFwiJ2V4dGVuZE9ic2VydmFibGUnIGV4cGVjdHMgYW4gb2JqZWN0IGFzIGZpcnN0IGFyZ3VtZW50XCIpO1xuICAgIGlmIChpc09ic2VydmFibGVNYXAodGFyZ2V0KSkgZGllKFwiJ2V4dGVuZE9ic2VydmFibGUnIHNob3VsZCBub3QgYmUgdXNlZCBvbiBtYXBzLCB1c2UgbWFwLm1lcmdlIGluc3RlYWRcIik7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KHByb3BlcnRpZXMpKSBkaWUoXCInZXh0ZW5kT2JzZXJ2YWJlJyBvbmx5IGFjY2VwdHMgcGxhaW4gb2JqZWN0cyBhcyBzZWNvbmQgYXJndW1lbnRcIik7XG4gICAgaWYgKGlzT2JzZXJ2YWJsZShwcm9wZXJ0aWVzKSB8fCBpc09ic2VydmFibGUoYW5ub3RhdGlvbnMpKSBkaWUoXCJFeHRlbmRpbmcgYW4gb2JqZWN0IHdpdGggYW5vdGhlciBvYnNlcnZhYmxlIChvYmplY3QpIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gIH0gLy8gUHVsbCBkZXNjcmlwdG9ycyBmaXJzdCwgc28gd2UgZG9uJ3QgaGF2ZSB0byBkZWFsIHdpdGggcHJvcHMgYWRkZWQgYnkgYWRtaW5pc3RyYXRpb24gKCRtb2J4KVxuXG5cbiAgdmFyIGRlc2NyaXB0b3JzID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhwcm9wZXJ0aWVzKTtcbiAgdmFyIGFkbSA9IGFzT2JzZXJ2YWJsZU9iamVjdCh0YXJnZXQsIG9wdGlvbnMpWyRtb2J4XTtcbiAgc3RhcnRCYXRjaCgpO1xuXG4gIHRyeSB7XG4gICAgb3duS2V5cyhkZXNjcmlwdG9ycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBhZG0uZXh0ZW5kXyhrZXksIGRlc2NyaXB0b3JzW2tleV0sIC8vIG11c3QgcGFzcyBcInVuZGVmaW5lZFwiIGZvciB7IGtleTogdW5kZWZpbmVkIH1cbiAgICAgICFhbm5vdGF0aW9ucyA/IHRydWUgOiBrZXkgaW4gYW5ub3RhdGlvbnMgPyBhbm5vdGF0aW9uc1trZXldIDogdHJ1ZSk7XG4gICAgfSk7XG4gIH0gZmluYWxseSB7XG4gICAgZW5kQmF0Y2goKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGdldERlcGVuZGVuY3lUcmVlKHRoaW5nLCBwcm9wZXJ0eSkge1xuICByZXR1cm4gbm9kZVRvRGVwZW5kZW5jeVRyZWUoZ2V0QXRvbSh0aGluZywgcHJvcGVydHkpKTtcbn1cblxuZnVuY3Rpb24gbm9kZVRvRGVwZW5kZW5jeVRyZWUobm9kZSkge1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIG5hbWU6IG5vZGUubmFtZV9cbiAgfTtcbiAgaWYgKG5vZGUub2JzZXJ2aW5nXyAmJiBub2RlLm9ic2VydmluZ18ubGVuZ3RoID4gMCkgcmVzdWx0LmRlcGVuZGVuY2llcyA9IHVuaXF1ZShub2RlLm9ic2VydmluZ18pLm1hcChub2RlVG9EZXBlbmRlbmN5VHJlZSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGdldE9ic2VydmVyVHJlZSh0aGluZywgcHJvcGVydHkpIHtcbiAgcmV0dXJuIG5vZGVUb09ic2VydmVyVHJlZShnZXRBdG9tKHRoaW5nLCBwcm9wZXJ0eSkpO1xufVxuXG5mdW5jdGlvbiBub2RlVG9PYnNlcnZlclRyZWUobm9kZSkge1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIG5hbWU6IG5vZGUubmFtZV9cbiAgfTtcbiAgaWYgKGhhc09ic2VydmVycyhub2RlKSkgcmVzdWx0Lm9ic2VydmVycyA9IEFycmF5LmZyb20oZ2V0T2JzZXJ2ZXJzKG5vZGUpKS5tYXAobm9kZVRvT2JzZXJ2ZXJUcmVlKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdW5pcXVlKGxpc3QpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChsaXN0KSk7XG59XG5cbnZhciBnZW5lcmF0b3JJZCA9IDA7XG5mdW5jdGlvbiBGbG93Q2FuY2VsbGF0aW9uRXJyb3IoKSB7XG4gIHRoaXMubWVzc2FnZSA9IFwiRkxPV19DQU5DRUxMRURcIjtcbn1cbkZsb3dDYW5jZWxsYXRpb25FcnJvci5wcm90b3R5cGUgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuZnVuY3Rpb24gaXNGbG93Q2FuY2VsbGF0aW9uRXJyb3IoZXJyb3IpIHtcbiAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgRmxvd0NhbmNlbGxhdGlvbkVycm9yO1xufVxudmFyIGZsb3dBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZUZsb3dBbm5vdGF0aW9uKFwiZmxvd1wiKTtcbnZhciBmbG93Qm91bmRBbm5vdGF0aW9uID0gLyojX19QVVJFX18qL2NyZWF0ZUZsb3dBbm5vdGF0aW9uKFwiZmxvdy5ib3VuZFwiLCB7XG4gIGJvdW5kOiB0cnVlXG59KTtcbnZhciBmbG93ID0gLyojX19QVVJFX18qL09iamVjdC5hc3NpZ24oZnVuY3Rpb24gZmxvdyhhcmcxLCBhcmcyKSB7XG4gIC8vIEBmbG93XG4gIGlmIChpc1N0cmluZ2lzaChhcmcyKSkge1xuICAgIHJldHVybiBzdG9yZUFubm90YXRpb24oYXJnMSwgYXJnMiwgZmxvd0Fubm90YXRpb24pO1xuICB9IC8vIGZsb3coZm4pXG5cblxuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGFyZ3VtZW50cy5sZW5ndGggIT09IDEpIGRpZShcIkZsb3cgZXhwZWN0cyBzaW5nbGUgYXJndW1lbnQgd2l0aCBnZW5lcmF0b3IgZnVuY3Rpb25cIik7XG4gIHZhciBnZW5lcmF0b3IgPSBhcmcxO1xuICB2YXIgbmFtZSA9IGdlbmVyYXRvci5uYW1lIHx8IFwiPHVubmFtZWQgZmxvdz5cIjsgLy8gSW1wbGVtZW50YXRpb24gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL3RqL2NvL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG5cbiAgdmFyIHJlcyA9IGZ1bmN0aW9uIHJlcygpIHtcbiAgICB2YXIgY3R4ID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgcnVuSWQgPSArK2dlbmVyYXRvcklkO1xuICAgIHZhciBnZW4gPSBhY3Rpb24obmFtZSArIFwiIC0gcnVuaWQ6IFwiICsgcnVuSWQgKyBcIiAtIGluaXRcIiwgZ2VuZXJhdG9yKS5hcHBseShjdHgsIGFyZ3MpO1xuICAgIHZhciByZWplY3RvcjtcbiAgICB2YXIgcGVuZGluZ1Byb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgc3RlcElkID0gMDtcbiAgICAgIHJlamVjdG9yID0gcmVqZWN0O1xuXG4gICAgICBmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXMpIHtcbiAgICAgICAgcGVuZGluZ1Byb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciByZXQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXQgPSBhY3Rpb24obmFtZSArIFwiIC0gcnVuaWQ6IFwiICsgcnVuSWQgKyBcIiAtIHlpZWxkIFwiICsgc3RlcElkKyssIGdlbi5uZXh0KS5jYWxsKGdlbiwgcmVzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KHJldCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyKSB7XG4gICAgICAgIHBlbmRpbmdQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgcmV0O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0ID0gYWN0aW9uKG5hbWUgKyBcIiAtIHJ1bmlkOiBcIiArIHJ1bklkICsgXCIgLSB5aWVsZCBcIiArIHN0ZXBJZCsrLCBnZW5bXCJ0aHJvd1wiXSkuY2FsbChnZW4sIGVycik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV4dChyZXQpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBuZXh0KHJldCkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihyZXQgPT0gbnVsbCA/IHZvaWQgMCA6IHJldC50aGVuKSkge1xuICAgICAgICAgIC8vIGFuIGFzeW5jIGl0ZXJhdG9yXG4gICAgICAgICAgcmV0LnRoZW4obmV4dCwgcmVqZWN0KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmV0LmRvbmUpIHJldHVybiByZXNvbHZlKHJldC52YWx1ZSk7XG4gICAgICAgIHBlbmRpbmdQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHJldC52YWx1ZSk7XG4gICAgICAgIHJldHVybiBwZW5kaW5nUHJvbWlzZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbiAgICAgIH1cblxuICAgICAgb25GdWxmaWxsZWQodW5kZWZpbmVkKTsgLy8ga2ljayBvZmYgdGhlIHdpbmRvdy5wcm9jZXNzXG4gICAgfSk7XG4gICAgcHJvbWlzZS5jYW5jZWwgPSBhY3Rpb24obmFtZSArIFwiIC0gcnVuaWQ6IFwiICsgcnVuSWQgKyBcIiAtIGNhbmNlbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocGVuZGluZ1Byb21pc2UpIGNhbmNlbFByb21pc2UocGVuZGluZ1Byb21pc2UpOyAvLyBGaW5hbGx5IGJsb2NrIGNhbiByZXR1cm4gKG9yIHlpZWxkKSBzdHVmZi4uXG5cbiAgICAgICAgdmFyIF9yZXMgPSBnZW5bXCJyZXR1cm5cIl0odW5kZWZpbmVkKTsgLy8gZWF0IGFueXRoaW5nIHRoYXQgcHJvbWlzZSB3b3VsZCBkbywgaXQncyBjYW5jZWxsZWQhXG5cblxuICAgICAgICB2YXIgeWllbGRlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoX3Jlcy52YWx1ZSk7XG4gICAgICAgIHlpZWxkZWRQcm9taXNlLnRoZW4obm9vcCwgbm9vcCk7XG4gICAgICAgIGNhbmNlbFByb21pc2UoeWllbGRlZFByb21pc2UpOyAvLyBtYXliZSBpdCBjYW4gYmUgY2FuY2VsbGVkIDopXG4gICAgICAgIC8vIHJlamVjdCBvdXIgb3JpZ2luYWwgcHJvbWlzZVxuXG4gICAgICAgIHJlamVjdG9yKG5ldyBGbG93Q2FuY2VsbGF0aW9uRXJyb3IoKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdG9yKGUpOyAvLyB0aGVyZSBjb3VsZCBiZSBhIHRocm93aW5nIGZpbmFsbHkgYmxvY2tcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcblxuICByZXMuaXNNb2JYRmxvdyA9IHRydWU7XG4gIHJldHVybiByZXM7XG59LCBmbG93QW5ub3RhdGlvbik7XG5mbG93LmJvdW5kID0gLyojX19QVVJFX18qL2NyZWF0ZURlY29yYXRvckFubm90YXRpb24oZmxvd0JvdW5kQW5ub3RhdGlvbik7XG5cbmZ1bmN0aW9uIGNhbmNlbFByb21pc2UocHJvbWlzZSkge1xuICBpZiAoaXNGdW5jdGlvbihwcm9taXNlLmNhbmNlbCkpIHByb21pc2UuY2FuY2VsKCk7XG59XG5cbmZ1bmN0aW9uIGZsb3dSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiByZXN1bHQ7IC8vIGp1c3QgdHJpY2tpbmcgVHlwZVNjcmlwdCA6KVxufVxuZnVuY3Rpb24gaXNGbG93KGZuKSB7XG4gIHJldHVybiAoZm4gPT0gbnVsbCA/IHZvaWQgMCA6IGZuLmlzTW9iWEZsb3cpID09PSB0cnVlO1xufVxuXG5mdW5jdGlvbiBpbnRlcmNlcHRSZWFkcyh0aGluZywgcHJvcE9ySGFuZGxlciwgaGFuZGxlcikge1xuICB2YXIgdGFyZ2V0O1xuXG4gIGlmIChpc09ic2VydmFibGVNYXAodGhpbmcpIHx8IGlzT2JzZXJ2YWJsZUFycmF5KHRoaW5nKSB8fCBpc09ic2VydmFibGVWYWx1ZSh0aGluZykpIHtcbiAgICB0YXJnZXQgPSBnZXRBZG1pbmlzdHJhdGlvbih0aGluZyk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KHRoaW5nKSkge1xuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgIWlzU3RyaW5naXNoKHByb3BPckhhbmRsZXIpKSByZXR1cm4gZGllKFwiSW50ZXJjZXB0UmVhZHMgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGEgc3BlY2lmaWMgcHJvcGVydHksIG5vdCB3aXRoIGFuIG9iamVjdCBpbiBnZW5lcmFsXCIpO1xuICAgIHRhcmdldCA9IGdldEFkbWluaXN0cmF0aW9uKHRoaW5nLCBwcm9wT3JIYW5kbGVyKTtcbiAgfSBlbHNlIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICByZXR1cm4gZGllKFwiRXhwZWN0ZWQgb2JzZXJ2YWJsZSBtYXAsIG9iamVjdCBvciBhcnJheSBhcyBmaXJzdCBhcnJheVwiKTtcbiAgfVxuXG4gIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgdGFyZ2V0LmRlaGFuY2VyICE9PSB1bmRlZmluZWQpIHJldHVybiBkaWUoXCJBbiBpbnRlcmNlcHQgcmVhZGVyIHdhcyBhbHJlYWR5IGVzdGFibGlzaGVkXCIpO1xuICB0YXJnZXQuZGVoYW5jZXIgPSB0eXBlb2YgcHJvcE9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiID8gcHJvcE9ySGFuZGxlciA6IGhhbmRsZXI7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdGFyZ2V0LmRlaGFuY2VyID0gdW5kZWZpbmVkO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpbnRlcmNlcHQodGhpbmcsIHByb3BPckhhbmRsZXIsIGhhbmRsZXIpIHtcbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHJldHVybiBpbnRlcmNlcHRQcm9wZXJ0eSh0aGluZywgcHJvcE9ySGFuZGxlciwgaGFuZGxlcik7ZWxzZSByZXR1cm4gaW50ZXJjZXB0SW50ZXJjZXB0YWJsZSh0aGluZywgcHJvcE9ySGFuZGxlcik7XG59XG5cbmZ1bmN0aW9uIGludGVyY2VwdEludGVyY2VwdGFibGUodGhpbmcsIGhhbmRsZXIpIHtcbiAgcmV0dXJuIGdldEFkbWluaXN0cmF0aW9uKHRoaW5nKS5pbnRlcmNlcHRfKGhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBpbnRlcmNlcHRQcm9wZXJ0eSh0aGluZywgcHJvcGVydHksIGhhbmRsZXIpIHtcbiAgcmV0dXJuIGdldEFkbWluaXN0cmF0aW9uKHRoaW5nLCBwcm9wZXJ0eSkuaW50ZXJjZXB0XyhoYW5kbGVyKTtcbn1cblxuZnVuY3Rpb24gX2lzQ29tcHV0ZWQodmFsdWUsIHByb3BlcnR5KSB7XG4gIGlmIChwcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdCh2YWx1ZSkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCF2YWx1ZVskbW9ieF0udmFsdWVzXy5oYXMocHJvcGVydHkpKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGF0b20gPSBnZXRBdG9tKHZhbHVlLCBwcm9wZXJ0eSk7XG4gICAgcmV0dXJuIGlzQ29tcHV0ZWRWYWx1ZShhdG9tKTtcbiAgfVxuXG4gIHJldHVybiBpc0NvbXB1dGVkVmFsdWUodmFsdWUpO1xufVxuZnVuY3Rpb24gaXNDb21wdXRlZCh2YWx1ZSkge1xuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGFyZ3VtZW50cy5sZW5ndGggPiAxKSByZXR1cm4gZGllKFwiaXNDb21wdXRlZCBleHBlY3RzIG9ubHkgMSBhcmd1bWVudC4gVXNlIGlzQ29tcHV0ZWRQcm9wIHRvIGluc3BlY3QgdGhlIG9ic2VydmFiaWxpdHkgb2YgYSBwcm9wZXJ0eVwiKTtcbiAgcmV0dXJuIF9pc0NvbXB1dGVkKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzQ29tcHV0ZWRQcm9wKHZhbHVlLCBwcm9wTmFtZSkge1xuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFpc1N0cmluZ2lzaChwcm9wTmFtZSkpIHJldHVybiBkaWUoXCJpc0NvbXB1dGVkIGV4cGVjdGVkIGEgcHJvcGVydHkgbmFtZSBhcyBzZWNvbmQgYXJndW1lbnRcIik7XG4gIHJldHVybiBfaXNDb21wdXRlZCh2YWx1ZSwgcHJvcE5hbWUpO1xufVxuXG5mdW5jdGlvbiBfaXNPYnNlcnZhYmxlKHZhbHVlLCBwcm9wZXJ0eSkge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHByb3BlcnR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIChpc09ic2VydmFibGVNYXAodmFsdWUpIHx8IGlzT2JzZXJ2YWJsZUFycmF5KHZhbHVlKSkpIHJldHVybiBkaWUoXCJpc09ic2VydmFibGUob2JqZWN0LCBwcm9wZXJ0eU5hbWUpIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIGFycmF5cyBhbmQgbWFwcy4gVXNlIG1hcC5oYXMgb3IgYXJyYXkubGVuZ3RoIGluc3RlYWQuXCIpO1xuXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZVskbW9ieF0udmFsdWVzXy5oYXMocHJvcGVydHkpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBGb3IgZmlyc3QgY2hlY2ssIHNlZSAjNzAxXG5cblxuICByZXR1cm4gaXNPYnNlcnZhYmxlT2JqZWN0KHZhbHVlKSB8fCAhIXZhbHVlWyRtb2J4XSB8fCBpc0F0b20odmFsdWUpIHx8IGlzUmVhY3Rpb24odmFsdWUpIHx8IGlzQ29tcHV0ZWRWYWx1ZSh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGlzT2JzZXJ2YWJsZSh2YWx1ZSkge1xuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGFyZ3VtZW50cy5sZW5ndGggIT09IDEpIGRpZShcImlzT2JzZXJ2YWJsZSBleHBlY3RzIG9ubHkgMSBhcmd1bWVudC4gVXNlIGlzT2JzZXJ2YWJsZVByb3AgdG8gaW5zcGVjdCB0aGUgb2JzZXJ2YWJpbGl0eSBvZiBhIHByb3BlcnR5XCIpO1xuICByZXR1cm4gX2lzT2JzZXJ2YWJsZSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBpc09ic2VydmFibGVQcm9wKHZhbHVlLCBwcm9wTmFtZSkge1xuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFpc1N0cmluZ2lzaChwcm9wTmFtZSkpIHJldHVybiBkaWUoXCJleHBlY3RlZCBhIHByb3BlcnR5IG5hbWUgYXMgc2Vjb25kIGFyZ3VtZW50XCIpO1xuICByZXR1cm4gX2lzT2JzZXJ2YWJsZSh2YWx1ZSwgcHJvcE5hbWUpO1xufVxuXG5mdW5jdGlvbiBrZXlzKG9iaikge1xuICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KG9iaikpIHtcbiAgICByZXR1cm4gb2JqWyRtb2J4XS5rZXlzXygpO1xuICB9XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZU1hcChvYmopIHx8IGlzT2JzZXJ2YWJsZVNldChvYmopKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ob2JqLmtleXMoKSk7XG4gIH1cblxuICBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBvYmoubWFwKGZ1bmN0aW9uIChfLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0pO1xuICB9XG5cbiAgZGllKDUpO1xufVxuZnVuY3Rpb24gdmFsdWVzKG9iaikge1xuICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KG9iaikpIHtcbiAgICByZXR1cm4ga2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNPYnNlcnZhYmxlTWFwKG9iaikpIHtcbiAgICByZXR1cm4ga2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gb2JqLmdldChrZXkpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZVNldChvYmopKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ob2JqLnZhbHVlcygpKTtcbiAgfVxuXG4gIGlmIChpc09ic2VydmFibGVBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIG9iai5zbGljZSgpO1xuICB9XG5cbiAgZGllKDYpO1xufVxuZnVuY3Rpb24gZW50cmllcyhvYmopIHtcbiAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdChvYmopKSB7XG4gICAgcmV0dXJuIGtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIFtrZXksIG9ialtrZXldXTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc09ic2VydmFibGVNYXAob2JqKSkge1xuICAgIHJldHVybiBrZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmouZ2V0KGtleSldO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZVNldChvYmopKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ob2JqLmVudHJpZXMoKSk7XG4gIH1cblxuICBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBvYmoubWFwKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG4gICAgICByZXR1cm4gW2luZGV4LCBrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgZGllKDcpO1xufVxuZnVuY3Rpb24gc2V0KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiAhaXNPYnNlcnZhYmxlU2V0KG9iaikpIHtcbiAgICBzdGFydEJhdGNoKCk7XG4gICAgdmFyIF92YWx1ZXMgPSBrZXk7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2tleSBpbiBfdmFsdWVzKSB7XG4gICAgICAgIHNldChvYmosIF9rZXksIF92YWx1ZXNbX2tleV0pO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBlbmRCYXRjaCgpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpc09ic2VydmFibGVPYmplY3Qob2JqKSkge1xuICAgIG9ialskbW9ieF0uc2V0XyhrZXksIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc09ic2VydmFibGVNYXAob2JqKSkge1xuICAgIG9iai5zZXQoa2V5LCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlU2V0KG9iaikpIHtcbiAgICBvYmouYWRkKGtleSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSBcIm51bWJlclwiKSBrZXkgPSBwYXJzZUludChrZXksIDEwKTtcbiAgICBpZiAoa2V5IDwgMCkgZGllKFwiSW52YWxpZCBpbmRleDogJ1wiICsga2V5ICsgXCInXCIpO1xuICAgIHN0YXJ0QmF0Y2goKTtcbiAgICBpZiAoa2V5ID49IG9iai5sZW5ndGgpIG9iai5sZW5ndGggPSBrZXkgKyAxO1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgZW5kQmF0Y2goKTtcbiAgfSBlbHNlIGRpZSg4KTtcbn1cbmZ1bmN0aW9uIHJlbW92ZShvYmosIGtleSkge1xuICBpZiAoaXNPYnNlcnZhYmxlT2JqZWN0KG9iaikpIHtcbiAgICBvYmpbJG1vYnhdLmRlbGV0ZV8oa2V5KTtcbiAgfSBlbHNlIGlmIChpc09ic2VydmFibGVNYXAob2JqKSkge1xuICAgIG9ialtcImRlbGV0ZVwiXShrZXkpO1xuICB9IGVsc2UgaWYgKGlzT2JzZXJ2YWJsZVNldChvYmopKSB7XG4gICAgb2JqW1wiZGVsZXRlXCJdKGtleSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSBcIm51bWJlclwiKSBrZXkgPSBwYXJzZUludChrZXksIDEwKTtcbiAgICBvYmouc3BsaWNlKGtleSwgMSk7XG4gIH0gZWxzZSB7XG4gICAgZGllKDkpO1xuICB9XG59XG5mdW5jdGlvbiBoYXMob2JqLCBrZXkpIHtcbiAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdChvYmopKSB7XG4gICAgcmV0dXJuIG9ialskbW9ieF0uaGFzXyhrZXkpO1xuICB9IGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU1hcChvYmopKSB7XG4gICAgcmV0dXJuIG9iai5oYXMoa2V5KTtcbiAgfSBlbHNlIGlmIChpc09ic2VydmFibGVTZXQob2JqKSkge1xuICAgIHJldHVybiBvYmouaGFzKGtleSk7XG4gIH0gZWxzZSBpZiAoaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkge1xuICAgIHJldHVybiBrZXkgPj0gMCAmJiBrZXkgPCBvYmoubGVuZ3RoO1xuICB9XG5cbiAgZGllKDEwKTtcbn1cbmZ1bmN0aW9uIGdldChvYmosIGtleSkge1xuICBpZiAoIWhhcyhvYmosIGtleSkpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdChvYmopKSB7XG4gICAgcmV0dXJuIG9ialskbW9ieF0uZ2V0XyhrZXkpO1xuICB9IGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU1hcChvYmopKSB7XG4gICAgcmV0dXJuIG9iai5nZXQoa2V5KTtcbiAgfSBlbHNlIGlmIChpc09ic2VydmFibGVBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG5cbiAgZGllKDExKTtcbn1cbmZ1bmN0aW9uIGFwaURlZmluZVByb3BlcnR5KG9iaiwga2V5LCBkZXNjcmlwdG9yKSB7XG4gIGlmIChpc09ic2VydmFibGVPYmplY3Qob2JqKSkge1xuICAgIHJldHVybiBvYmpbJG1vYnhdLmRlZmluZVByb3BlcnR5XyhrZXksIGRlc2NyaXB0b3IpO1xuICB9XG5cbiAgZGllKDM5KTtcbn1cbmZ1bmN0aW9uIGFwaU93bktleXMob2JqKSB7XG4gIGlmIChpc09ic2VydmFibGVPYmplY3Qob2JqKSkge1xuICAgIHJldHVybiBvYmpbJG1vYnhdLm93bktleXNfKCk7XG4gIH1cblxuICBkaWUoMzgpO1xufVxuXG5mdW5jdGlvbiBvYnNlcnZlKHRoaW5nLCBwcm9wT3JDYiwgY2JPckZpcmUsIGZpcmVJbW1lZGlhdGVseSkge1xuICBpZiAoaXNGdW5jdGlvbihjYk9yRmlyZSkpIHJldHVybiBvYnNlcnZlT2JzZXJ2YWJsZVByb3BlcnR5KHRoaW5nLCBwcm9wT3JDYiwgY2JPckZpcmUsIGZpcmVJbW1lZGlhdGVseSk7ZWxzZSByZXR1cm4gb2JzZXJ2ZU9ic2VydmFibGUodGhpbmcsIHByb3BPckNiLCBjYk9yRmlyZSk7XG59XG5cbmZ1bmN0aW9uIG9ic2VydmVPYnNlcnZhYmxlKHRoaW5nLCBsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gIHJldHVybiBnZXRBZG1pbmlzdHJhdGlvbih0aGluZykub2JzZXJ2ZV8obGlzdGVuZXIsIGZpcmVJbW1lZGlhdGVseSk7XG59XG5cbmZ1bmN0aW9uIG9ic2VydmVPYnNlcnZhYmxlUHJvcGVydHkodGhpbmcsIHByb3BlcnR5LCBsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gIHJldHVybiBnZXRBZG1pbmlzdHJhdGlvbih0aGluZywgcHJvcGVydHkpLm9ic2VydmVfKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpO1xufVxuXG5mdW5jdGlvbiBjYWNoZShtYXAsIGtleSwgdmFsdWUpIHtcbiAgbWFwLnNldChrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiB0b0pTSGVscGVyKHNvdXJjZSwgX19hbHJlYWR5U2Vlbikge1xuICBpZiAoc291cmNlID09IG51bGwgfHwgdHlwZW9mIHNvdXJjZSAhPT0gXCJvYmplY3RcIiB8fCBzb3VyY2UgaW5zdGFuY2VvZiBEYXRlIHx8ICFpc09ic2VydmFibGUoc291cmNlKSkgcmV0dXJuIHNvdXJjZTtcbiAgaWYgKGlzT2JzZXJ2YWJsZVZhbHVlKHNvdXJjZSkgfHwgaXNDb21wdXRlZFZhbHVlKHNvdXJjZSkpIHJldHVybiB0b0pTSGVscGVyKHNvdXJjZS5nZXQoKSwgX19hbHJlYWR5U2Vlbik7XG5cbiAgaWYgKF9fYWxyZWFkeVNlZW4uaGFzKHNvdXJjZSkpIHtcbiAgICByZXR1cm4gX19hbHJlYWR5U2Vlbi5nZXQoc291cmNlKTtcbiAgfVxuXG4gIGlmIChpc09ic2VydmFibGVBcnJheShzb3VyY2UpKSB7XG4gICAgdmFyIHJlcyA9IGNhY2hlKF9fYWxyZWFkeVNlZW4sIHNvdXJjZSwgbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpKTtcbiAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGlkeCkge1xuICAgICAgcmVzW2lkeF0gPSB0b0pTSGVscGVyKHZhbHVlLCBfX2FscmVhZHlTZWVuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgaWYgKGlzT2JzZXJ2YWJsZVNldChzb3VyY2UpKSB7XG4gICAgdmFyIF9yZXMgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIG5ldyBTZXQoKSk7XG5cbiAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIF9yZXMuYWRkKHRvSlNIZWxwZXIodmFsdWUsIF9fYWxyZWFkeVNlZW4pKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3JlcztcbiAgfVxuXG4gIGlmIChpc09ic2VydmFibGVNYXAoc291cmNlKSkge1xuICAgIHZhciBfcmVzMiA9IGNhY2hlKF9fYWxyZWFkeVNlZW4sIHNvdXJjZSwgbmV3IE1hcCgpKTtcblxuICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICBfcmVzMi5zZXQoa2V5LCB0b0pTSGVscGVyKHZhbHVlLCBfX2FscmVhZHlTZWVuKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIF9yZXMyO1xuICB9IGVsc2Uge1xuICAgIC8vIG11c3QgYmUgb2JzZXJ2YWJsZSBvYmplY3RcbiAgICB2YXIgX3JlczMgPSBjYWNoZShfX2FscmVhZHlTZWVuLCBzb3VyY2UsIHt9KTtcblxuICAgIGFwaU93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChvYmplY3RQcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgX3JlczNba2V5XSA9IHRvSlNIZWxwZXIoc291cmNlW2tleV0sIF9fYWxyZWFkeVNlZW4pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfcmVzMztcbiAgfVxufVxuLyoqXG4gKiBCYXNpY2FsbHksIGEgZGVlcCBjbG9uZSwgc28gdGhhdCBubyByZWFjdGl2ZSBwcm9wZXJ0eSB3aWxsIGV4aXN0IGFueW1vcmUuXG4gKi9cblxuXG5mdW5jdGlvbiB0b0pTKHNvdXJjZSwgb3B0aW9ucykge1xuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIG9wdGlvbnMpIGRpZShcInRvSlMgbm8gbG9uZ2VyIHN1cHBvcnRzIG9wdGlvbnNcIik7XG4gIHJldHVybiB0b0pTSGVscGVyKHNvdXJjZSwgbmV3IE1hcCgpKTtcbn1cblxuZnVuY3Rpb24gdHJhY2UoKSB7XG4gIGlmICghKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIGRpZShcInRyYWNlKCkgaXMgbm90IGF2YWlsYWJsZSBpbiBwcm9kdWN0aW9uIGJ1aWxkc1wiKTtcbiAgdmFyIGVudGVyQnJlYWtQb2ludCA9IGZhbHNlO1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gXCJib29sZWFuXCIpIGVudGVyQnJlYWtQb2ludCA9IGFyZ3MucG9wKCk7XG4gIHZhciBkZXJpdmF0aW9uID0gZ2V0QXRvbUZyb21BcmdzKGFyZ3MpO1xuXG4gIGlmICghZGVyaXZhdGlvbikge1xuICAgIHJldHVybiBkaWUoXCIndHJhY2UoYnJlYWs/KScgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgYSB0cmFja2VkIGNvbXB1dGVkIHZhbHVlIG9yIGEgUmVhY3Rpb24uIENvbnNpZGVyIHBhc3NpbmcgaW4gdGhlIGNvbXB1dGVkIHZhbHVlIG9yIHJlYWN0aW9uIGV4cGxpY2l0bHlcIik7XG4gIH1cblxuICBpZiAoZGVyaXZhdGlvbi5pc1RyYWNpbmdfID09PSBUcmFjZU1vZGUuTk9ORSkge1xuICAgIGNvbnNvbGUubG9nKFwiW21vYngudHJhY2VdICdcIiArIGRlcml2YXRpb24ubmFtZV8gKyBcIicgdHJhY2luZyBlbmFibGVkXCIpO1xuICB9XG5cbiAgZGVyaXZhdGlvbi5pc1RyYWNpbmdfID0gZW50ZXJCcmVha1BvaW50ID8gVHJhY2VNb2RlLkJSRUFLIDogVHJhY2VNb2RlLkxPRztcbn1cblxuZnVuY3Rpb24gZ2V0QXRvbUZyb21BcmdzKGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHJldHVybiBnbG9iYWxTdGF0ZS50cmFja2luZ0Rlcml2YXRpb247XG5cbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4gZ2V0QXRvbShhcmdzWzBdKTtcblxuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiBnZXRBdG9tKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICB9XG59XG5cbi8qKlxuICogRHVyaW5nIGEgdHJhbnNhY3Rpb24gbm8gdmlld3MgYXJlIHVwZGF0ZWQgdW50aWwgdGhlIGVuZCBvZiB0aGUgdHJhbnNhY3Rpb24uXG4gKiBUaGUgdHJhbnNhY3Rpb24gd2lsbCBiZSBydW4gc3luY2hyb25vdXNseSBub25ldGhlbGVzcy5cbiAqXG4gKiBAcGFyYW0gYWN0aW9uIGEgZnVuY3Rpb24gdGhhdCB1cGRhdGVzIHNvbWUgcmVhY3RpdmUgc3RhdGVcbiAqIEByZXR1cm5zIGFueSB2YWx1ZSB0aGF0IHdhcyByZXR1cm5lZCBieSB0aGUgJ2FjdGlvbicgcGFyYW1ldGVyLlxuICovXG5cbmZ1bmN0aW9uIHRyYW5zYWN0aW9uKGFjdGlvbiwgdGhpc0FyZykge1xuICBpZiAodGhpc0FyZyA9PT0gdm9pZCAwKSB7XG4gICAgdGhpc0FyZyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHN0YXJ0QmF0Y2goKTtcblxuICB0cnkge1xuICAgIHJldHVybiBhY3Rpb24uYXBwbHkodGhpc0FyZyk7XG4gIH0gZmluYWxseSB7XG4gICAgZW5kQmF0Y2goKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3aGVuKHByZWRpY2F0ZSwgYXJnMSwgYXJnMikge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSB8fCBhcmcxICYmIHR5cGVvZiBhcmcxID09PSBcIm9iamVjdFwiKSByZXR1cm4gd2hlblByb21pc2UocHJlZGljYXRlLCBhcmcxKTtcbiAgcmV0dXJuIF93aGVuKHByZWRpY2F0ZSwgYXJnMSwgYXJnMiB8fCB7fSk7XG59XG5cbmZ1bmN0aW9uIF93aGVuKHByZWRpY2F0ZSwgZWZmZWN0LCBvcHRzKSB7XG4gIHZhciB0aW1lb3V0SGFuZGxlO1xuXG4gIGlmICh0eXBlb2Ygb3B0cy50aW1lb3V0ID09PSBcIm51bWJlclwiKSB7XG4gICAgdGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFkaXNwb3NlclskbW9ieF0uaXNEaXNwb3NlZF8pIHtcbiAgICAgICAgZGlzcG9zZXIoKTtcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiV0hFTl9USU1FT1VUXCIpO1xuICAgICAgICBpZiAob3B0cy5vbkVycm9yKSBvcHRzLm9uRXJyb3IoZXJyb3IpO2Vsc2UgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSwgb3B0cy50aW1lb3V0KTtcbiAgfVxuXG4gIG9wdHMubmFtZSA9IE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IG9wdHMubmFtZSB8fCBcIldoZW5AXCIgKyBnZXROZXh0SWQoKSA6IFwiV2hlblwiO1xuICB2YXIgZWZmZWN0QWN0aW9uID0gY3JlYXRlQWN0aW9uKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IG9wdHMubmFtZSArIFwiLWVmZmVjdFwiIDogXCJXaGVuLWVmZmVjdFwiLCBlZmZlY3QpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuICB2YXIgZGlzcG9zZXIgPSBhdXRvcnVuKGZ1bmN0aW9uIChyKSB7XG4gICAgLy8gcHJlZGljYXRlIHNob3VsZCBub3QgY2hhbmdlIHN0YXRlXG4gICAgdmFyIGNvbmQgPSBhbGxvd1N0YXRlQ2hhbmdlcyhmYWxzZSwgcHJlZGljYXRlKTtcblxuICAgIGlmIChjb25kKSB7XG4gICAgICByLmRpc3Bvc2UoKTtcbiAgICAgIGlmICh0aW1lb3V0SGFuZGxlKSBjbGVhclRpbWVvdXQodGltZW91dEhhbmRsZSk7XG4gICAgICBlZmZlY3RBY3Rpb24oKTtcbiAgICB9XG4gIH0sIG9wdHMpO1xuICByZXR1cm4gZGlzcG9zZXI7XG59XG5cbmZ1bmN0aW9uIHdoZW5Qcm9taXNlKHByZWRpY2F0ZSwgb3B0cykge1xuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIG9wdHMgJiYgb3B0cy5vbkVycm9yKSByZXR1cm4gZGllKFwidGhlIG9wdGlvbnMgJ29uRXJyb3InIGFuZCAncHJvbWlzZScgY2Fubm90IGJlIGNvbWJpbmVkXCIpO1xuICB2YXIgY2FuY2VsO1xuICB2YXIgcmVzID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBkaXNwb3NlciA9IF93aGVuKHByZWRpY2F0ZSwgcmVzb2x2ZSwgX2V4dGVuZHMoe30sIG9wdHMsIHtcbiAgICAgIG9uRXJyb3I6IHJlamVjdFxuICAgIH0pKTtcblxuICAgIGNhbmNlbCA9IGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgIGRpc3Bvc2VyKCk7XG4gICAgICByZWplY3QoXCJXSEVOX0NBTkNFTExFRFwiKTtcbiAgICB9O1xuICB9KTtcbiAgcmVzLmNhbmNlbCA9IGNhbmNlbDtcbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gZ2V0QWRtKHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0WyRtb2J4XTtcbn0gLy8gT3B0aW1pemF0aW9uOiB3ZSBkb24ndCBuZWVkIHRoZSBpbnRlcm1lZGlhdGUgb2JqZWN0cyBhbmQgY291bGQgaGF2ZSBhIGNvbXBsZXRlbHkgY3VzdG9tIGFkbWluaXN0cmF0aW9uIGZvciBEeW5hbWljT2JqZWN0cyxcbi8vIGFuZCBza2lwIGVpdGhlciB0aGUgaW50ZXJuYWwgdmFsdWVzIG1hcCwgb3IgdGhlIGJhc2Ugb2JqZWN0IHdpdGggaXRzIHByb3BlcnR5IGRlc2NyaXB0b3JzIVxuXG5cbnZhciBvYmplY3RQcm94eVRyYXBzID0ge1xuICBoYXM6IGZ1bmN0aW9uIGhhcyh0YXJnZXQsIG5hbWUpIHtcbiAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbikgd2FybkFib3V0UHJveHlSZXF1aXJlbWVudChcImRldGVjdCBuZXcgcHJvcGVydGllcyB1c2luZyB0aGUgJ2luJyBvcGVyYXRvci4gVXNlICdoYXMnIGZyb20gJ21vYngnIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiBnZXRBZG0odGFyZ2V0KS5oYXNfKG5hbWUpO1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uIGdldCh0YXJnZXQsIG5hbWUpIHtcbiAgICByZXR1cm4gZ2V0QWRtKHRhcmdldCkuZ2V0XyhuYW1lKTtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiBzZXQodGFyZ2V0LCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBfZ2V0QWRtJHNldF87XG5cbiAgICBpZiAoIWlzU3RyaW5naXNoKG5hbWUpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFnZXRBZG0odGFyZ2V0KS52YWx1ZXNfLmhhcyhuYW1lKSkge1xuICAgICAgd2FybkFib3V0UHJveHlSZXF1aXJlbWVudChcImFkZCBhIG5ldyBvYnNlcnZhYmxlIHByb3BlcnR5IHRocm91Z2ggZGlyZWN0IGFzc2lnbm1lbnQuIFVzZSAnc2V0JyBmcm9tICdtb2J4JyBpbnN0ZWFkLlwiKTtcbiAgICB9IC8vIG51bGwgKGludGVyY2VwdGVkKSAtPiB0cnVlIChzdWNjZXNzKVxuXG5cbiAgICByZXR1cm4gKF9nZXRBZG0kc2V0XyA9IGdldEFkbSh0YXJnZXQpLnNldF8obmFtZSwgdmFsdWUsIHRydWUpKSAhPSBudWxsID8gX2dldEFkbSRzZXRfIDogdHJ1ZTtcbiAgfSxcbiAgZGVsZXRlUHJvcGVydHk6IGZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwgbmFtZSkge1xuICAgIHZhciBfZ2V0QWRtJGRlbGV0ZV87XG5cbiAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICB3YXJuQWJvdXRQcm94eVJlcXVpcmVtZW50KFwiZGVsZXRlIHByb3BlcnRpZXMgZnJvbSBhbiBvYnNlcnZhYmxlIG9iamVjdC4gVXNlICdyZW1vdmUnIGZyb20gJ21vYngnIGluc3RlYWQuXCIpO1xuICAgIH1cblxuICAgIGlmICghaXNTdHJpbmdpc2gobmFtZSkpIHJldHVybiBmYWxzZTsgLy8gbnVsbCAoaW50ZXJjZXB0ZWQpIC0+IHRydWUgKHN1Y2Nlc3MpXG5cbiAgICByZXR1cm4gKF9nZXRBZG0kZGVsZXRlXyA9IGdldEFkbSh0YXJnZXQpLmRlbGV0ZV8obmFtZSwgdHJ1ZSkpICE9IG51bGwgPyBfZ2V0QWRtJGRlbGV0ZV8gOiB0cnVlO1xuICB9LFxuICBkZWZpbmVQcm9wZXJ0eTogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gICAgdmFyIF9nZXRBZG0kZGVmaW5lUHJvcGVydDtcblxuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIHdhcm5BYm91dFByb3h5UmVxdWlyZW1lbnQoXCJkZWZpbmUgcHJvcGVydHkgb24gYW4gb2JzZXJ2YWJsZSBvYmplY3QuIFVzZSAnZGVmaW5lUHJvcGVydHknIGZyb20gJ21vYngnIGluc3RlYWQuXCIpO1xuICAgIH0gLy8gbnVsbCAoaW50ZXJjZXB0ZWQpIC0+IHRydWUgKHN1Y2Nlc3MpXG5cblxuICAgIHJldHVybiAoX2dldEFkbSRkZWZpbmVQcm9wZXJ0ID0gZ2V0QWRtKHRhcmdldCkuZGVmaW5lUHJvcGVydHlfKG5hbWUsIGRlc2NyaXB0b3IpKSAhPSBudWxsID8gX2dldEFkbSRkZWZpbmVQcm9wZXJ0IDogdHJ1ZTtcbiAgfSxcbiAgb3duS2V5czogZnVuY3Rpb24gb3duS2V5cyh0YXJnZXQpIHtcbiAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbikgd2FybkFib3V0UHJveHlSZXF1aXJlbWVudChcIml0ZXJhdGUga2V5cyB0byBkZXRlY3QgYWRkZWQgLyByZW1vdmVkIHByb3BlcnRpZXMuIFVzZSAna2V5cycgZnJvbSAnbW9ieCcgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIGdldEFkbSh0YXJnZXQpLm93bktleXNfKCk7XG4gIH0sXG4gIHByZXZlbnRFeHRlbnNpb25zOiBmdW5jdGlvbiBwcmV2ZW50RXh0ZW5zaW9ucyh0YXJnZXQpIHtcbiAgICBkaWUoMTMpO1xuICB9XG59O1xuZnVuY3Rpb24gYXNEeW5hbWljT2JzZXJ2YWJsZU9iamVjdCh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgdmFyIF90YXJnZXQkJG1vYngsIF90YXJnZXQkJG1vYngkcHJveHlfO1xuXG4gIGFzc2VydFByb3hpZXMoKTtcbiAgdGFyZ2V0ID0gYXNPYnNlcnZhYmxlT2JqZWN0KHRhcmdldCwgb3B0aW9ucyk7XG4gIHJldHVybiAoX3RhcmdldCQkbW9ieCRwcm94eV8gPSAoX3RhcmdldCQkbW9ieCA9IHRhcmdldFskbW9ieF0pLnByb3h5XykgIT0gbnVsbCA/IF90YXJnZXQkJG1vYngkcHJveHlfIDogX3RhcmdldCQkbW9ieC5wcm94eV8gPSBuZXcgUHJveHkodGFyZ2V0LCBvYmplY3RQcm94eVRyYXBzKTtcbn1cblxuZnVuY3Rpb24gaGFzSW50ZXJjZXB0b3JzKGludGVyY2VwdGFibGUpIHtcbiAgcmV0dXJuIGludGVyY2VwdGFibGUuaW50ZXJjZXB0b3JzXyAhPT0gdW5kZWZpbmVkICYmIGludGVyY2VwdGFibGUuaW50ZXJjZXB0b3JzXy5sZW5ndGggPiAwO1xufVxuZnVuY3Rpb24gcmVnaXN0ZXJJbnRlcmNlcHRvcihpbnRlcmNlcHRhYmxlLCBoYW5kbGVyKSB7XG4gIHZhciBpbnRlcmNlcHRvcnMgPSBpbnRlcmNlcHRhYmxlLmludGVyY2VwdG9yc18gfHwgKGludGVyY2VwdGFibGUuaW50ZXJjZXB0b3JzXyA9IFtdKTtcbiAgaW50ZXJjZXB0b3JzLnB1c2goaGFuZGxlcik7XG4gIHJldHVybiBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaWR4ID0gaW50ZXJjZXB0b3JzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgaWYgKGlkeCAhPT0gLTEpIGludGVyY2VwdG9ycy5zcGxpY2UoaWR4LCAxKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBpbnRlcmNlcHRDaGFuZ2UoaW50ZXJjZXB0YWJsZSwgY2hhbmdlKSB7XG4gIHZhciBwcmV2VSA9IHVudHJhY2tlZFN0YXJ0KCk7XG5cbiAgdHJ5IHtcbiAgICAvLyBJbnRlcmNlcHRvciBjYW4gbW9kaWZ5IHRoZSBhcnJheSwgY29weSBpdCB0byBhdm9pZCBjb25jdXJyZW50IG1vZGlmaWNhdGlvbiwgc2VlICMxOTUwXG4gICAgdmFyIGludGVyY2VwdG9ycyA9IFtdLmNvbmNhdChpbnRlcmNlcHRhYmxlLmludGVyY2VwdG9yc18gfHwgW10pO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBpbnRlcmNlcHRvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjaGFuZ2UgPSBpbnRlcmNlcHRvcnNbaV0oY2hhbmdlKTtcbiAgICAgIGlmIChjaGFuZ2UgJiYgIWNoYW5nZS50eXBlKSBkaWUoMTQpO1xuICAgICAgaWYgKCFjaGFuZ2UpIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBjaGFuZ2U7XG4gIH0gZmluYWxseSB7XG4gICAgdW50cmFja2VkRW5kKHByZXZVKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNMaXN0ZW5lcnMobGlzdGVuYWJsZSkge1xuICByZXR1cm4gbGlzdGVuYWJsZS5jaGFuZ2VMaXN0ZW5lcnNfICE9PSB1bmRlZmluZWQgJiYgbGlzdGVuYWJsZS5jaGFuZ2VMaXN0ZW5lcnNfLmxlbmd0aCA+IDA7XG59XG5mdW5jdGlvbiByZWdpc3Rlckxpc3RlbmVyKGxpc3RlbmFibGUsIGhhbmRsZXIpIHtcbiAgdmFyIGxpc3RlbmVycyA9IGxpc3RlbmFibGUuY2hhbmdlTGlzdGVuZXJzXyB8fCAobGlzdGVuYWJsZS5jaGFuZ2VMaXN0ZW5lcnNfID0gW10pO1xuICBsaXN0ZW5lcnMucHVzaChoYW5kbGVyKTtcbiAgcmV0dXJuIG9uY2UoZnVuY3Rpb24gKCkge1xuICAgIHZhciBpZHggPSBsaXN0ZW5lcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICBpZiAoaWR4ICE9PSAtMSkgbGlzdGVuZXJzLnNwbGljZShpZHgsIDEpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycyhsaXN0ZW5hYmxlLCBjaGFuZ2UpIHtcbiAgdmFyIHByZXZVID0gdW50cmFja2VkU3RhcnQoKTtcbiAgdmFyIGxpc3RlbmVycyA9IGxpc3RlbmFibGUuY2hhbmdlTGlzdGVuZXJzXztcbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybjtcbiAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKCk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgbGlzdGVuZXJzW2ldKGNoYW5nZSk7XG4gIH1cblxuICB1bnRyYWNrZWRFbmQocHJldlUpO1xufVxuXG5mdW5jdGlvbiBtYWtlT2JzZXJ2YWJsZSh0YXJnZXQsIGFubm90YXRpb25zLCBvcHRpb25zKSB7XG4gIHZhciBhZG0gPSBhc09ic2VydmFibGVPYmplY3QodGFyZ2V0LCBvcHRpb25zKVskbW9ieF07XG4gIHN0YXJ0QmF0Y2goKTtcblxuICB0cnkge1xuICAgIHZhciBfYW5ub3RhdGlvbnM7XG5cbiAgICAvLyBEZWZhdWx0IHRvIGRlY29yYXRvcnNcbiAgICAoX2Fubm90YXRpb25zID0gYW5ub3RhdGlvbnMpICE9IG51bGwgPyBfYW5ub3RhdGlvbnMgOiBhbm5vdGF0aW9ucyA9IGNvbGxlY3RTdG9yZWRBbm5vdGF0aW9ucyh0YXJnZXQpOyAvLyBBbm5vdGF0ZVxuXG4gICAgb3duS2V5cyhhbm5vdGF0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gYWRtLm1ha2VfKGtleSwgYW5ub3RhdGlvbnNba2V5XSk7XG4gICAgfSk7XG4gIH0gZmluYWxseSB7XG4gICAgZW5kQmF0Y2goKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IC8vIHByb3RvW2tleXNTeW1ib2xdID0gbmV3IFNldDxQcm9wZXJ0eUtleT4oKVxuXG52YXIga2V5c1N5bWJvbCA9IC8qI19fUFVSRV9fKi9TeW1ib2woXCJtb2J4LWtleXNcIik7XG5mdW5jdGlvbiBtYWtlQXV0b09ic2VydmFibGUodGFyZ2V0LCBvdmVycmlkZXMsIG9wdGlvbnMpIHtcbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGlmICghaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmICFpc1BsYWluT2JqZWN0KE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpKSkgZGllKFwiJ21ha2VBdXRvT2JzZXJ2YWJsZScgY2FuIG9ubHkgYmUgdXNlZCBmb3IgY2xhc3NlcyB0aGF0IGRvbid0IGhhdmUgYSBzdXBlcmNsYXNzXCIpO1xuICAgIGlmIChpc09ic2VydmFibGVPYmplY3QodGFyZ2V0KSkgZGllKFwibWFrZUF1dG9PYnNlcnZhYmxlIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JqZWN0cyBub3QgYWxyZWFkeSBtYWRlIG9ic2VydmFibGVcIik7XG4gIH0gLy8gT3B0aW1pemF0aW9uOiBhdm9pZCB2aXNpdGluZyBwcm90b3NcbiAgLy8gQXNzdW1lcyB0aGF0IGFubm90YXRpb24ubWFrZV8vLmV4dGVuZF8gd29ya3MgdGhlIHNhbWUgZm9yIHBsYWluIG9iamVjdHNcblxuXG4gIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldCkpIHtcbiAgICByZXR1cm4gZXh0ZW5kT2JzZXJ2YWJsZSh0YXJnZXQsIHRhcmdldCwgb3ZlcnJpZGVzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHZhciBhZG0gPSBhc09ic2VydmFibGVPYmplY3QodGFyZ2V0LCBvcHRpb25zKVskbW9ieF07IC8vIE9wdGltaXphdGlvbjogY2FjaGUga2V5cyBvbiBwcm90b1xuICAvLyBBc3N1bWVzIG1ha2VBdXRvT2JzZXJ2YWJsZSBjYW4gYmUgY2FsbGVkIG9ubHkgb25jZSBwZXIgb2JqZWN0IGFuZCBjYW4ndCBiZSB1c2VkIGluIHN1YmNsYXNzXG5cbiAgaWYgKCF0YXJnZXRba2V5c1N5bWJvbF0pIHtcbiAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KTtcbiAgICB2YXIga2V5cyA9IG5ldyBTZXQoW10uY29uY2F0KG93bktleXModGFyZ2V0KSwgb3duS2V5cyhwcm90bykpKTtcbiAgICBrZXlzW1wiZGVsZXRlXCJdKFwiY29uc3RydWN0b3JcIik7XG4gICAga2V5c1tcImRlbGV0ZVwiXSgkbW9ieCk7XG4gICAgYWRkSGlkZGVuUHJvcChwcm90bywga2V5c1N5bWJvbCwga2V5cyk7XG4gIH1cblxuICBzdGFydEJhdGNoKCk7XG5cbiAgdHJ5IHtcbiAgICB0YXJnZXRba2V5c1N5bWJvbF0uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gYWRtLm1ha2VfKGtleSwgLy8gbXVzdCBwYXNzIFwidW5kZWZpbmVkXCIgZm9yIHsga2V5OiB1bmRlZmluZWQgfVxuICAgICAgIW92ZXJyaWRlcyA/IHRydWUgOiBrZXkgaW4gb3ZlcnJpZGVzID8gb3ZlcnJpZGVzW2tleV0gOiB0cnVlKTtcbiAgICB9KTtcbiAgfSBmaW5hbGx5IHtcbiAgICBlbmRCYXRjaCgpO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIFNQTElDRSA9IFwic3BsaWNlXCI7XG52YXIgVVBEQVRFID0gXCJ1cGRhdGVcIjtcbnZhciBNQVhfU1BMSUNFX1NJWkUgPSAxMDAwMDsgLy8gU2VlIGUuZy4gaHR0cHM6Ly9naXRodWIuY29tL21vYnhqcy9tb2J4L2lzc3Vlcy84NTlcblxudmFyIGFycmF5VHJhcHMgPSB7XG4gIGdldDogZnVuY3Rpb24gZ2V0KHRhcmdldCwgbmFtZSkge1xuICAgIHZhciBhZG0gPSB0YXJnZXRbJG1vYnhdO1xuICAgIGlmIChuYW1lID09PSAkbW9ieCkgcmV0dXJuIGFkbTtcbiAgICBpZiAobmFtZSA9PT0gXCJsZW5ndGhcIikgcmV0dXJuIGFkbS5nZXRBcnJheUxlbmd0aF8oKTtcblxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiAhaXNOYU4obmFtZSkpIHtcbiAgICAgIHJldHVybiBhZG0uZ2V0XyhwYXJzZUludChuYW1lKSk7XG4gICAgfVxuXG4gICAgaWYgKGhhc1Byb3AoYXJyYXlFeHRlbnNpb25zLCBuYW1lKSkge1xuICAgICAgcmV0dXJuIGFycmF5RXh0ZW5zaW9uc1tuYW1lXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0W25hbWVdO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldCh0YXJnZXQsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGFkbSA9IHRhcmdldFskbW9ieF07XG5cbiAgICBpZiAobmFtZSA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgYWRtLnNldEFycmF5TGVuZ3RoXyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiIHx8IGlzTmFOKG5hbWUpKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbnVtZXJpYyBzdHJpbmdcbiAgICAgIGFkbS5zZXRfKHBhcnNlSW50KG5hbWUpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIHByZXZlbnRFeHRlbnNpb25zOiBmdW5jdGlvbiBwcmV2ZW50RXh0ZW5zaW9ucygpIHtcbiAgICBkaWUoMTUpO1xuICB9XG59O1xudmFyIE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy8gdGhpcyBpcyB0aGUgcHJvcCB0aGF0IGdldHMgcHJveGllZCwgc28gY2FuJ3QgcmVwbGFjZSBpdCFcbiAgZnVuY3Rpb24gT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24obmFtZSwgZW5oYW5jZXIsIG93bmVkXywgbGVnYWN5TW9kZV8pIHtcbiAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7XG4gICAgICBuYW1lID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gXCJPYnNlcnZhYmxlQXJyYXlAXCIgKyBnZXROZXh0SWQoKSA6IFwiT2JzZXJ2YWJsZUFycmF5XCI7XG4gICAgfVxuXG4gICAgdGhpcy5vd25lZF8gPSB2b2lkIDA7XG4gICAgdGhpcy5sZWdhY3lNb2RlXyA9IHZvaWQgMDtcbiAgICB0aGlzLmF0b21fID0gdm9pZCAwO1xuICAgIHRoaXMudmFsdWVzXyA9IFtdO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzXyA9IHZvaWQgMDtcbiAgICB0aGlzLmNoYW5nZUxpc3RlbmVyc18gPSB2b2lkIDA7XG4gICAgdGhpcy5lbmhhbmNlcl8gPSB2b2lkIDA7XG4gICAgdGhpcy5kZWhhbmNlciA9IHZvaWQgMDtcbiAgICB0aGlzLnByb3h5XyA9IHZvaWQgMDtcbiAgICB0aGlzLmxhc3RLbm93bkxlbmd0aF8gPSAwO1xuICAgIHRoaXMub3duZWRfID0gb3duZWRfO1xuICAgIHRoaXMubGVnYWN5TW9kZV8gPSBsZWdhY3lNb2RlXztcbiAgICB0aGlzLmF0b21fID0gbmV3IEF0b20obmFtZSk7XG5cbiAgICB0aGlzLmVuaGFuY2VyXyA9IGZ1bmN0aW9uIChuZXdWLCBvbGRWKSB7XG4gICAgICByZXR1cm4gZW5oYW5jZXIobmV3Viwgb2xkViwgTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gbmFtZSArIFwiWy4uXVwiIDogXCJPYnNlcnZhYmxlQXJyYXlbLi5dXCIpO1xuICAgIH07XG4gIH1cblxuICB2YXIgX3Byb3RvID0gT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24ucHJvdG90eXBlO1xuXG4gIF9wcm90by5kZWhhbmNlVmFsdWVfID0gZnVuY3Rpb24gZGVoYW5jZVZhbHVlXyh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmRlaGFuY2VyICE9PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLmRlaGFuY2VyKHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgX3Byb3RvLmRlaGFuY2VWYWx1ZXNfID0gZnVuY3Rpb24gZGVoYW5jZVZhbHVlc18odmFsdWVzKSB7XG4gICAgaWYgKHRoaXMuZGVoYW5jZXIgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZXMubGVuZ3RoID4gMCkgcmV0dXJuIHZhbHVlcy5tYXAodGhpcy5kZWhhbmNlcik7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfTtcblxuICBfcHJvdG8uaW50ZXJjZXB0XyA9IGZ1bmN0aW9uIGludGVyY2VwdF8oaGFuZGxlcikge1xuICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yKHRoaXMsIGhhbmRsZXIpO1xuICB9O1xuXG4gIF9wcm90by5vYnNlcnZlXyA9IGZ1bmN0aW9uIG9ic2VydmVfKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcbiAgICBpZiAoZmlyZUltbWVkaWF0ZWx5ID09PSB2b2lkIDApIHtcbiAgICAgIGZpcmVJbW1lZGlhdGVseSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChmaXJlSW1tZWRpYXRlbHkpIHtcbiAgICAgIGxpc3RlbmVyKHtcbiAgICAgICAgb2JzZXJ2YWJsZUtpbmQ6IFwiYXJyYXlcIixcbiAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5XyxcbiAgICAgICAgZGVidWdPYmplY3ROYW1lOiB0aGlzLmF0b21fLm5hbWVfLFxuICAgICAgICB0eXBlOiBcInNwbGljZVwiLFxuICAgICAgICBpbmRleDogMCxcbiAgICAgICAgYWRkZWQ6IHRoaXMudmFsdWVzXy5zbGljZSgpLFxuICAgICAgICBhZGRlZENvdW50OiB0aGlzLnZhbHVlc18ubGVuZ3RoLFxuICAgICAgICByZW1vdmVkOiBbXSxcbiAgICAgICAgcmVtb3ZlZENvdW50OiAwXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVnaXN0ZXJMaXN0ZW5lcih0aGlzLCBsaXN0ZW5lcik7XG4gIH07XG5cbiAgX3Byb3RvLmdldEFycmF5TGVuZ3RoXyA9IGZ1bmN0aW9uIGdldEFycmF5TGVuZ3RoXygpIHtcbiAgICB0aGlzLmF0b21fLnJlcG9ydE9ic2VydmVkKCk7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVzXy5sZW5ndGg7XG4gIH07XG5cbiAgX3Byb3RvLnNldEFycmF5TGVuZ3RoXyA9IGZ1bmN0aW9uIHNldEFycmF5TGVuZ3RoXyhuZXdMZW5ndGgpIHtcbiAgICBpZiAodHlwZW9mIG5ld0xlbmd0aCAhPT0gXCJudW1iZXJcIiB8fCBuZXdMZW5ndGggPCAwKSBkaWUoXCJPdXQgb2YgcmFuZ2U6IFwiICsgbmV3TGVuZ3RoKTtcbiAgICB2YXIgY3VycmVudExlbmd0aCA9IHRoaXMudmFsdWVzXy5sZW5ndGg7XG4gICAgaWYgKG5ld0xlbmd0aCA9PT0gY3VycmVudExlbmd0aCkgcmV0dXJuO2Vsc2UgaWYgKG5ld0xlbmd0aCA+IGN1cnJlbnRMZW5ndGgpIHtcbiAgICAgIHZhciBuZXdJdGVtcyA9IG5ldyBBcnJheShuZXdMZW5ndGggLSBjdXJyZW50TGVuZ3RoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdMZW5ndGggLSBjdXJyZW50TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbmV3SXRlbXNbaV0gPSB1bmRlZmluZWQ7XG4gICAgICB9IC8vIE5vIEFycmF5LmZpbGwgZXZlcnl3aGVyZS4uLlxuXG5cbiAgICAgIHRoaXMuc3BsaWNlV2l0aEFycmF5XyhjdXJyZW50TGVuZ3RoLCAwLCBuZXdJdGVtcyk7XG4gICAgfSBlbHNlIHRoaXMuc3BsaWNlV2l0aEFycmF5XyhuZXdMZW5ndGgsIGN1cnJlbnRMZW5ndGggLSBuZXdMZW5ndGgpO1xuICB9O1xuXG4gIF9wcm90by51cGRhdGVBcnJheUxlbmd0aF8gPSBmdW5jdGlvbiB1cGRhdGVBcnJheUxlbmd0aF8ob2xkTGVuZ3RoLCBkZWx0YSkge1xuICAgIGlmIChvbGRMZW5ndGggIT09IHRoaXMubGFzdEtub3duTGVuZ3RoXykgZGllKDE2KTtcbiAgICB0aGlzLmxhc3RLbm93bkxlbmd0aF8gKz0gZGVsdGE7XG4gICAgaWYgKHRoaXMubGVnYWN5TW9kZV8gJiYgZGVsdGEgPiAwKSByZXNlcnZlQXJyYXlCdWZmZXIob2xkTGVuZ3RoICsgZGVsdGEgKyAxKTtcbiAgfTtcblxuICBfcHJvdG8uc3BsaWNlV2l0aEFycmF5XyA9IGZ1bmN0aW9uIHNwbGljZVdpdGhBcnJheV8oaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZCh0aGlzLmF0b21fKTtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy52YWx1ZXNfLmxlbmd0aDtcbiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkgaW5kZXggPSAwO2Vsc2UgaWYgKGluZGV4ID4gbGVuZ3RoKSBpbmRleCA9IGxlbmd0aDtlbHNlIGlmIChpbmRleCA8IDApIGluZGV4ID0gTWF0aC5tYXgoMCwgbGVuZ3RoICsgaW5kZXgpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSBkZWxldGVDb3VudCA9IGxlbmd0aCAtIGluZGV4O2Vsc2UgaWYgKGRlbGV0ZUNvdW50ID09PSB1bmRlZmluZWQgfHwgZGVsZXRlQ291bnQgPT09IG51bGwpIGRlbGV0ZUNvdW50ID0gMDtlbHNlIGRlbGV0ZUNvdW50ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGVsZXRlQ291bnQsIGxlbmd0aCAtIGluZGV4KSk7XG4gICAgaWYgKG5ld0l0ZW1zID09PSB1bmRlZmluZWQpIG5ld0l0ZW1zID0gRU1QVFlfQVJSQVk7XG5cbiAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XG4gICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgb2JqZWN0OiB0aGlzLnByb3h5XyxcbiAgICAgICAgdHlwZTogU1BMSUNFLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIHJlbW92ZWRDb3VudDogZGVsZXRlQ291bnQsXG4gICAgICAgIGFkZGVkOiBuZXdJdGVtc1xuICAgICAgfSk7XG4gICAgICBpZiAoIWNoYW5nZSkgcmV0dXJuIEVNUFRZX0FSUkFZO1xuICAgICAgZGVsZXRlQ291bnQgPSBjaGFuZ2UucmVtb3ZlZENvdW50O1xuICAgICAgbmV3SXRlbXMgPSBjaGFuZ2UuYWRkZWQ7XG4gICAgfVxuXG4gICAgbmV3SXRlbXMgPSBuZXdJdGVtcy5sZW5ndGggPT09IDAgPyBuZXdJdGVtcyA6IG5ld0l0ZW1zLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIF90aGlzLmVuaGFuY2VyXyh2LCB1bmRlZmluZWQpO1xuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMubGVnYWN5TW9kZV8gfHwgTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICB2YXIgbGVuZ3RoRGVsdGEgPSBuZXdJdGVtcy5sZW5ndGggLSBkZWxldGVDb3VudDtcbiAgICAgIHRoaXMudXBkYXRlQXJyYXlMZW5ndGhfKGxlbmd0aCwgbGVuZ3RoRGVsdGEpOyAvLyBjaGVja3MgaWYgaW50ZXJuYWwgYXJyYXkgd2Fzbid0IG1vZGlmaWVkXG4gICAgfVxuXG4gICAgdmFyIHJlcyA9IHRoaXMuc3BsaWNlSXRlbXNJbnRvVmFsdWVzXyhpbmRleCwgZGVsZXRlQ291bnQsIG5ld0l0ZW1zKTtcbiAgICBpZiAoZGVsZXRlQ291bnQgIT09IDAgfHwgbmV3SXRlbXMubGVuZ3RoICE9PSAwKSB0aGlzLm5vdGlmeUFycmF5U3BsaWNlXyhpbmRleCwgbmV3SXRlbXMsIHJlcyk7XG4gICAgcmV0dXJuIHRoaXMuZGVoYW5jZVZhbHVlc18ocmVzKTtcbiAgfTtcblxuICBfcHJvdG8uc3BsaWNlSXRlbXNJbnRvVmFsdWVzXyA9IGZ1bmN0aW9uIHNwbGljZUl0ZW1zSW50b1ZhbHVlc18oaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcykge1xuICAgIGlmIChuZXdJdGVtcy5sZW5ndGggPCBNQVhfU1BMSUNFX1NJWkUpIHtcbiAgICAgIHZhciBfdGhpcyR2YWx1ZXNfO1xuXG4gICAgICByZXR1cm4gKF90aGlzJHZhbHVlc18gPSB0aGlzLnZhbHVlc18pLnNwbGljZS5hcHBseShfdGhpcyR2YWx1ZXNfLCBbaW5kZXgsIGRlbGV0ZUNvdW50XS5jb25jYXQobmV3SXRlbXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlcyA9IHRoaXMudmFsdWVzXy5zbGljZShpbmRleCwgaW5kZXggKyBkZWxldGVDb3VudCk7XG4gICAgICB2YXIgb2xkSXRlbXMgPSB0aGlzLnZhbHVlc18uc2xpY2UoaW5kZXggKyBkZWxldGVDb3VudCk7XG4gICAgICB0aGlzLnZhbHVlc18ubGVuZ3RoID0gaW5kZXggKyBuZXdJdGVtcy5sZW5ndGggLSBkZWxldGVDb3VudDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnZhbHVlc19baW5kZXggKyBpXSA9IG5ld0l0ZW1zW2ldO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgb2xkSXRlbXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHRoaXMudmFsdWVzX1tpbmRleCArIG5ld0l0ZW1zLmxlbmd0aCArIF9pXSA9IG9sZEl0ZW1zW19pXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLm5vdGlmeUFycmF5Q2hpbGRVcGRhdGVfID0gZnVuY3Rpb24gbm90aWZ5QXJyYXlDaGlsZFVwZGF0ZV8oaW5kZXgsIG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgIHZhciBub3RpZnlTcHkgPSAhdGhpcy5vd25lZF8gJiYgaXNTcHlFbmFibGVkKCk7XG4gICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyh0aGlzKTtcbiAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweSA/IHtcbiAgICAgIG9ic2VydmFibGVLaW5kOiBcImFycmF5XCIsXG4gICAgICBvYmplY3Q6IHRoaXMucHJveHlfLFxuICAgICAgdHlwZTogVVBEQVRFLFxuICAgICAgZGVidWdPYmplY3ROYW1lOiB0aGlzLmF0b21fLm5hbWVfLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlLFxuICAgICAgb2xkVmFsdWU6IG9sZFZhbHVlXG4gICAgfSA6IG51bGw7IC8vIFRoZSByZWFzb24gd2h5IHRoaXMgaXMgb24gcmlnaHQgaGFuZCBzaWRlIGhlcmUgKGFuZCBub3QgYWJvdmUpLCBpcyB0aGlzIHdheSB0aGUgdWdsaWZpZXIgd2lsbCBkcm9wIGl0LCBidXQgaXQgd29uJ3RcbiAgICAvLyBjYXVzZSBhbnkgcnVudGltZSBvdmVyaGVhZCBpbiBkZXZlbG9wbWVudCBtb2RlIHdpdGhvdXQgTk9ERV9FTlYgc2V0LCB1bmxlc3Mgc3B5aW5nIGlzIGVuYWJsZWRcblxuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgbm90aWZ5U3B5KSBzcHlSZXBvcnRTdGFydChjaGFuZ2UpO1xuICAgIHRoaXMuYXRvbV8ucmVwb3J0Q2hhbmdlZCgpO1xuICAgIGlmIChub3RpZnkpIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgbm90aWZ5U3B5KSBzcHlSZXBvcnRFbmQoKTtcbiAgfTtcblxuICBfcHJvdG8ubm90aWZ5QXJyYXlTcGxpY2VfID0gZnVuY3Rpb24gbm90aWZ5QXJyYXlTcGxpY2VfKGluZGV4LCBhZGRlZCwgcmVtb3ZlZCkge1xuICAgIHZhciBub3RpZnlTcHkgPSAhdGhpcy5vd25lZF8gJiYgaXNTcHlFbmFibGVkKCk7XG4gICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyh0aGlzKTtcbiAgICB2YXIgY2hhbmdlID0gbm90aWZ5IHx8IG5vdGlmeVNweSA/IHtcbiAgICAgIG9ic2VydmFibGVLaW5kOiBcImFycmF5XCIsXG4gICAgICBvYmplY3Q6IHRoaXMucHJveHlfLFxuICAgICAgZGVidWdPYmplY3ROYW1lOiB0aGlzLmF0b21fLm5hbWVfLFxuICAgICAgdHlwZTogU1BMSUNFLFxuICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgcmVtb3ZlZDogcmVtb3ZlZCxcbiAgICAgIGFkZGVkOiBhZGRlZCxcbiAgICAgIHJlbW92ZWRDb3VudDogcmVtb3ZlZC5sZW5ndGgsXG4gICAgICBhZGRlZENvdW50OiBhZGRlZC5sZW5ndGhcbiAgICB9IDogbnVsbDtcbiAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIG5vdGlmeVNweSkgc3B5UmVwb3J0U3RhcnQoY2hhbmdlKTtcbiAgICB0aGlzLmF0b21fLnJlcG9ydENoYW5nZWQoKTsgLy8gY29uZm9ybTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvb2JzZXJ2ZVxuXG4gICAgaWYgKG5vdGlmeSkgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIGNoYW5nZSk7XG4gICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBub3RpZnlTcHkpIHNweVJlcG9ydEVuZCgpO1xuICB9O1xuXG4gIF9wcm90by5nZXRfID0gZnVuY3Rpb24gZ2V0XyhpbmRleCkge1xuICAgIGlmIChpbmRleCA8IHRoaXMudmFsdWVzXy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuYXRvbV8ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICAgIHJldHVybiB0aGlzLmRlaGFuY2VWYWx1ZV8odGhpcy52YWx1ZXNfW2luZGV4XSk7XG4gICAgfVxuXG4gICAgY29uc29sZS53YXJuKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFwiW21vYnhdIE91dCBvZiBib3VuZHMgcmVhZDogXCIgKyBpbmRleCA6IFwiW21vYnguYXJyYXldIEF0dGVtcHQgdG8gcmVhZCBhbiBhcnJheSBpbmRleCAoXCIgKyBpbmRleCArIFwiKSB0aGF0IGlzIG91dCBvZiBib3VuZHMgKFwiICsgdGhpcy52YWx1ZXNfLmxlbmd0aCArIFwiKS4gUGxlYXNlIGNoZWNrIGxlbmd0aCBmaXJzdC4gT3V0IG9mIGJvdW5kIGluZGljZXMgd2lsbCBub3QgYmUgdHJhY2tlZCBieSBNb2JYXCIpO1xuICB9O1xuXG4gIF9wcm90by5zZXRfID0gZnVuY3Rpb24gc2V0XyhpbmRleCwgbmV3VmFsdWUpIHtcbiAgICB2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXNfO1xuXG4gICAgaWYgKGluZGV4IDwgdmFsdWVzLmxlbmd0aCkge1xuICAgICAgLy8gdXBkYXRlIGF0IGluZGV4IGluIHJhbmdlXG4gICAgICBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZCh0aGlzLmF0b21fKTtcbiAgICAgIHZhciBvbGRWYWx1ZSA9IHZhbHVlc1tpbmRleF07XG5cbiAgICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcbiAgICAgICAgdmFyIGNoYW5nZSA9IGludGVyY2VwdENoYW5nZSh0aGlzLCB7XG4gICAgICAgICAgdHlwZTogVVBEQVRFLFxuICAgICAgICAgIG9iamVjdDogdGhpcy5wcm94eV8sXG4gICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFjaGFuZ2UpIHJldHVybjtcbiAgICAgICAgbmV3VmFsdWUgPSBjaGFuZ2UubmV3VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIG5ld1ZhbHVlID0gdGhpcy5lbmhhbmNlcl8obmV3VmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIHZhciBjaGFuZ2VkID0gbmV3VmFsdWUgIT09IG9sZFZhbHVlO1xuXG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB2YWx1ZXNbaW5kZXhdID0gbmV3VmFsdWU7XG4gICAgICAgIHRoaXMubm90aWZ5QXJyYXlDaGlsZFVwZGF0ZV8oaW5kZXgsIG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgLy8gYWRkIGEgbmV3IGl0ZW1cbiAgICAgIHRoaXMuc3BsaWNlV2l0aEFycmF5XyhpbmRleCwgMCwgW25ld1ZhbHVlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG91dCBvZiBib3VuZHNcbiAgICAgIGRpZSgxNywgaW5kZXgsIHZhbHVlcy5sZW5ndGgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb247XG59KCk7XG5mdW5jdGlvbiBjcmVhdGVPYnNlcnZhYmxlQXJyYXkoaW5pdGlhbFZhbHVlcywgZW5oYW5jZXIsIG5hbWUsIG93bmVkKSB7XG4gIGlmIChuYW1lID09PSB2b2lkIDApIHtcbiAgICBuYW1lID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gXCJPYnNlcnZhYmxlQXJyYXlAXCIgKyBnZXROZXh0SWQoKSA6IFwiT2JzZXJ2YWJsZUFycmF5XCI7XG4gIH1cblxuICBpZiAob3duZWQgPT09IHZvaWQgMCkge1xuICAgIG93bmVkID0gZmFsc2U7XG4gIH1cblxuICBhc3NlcnRQcm94aWVzKCk7XG4gIHZhciBhZG0gPSBuZXcgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24obmFtZSwgZW5oYW5jZXIsIG93bmVkLCBmYWxzZSk7XG4gIGFkZEhpZGRlbkZpbmFsUHJvcChhZG0udmFsdWVzXywgJG1vYngsIGFkbSk7XG4gIHZhciBwcm94eSA9IG5ldyBQcm94eShhZG0udmFsdWVzXywgYXJyYXlUcmFwcyk7XG4gIGFkbS5wcm94eV8gPSBwcm94eTtcblxuICBpZiAoaW5pdGlhbFZhbHVlcyAmJiBpbml0aWFsVmFsdWVzLmxlbmd0aCkge1xuICAgIHZhciBwcmV2ID0gYWxsb3dTdGF0ZUNoYW5nZXNTdGFydCh0cnVlKTtcbiAgICBhZG0uc3BsaWNlV2l0aEFycmF5XygwLCAwLCBpbml0aWFsVmFsdWVzKTtcbiAgICBhbGxvd1N0YXRlQ2hhbmdlc0VuZChwcmV2KTtcbiAgfVxuXG4gIHJldHVybiBwcm94eTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbnZhciBhcnJheUV4dGVuc2lvbnMgPSB7XG4gIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICByZXR1cm4gdGhpcy5zcGxpY2UoMCk7XG4gIH0sXG4gIHJlcGxhY2U6IGZ1bmN0aW9uIHJlcGxhY2UobmV3SXRlbXMpIHtcbiAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XG4gICAgcmV0dXJuIGFkbS5zcGxpY2VXaXRoQXJyYXlfKDAsIGFkbS52YWx1ZXNfLmxlbmd0aCwgbmV3SXRlbXMpO1xuICB9LFxuICAvLyBVc2VkIGJ5IEpTT04uc3RyaW5naWZ5XG4gIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKCk7XG4gIH0sXG5cbiAgLypcbiAgICogZnVuY3Rpb25zIHRoYXQgZG8gYWx0ZXIgdGhlIGludGVybmFsIHN0cnVjdHVyZSBvZiB0aGUgYXJyYXksIChiYXNlZCBvbiBsaWIuZXM2LmQudHMpXG4gICAqIHNpbmNlIHRoZXNlIGZ1bmN0aW9ucyBhbHRlciB0aGUgaW5uZXIgc3RydWN0dXJlIG9mIHRoZSBhcnJheSwgdGhlIGhhdmUgc2lkZSBlZmZlY3RzLlxuICAgKiBCZWNhdXNlIHRoZSBoYXZlIHNpZGUgZWZmZWN0cywgdGhleSBzaG91bGQgbm90IGJlIHVzZWQgaW4gY29tcHV0ZWQgZnVuY3Rpb24sXG4gICAqIGFuZCBmb3IgdGhhdCByZWFzb24gdGhlIGRvIG5vdCBjYWxsIGRlcGVuZGVuY3lTdGF0ZS5ub3RpZnlPYnNlcnZlZFxuICAgKi9cbiAgc3BsaWNlOiBmdW5jdGlvbiBzcGxpY2UoaW5kZXgsIGRlbGV0ZUNvdW50KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG5ld0l0ZW1zID0gbmV3IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIG5ld0l0ZW1zW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XG5cbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmV0dXJuIFtdO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBhZG0uc3BsaWNlV2l0aEFycmF5XyhpbmRleCk7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIGFkbS5zcGxpY2VXaXRoQXJyYXlfKGluZGV4LCBkZWxldGVDb3VudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkbS5zcGxpY2VXaXRoQXJyYXlfKGluZGV4LCBkZWxldGVDb3VudCwgbmV3SXRlbXMpO1xuICB9LFxuICBzcGxpY2VXaXRoQXJyYXk6IGZ1bmN0aW9uIHNwbGljZVdpdGhBcnJheShpbmRleCwgZGVsZXRlQ291bnQsIG5ld0l0ZW1zKSB7XG4gICAgcmV0dXJuIHRoaXNbJG1vYnhdLnNwbGljZVdpdGhBcnJheV8oaW5kZXgsIGRlbGV0ZUNvdW50LCBuZXdJdGVtcyk7XG4gIH0sXG4gIHB1c2g6IGZ1bmN0aW9uIHB1c2goKSB7XG4gICAgdmFyIGFkbSA9IHRoaXNbJG1vYnhdO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBpdGVtcyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgaXRlbXNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICBhZG0uc3BsaWNlV2l0aEFycmF5XyhhZG0udmFsdWVzXy5sZW5ndGgsIDAsIGl0ZW1zKTtcbiAgICByZXR1cm4gYWRtLnZhbHVlc18ubGVuZ3RoO1xuICB9LFxuICBwb3A6IGZ1bmN0aW9uIHBvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5zcGxpY2UoTWF0aC5tYXgodGhpc1skbW9ieF0udmFsdWVzXy5sZW5ndGggLSAxLCAwKSwgMSlbMF07XG4gIH0sXG4gIHNoaWZ0OiBmdW5jdGlvbiBzaGlmdCgpIHtcbiAgICByZXR1cm4gdGhpcy5zcGxpY2UoMCwgMSlbMF07XG4gIH0sXG4gIHVuc2hpZnQ6IGZ1bmN0aW9uIHVuc2hpZnQoKSB7XG4gICAgdmFyIGFkbSA9IHRoaXNbJG1vYnhdO1xuXG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBpdGVtcyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgaXRlbXNbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICBhZG0uc3BsaWNlV2l0aEFycmF5XygwLCAwLCBpdGVtcyk7XG4gICAgcmV0dXJuIGFkbS52YWx1ZXNfLmxlbmd0aDtcbiAgfSxcbiAgcmV2ZXJzZTogZnVuY3Rpb24gcmV2ZXJzZSgpIHtcbiAgICAvLyByZXZlcnNlIGJ5IGRlZmF1bHQgbXV0YXRlcyBpbiBwbGFjZSBiZWZvcmUgcmV0dXJuaW5nIHRoZSByZXN1bHRcbiAgICAvLyB3aGljaCBtYWtlcyBpdCBib3RoIGEgJ2Rlcml2YXRpb24nIGFuZCBhICdtdXRhdGlvbicuXG4gICAgaWYgKGdsb2JhbFN0YXRlLnRyYWNraW5nRGVyaXZhdGlvbikge1xuICAgICAgZGllKDM3LCBcInJldmVyc2VcIik7XG4gICAgfVxuXG4gICAgdGhpcy5yZXBsYWNlKHRoaXMuc2xpY2UoKS5yZXZlcnNlKCkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBzb3J0OiBmdW5jdGlvbiBzb3J0KCkge1xuICAgIC8vIHNvcnQgYnkgZGVmYXVsdCBtdXRhdGVzIGluIHBsYWNlIGJlZm9yZSByZXR1cm5pbmcgdGhlIHJlc3VsdFxuICAgIC8vIHdoaWNoIGdvZXMgYWdhaW5zdCBhbGwgZ29vZCBwcmFjdGljZXMuIExldCdzIG5vdCBjaGFuZ2UgdGhlIGFycmF5IGluIHBsYWNlIVxuICAgIGlmIChnbG9iYWxTdGF0ZS50cmFja2luZ0Rlcml2YXRpb24pIHtcbiAgICAgIGRpZSgzNywgXCJzb3J0XCIpO1xuICAgIH1cblxuICAgIHZhciBjb3B5ID0gdGhpcy5zbGljZSgpO1xuICAgIGNvcHkuc29ydC5hcHBseShjb3B5LCBhcmd1bWVudHMpO1xuICAgIHRoaXMucmVwbGFjZShjb3B5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUodmFsdWUpIHtcbiAgICB2YXIgYWRtID0gdGhpc1skbW9ieF07XG4gICAgdmFyIGlkeCA9IGFkbS5kZWhhbmNlVmFsdWVzXyhhZG0udmFsdWVzXykuaW5kZXhPZih2YWx1ZSk7XG5cbiAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgIHRoaXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4vKipcbiAqIFdyYXAgZnVuY3Rpb24gZnJvbSBwcm90b3R5cGVcbiAqIFdpdGhvdXQgdGhpcywgZXZlcnl0aGluZyB3b3JrcyBhcyB3ZWxsLCBidXQgdGhpcyB3b3Jrc1xuICogZmFzdGVyIGFzIGV2ZXJ5dGhpbmcgd29ya3Mgb24gdW5wcm94aWVkIHZhbHVlc1xuICovXG5cbmFkZEFycmF5RXh0ZW5zaW9uKFwiY29uY2F0XCIsIHNpbXBsZUZ1bmMpO1xuYWRkQXJyYXlFeHRlbnNpb24oXCJmbGF0XCIsIHNpbXBsZUZ1bmMpO1xuYWRkQXJyYXlFeHRlbnNpb24oXCJpbmNsdWRlc1wiLCBzaW1wbGVGdW5jKTtcbmFkZEFycmF5RXh0ZW5zaW9uKFwiaW5kZXhPZlwiLCBzaW1wbGVGdW5jKTtcbmFkZEFycmF5RXh0ZW5zaW9uKFwiam9pblwiLCBzaW1wbGVGdW5jKTtcbmFkZEFycmF5RXh0ZW5zaW9uKFwibGFzdEluZGV4T2ZcIiwgc2ltcGxlRnVuYyk7XG5hZGRBcnJheUV4dGVuc2lvbihcInNsaWNlXCIsIHNpbXBsZUZ1bmMpO1xuYWRkQXJyYXlFeHRlbnNpb24oXCJ0b1N0cmluZ1wiLCBzaW1wbGVGdW5jKTtcbmFkZEFycmF5RXh0ZW5zaW9uKFwidG9Mb2NhbGVTdHJpbmdcIiwgc2ltcGxlRnVuYyk7IC8vIG1hcFxuXG5hZGRBcnJheUV4dGVuc2lvbihcImV2ZXJ5XCIsIG1hcExpa2VGdW5jKTtcbmFkZEFycmF5RXh0ZW5zaW9uKFwiZmlsdGVyXCIsIG1hcExpa2VGdW5jKTtcbmFkZEFycmF5RXh0ZW5zaW9uKFwiZmluZFwiLCBtYXBMaWtlRnVuYyk7XG5hZGRBcnJheUV4dGVuc2lvbihcImZpbmRJbmRleFwiLCBtYXBMaWtlRnVuYyk7XG5hZGRBcnJheUV4dGVuc2lvbihcImZsYXRNYXBcIiwgbWFwTGlrZUZ1bmMpO1xuYWRkQXJyYXlFeHRlbnNpb24oXCJmb3JFYWNoXCIsIG1hcExpa2VGdW5jKTtcbmFkZEFycmF5RXh0ZW5zaW9uKFwibWFwXCIsIG1hcExpa2VGdW5jKTtcbmFkZEFycmF5RXh0ZW5zaW9uKFwic29tZVwiLCBtYXBMaWtlRnVuYyk7IC8vIHJlZHVjZVxuXG5hZGRBcnJheUV4dGVuc2lvbihcInJlZHVjZVwiLCByZWR1Y2VMaWtlRnVuYyk7XG5hZGRBcnJheUV4dGVuc2lvbihcInJlZHVjZVJpZ2h0XCIsIHJlZHVjZUxpa2VGdW5jKTtcblxuZnVuY3Rpb24gYWRkQXJyYXlFeHRlbnNpb24oZnVuY05hbWUsIGZ1bmNGYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlW2Z1bmNOYW1lXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgYXJyYXlFeHRlbnNpb25zW2Z1bmNOYW1lXSA9IGZ1bmNGYWN0b3J5KGZ1bmNOYW1lKTtcbiAgfVxufSAvLyBSZXBvcnQgYW5kIGRlbGVnYXRlIHRvIGRlaGFuY2VkIGFycmF5XG5cblxuZnVuY3Rpb24gc2ltcGxlRnVuYyhmdW5jTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcbiAgICBhZG0uYXRvbV8ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICB2YXIgZGVoYW5jZWRWYWx1ZXMgPSBhZG0uZGVoYW5jZVZhbHVlc18oYWRtLnZhbHVlc18pO1xuICAgIHJldHVybiBkZWhhbmNlZFZhbHVlc1tmdW5jTmFtZV0uYXBwbHkoZGVoYW5jZWRWYWx1ZXMsIGFyZ3VtZW50cyk7XG4gIH07XG59IC8vIE1ha2Ugc3VyZSBjYWxsYmFja3MgcmVjaWV2ZSBjb3JyZWN0IGFycmF5IGFyZyAjMjMyNlxuXG5cbmZ1bmN0aW9uIG1hcExpa2VGdW5jKGZ1bmNOYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcbiAgICBhZG0uYXRvbV8ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICB2YXIgZGVoYW5jZWRWYWx1ZXMgPSBhZG0uZGVoYW5jZVZhbHVlc18oYWRtLnZhbHVlc18pO1xuICAgIHJldHVybiBkZWhhbmNlZFZhbHVlc1tmdW5jTmFtZV0oZnVuY3Rpb24gKGVsZW1lbnQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBlbGVtZW50LCBpbmRleCwgX3RoaXMyKTtcbiAgICB9KTtcbiAgfTtcbn0gLy8gTWFrZSBzdXJlIGNhbGxiYWNrcyByZWNpZXZlIGNvcnJlY3QgYXJyYXkgYXJnICMyMzI2XG5cblxuZnVuY3Rpb24gcmVkdWNlTGlrZUZ1bmMoZnVuY05hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciBhZG0gPSB0aGlzWyRtb2J4XTtcbiAgICBhZG0uYXRvbV8ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICB2YXIgZGVoYW5jZWRWYWx1ZXMgPSBhZG0uZGVoYW5jZVZhbHVlc18oYWRtLnZhbHVlc18pOyAvLyAjMjQzMiAtIHJlZHVjZSBiZWhhdmlvciBkZXBlbmRzIG9uIGFyZ3VtZW50cy5sZW5ndGhcblxuICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1swXTtcblxuICAgIGFyZ3VtZW50c1swXSA9IGZ1bmN0aW9uIChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUsIGluZGV4LCBfdGhpczMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVoYW5jZWRWYWx1ZXNbZnVuY05hbWVdLmFwcGx5KGRlaGFuY2VkVmFsdWVzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG52YXIgaXNPYnNlcnZhYmxlQXJyYXlBZG1pbmlzdHJhdGlvbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVJbnN0YW5jZW9mUHJlZGljYXRlKFwiT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb25cIiwgT2JzZXJ2YWJsZUFycmF5QWRtaW5pc3RyYXRpb24pO1xuZnVuY3Rpb24gaXNPYnNlcnZhYmxlQXJyYXkodGhpbmcpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHRoaW5nKSAmJiBpc09ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uKHRoaW5nWyRtb2J4XSk7XG59XG5cbnZhciBfU3ltYm9sJGl0ZXJhdG9yLCBfU3ltYm9sJHRvU3RyaW5nVGFnO1xudmFyIE9ic2VydmFibGVNYXBNYXJrZXIgPSB7fTtcbnZhciBBREQgPSBcImFkZFwiO1xudmFyIERFTEVURSA9IFwiZGVsZXRlXCI7IC8vIGp1c3QgZXh0ZW5kIE1hcD8gU2VlIGFsc28gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbmVzdGhhcnVzLzEzYjRkNzRmMmVmNGEyZjQzNTdkYmQzZmMyM2MxZTU0XG4vLyBCdXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb2J4anMvbW9ieC9pc3N1ZXMvMTU1NlxuXG5fU3ltYm9sJGl0ZXJhdG9yID0gU3ltYm9sLml0ZXJhdG9yO1xuX1N5bWJvbCR0b1N0cmluZ1RhZyA9IFN5bWJvbC50b1N0cmluZ1RhZztcbnZhciBPYnNlcnZhYmxlTWFwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy8gaGFzTWFwLCBub3QgaGFzaE1hcCA+LSkuXG4gIGZ1bmN0aW9uIE9ic2VydmFibGVNYXAoaW5pdGlhbERhdGEsIGVuaGFuY2VyXywgbmFtZV8pIHtcbiAgICBpZiAoZW5oYW5jZXJfID09PSB2b2lkIDApIHtcbiAgICAgIGVuaGFuY2VyXyA9IGRlZXBFbmhhbmNlcjtcbiAgICB9XG5cbiAgICBpZiAobmFtZV8gPT09IHZvaWQgMCkge1xuICAgICAgbmFtZV8gPSBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBcIk9ic2VydmFibGVNYXBAXCIgKyBnZXROZXh0SWQoKSA6IFwiT2JzZXJ2YWJsZU1hcFwiO1xuICAgIH1cblxuICAgIHRoaXMuZW5oYW5jZXJfID0gdm9pZCAwO1xuICAgIHRoaXMubmFtZV8gPSB2b2lkIDA7XG4gICAgdGhpc1skbW9ieF0gPSBPYnNlcnZhYmxlTWFwTWFya2VyO1xuICAgIHRoaXMuZGF0YV8gPSB2b2lkIDA7XG4gICAgdGhpcy5oYXNNYXBfID0gdm9pZCAwO1xuICAgIHRoaXMua2V5c0F0b21fID0gdm9pZCAwO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzXyA9IHZvaWQgMDtcbiAgICB0aGlzLmNoYW5nZUxpc3RlbmVyc18gPSB2b2lkIDA7XG4gICAgdGhpcy5kZWhhbmNlciA9IHZvaWQgMDtcbiAgICB0aGlzLmVuaGFuY2VyXyA9IGVuaGFuY2VyXztcbiAgICB0aGlzLm5hbWVfID0gbmFtZV87XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24oTWFwKSkge1xuICAgICAgZGllKDE4KTtcbiAgICB9XG5cbiAgICB0aGlzLmtleXNBdG9tXyA9IGNyZWF0ZUF0b20oTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gdGhpcy5uYW1lXyArIFwiLmtleXMoKVwiIDogXCJPYnNlcnZhYmxlTWFwLmtleXMoKVwiKTtcbiAgICB0aGlzLmRhdGFfID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuaGFzTWFwXyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLm1lcmdlKGluaXRpYWxEYXRhKTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBPYnNlcnZhYmxlTWFwLnByb3RvdHlwZTtcblxuICBfcHJvdG8uaGFzXyA9IGZ1bmN0aW9uIGhhc18oa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YV8uaGFzKGtleSk7XG4gIH07XG5cbiAgX3Byb3RvLmhhcyA9IGZ1bmN0aW9uIGhhcyhrZXkpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKCFnbG9iYWxTdGF0ZS50cmFja2luZ0Rlcml2YXRpb24pIHJldHVybiB0aGlzLmhhc18oa2V5KTtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmhhc01hcF8uZ2V0KGtleSk7XG5cbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICB2YXIgbmV3RW50cnkgPSBlbnRyeSA9IG5ldyBPYnNlcnZhYmxlVmFsdWUodGhpcy5oYXNfKGtleSksIHJlZmVyZW5jZUVuaGFuY2VyLCBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB0aGlzLm5hbWVfICsgXCIuXCIgKyBzdHJpbmdpZnlLZXkoa2V5KSArIFwiP1wiIDogXCJPYnNlcnZhYmxlTWFwLmtleT9cIiwgZmFsc2UpO1xuICAgICAgdGhpcy5oYXNNYXBfLnNldChrZXksIG5ld0VudHJ5KTtcbiAgICAgIG9uQmVjb21lVW5vYnNlcnZlZChuZXdFbnRyeSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuaGFzTWFwX1tcImRlbGV0ZVwiXShrZXkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudHJ5LmdldCgpO1xuICB9O1xuXG4gIF9wcm90by5zZXQgPSBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBoYXNLZXkgPSB0aGlzLmhhc18oa2V5KTtcblxuICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xuICAgICAgICB0eXBlOiBoYXNLZXkgPyBVUERBVEUgOiBBREQsXG4gICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgbmV3VmFsdWU6IHZhbHVlLFxuICAgICAgICBuYW1lOiBrZXlcbiAgICAgIH0pO1xuICAgICAgaWYgKCFjaGFuZ2UpIHJldHVybiB0aGlzO1xuICAgICAgdmFsdWUgPSBjaGFuZ2UubmV3VmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKGhhc0tleSkge1xuICAgICAgdGhpcy51cGRhdGVWYWx1ZV8oa2V5LCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkVmFsdWVfKGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90b1tcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uIF9kZWxldGUoa2V5KSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZCh0aGlzLmtleXNBdG9tXyk7XG5cbiAgICBpZiAoaGFzSW50ZXJjZXB0b3JzKHRoaXMpKSB7XG4gICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgdHlwZTogREVMRVRFLFxuICAgICAgICBvYmplY3Q6IHRoaXMsXG4gICAgICAgIG5hbWU6IGtleVxuICAgICAgfSk7XG4gICAgICBpZiAoIWNoYW5nZSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmhhc18oa2V5KSkge1xuICAgICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpO1xuICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyh0aGlzKTtcblxuICAgICAgdmFyIF9jaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5ID8ge1xuICAgICAgICBvYnNlcnZhYmxlS2luZDogXCJtYXBcIixcbiAgICAgICAgZGVidWdPYmplY3ROYW1lOiB0aGlzLm5hbWVfLFxuICAgICAgICB0eXBlOiBERUxFVEUsXG4gICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgb2xkVmFsdWU6IHRoaXMuZGF0YV8uZ2V0KGtleSkudmFsdWVfLFxuICAgICAgICBuYW1lOiBrZXlcbiAgICAgIH0gOiBudWxsO1xuXG4gICAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIG5vdGlmeVNweSkgc3B5UmVwb3J0U3RhcnQoX2NoYW5nZSk7XG4gICAgICB0cmFuc2FjdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi5rZXlzQXRvbV8ucmVwb3J0Q2hhbmdlZCgpO1xuXG4gICAgICAgIF90aGlzMi51cGRhdGVIYXNNYXBFbnRyeV8oa2V5LCBmYWxzZSk7XG5cbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBfdGhpczIuZGF0YV8uZ2V0KGtleSk7XG5cbiAgICAgICAgb2JzZXJ2YWJsZS5zZXROZXdWYWx1ZV8odW5kZWZpbmVkKTtcblxuICAgICAgICBfdGhpczIuZGF0YV9bXCJkZWxldGVcIl0oa2V5KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKG5vdGlmeSkgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIF9jaGFuZ2UpO1xuICAgICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBub3RpZnlTcHkpIHNweVJlcG9ydEVuZCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIF9wcm90by51cGRhdGVIYXNNYXBFbnRyeV8gPSBmdW5jdGlvbiB1cGRhdGVIYXNNYXBFbnRyeV8oa2V5LCB2YWx1ZSkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuaGFzTWFwXy5nZXQoa2V5KTtcblxuICAgIGlmIChlbnRyeSkge1xuICAgICAgZW50cnkuc2V0TmV3VmFsdWVfKHZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLnVwZGF0ZVZhbHVlXyA9IGZ1bmN0aW9uIHVwZGF0ZVZhbHVlXyhrZXksIG5ld1ZhbHVlKSB7XG4gICAgdmFyIG9ic2VydmFibGUgPSB0aGlzLmRhdGFfLmdldChrZXkpO1xuICAgIG5ld1ZhbHVlID0gb2JzZXJ2YWJsZS5wcmVwYXJlTmV3VmFsdWVfKG5ld1ZhbHVlKTtcblxuICAgIGlmIChuZXdWYWx1ZSAhPT0gZ2xvYmFsU3RhdGUuVU5DSEFOR0VEKSB7XG4gICAgICB2YXIgbm90aWZ5U3B5ID0gaXNTcHlFbmFibGVkKCk7XG4gICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xuICAgICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHkgPyB7XG4gICAgICAgIG9ic2VydmFibGVLaW5kOiBcIm1hcFwiLFxuICAgICAgICBkZWJ1Z09iamVjdE5hbWU6IHRoaXMubmFtZV8sXG4gICAgICAgIHR5cGU6IFVQREFURSxcbiAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICBvbGRWYWx1ZTogb2JzZXJ2YWJsZS52YWx1ZV8sXG4gICAgICAgIG5hbWU6IGtleSxcbiAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlXG4gICAgICB9IDogbnVsbDtcbiAgICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgbm90aWZ5U3B5KSBzcHlSZXBvcnRTdGFydChjaGFuZ2UpO1xuICAgICAgb2JzZXJ2YWJsZS5zZXROZXdWYWx1ZV8obmV3VmFsdWUpO1xuICAgICAgaWYgKG5vdGlmeSkgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIGNoYW5nZSk7XG4gICAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIG5vdGlmeVNweSkgc3B5UmVwb3J0RW5kKCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5hZGRWYWx1ZV8gPSBmdW5jdGlvbiBhZGRWYWx1ZV8oa2V5LCBuZXdWYWx1ZSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgY2hlY2tJZlN0YXRlTW9kaWZpY2F0aW9uc0FyZUFsbG93ZWQodGhpcy5rZXlzQXRvbV8pO1xuICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGVWYWx1ZShuZXdWYWx1ZSwgX3RoaXMzLmVuaGFuY2VyXywgTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gX3RoaXMzLm5hbWVfICsgXCIuXCIgKyBzdHJpbmdpZnlLZXkoa2V5KSA6IFwiT2JzZXJ2YWJsZU1hcC5rZXlcIiwgZmFsc2UpO1xuXG4gICAgICBfdGhpczMuZGF0YV8uc2V0KGtleSwgb2JzZXJ2YWJsZSk7XG5cbiAgICAgIG5ld1ZhbHVlID0gb2JzZXJ2YWJsZS52YWx1ZV87IC8vIHZhbHVlIG1pZ2h0IGhhdmUgYmVlbiBjaGFuZ2VkXG5cbiAgICAgIF90aGlzMy51cGRhdGVIYXNNYXBFbnRyeV8oa2V5LCB0cnVlKTtcblxuICAgICAgX3RoaXMzLmtleXNBdG9tXy5yZXBvcnRDaGFuZ2VkKCk7XG4gICAgfSk7XG4gICAgdmFyIG5vdGlmeVNweSA9IGlzU3B5RW5hYmxlZCgpO1xuICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XG4gICAgdmFyIGNoYW5nZSA9IG5vdGlmeSB8fCBub3RpZnlTcHkgPyB7XG4gICAgICBvYnNlcnZhYmxlS2luZDogXCJtYXBcIixcbiAgICAgIGRlYnVnT2JqZWN0TmFtZTogdGhpcy5uYW1lXyxcbiAgICAgIHR5cGU6IEFERCxcbiAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgIG5hbWU6IGtleSxcbiAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxuICAgIH0gOiBudWxsO1xuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgbm90aWZ5U3B5KSBzcHlSZXBvcnRTdGFydChjaGFuZ2UpO1xuICAgIGlmIChub3RpZnkpIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgbm90aWZ5U3B5KSBzcHlSZXBvcnRFbmQoKTtcbiAgfTtcblxuICBfcHJvdG8uZ2V0ID0gZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSByZXR1cm4gdGhpcy5kZWhhbmNlVmFsdWVfKHRoaXMuZGF0YV8uZ2V0KGtleSkuZ2V0KCkpO1xuICAgIHJldHVybiB0aGlzLmRlaGFuY2VWYWx1ZV8odW5kZWZpbmVkKTtcbiAgfTtcblxuICBfcHJvdG8uZGVoYW5jZVZhbHVlXyA9IGZ1bmN0aW9uIGRlaGFuY2VWYWx1ZV8odmFsdWUpIHtcbiAgICBpZiAodGhpcy5kZWhhbmNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWhhbmNlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIF9wcm90by5rZXlzID0gZnVuY3Rpb24ga2V5cygpIHtcbiAgICB0aGlzLmtleXNBdG9tXy5yZXBvcnRPYnNlcnZlZCgpO1xuICAgIHJldHVybiB0aGlzLmRhdGFfLmtleXMoKTtcbiAgfTtcblxuICBfcHJvdG8udmFsdWVzID0gZnVuY3Rpb24gdmFsdWVzKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIga2V5cyA9IHRoaXMua2V5cygpO1xuICAgIHJldHVybiBtYWtlSXRlcmFibGUoe1xuICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgdmFyIF9rZXlzJG5leHQgPSBrZXlzLm5leHQoKSxcbiAgICAgICAgICAgIGRvbmUgPSBfa2V5cyRuZXh0LmRvbmUsXG4gICAgICAgICAgICB2YWx1ZSA9IF9rZXlzJG5leHQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkb25lOiBkb25lLFxuICAgICAgICAgIHZhbHVlOiBkb25lID8gdW5kZWZpbmVkIDogc2VsZi5nZXQodmFsdWUpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLmVudHJpZXMgPSBmdW5jdGlvbiBlbnRyaWVzKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIga2V5cyA9IHRoaXMua2V5cygpO1xuICAgIHJldHVybiBtYWtlSXRlcmFibGUoe1xuICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgdmFyIF9rZXlzJG5leHQyID0ga2V5cy5uZXh0KCksXG4gICAgICAgICAgICBkb25lID0gX2tleXMkbmV4dDIuZG9uZSxcbiAgICAgICAgICAgIHZhbHVlID0gX2tleXMkbmV4dDIudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkb25lOiBkb25lLFxuICAgICAgICAgIHZhbHVlOiBkb25lID8gdW5kZWZpbmVkIDogW3ZhbHVlLCBzZWxmLmdldCh2YWx1ZSldXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvW19TeW1ib2wkaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVudHJpZXMoKTtcbiAgfTtcblxuICBfcHJvdG8uZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKHRoaXMpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgdmFyIF9zdGVwJHZhbHVlID0gX3N0ZXAudmFsdWUsXG4gICAgICAgICAga2V5ID0gX3N0ZXAkdmFsdWVbMF0sXG4gICAgICAgICAgdmFsdWUgPSBfc3RlcCR2YWx1ZVsxXTtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWUsIGtleSwgdGhpcyk7XG4gICAgfVxuICB9XG4gIC8qKiBNZXJnZSBhbm90aGVyIG9iamVjdCBpbnRvIHRoaXMgb2JqZWN0LCByZXR1cm5zIHRoaXMuICovXG4gIDtcblxuICBfcHJvdG8ubWVyZ2UgPSBmdW5jdGlvbiBtZXJnZShvdGhlcikge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgaWYgKGlzT2JzZXJ2YWJsZU1hcChvdGhlcikpIHtcbiAgICAgIG90aGVyID0gbmV3IE1hcChvdGhlcik7XG4gICAgfVxuXG4gICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzUGxhaW5PYmplY3Qob3RoZXIpKSBnZXRQbGFpbk9iamVjdEtleXMob3RoZXIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gX3RoaXM0LnNldChrZXksIG90aGVyW2tleV0pO1xuICAgICAgfSk7ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvdGhlcikpIG90aGVyLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIGtleSA9IF9yZWZbMF0sXG4gICAgICAgICAgICB2YWx1ZSA9IF9yZWZbMV07XG4gICAgICAgIHJldHVybiBfdGhpczQuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgfSk7ZWxzZSBpZiAoaXNFUzZNYXAob3RoZXIpKSB7XG4gICAgICAgIGlmIChvdGhlci5jb25zdHJ1Y3RvciAhPT0gTWFwKSBkaWUoMTksIG90aGVyKTtcbiAgICAgICAgb3RoZXIuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczQuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAob3RoZXIgIT09IG51bGwgJiYgb3RoZXIgIT09IHVuZGVmaW5lZCkgZGllKDIwLCBvdGhlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgX3Byb3RvLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICB0cmFuc2FjdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICB1bnRyYWNrZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShfdGhpczUua2V5cygpKSwgX3N0ZXAyOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIoKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgX3RoaXM1W1wiZGVsZXRlXCJdKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by5yZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZSh2YWx1ZXMpIHtcbiAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgIC8vIEltcGxlbWVudGF0aW9uIHJlcXVpcmVtZW50czpcbiAgICAvLyAtIHJlc3BlY3Qgb3JkZXJpbmcgb2YgcmVwbGFjZW1lbnQgbWFwXG4gICAgLy8gLSBhbGxvdyBpbnRlcmNlcHRvcnMgdG8gcnVuIGFuZCBwb3RlbnRpYWxseSBwcmV2ZW50IGluZGl2aWR1YWwgb3BlcmF0aW9uc1xuICAgIC8vIC0gZG9uJ3QgcmVjcmVhdGUgb2JzZXJ2YWJsZXMgdGhhdCBhbHJlYWR5IGV4aXN0IGluIG9yaWdpbmFsIG1hcCAoc28gd2UgZG9uJ3QgZGVzdHJveSBleGlzdGluZyBzdWJzY3JpcHRpb25zKVxuICAgIC8vIC0gZG9uJ3QgX2tleXNBdG9tLnJlcG9ydENoYW5nZWQgaWYgdGhlIGtleXMgb2YgcmVzdWx0aW5nIG1hcCBhcmUgaW5kZW50aWNhbCAob3JkZXIgbWF0dGVycyEpXG4gICAgLy8gLSBub3RlIHRoYXQgcmVzdWx0IG1hcCBtYXkgZGlmZmVyIGZyb20gcmVwbGFjZW1lbnQgbWFwIGR1ZSB0byB0aGUgaW50ZXJjZXB0b3JzXG4gICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgLy8gQ29udmVydCB0byBtYXAgc28gd2UgY2FuIGRvIHF1aWNrIGtleSBsb29rdXBzXG4gICAgICB2YXIgcmVwbGFjZW1lbnRNYXAgPSBjb252ZXJ0VG9NYXAodmFsdWVzKTtcbiAgICAgIHZhciBvcmRlcmVkRGF0YSA9IG5ldyBNYXAoKTsgLy8gVXNlZCBmb3Igb3B0aW1pemF0aW9uXG5cbiAgICAgIHZhciBrZXlzUmVwb3J0Q2hhbmdlZENhbGxlZCA9IGZhbHNlOyAvLyBEZWxldGUga2V5cyB0aGF0IGRvbid0IGV4aXN0IGluIHJlcGxhY2VtZW50IG1hcFxuICAgICAgLy8gaWYgdGhlIGtleSBkZWxldGlvbiBpcyBwcmV2ZW50ZWQgYnkgaW50ZXJjZXB0b3JcbiAgICAgIC8vIGFkZCBlbnRyeSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSByZXN1bHQgbWFwXG5cbiAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKF90aGlzNi5kYXRhXy5rZXlzKCkpLCBfc3RlcDM7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMygpKS5kb25lOykge1xuICAgICAgICB2YXIga2V5ID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgIC8vIENvbmN1cnJlbnRseSBpdGVyYXRpbmcvZGVsZXRpbmcga2V5c1xuICAgICAgICAvLyBpdGVyYXRvciBzaG91bGQgaGFuZGxlIHRoaXMgY29ycmVjdGx5XG4gICAgICAgIGlmICghcmVwbGFjZW1lbnRNYXAuaGFzKGtleSkpIHtcbiAgICAgICAgICB2YXIgZGVsZXRlZCA9IF90aGlzNltcImRlbGV0ZVwiXShrZXkpOyAvLyBXYXMgdGhlIGtleSByZW1vdmVkP1xuXG5cbiAgICAgICAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICAgICAgLy8gX2tleXNBdG9tLnJlcG9ydENoYW5nZWQoKSB3YXMgYWxyZWFkeSBjYWxsZWRcbiAgICAgICAgICAgIGtleXNSZXBvcnRDaGFuZ2VkQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVsZXRlIHByZXZlbnRlZCBieSBpbnRlcmNlcHRvclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gX3RoaXM2LmRhdGFfLmdldChrZXkpO1xuXG4gICAgICAgICAgICBvcmRlcmVkRGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIE1lcmdlIGVudHJpZXNcblxuXG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShyZXBsYWNlbWVudE1hcC5lbnRyaWVzKCkpLCBfc3RlcDQ7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNCgpKS5kb25lOykge1xuICAgICAgICB2YXIgX3N0ZXA0JHZhbHVlID0gX3N0ZXA0LnZhbHVlLFxuICAgICAgICAgICAgX2tleSA9IF9zdGVwNCR2YWx1ZVswXSxcbiAgICAgICAgICAgIF92YWx1ZSA9IF9zdGVwNCR2YWx1ZVsxXTtcblxuICAgICAgICAvLyBXZSB3aWxsIHdhbnQgdG8ga25vdyB3aGV0aGVyIGEgbmV3IGtleSBpcyBhZGRlZFxuICAgICAgICB2YXIga2V5RXhpc3RlZCA9IF90aGlzNi5kYXRhXy5oYXMoX2tleSk7IC8vIEFkZCBvciB1cGRhdGUgdmFsdWVcblxuXG4gICAgICAgIF90aGlzNi5zZXQoX2tleSwgX3ZhbHVlKTsgLy8gVGhlIGFkZGl0aW9uIGNvdWxkIGhhdmUgYmVlbiBwcmV2ZW50IGJ5IGludGVyY2VwdG9yXG5cblxuICAgICAgICBpZiAoX3RoaXM2LmRhdGFfLmhhcyhfa2V5KSkge1xuICAgICAgICAgIC8vIFRoZSB1cGRhdGUgY291bGQgaGF2ZSBiZWVuIHByZXZlbnRlZCBieSBpbnRlcmNlcHRvclxuICAgICAgICAgIC8vIGFuZCBhbHNvIHdlIHdhbnQgdG8gcHJlc2VydmUgZXhpc3RpbmcgdmFsdWVzXG4gICAgICAgICAgLy8gc28gdXNlIHZhbHVlIGZyb20gX2RhdGEgbWFwIChpbnN0ZWFkIG9mIHJlcGxhY2VtZW50IG1hcClcbiAgICAgICAgICB2YXIgX3ZhbHVlMiA9IF90aGlzNi5kYXRhXy5nZXQoX2tleSk7XG5cbiAgICAgICAgICBvcmRlcmVkRGF0YS5zZXQoX2tleSwgX3ZhbHVlMik7IC8vIFdhcyBhIG5ldyBrZXkgYWRkZWQ/XG5cbiAgICAgICAgICBpZiAoIWtleUV4aXN0ZWQpIHtcbiAgICAgICAgICAgIC8vIF9rZXlzQXRvbS5yZXBvcnRDaGFuZ2VkKCkgd2FzIGFscmVhZHkgY2FsbGVkXG4gICAgICAgICAgICBrZXlzUmVwb3J0Q2hhbmdlZENhbGxlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIENoZWNrIGZvciBwb3NzaWJsZSBrZXkgb3JkZXIgY2hhbmdlXG5cblxuICAgICAgaWYgKCFrZXlzUmVwb3J0Q2hhbmdlZENhbGxlZCkge1xuICAgICAgICBpZiAoX3RoaXM2LmRhdGFfLnNpemUgIT09IG9yZGVyZWREYXRhLnNpemUpIHtcbiAgICAgICAgICAvLyBJZiBzaXplIGRpZmZlcnMsIGtleXMgYXJlIGRlZmluaXRlbHkgbW9kaWZpZWRcbiAgICAgICAgICBfdGhpczYua2V5c0F0b21fLnJlcG9ydENoYW5nZWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaXRlcjEgPSBfdGhpczYuZGF0YV8ua2V5cygpO1xuXG4gICAgICAgICAgdmFyIGl0ZXIyID0gb3JkZXJlZERhdGEua2V5cygpO1xuICAgICAgICAgIHZhciBuZXh0MSA9IGl0ZXIxLm5leHQoKTtcbiAgICAgICAgICB2YXIgbmV4dDIgPSBpdGVyMi5uZXh0KCk7XG5cbiAgICAgICAgICB3aGlsZSAoIW5leHQxLmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChuZXh0MS52YWx1ZSAhPT0gbmV4dDIudmFsdWUpIHtcbiAgICAgICAgICAgICAgX3RoaXM2LmtleXNBdG9tXy5yZXBvcnRDaGFuZ2VkKCk7XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5leHQxID0gaXRlcjEubmV4dCgpO1xuICAgICAgICAgICAgbmV4dDIgPSBpdGVyMi5uZXh0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIFVzZSBjb3JyZWN0bHkgb3JkZXJlZCBtYXBcblxuXG4gICAgICBfdGhpczYuZGF0YV8gPSBvcmRlcmVkRGF0YTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IE9ic2VydmFibGVNYXBdXCI7XG4gIH07XG5cbiAgX3Byb3RvLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogT2JzZXJ2ZXMgdGhpcyBvYmplY3QuIFRyaWdnZXJzIGZvciB0aGUgZXZlbnRzICdhZGQnLCAndXBkYXRlJyBhbmQgJ2RlbGV0ZScuXG4gICAqIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L29ic2VydmVcbiAgICogZm9yIGNhbGxiYWNrIGRldGFpbHNcbiAgICovXG4gIF9wcm90by5vYnNlcnZlXyA9IGZ1bmN0aW9uIG9ic2VydmVfKGxpc3RlbmVyLCBmaXJlSW1tZWRpYXRlbHkpIHtcbiAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGZpcmVJbW1lZGlhdGVseSA9PT0gdHJ1ZSkgZGllKFwiYG9ic2VydmVgIGRvZXNuJ3Qgc3VwcG9ydCBmaXJlSW1tZWRpYXRlbHk9dHJ1ZSBpbiBjb21iaW5hdGlvbiB3aXRoIG1hcHMuXCIpO1xuICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyKHRoaXMsIGxpc3RlbmVyKTtcbiAgfTtcblxuICBfcHJvdG8uaW50ZXJjZXB0XyA9IGZ1bmN0aW9uIGludGVyY2VwdF8oaGFuZGxlcikge1xuICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yKHRoaXMsIGhhbmRsZXIpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhPYnNlcnZhYmxlTWFwLCBbe1xuICAgIGtleTogXCJzaXplXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB0aGlzLmtleXNBdG9tXy5yZXBvcnRPYnNlcnZlZCgpO1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YV8uc2l6ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IF9TeW1ib2wkdG9TdHJpbmdUYWcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCJNYXBcIjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT2JzZXJ2YWJsZU1hcDtcbn0oKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbnZhciBpc09ic2VydmFibGVNYXAgPSAvKiNfX1BVUkVfXyovY3JlYXRlSW5zdGFuY2VvZlByZWRpY2F0ZShcIk9ic2VydmFibGVNYXBcIiwgT2JzZXJ2YWJsZU1hcCk7XG5cbmZ1bmN0aW9uIGNvbnZlcnRUb01hcChkYXRhU3RydWN0dXJlKSB7XG4gIGlmIChpc0VTNk1hcChkYXRhU3RydWN0dXJlKSB8fCBpc09ic2VydmFibGVNYXAoZGF0YVN0cnVjdHVyZSkpIHtcbiAgICByZXR1cm4gZGF0YVN0cnVjdHVyZTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGFTdHJ1Y3R1cmUpKSB7XG4gICAgcmV0dXJuIG5ldyBNYXAoZGF0YVN0cnVjdHVyZSk7XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChkYXRhU3RydWN0dXJlKSkge1xuICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVN0cnVjdHVyZSkge1xuICAgICAgbWFwLnNldChrZXksIGRhdGFTdHJ1Y3R1cmVba2V5XSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGllKDIxLCBkYXRhU3RydWN0dXJlKTtcbiAgfVxufVxuXG52YXIgX1N5bWJvbCRpdGVyYXRvciQxLCBfU3ltYm9sJHRvU3RyaW5nVGFnJDE7XG52YXIgT2JzZXJ2YWJsZVNldE1hcmtlciA9IHt9O1xuX1N5bWJvbCRpdGVyYXRvciQxID0gU3ltYm9sLml0ZXJhdG9yO1xuX1N5bWJvbCR0b1N0cmluZ1RhZyQxID0gU3ltYm9sLnRvU3RyaW5nVGFnO1xudmFyIE9ic2VydmFibGVTZXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBPYnNlcnZhYmxlU2V0KGluaXRpYWxEYXRhLCBlbmhhbmNlciwgbmFtZV8pIHtcbiAgICBpZiAoZW5oYW5jZXIgPT09IHZvaWQgMCkge1xuICAgICAgZW5oYW5jZXIgPSBkZWVwRW5oYW5jZXI7XG4gICAgfVxuXG4gICAgaWYgKG5hbWVfID09PSB2b2lkIDApIHtcbiAgICAgIG5hbWVfID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gXCJPYnNlcnZhYmxlU2V0QFwiICsgZ2V0TmV4dElkKCkgOiBcIk9ic2VydmFibGVTZXRcIjtcbiAgICB9XG5cbiAgICB0aGlzLm5hbWVfID0gdm9pZCAwO1xuICAgIHRoaXNbJG1vYnhdID0gT2JzZXJ2YWJsZVNldE1hcmtlcjtcbiAgICB0aGlzLmRhdGFfID0gbmV3IFNldCgpO1xuICAgIHRoaXMuYXRvbV8gPSB2b2lkIDA7XG4gICAgdGhpcy5jaGFuZ2VMaXN0ZW5lcnNfID0gdm9pZCAwO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzXyA9IHZvaWQgMDtcbiAgICB0aGlzLmRlaGFuY2VyID0gdm9pZCAwO1xuICAgIHRoaXMuZW5oYW5jZXJfID0gdm9pZCAwO1xuICAgIHRoaXMubmFtZV8gPSBuYW1lXztcblxuICAgIGlmICghaXNGdW5jdGlvbihTZXQpKSB7XG4gICAgICBkaWUoMjIpO1xuICAgIH1cblxuICAgIHRoaXMuYXRvbV8gPSBjcmVhdGVBdG9tKHRoaXMubmFtZV8pO1xuXG4gICAgdGhpcy5lbmhhbmNlcl8gPSBmdW5jdGlvbiAobmV3Viwgb2xkVikge1xuICAgICAgcmV0dXJuIGVuaGFuY2VyKG5ld1YsIG9sZFYsIG5hbWVfKTtcbiAgICB9O1xuXG4gICAgaWYgKGluaXRpYWxEYXRhKSB7XG4gICAgICB0aGlzLnJlcGxhY2UoaW5pdGlhbERhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBPYnNlcnZhYmxlU2V0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uZGVoYW5jZVZhbHVlXyA9IGZ1bmN0aW9uIGRlaGFuY2VWYWx1ZV8odmFsdWUpIHtcbiAgICBpZiAodGhpcy5kZWhhbmNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWhhbmNlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIF9wcm90by5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB0cmFuc2FjdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICB1bnRyYWNrZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKF90aGlzLmRhdGFfLnZhbHVlcygpKSwgX3N0ZXA7ICEoX3N0ZXAgPSBfaXRlcmF0b3IoKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgIF90aGlzW1wiZGVsZXRlXCJdKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrRm4sIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSh0aGlzKSwgX3N0ZXAyOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIoKSkuZG9uZTspIHtcbiAgICAgIHZhciB2YWx1ZSA9IF9zdGVwMi52YWx1ZTtcbiAgICAgIGNhbGxiYWNrRm4uY2FsbCh0aGlzQXJnLCB2YWx1ZSwgdmFsdWUsIHRoaXMpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBjaGVja0lmU3RhdGVNb2RpZmljYXRpb25zQXJlQWxsb3dlZCh0aGlzLmF0b21fKTtcblxuICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xuICAgICAgICB0eXBlOiBBREQsXG4gICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgbmV3VmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICAgIGlmICghY2hhbmdlKSByZXR1cm4gdGhpczsgLy8gaWRlYWxseSwgdmFsdWUgPSBjaGFuZ2UudmFsdWUgd291bGQgYmUgZG9uZSBoZXJlLCBzbyB0aGF0IHZhbHVlcyBjYW4gYmVcbiAgICAgIC8vIGNoYW5nZWQgYnkgaW50ZXJjZXB0b3IuIFNhbWUgYXBwbGllcyBmb3Igb3RoZXIgU2V0IGFuZCBNYXAgYXBpJ3MuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgIHRyYW5zYWN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLmRhdGFfLmFkZChfdGhpczIuZW5oYW5jZXJfKHZhbHVlLCB1bmRlZmluZWQpKTtcblxuICAgICAgICBfdGhpczIuYXRvbV8ucmVwb3J0Q2hhbmdlZCgpO1xuICAgICAgfSk7XG4gICAgICB2YXIgbm90aWZ5U3B5ID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGlzU3B5RW5hYmxlZCgpO1xuICAgICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyh0aGlzKTtcblxuICAgICAgdmFyIF9jaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5ID8ge1xuICAgICAgICBvYnNlcnZhYmxlS2luZDogXCJzZXRcIixcbiAgICAgICAgZGVidWdPYmplY3ROYW1lOiB0aGlzLm5hbWVfLFxuICAgICAgICB0eXBlOiBBREQsXG4gICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgbmV3VmFsdWU6IHZhbHVlXG4gICAgICB9IDogbnVsbDtcblxuICAgICAgaWYgKG5vdGlmeVNweSAmJiBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHNweVJlcG9ydFN0YXJ0KF9jaGFuZ2UpO1xuICAgICAgaWYgKG5vdGlmeSkgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIF9jaGFuZ2UpO1xuICAgICAgaWYgKG5vdGlmeVNweSAmJiBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHNweVJlcG9ydEVuZCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90b1tcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uIF9kZWxldGUodmFsdWUpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xuICAgICAgICB0eXBlOiBERUxFVEUsXG4gICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgb2xkVmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICAgIGlmICghY2hhbmdlKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaGFzKHZhbHVlKSkge1xuICAgICAgdmFyIG5vdGlmeVNweSA9IE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBpc1NweUVuYWJsZWQoKTtcbiAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XG5cbiAgICAgIHZhciBfY2hhbmdlMiA9IG5vdGlmeSB8fCBub3RpZnlTcHkgPyB7XG4gICAgICAgIG9ic2VydmFibGVLaW5kOiBcInNldFwiLFxuICAgICAgICBkZWJ1Z09iamVjdE5hbWU6IHRoaXMubmFtZV8sXG4gICAgICAgIHR5cGU6IERFTEVURSxcbiAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICBvbGRWYWx1ZTogdmFsdWVcbiAgICAgIH0gOiBudWxsO1xuXG4gICAgICBpZiAobm90aWZ5U3B5ICYmIE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgc3B5UmVwb3J0U3RhcnQoX2NoYW5nZTIpO1xuICAgICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuYXRvbV8ucmVwb3J0Q2hhbmdlZCgpO1xuXG4gICAgICAgIF90aGlzMy5kYXRhX1tcImRlbGV0ZVwiXSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChub3RpZnkpIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBfY2hhbmdlMik7XG4gICAgICBpZiAobm90aWZ5U3B5ICYmIE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgc3B5UmVwb3J0RW5kKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgX3Byb3RvLmhhcyA9IGZ1bmN0aW9uIGhhcyh2YWx1ZSkge1xuICAgIHRoaXMuYXRvbV8ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5kYXRhXy5oYXModGhpcy5kZWhhbmNlVmFsdWVfKHZhbHVlKSk7XG4gIH07XG5cbiAgX3Byb3RvLmVudHJpZXMgPSBmdW5jdGlvbiBlbnRyaWVzKCkge1xuICAgIHZhciBuZXh0SW5kZXggPSAwO1xuICAgIHZhciBrZXlzID0gQXJyYXkuZnJvbSh0aGlzLmtleXMoKSk7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5LmZyb20odGhpcy52YWx1ZXMoKSk7XG4gICAgcmV0dXJuIG1ha2VJdGVyYWJsZSh7XG4gICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICB2YXIgaW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICAgIG5leHRJbmRleCArPSAxO1xuICAgICAgICByZXR1cm4gaW5kZXggPCB2YWx1ZXMubGVuZ3RoID8ge1xuICAgICAgICAgIHZhbHVlOiBba2V5c1tpbmRleF0sIHZhbHVlc1tpbmRleF1dLFxuICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by5rZXlzID0gZnVuY3Rpb24ga2V5cygpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcbiAgfTtcblxuICBfcHJvdG8udmFsdWVzID0gZnVuY3Rpb24gdmFsdWVzKCkge1xuICAgIHRoaXMuYXRvbV8ucmVwb3J0T2JzZXJ2ZWQoKTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIG5leHRJbmRleCA9IDA7XG4gICAgdmFyIG9ic2VydmFibGVWYWx1ZXMgPSBBcnJheS5mcm9tKHRoaXMuZGF0YV8udmFsdWVzKCkpO1xuICAgIHJldHVybiBtYWtlSXRlcmFibGUoe1xuICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIG5leHRJbmRleCA8IG9ic2VydmFibGVWYWx1ZXMubGVuZ3RoID8ge1xuICAgICAgICAgIHZhbHVlOiBzZWxmLmRlaGFuY2VWYWx1ZV8ob2JzZXJ2YWJsZVZhbHVlc1tuZXh0SW5kZXgrK10pLFxuICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90by5yZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShvdGhlcikge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgaWYgKGlzT2JzZXJ2YWJsZVNldChvdGhlcikpIHtcbiAgICAgIG90aGVyID0gbmV3IFNldChvdGhlcik7XG4gICAgfVxuXG4gICAgdHJhbnNhY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3RoZXIpKSB7XG4gICAgICAgIF90aGlzNC5jbGVhcigpO1xuXG4gICAgICAgIG90aGVyLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNC5hZGQodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNFUzZTZXQob3RoZXIpKSB7XG4gICAgICAgIF90aGlzNC5jbGVhcigpO1xuXG4gICAgICAgIG90aGVyLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNC5hZGQodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAob3RoZXIgIT09IG51bGwgJiYgb3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkaWUoXCJDYW5ub3QgaW5pdGlhbGl6ZSBzZXQgZnJvbSBcIiArIG90aGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8ub2JzZXJ2ZV8gPSBmdW5jdGlvbiBvYnNlcnZlXyhsaXN0ZW5lciwgZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgLy8gLi4uICdmaXJlSW1tZWRpYXRlbHknIGNvdWxkIGFsc28gYmUgdHJ1ZT9cbiAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGZpcmVJbW1lZGlhdGVseSA9PT0gdHJ1ZSkgZGllKFwiYG9ic2VydmVgIGRvZXNuJ3Qgc3VwcG9ydCBmaXJlSW1tZWRpYXRlbHk9dHJ1ZSBpbiBjb21iaW5hdGlvbiB3aXRoIHNldHMuXCIpO1xuICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyKHRoaXMsIGxpc3RlbmVyKTtcbiAgfTtcblxuICBfcHJvdG8uaW50ZXJjZXB0XyA9IGZ1bmN0aW9uIGludGVyY2VwdF8oaGFuZGxlcikge1xuICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yKHRoaXMsIGhhbmRsZXIpO1xuICB9O1xuXG4gIF9wcm90by50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcyk7XG4gIH07XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBPYnNlcnZhYmxlU2V0XVwiO1xuICB9O1xuXG4gIF9wcm90b1tfU3ltYm9sJGl0ZXJhdG9yJDFdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhPYnNlcnZhYmxlU2V0LCBbe1xuICAgIGtleTogXCJzaXplXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB0aGlzLmF0b21fLnJlcG9ydE9ic2VydmVkKCk7XG4gICAgICByZXR1cm4gdGhpcy5kYXRhXy5zaXplO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogX1N5bWJvbCR0b1N0cmluZ1RhZyQxLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwiU2V0XCI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE9ic2VydmFibGVTZXQ7XG59KCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG52YXIgaXNPYnNlcnZhYmxlU2V0ID0gLyojX19QVVJFX18qL2NyZWF0ZUluc3RhbmNlb2ZQcmVkaWNhdGUoXCJPYnNlcnZhYmxlU2V0XCIsIE9ic2VydmFibGVTZXQpO1xuXG52YXIgZGVzY3JpcHRvckNhY2hlID0gLyojX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG52YXIgUkVNT1ZFID0gXCJyZW1vdmVcIjtcbnZhciBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24odGFyZ2V0XywgdmFsdWVzXywgbmFtZV8sIC8vIFVzZWQgYW55dGltZSBhbm5vdGF0aW9uIGlzIG5vdCBleHBsaWNpdGVseSBwcm92aWRlZFxuICBkZWZhdWx0QW5ub3RhdGlvbl8pIHtcbiAgICBpZiAodmFsdWVzXyA9PT0gdm9pZCAwKSB7XG4gICAgICB2YWx1ZXNfID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIGlmIChkZWZhdWx0QW5ub3RhdGlvbl8gPT09IHZvaWQgMCkge1xuICAgICAgZGVmYXVsdEFubm90YXRpb25fID0gYXV0b0Fubm90YXRpb247XG4gICAgfVxuXG4gICAgdGhpcy50YXJnZXRfID0gdm9pZCAwO1xuICAgIHRoaXMudmFsdWVzXyA9IHZvaWQgMDtcbiAgICB0aGlzLm5hbWVfID0gdm9pZCAwO1xuICAgIHRoaXMuZGVmYXVsdEFubm90YXRpb25fID0gdm9pZCAwO1xuICAgIHRoaXMua2V5c0F0b21fID0gdm9pZCAwO1xuICAgIHRoaXMuY2hhbmdlTGlzdGVuZXJzXyA9IHZvaWQgMDtcbiAgICB0aGlzLmludGVyY2VwdG9yc18gPSB2b2lkIDA7XG4gICAgdGhpcy5wcm94eV8gPSB2b2lkIDA7XG4gICAgdGhpcy5pc1BsYWluT2JqZWN0XyA9IHZvaWQgMDtcbiAgICB0aGlzLmFwcGxpZWRBbm5vdGF0aW9uc18gPSB2b2lkIDA7XG4gICAgdGhpcy5wZW5kaW5nS2V5c18gPSB2b2lkIDA7XG4gICAgdGhpcy50YXJnZXRfID0gdGFyZ2V0XztcbiAgICB0aGlzLnZhbHVlc18gPSB2YWx1ZXNfO1xuICAgIHRoaXMubmFtZV8gPSBuYW1lXztcbiAgICB0aGlzLmRlZmF1bHRBbm5vdGF0aW9uXyA9IGRlZmF1bHRBbm5vdGF0aW9uXztcbiAgICB0aGlzLmtleXNBdG9tXyA9IG5ldyBBdG9tKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHRoaXMubmFtZV8gKyBcIi5rZXlzXCIgOiBcIk9ic2VydmFibGVPYmplY3Qua2V5c1wiKTsgLy8gT3B0aW1pemF0aW9uOiB3ZSB1c2UgdGhpcyBmcmVxdWVudGx5XG5cbiAgICB0aGlzLmlzUGxhaW5PYmplY3RfID0gaXNQbGFpbk9iamVjdCh0aGlzLnRhcmdldF8pO1xuXG4gICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhaXNBbm5vdGF0aW9uKHRoaXMuZGVmYXVsdEFubm90YXRpb25fKSkge1xuICAgICAgZGllKFwiZGVmYXVsdEFubm90YXRpb24gbXVzdCBiZSB2YWxpZCBhbm5vdGF0aW9uXCIpO1xuICAgIH1cblxuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIC8vIFByZXBhcmUgc3RydWN0dXJlIGZvciB0cmFja2luZyB3aGljaCBmaWVsZHMgd2VyZSBhbHJlYWR5IGFubm90YXRlZFxuICAgICAgdGhpcy5hcHBsaWVkQW5ub3RhdGlvbnNfID0ge307XG4gICAgfVxuICB9XG5cbiAgdmFyIF9wcm90byA9IE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbi5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmdldE9ic2VydmFibGVQcm9wVmFsdWVfID0gZnVuY3Rpb24gZ2V0T2JzZXJ2YWJsZVByb3BWYWx1ZV8oa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVzXy5nZXQoa2V5KS5nZXQoKTtcbiAgfTtcblxuICBfcHJvdG8uc2V0T2JzZXJ2YWJsZVByb3BWYWx1ZV8gPSBmdW5jdGlvbiBzZXRPYnNlcnZhYmxlUHJvcFZhbHVlXyhrZXksIG5ld1ZhbHVlKSB7XG4gICAgdmFyIG9ic2VydmFibGUgPSB0aGlzLnZhbHVlc18uZ2V0KGtleSk7XG5cbiAgICBpZiAob2JzZXJ2YWJsZSBpbnN0YW5jZW9mIENvbXB1dGVkVmFsdWUpIHtcbiAgICAgIG9ic2VydmFibGUuc2V0KG5ld1ZhbHVlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gaW50ZXJjZXB0XG5cblxuICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xuICAgICAgICB0eXBlOiBVUERBVEUsXG4gICAgICAgIG9iamVjdDogdGhpcy5wcm94eV8gfHwgdGhpcy50YXJnZXRfLFxuICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgIG5ld1ZhbHVlOiBuZXdWYWx1ZVxuICAgICAgfSk7XG4gICAgICBpZiAoIWNoYW5nZSkgcmV0dXJuIG51bGw7XG4gICAgICBuZXdWYWx1ZSA9IGNoYW5nZS5uZXdWYWx1ZTtcbiAgICB9XG5cbiAgICBuZXdWYWx1ZSA9IG9ic2VydmFibGUucHJlcGFyZU5ld1ZhbHVlXyhuZXdWYWx1ZSk7IC8vIG5vdGlmeSBzcHkgJiBvYnNlcnZlcnNcblxuICAgIGlmIChuZXdWYWx1ZSAhPT0gZ2xvYmFsU3RhdGUuVU5DSEFOR0VEKSB7XG4gICAgICB2YXIgbm90aWZ5ID0gaGFzTGlzdGVuZXJzKHRoaXMpO1xuICAgICAgdmFyIG5vdGlmeVNweSA9IE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBpc1NweUVuYWJsZWQoKTtcblxuICAgICAgdmFyIF9jaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5ID8ge1xuICAgICAgICB0eXBlOiBVUERBVEUsXG4gICAgICAgIG9ic2VydmFibGVLaW5kOiBcIm9iamVjdFwiLFxuICAgICAgICBkZWJ1Z09iamVjdE5hbWU6IHRoaXMubmFtZV8sXG4gICAgICAgIG9iamVjdDogdGhpcy5wcm94eV8gfHwgdGhpcy50YXJnZXRfLFxuICAgICAgICBvbGRWYWx1ZTogb2JzZXJ2YWJsZS52YWx1ZV8sXG4gICAgICAgIG5hbWU6IGtleSxcbiAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbHVlXG4gICAgICB9IDogbnVsbDtcblxuICAgICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBub3RpZnlTcHkpIHNweVJlcG9ydFN0YXJ0KF9jaGFuZ2UpO1xuICAgICAgb2JzZXJ2YWJsZS5zZXROZXdWYWx1ZV8obmV3VmFsdWUpO1xuICAgICAgaWYgKG5vdGlmeSkgbm90aWZ5TGlzdGVuZXJzKHRoaXMsIF9jaGFuZ2UpO1xuICAgICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBub3RpZnlTcHkpIHNweVJlcG9ydEVuZCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIF9wcm90by5nZXRfID0gZnVuY3Rpb24gZ2V0XyhrZXkpIHtcbiAgICBpZiAoZ2xvYmFsU3RhdGUudHJhY2tpbmdEZXJpdmF0aW9uICYmICFoYXNQcm9wKHRoaXMudGFyZ2V0Xywga2V5KSkge1xuICAgICAgLy8gS2V5IGRvZXNuJ3QgZXhpc3QgeWV0LCBzdWJzY3JpYmUgZm9yIGl0IGluIGNhc2UgaXQncyBhZGRlZCBsYXRlclxuICAgICAgdGhpcy5oYXNfKGtleSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0X1trZXldO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1Byb3BlcnR5S2V5fSBrZXlcbiAgICogQHBhcmFtIHthbnl9IHZhbHVlXG4gICAqIEBwYXJhbSB7QW5ub3RhdGlvbnxib29sZWFufSBhbm5vdGF0aW9uIHRydWUgLSB1c2UgZGVmYXVsdCBhbm5vdGF0aW9uLCBmYWxzZSAtIGNvcHkgYXMgaXNcbiAgICogQHBhcmFtIHtib29sZWFufSBwcm94eVRyYXAgd2hldGhlciBpdCdzIGNhbGxlZCBmcm9tIHByb3h5IHRyYXBcbiAgICogQHJldHVybnMge2Jvb2xlYW58bnVsbH0gdHJ1ZSBvbiBzdWNjZXNzLCBmYWxzZSBvbiBmYWlsdXJlIChwcm94eVRyYXAgKyBub24tY29uZmlndXJhYmxlKSwgbnVsbCB3aGVuIGNhbmNlbGxlZCBieSBpbnRlcmNlcHRvclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zZXRfID0gZnVuY3Rpb24gc2V0XyhrZXksIHZhbHVlLCBwcm94eVRyYXApIHtcbiAgICBpZiAocHJveHlUcmFwID09PSB2b2lkIDApIHtcbiAgICAgIHByb3h5VHJhcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIERvbid0IHVzZSAuaGFzKGtleSkgLSB3ZSBjYXJlIGFib3V0IG93blxuICAgIGlmIChoYXNQcm9wKHRoaXMudGFyZ2V0Xywga2V5KSkge1xuICAgICAgLy8gRXhpc3RpbmcgcHJvcFxuICAgICAgaWYgKHRoaXMudmFsdWVzXy5oYXMoa2V5KSkge1xuICAgICAgICAvLyBPYnNlcnZhYmxlIChjYW4gYmUgaW50ZXJjZXB0ZWQpXG4gICAgICAgIHJldHVybiB0aGlzLnNldE9ic2VydmFibGVQcm9wVmFsdWVfKGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChwcm94eVRyYXApIHtcbiAgICAgICAgLy8gTm9uLW9ic2VydmFibGUgLSBwcm94eVxuICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQodGhpcy50YXJnZXRfLCBrZXksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vbi1vYnNlcnZhYmxlXG4gICAgICAgIHRoaXMudGFyZ2V0X1trZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOZXcgcHJvcFxuICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5kXyhrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9LCB0aGlzLmRlZmF1bHRBbm5vdGF0aW9uXywgcHJveHlUcmFwKTtcbiAgICB9XG4gIH0gLy8gVHJhcCBmb3IgXCJpblwiXG4gIDtcblxuICBfcHJvdG8uaGFzXyA9IGZ1bmN0aW9uIGhhc18oa2V5KSB7XG4gICAgaWYgKCFnbG9iYWxTdGF0ZS50cmFja2luZ0Rlcml2YXRpb24pIHtcbiAgICAgIC8vIFNraXAga2V5IHN1YnNjcmlwdGlvbiBvdXRzaWRlIGRlcml2YXRpb25cbiAgICAgIHJldHVybiBrZXkgaW4gdGhpcy50YXJnZXRfO1xuICAgIH1cblxuICAgIHRoaXMucGVuZGluZ0tleXNfIHx8ICh0aGlzLnBlbmRpbmdLZXlzXyA9IG5ldyBNYXAoKSk7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5wZW5kaW5nS2V5c18uZ2V0KGtleSk7XG5cbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICBlbnRyeSA9IG5ldyBPYnNlcnZhYmxlVmFsdWUoa2V5IGluIHRoaXMudGFyZ2V0XywgcmVmZXJlbmNlRW5oYW5jZXIsIE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHRoaXMubmFtZV8gKyBcIi5cIiArIHN0cmluZ2lmeUtleShrZXkpICsgXCI/XCIgOiBcIk9ic2VydmFibGVPYmplY3Qua2V5P1wiLCBmYWxzZSk7XG4gICAgICB0aGlzLnBlbmRpbmdLZXlzXy5zZXQoa2V5LCBlbnRyeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudHJ5LmdldCgpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1Byb3BlcnR5S2V5fSBrZXlcbiAgICogQHBhcmFtIHtBbm5vdGF0aW9ufGJvb2xlYW59IGFubm90YXRpb24gdHJ1ZSAtIHVzZSBkZWZhdWx0IGFubm90YXRpb24sIGZhbHNlIC0gaWdub3JlIHByb3BcbiAgICovXG4gIDtcblxuICBfcHJvdG8ubWFrZV8gPSBmdW5jdGlvbiBtYWtlXyhrZXksIGFubm90YXRpb24pIHtcbiAgICBpZiAoYW5ub3RhdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgYW5ub3RhdGlvbiA9IHRoaXMuZGVmYXVsdEFubm90YXRpb25fO1xuICAgIH1cblxuICAgIGlmIChhbm5vdGF0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFzc2VydEFubm90YWJsZSh0aGlzLCBhbm5vdGF0aW9uLCBrZXkpO1xuXG4gICAgaWYgKCEoa2V5IGluIHRoaXMudGFyZ2V0XykpIHtcbiAgICAgIHZhciBfdGhpcyR0YXJnZXRfJHN0b3JlZEE7XG5cbiAgICAgIC8vIFRocm93IG9uIG1pc3Npbmcga2V5LCBleGNlcHQgZm9yIGRlY29yYXRvcnM6XG4gICAgICAvLyBEZWNvcmF0b3IgYW5ub3RhdGlvbnMgYXJlIGNvbGxlY3RlZCBmcm9tIHdob2xlIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgIC8vIFdoZW4gY2FsbGVkIGZyb20gc3VwZXIoKSBzb21lIHByb3BzIG1heSBub3QgZXhpc3QgeWV0LlxuICAgICAgLy8gSG93ZXZlciB3ZSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IG1pc3NpbmcgcHJvcCxcbiAgICAgIC8vIGJlY2F1c2UgdGhlIGRlY29yYXRvciBtdXN0IGhhdmUgYmVlbiBhcHBsaWVkIHRvIHNvbWV0aGluZy5cbiAgICAgIGlmICgoX3RoaXMkdGFyZ2V0XyRzdG9yZWRBID0gdGhpcy50YXJnZXRfW3N0b3JlZEFubm90YXRpb25zU3ltYm9sXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJHRhcmdldF8kc3RvcmVkQVtrZXldKSB7XG4gICAgICAgIHJldHVybjsgLy8gd2lsbCBiZSBhbm5vdGF0ZWQgYnkgc3ViY2xhc3MgY29uc3RydWN0b3JcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpZSgxLCBhbm5vdGF0aW9uLmFubm90YXRpb25UeXBlXywgdGhpcy5uYW1lXyArIFwiLlwiICsga2V5LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzb3VyY2UgPSB0aGlzLnRhcmdldF87XG5cbiAgICB3aGlsZSAoc291cmNlICYmIHNvdXJjZSAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IGdldERlc2NyaXB0b3Ioc291cmNlLCBrZXkpO1xuXG4gICAgICBpZiAoZGVzY3JpcHRvcikge1xuICAgICAgICB2YXIgb3V0Y29tZSA9IGFubm90YXRpb24ubWFrZV8odGhpcywga2V5LCBkZXNjcmlwdG9yLCBzb3VyY2UpO1xuICAgICAgICBpZiAob3V0Y29tZSA9PT0gMFxuICAgICAgICAvKiBDYW5jZWwgKi9cbiAgICAgICAgKSByZXR1cm47XG4gICAgICAgIGlmIChvdXRjb21lID09PSAxXG4gICAgICAgIC8qIEJyZWFrICovXG4gICAgICAgICkgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHNvdXJjZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihzb3VyY2UpO1xuICAgIH1cblxuICAgIHJlY29yZEFubm90YXRpb25BcHBsaWVkKHRoaXMsIGFubm90YXRpb24sIGtleSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7UHJvcGVydHlLZXl9IGtleVxuICAgKiBAcGFyYW0ge1Byb3BlcnR5RGVzY3JpcHRvcn0gZGVzY3JpcHRvclxuICAgKiBAcGFyYW0ge0Fubm90YXRpb258Ym9vbGVhbn0gYW5ub3RhdGlvbiB0cnVlIC0gdXNlIGRlZmF1bHQgYW5ub3RhdGlvbiwgZmFsc2UgLSBjb3B5IGFzIGlzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJveHlUcmFwIHdoZXRoZXIgaXQncyBjYWxsZWQgZnJvbSBwcm94eSB0cmFwXG4gICAqIEByZXR1cm5zIHtib29sZWFufG51bGx9IHRydWUgb24gc3VjY2VzcywgZmFsc2Ugb24gZmFpbHVyZSAocHJveHlUcmFwICsgbm9uLWNvbmZpZ3VyYWJsZSksIG51bGwgd2hlbiBjYW5jZWxsZWQgYnkgaW50ZXJjZXB0b3JcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZXh0ZW5kXyA9IGZ1bmN0aW9uIGV4dGVuZF8oa2V5LCBkZXNjcmlwdG9yLCBhbm5vdGF0aW9uLCBwcm94eVRyYXApIHtcbiAgICBpZiAocHJveHlUcmFwID09PSB2b2lkIDApIHtcbiAgICAgIHByb3h5VHJhcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhbm5vdGF0aW9uID09PSB0cnVlKSB7XG4gICAgICBhbm5vdGF0aW9uID0gdGhpcy5kZWZhdWx0QW5ub3RhdGlvbl87XG4gICAgfVxuXG4gICAgaWYgKGFubm90YXRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWZpbmVQcm9wZXJ0eV8oa2V5LCBkZXNjcmlwdG9yLCBwcm94eVRyYXApO1xuICAgIH1cblxuICAgIGFzc2VydEFubm90YWJsZSh0aGlzLCBhbm5vdGF0aW9uLCBrZXkpO1xuICAgIHZhciBvdXRjb21lID0gYW5ub3RhdGlvbi5leHRlbmRfKHRoaXMsIGtleSwgZGVzY3JpcHRvciwgcHJveHlUcmFwKTtcblxuICAgIGlmIChvdXRjb21lKSB7XG4gICAgICByZWNvcmRBbm5vdGF0aW9uQXBwbGllZCh0aGlzLCBhbm5vdGF0aW9uLCBrZXkpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRjb21lO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge1Byb3BlcnR5S2V5fSBrZXlcbiAgICogQHBhcmFtIHtQcm9wZXJ0eURlc2NyaXB0b3J9IGRlc2NyaXB0b3JcbiAgICogQHBhcmFtIHtib29sZWFufSBwcm94eVRyYXAgd2hldGhlciBpdCdzIGNhbGxlZCBmcm9tIHByb3h5IHRyYXBcbiAgICogQHJldHVybnMge2Jvb2xlYW58bnVsbH0gdHJ1ZSBvbiBzdWNjZXNzLCBmYWxzZSBvbiBmYWlsdXJlIChwcm94eVRyYXAgKyBub24tY29uZmlndXJhYmxlKSwgbnVsbCB3aGVuIGNhbmNlbGxlZCBieSBpbnRlcmNlcHRvclxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kZWZpbmVQcm9wZXJ0eV8gPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eV8oa2V5LCBkZXNjcmlwdG9yLCBwcm94eVRyYXApIHtcbiAgICBpZiAocHJveHlUcmFwID09PSB2b2lkIDApIHtcbiAgICAgIHByb3h5VHJhcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzdGFydEJhdGNoKCk7IC8vIERlbGV0ZVxuXG4gICAgICB2YXIgZGVsZXRlT3V0Y29tZSA9IHRoaXMuZGVsZXRlXyhrZXkpO1xuXG4gICAgICBpZiAoIWRlbGV0ZU91dGNvbWUpIHtcbiAgICAgICAgLy8gRmFpbHVyZSBvciBpbnRlcmNlcHRlZFxuICAgICAgICByZXR1cm4gZGVsZXRlT3V0Y29tZTtcbiAgICAgIH0gLy8gQUREIGludGVyY2VwdG9yXG5cblxuICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyh0aGlzKSkge1xuICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHlfIHx8IHRoaXMudGFyZ2V0XyxcbiAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgdHlwZTogQURELFxuICAgICAgICAgIG5ld1ZhbHVlOiBkZXNjcmlwdG9yLnZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWNoYW5nZSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGNoYW5nZS5uZXdWYWx1ZTtcblxuICAgICAgICBpZiAoZGVzY3JpcHRvci52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICBkZXNjcmlwdG9yID0gX2V4dGVuZHMoe30sIGRlc2NyaXB0b3IsIHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXdWYWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IC8vIERlZmluZVxuXG5cbiAgICAgIGlmIChwcm94eVRyYXApIHtcbiAgICAgICAgaWYgKCFSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRoaXMudGFyZ2V0Xywga2V5LCBkZXNjcmlwdG9yKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkodGhpcy50YXJnZXRfLCBrZXksIGRlc2NyaXB0b3IpO1xuICAgICAgfSAvLyBOb3RpZnlcblxuXG4gICAgICB0aGlzLm5vdGlmeVByb3BlcnR5QWRkaXRpb25fKGtleSwgZGVzY3JpcHRvci52YWx1ZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGVuZEJhdGNoKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gSWYgb3JpZ2luYWwgZGVzY3JpcHRvciBiZWNvbWVzIHJlbGV2YW50LCBtb3ZlIHRoaXMgdG8gYW5ub3RhdGlvbiBkaXJlY3RseVxuICA7XG5cbiAgX3Byb3RvLmRlZmluZU9ic2VydmFibGVQcm9wZXJ0eV8gPSBmdW5jdGlvbiBkZWZpbmVPYnNlcnZhYmxlUHJvcGVydHlfKGtleSwgdmFsdWUsIGVuaGFuY2VyLCBwcm94eVRyYXApIHtcbiAgICBpZiAocHJveHlUcmFwID09PSB2b2lkIDApIHtcbiAgICAgIHByb3h5VHJhcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzdGFydEJhdGNoKCk7IC8vIERlbGV0ZVxuXG4gICAgICB2YXIgZGVsZXRlT3V0Y29tZSA9IHRoaXMuZGVsZXRlXyhrZXkpO1xuXG4gICAgICBpZiAoIWRlbGV0ZU91dGNvbWUpIHtcbiAgICAgICAgLy8gRmFpbHVyZSBvciBpbnRlcmNlcHRlZFxuICAgICAgICByZXR1cm4gZGVsZXRlT3V0Y29tZTtcbiAgICAgIH0gLy8gQUREIGludGVyY2VwdG9yXG5cblxuICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyh0aGlzKSkge1xuICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHlfIHx8IHRoaXMudGFyZ2V0XyxcbiAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgdHlwZTogQURELFxuICAgICAgICAgIG5ld1ZhbHVlOiB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFjaGFuZ2UpIHJldHVybiBudWxsO1xuICAgICAgICB2YWx1ZSA9IGNoYW5nZS5uZXdWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNhY2hlZERlc2NyaXB0b3IgPSBnZXRDYWNoZWRPYnNlcnZhYmxlUHJvcERlc2NyaXB0b3Ioa2V5KTtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IGdsb2JhbFN0YXRlLnNhZmVEZXNjcmlwdG9ycyA/IHRoaXMuaXNQbGFpbk9iamVjdF8gOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGNhY2hlZERlc2NyaXB0b3IuZ2V0LFxuICAgICAgICBzZXQ6IGNhY2hlZERlc2NyaXB0b3Iuc2V0XG4gICAgICB9OyAvLyBEZWZpbmVcblxuICAgICAgaWYgKHByb3h5VHJhcCkge1xuICAgICAgICBpZiAoIVJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGhpcy50YXJnZXRfLCBrZXksIGRlc2NyaXB0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLnRhcmdldF8sIGtleSwgZGVzY3JpcHRvcik7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGVWYWx1ZSh2YWx1ZSwgZW5oYW5jZXIsIE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHRoaXMubmFtZV8gKyBcIi5cIiArIGtleS50b1N0cmluZygpIDogXCJPYnNlcnZhYmxlT2JqZWN0LmtleVwiLCBmYWxzZSk7XG4gICAgICB0aGlzLnZhbHVlc18uc2V0KGtleSwgb2JzZXJ2YWJsZSk7IC8vIE5vdGlmeSAodmFsdWUgcG9zc2libHkgY2hhbmdlZCBieSBPYnNlcnZhYmxlVmFsdWUpXG5cbiAgICAgIHRoaXMubm90aWZ5UHJvcGVydHlBZGRpdGlvbl8oa2V5LCBvYnNlcnZhYmxlLnZhbHVlXyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGVuZEJhdGNoKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gSWYgb3JpZ2luYWwgZGVzY3JpcHRvciBiZWNvbWVzIHJlbGV2YW50LCBtb3ZlIHRoaXMgdG8gYW5ub3RhdGlvbiBkaXJlY3RseVxuICA7XG5cbiAgX3Byb3RvLmRlZmluZUNvbXB1dGVkUHJvcGVydHlfID0gZnVuY3Rpb24gZGVmaW5lQ29tcHV0ZWRQcm9wZXJ0eV8oa2V5LCBvcHRpb25zLCBwcm94eVRyYXApIHtcbiAgICBpZiAocHJveHlUcmFwID09PSB2b2lkIDApIHtcbiAgICAgIHByb3h5VHJhcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzdGFydEJhdGNoKCk7IC8vIERlbGV0ZVxuXG4gICAgICB2YXIgZGVsZXRlT3V0Y29tZSA9IHRoaXMuZGVsZXRlXyhrZXkpO1xuXG4gICAgICBpZiAoIWRlbGV0ZU91dGNvbWUpIHtcbiAgICAgICAgLy8gRmFpbHVyZSBvciBpbnRlcmNlcHRlZFxuICAgICAgICByZXR1cm4gZGVsZXRlT3V0Y29tZTtcbiAgICAgIH0gLy8gQUREIGludGVyY2VwdG9yXG5cblxuICAgICAgaWYgKGhhc0ludGVyY2VwdG9ycyh0aGlzKSkge1xuICAgICAgICB2YXIgY2hhbmdlID0gaW50ZXJjZXB0Q2hhbmdlKHRoaXMsIHtcbiAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHlfIHx8IHRoaXMudGFyZ2V0XyxcbiAgICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgICAgdHlwZTogQURELFxuICAgICAgICAgIG5ld1ZhbHVlOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghY2hhbmdlKSByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgb3B0aW9ucy5uYW1lIHx8IChvcHRpb25zLm5hbWUgPSBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB0aGlzLm5hbWVfICsgXCIuXCIgKyBrZXkudG9TdHJpbmcoKSA6IFwiT2JzZXJ2YWJsZU9iamVjdC5rZXlcIik7XG4gICAgICBvcHRpb25zLmNvbnRleHQgPSB0aGlzLnByb3h5XyB8fCB0aGlzLnRhcmdldF87XG4gICAgICB2YXIgY2FjaGVkRGVzY3JpcHRvciA9IGdldENhY2hlZE9ic2VydmFibGVQcm9wRGVzY3JpcHRvcihrZXkpO1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZ2xvYmFsU3RhdGUuc2FmZURlc2NyaXB0b3JzID8gdGhpcy5pc1BsYWluT2JqZWN0XyA6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBnZXQ6IGNhY2hlZERlc2NyaXB0b3IuZ2V0LFxuICAgICAgICBzZXQ6IGNhY2hlZERlc2NyaXB0b3Iuc2V0XG4gICAgICB9OyAvLyBEZWZpbmVcblxuICAgICAgaWYgKHByb3h5VHJhcCkge1xuICAgICAgICBpZiAoIVJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGhpcy50YXJnZXRfLCBrZXksIGRlc2NyaXB0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLnRhcmdldF8sIGtleSwgZGVzY3JpcHRvcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudmFsdWVzXy5zZXQoa2V5LCBuZXcgQ29tcHV0ZWRWYWx1ZShvcHRpb25zKSk7IC8vIE5vdGlmeVxuXG4gICAgICB0aGlzLm5vdGlmeVByb3BlcnR5QWRkaXRpb25fKGtleSwgdW5kZWZpbmVkKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZW5kQmF0Y2goKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtQcm9wZXJ0eUtleX0ga2V5XG4gICAqIEBwYXJhbSB7UHJvcGVydHlEZXNjcmlwdG9yfSBkZXNjcmlwdG9yXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJveHlUcmFwIHdoZXRoZXIgaXQncyBjYWxsZWQgZnJvbSBwcm94eSB0cmFwXG4gICAqIEByZXR1cm5zIHtib29sZWFufG51bGx9IHRydWUgb24gc3VjY2VzcywgZmFsc2Ugb24gZmFpbHVyZSAocHJveHlUcmFwICsgbm9uLWNvbmZpZ3VyYWJsZSksIG51bGwgd2hlbiBjYW5jZWxsZWQgYnkgaW50ZXJjZXB0b3JcbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGVsZXRlXyA9IGZ1bmN0aW9uIGRlbGV0ZV8oa2V5LCBwcm94eVRyYXApIHtcbiAgICBpZiAocHJveHlUcmFwID09PSB2b2lkIDApIHtcbiAgICAgIHByb3h5VHJhcCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIE5vIHN1Y2ggcHJvcFxuICAgIGlmICghaGFzUHJvcCh0aGlzLnRhcmdldF8sIGtleSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gSW50ZXJjZXB0XG5cblxuICAgIGlmIChoYXNJbnRlcmNlcHRvcnModGhpcykpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBpbnRlcmNlcHRDaGFuZ2UodGhpcywge1xuICAgICAgICBvYmplY3Q6IHRoaXMucHJveHlfIHx8IHRoaXMudGFyZ2V0XyxcbiAgICAgICAgbmFtZToga2V5LFxuICAgICAgICB0eXBlOiBSRU1PVkVcbiAgICAgIH0pOyAvLyBDYW5jZWxsZWRcblxuICAgICAgaWYgKCFjaGFuZ2UpIHJldHVybiBudWxsO1xuICAgIH0gLy8gRGVsZXRlXG5cblxuICAgIHRyeSB7XG4gICAgICB2YXIgX3RoaXMkcGVuZGluZ0tleXNfLCBfdGhpcyRwZW5kaW5nS2V5c18kZ2U7XG5cbiAgICAgIHN0YXJ0QmF0Y2goKTtcbiAgICAgIHZhciBub3RpZnkgPSBoYXNMaXN0ZW5lcnModGhpcyk7XG4gICAgICB2YXIgbm90aWZ5U3B5ID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGlzU3B5RW5hYmxlZCgpO1xuICAgICAgdmFyIG9ic2VydmFibGUgPSB0aGlzLnZhbHVlc18uZ2V0KGtleSk7IC8vIFZhbHVlIG5lZWRlZCBmb3Igc3BpZXMvbGlzdGVuZXJzXG5cbiAgICAgIHZhciB2YWx1ZSA9IHVuZGVmaW5lZDsgLy8gT3B0aW1pemF0aW9uOiBkb24ndCBwdWxsIHRoZSB2YWx1ZSB1bmxlc3Mgd2Ugd2lsbCBuZWVkIGl0XG5cbiAgICAgIGlmICghb2JzZXJ2YWJsZSAmJiAobm90aWZ5IHx8IG5vdGlmeVNweSkpIHtcbiAgICAgICAgdmFyIF9nZXREZXNjcmlwdG9yO1xuXG4gICAgICAgIHZhbHVlID0gKF9nZXREZXNjcmlwdG9yID0gZ2V0RGVzY3JpcHRvcih0aGlzLnRhcmdldF8sIGtleSkpID09IG51bGwgPyB2b2lkIDAgOiBfZ2V0RGVzY3JpcHRvci52YWx1ZTtcbiAgICAgIH0gLy8gZGVsZXRlIHByb3AgKGRvIGZpcnN0LCBtYXkgZmFpbClcblxuXG4gICAgICBpZiAocHJveHlUcmFwKSB7XG4gICAgICAgIGlmICghUmVmbGVjdC5kZWxldGVQcm9wZXJ0eSh0aGlzLnRhcmdldF8sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnRhcmdldF9ba2V5XTtcbiAgICAgIH0gLy8gQWxsb3cgcmUtYW5ub3RhdGluZyB0aGlzIGZpZWxkXG5cblxuICAgICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICBkZWxldGUgdGhpcy5hcHBsaWVkQW5ub3RhdGlvbnNfW2tleV07XG4gICAgICB9IC8vIENsZWFyIG9ic2VydmFibGVcblxuXG4gICAgICBpZiAob2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLnZhbHVlc19bXCJkZWxldGVcIl0oa2V5KTsgLy8gZm9yIGNvbXB1dGVkLCB2YWx1ZSBpcyB1bmRlZmluZWRcblxuICAgICAgICBpZiAob2JzZXJ2YWJsZSBpbnN0YW5jZW9mIE9ic2VydmFibGVWYWx1ZSkge1xuICAgICAgICAgIHZhbHVlID0gb2JzZXJ2YWJsZS52YWx1ZV87XG4gICAgICAgIH0gLy8gTm90aWZ5OiBhdXRvcnVuKCgpID0+IG9ialtrZXldKSwgc2VlICMxNzk2XG5cblxuICAgICAgICBwcm9wYWdhdGVDaGFuZ2VkKG9ic2VydmFibGUpO1xuICAgICAgfSAvLyBOb3RpZnkgXCJrZXlzL2VudHJpZXMvdmFsdWVzXCIgb2JzZXJ2ZXJzXG5cblxuICAgICAgdGhpcy5rZXlzQXRvbV8ucmVwb3J0Q2hhbmdlZCgpOyAvLyBOb3RpZnkgXCJoYXNcIiBvYnNlcnZlcnNcbiAgICAgIC8vIFwiaW5cIiBhcyBpdCBtYXkgc3RpbGwgZXhpc3QgaW4gcHJvdG9cblxuICAgICAgKF90aGlzJHBlbmRpbmdLZXlzXyA9IHRoaXMucGVuZGluZ0tleXNfKSA9PSBudWxsID8gdm9pZCAwIDogKF90aGlzJHBlbmRpbmdLZXlzXyRnZSA9IF90aGlzJHBlbmRpbmdLZXlzXy5nZXQoa2V5KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJHBlbmRpbmdLZXlzXyRnZS5zZXQoa2V5IGluIHRoaXMudGFyZ2V0Xyk7IC8vIE5vdGlmeSBzcGllcy9saXN0ZW5lcnNcblxuICAgICAgaWYgKG5vdGlmeSB8fCBub3RpZnlTcHkpIHtcbiAgICAgICAgdmFyIF9jaGFuZ2UyID0ge1xuICAgICAgICAgIHR5cGU6IFJFTU9WRSxcbiAgICAgICAgICBvYnNlcnZhYmxlS2luZDogXCJvYmplY3RcIixcbiAgICAgICAgICBvYmplY3Q6IHRoaXMucHJveHlfIHx8IHRoaXMudGFyZ2V0XyxcbiAgICAgICAgICBkZWJ1Z09iamVjdE5hbWU6IHRoaXMubmFtZV8sXG4gICAgICAgICAgb2xkVmFsdWU6IHZhbHVlLFxuICAgICAgICAgIG5hbWU6IGtleVxuICAgICAgICB9O1xuICAgICAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIG5vdGlmeVNweSkgc3B5UmVwb3J0U3RhcnQoX2NoYW5nZTIpO1xuICAgICAgICBpZiAobm90aWZ5KSBub3RpZnlMaXN0ZW5lcnModGhpcywgX2NoYW5nZTIpO1xuICAgICAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIG5vdGlmeVNweSkgc3B5UmVwb3J0RW5kKCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGVuZEJhdGNoKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIE9ic2VydmVzIHRoaXMgb2JqZWN0LiBUcmlnZ2VycyBmb3IgdGhlIGV2ZW50cyAnYWRkJywgJ3VwZGF0ZScgYW5kICdkZWxldGUnLlxuICAgKiBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9vYnNlcnZlXG4gICAqIGZvciBjYWxsYmFjayBkZXRhaWxzXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLm9ic2VydmVfID0gZnVuY3Rpb24gb2JzZXJ2ZV8oY2FsbGJhY2ssIGZpcmVJbW1lZGlhdGVseSkge1xuICAgIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgZmlyZUltbWVkaWF0ZWx5ID09PSB0cnVlKSBkaWUoXCJgb2JzZXJ2ZWAgZG9lc24ndCBzdXBwb3J0IHRoZSBmaXJlIGltbWVkaWF0ZWx5IHByb3BlcnR5IGZvciBvYnNlcnZhYmxlIG9iamVjdHMuXCIpO1xuICAgIHJldHVybiByZWdpc3Rlckxpc3RlbmVyKHRoaXMsIGNhbGxiYWNrKTtcbiAgfTtcblxuICBfcHJvdG8uaW50ZXJjZXB0XyA9IGZ1bmN0aW9uIGludGVyY2VwdF8oaGFuZGxlcikge1xuICAgIHJldHVybiByZWdpc3RlckludGVyY2VwdG9yKHRoaXMsIGhhbmRsZXIpO1xuICB9O1xuXG4gIF9wcm90by5ub3RpZnlQcm9wZXJ0eUFkZGl0aW9uXyA9IGZ1bmN0aW9uIG5vdGlmeVByb3BlcnR5QWRkaXRpb25fKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgX3RoaXMkcGVuZGluZ0tleXNfMiwgX3RoaXMkcGVuZGluZ0tleXNfMiRnO1xuXG4gICAgdmFyIG5vdGlmeSA9IGhhc0xpc3RlbmVycyh0aGlzKTtcbiAgICB2YXIgbm90aWZ5U3B5ID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGlzU3B5RW5hYmxlZCgpO1xuXG4gICAgaWYgKG5vdGlmeSB8fCBub3RpZnlTcHkpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBub3RpZnkgfHwgbm90aWZ5U3B5ID8ge1xuICAgICAgICB0eXBlOiBBREQsXG4gICAgICAgIG9ic2VydmFibGVLaW5kOiBcIm9iamVjdFwiLFxuICAgICAgICBkZWJ1Z09iamVjdE5hbWU6IHRoaXMubmFtZV8sXG4gICAgICAgIG9iamVjdDogdGhpcy5wcm94eV8gfHwgdGhpcy50YXJnZXRfLFxuICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgIG5ld1ZhbHVlOiB2YWx1ZVxuICAgICAgfSA6IG51bGw7XG4gICAgICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIG5vdGlmeVNweSkgc3B5UmVwb3J0U3RhcnQoY2hhbmdlKTtcbiAgICAgIGlmIChub3RpZnkpIG5vdGlmeUxpc3RlbmVycyh0aGlzLCBjaGFuZ2UpO1xuICAgICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBub3RpZnlTcHkpIHNweVJlcG9ydEVuZCgpO1xuICAgIH1cblxuICAgIChfdGhpcyRwZW5kaW5nS2V5c18yID0gdGhpcy5wZW5kaW5nS2V5c18pID09IG51bGwgPyB2b2lkIDAgOiAoX3RoaXMkcGVuZGluZ0tleXNfMiRnID0gX3RoaXMkcGVuZGluZ0tleXNfMi5nZXQoa2V5KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJHBlbmRpbmdLZXlzXzIkZy5zZXQodHJ1ZSk7IC8vIE5vdGlmeSBcImtleXMvZW50cmllcy92YWx1ZXNcIiBvYnNlcnZlcnNcblxuICAgIHRoaXMua2V5c0F0b21fLnJlcG9ydENoYW5nZWQoKTtcbiAgfTtcblxuICBfcHJvdG8ub3duS2V5c18gPSBmdW5jdGlvbiBvd25LZXlzXygpIHtcbiAgICB0aGlzLmtleXNBdG9tXy5yZXBvcnRPYnNlcnZlZCgpO1xuICAgIHJldHVybiBvd25LZXlzKHRoaXMudGFyZ2V0Xyk7XG4gIH07XG5cbiAgX3Byb3RvLmtleXNfID0gZnVuY3Rpb24ga2V5c18oKSB7XG4gICAgLy8gUmV0dXJucyBlbnVtZXJhYmxlICYmIG93biwgYnV0IHVuZm9ydHVuYXRlbHkga2V5c0F0b20gd2lsbCByZXBvcnQgb24gQU5ZIGtleSBjaGFuZ2UuXG4gICAgLy8gVGhlcmUgaXMgbm8gd2F5IHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gT2JqZWN0LmtleXMob2JqZWN0KSBhbmQgUmVmbGVjdC5vd25LZXlzKG9iamVjdCkgLSBib3RoIGFyZSBoYW5kbGVkIGJ5IG93bktleXMgdHJhcC5cbiAgICAvLyBXZSBjYW4gZWl0aGVyIG92ZXItcmVwb3J0IGluIE9iamVjdC5rZXlzKG9iamVjdCkgb3IgdW5kZXItcmVwb3J0IGluIFJlZmxlY3Qub3duS2V5cyhvYmplY3QpXG4gICAgLy8gV2UgY2hvb3NlIHRvIG92ZXItcmVwb3J0IGluIE9iamVjdC5rZXlzKG9iamVjdCksIGJlY2F1c2U6XG4gICAgLy8gLSB0eXBpY2FsbHkgaXQncyB1c2VkIHdpdGggc2ltcGxlIGRhdGEgb2JqZWN0c1xuICAgIC8vIC0gd2hlbiBzeW1ib2xpYy9ub24tZW51bWVyYWJsZSBrZXlzIGFyZSByZWxldmFudCBSZWZsZWN0Lm93bktleXMgd29ya3MgYXMgZXhwZWN0ZWRcbiAgICB0aGlzLmtleXNBdG9tXy5yZXBvcnRPYnNlcnZlZCgpO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnRhcmdldF8pO1xuICB9O1xuXG4gIHJldHVybiBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb247XG59KCk7XG5mdW5jdGlvbiBhc09ic2VydmFibGVPYmplY3QodGFyZ2V0LCBvcHRpb25zKSB7XG4gIHZhciBfb3B0aW9ucyRuYW1lO1xuXG4gIGlmIChOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgb3B0aW9ucyAmJiBpc09ic2VydmFibGVPYmplY3QodGFyZ2V0KSkge1xuICAgIGRpZShcIk9wdGlvbnMgY2FuJ3QgYmUgcHJvdmlkZWQgZm9yIGFscmVhZHkgb2JzZXJ2YWJsZSBvYmplY3RzLlwiKTtcbiAgfVxuXG4gIGlmIChoYXNQcm9wKHRhcmdldCwgJG1vYngpKSB7XG4gICAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhKGdldEFkbWluaXN0cmF0aW9uKHRhcmdldCkgaW5zdGFuY2VvZiBPYnNlcnZhYmxlT2JqZWN0QWRtaW5pc3RyYXRpb24pKSB7XG4gICAgICBkaWUoXCJDYW5ub3QgY29udmVydCAnXCIgKyBnZXREZWJ1Z05hbWUodGFyZ2V0KSArIFwiJyBpbnRvIG9ic2VydmFibGUgb2JqZWN0OlwiICsgXCJcXG5UaGUgdGFyZ2V0IGlzIGFscmVhZHkgb2JzZXJ2YWJsZSBvZiBkaWZmZXJlbnQgdHlwZS5cIiArIFwiXFxuRXh0ZW5kaW5nIGJ1aWx0aW5zIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFPYmplY3QuaXNFeHRlbnNpYmxlKHRhcmdldCkpIGRpZShcIkNhbm5vdCBtYWtlIHRoZSBkZXNpZ25hdGVkIG9iamVjdCBvYnNlcnZhYmxlOyBpdCBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcbiAgdmFyIG5hbWUgPSAoX29wdGlvbnMkbmFtZSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubmFtZSkgIT0gbnVsbCA/IF9vcHRpb25zJG5hbWUgOiBOT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyAoaXNQbGFpbk9iamVjdCh0YXJnZXQpID8gXCJPYnNlcnZhYmxlT2JqZWN0XCIgOiB0YXJnZXQuY29uc3RydWN0b3IubmFtZSkgKyBcIkBcIiArIGdldE5leHRJZCgpIDogXCJPYnNlcnZhYmxlT2JqZWN0XCI7XG4gIHZhciBhZG0gPSBuZXcgT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uKHRhcmdldCwgbmV3IE1hcCgpLCBTdHJpbmcobmFtZSksIGdldEFubm90YXRpb25Gcm9tT3B0aW9ucyhvcHRpb25zKSk7XG4gIGFkZEhpZGRlblByb3AodGFyZ2V0LCAkbW9ieCwgYWRtKTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cbnZhciBpc09ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbiA9IC8qI19fUFVSRV9fKi9jcmVhdGVJbnN0YW5jZW9mUHJlZGljYXRlKFwiT2JzZXJ2YWJsZU9iamVjdEFkbWluaXN0cmF0aW9uXCIsIE9ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbik7XG5cbmZ1bmN0aW9uIGdldENhY2hlZE9ic2VydmFibGVQcm9wRGVzY3JpcHRvcihrZXkpIHtcbiAgcmV0dXJuIGRlc2NyaXB0b3JDYWNoZVtrZXldIHx8IChkZXNjcmlwdG9yQ2FjaGVba2V5XSA9IHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzWyRtb2J4XS5nZXRPYnNlcnZhYmxlUHJvcFZhbHVlXyhrZXkpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzWyRtb2J4XS5zZXRPYnNlcnZhYmxlUHJvcFZhbHVlXyhrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpc09ic2VydmFibGVPYmplY3QodGhpbmcpIHtcbiAgaWYgKGlzT2JqZWN0KHRoaW5nKSkge1xuICAgIHJldHVybiBpc09ic2VydmFibGVPYmplY3RBZG1pbmlzdHJhdGlvbih0aGluZ1skbW9ieF0pO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcmVjb3JkQW5ub3RhdGlvbkFwcGxpZWQoYWRtLCBhbm5vdGF0aW9uLCBrZXkpIHtcbiAgdmFyIF9hZG0kdGFyZ2V0XyRzdG9yZWRBbjtcblxuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgYWRtLmFwcGxpZWRBbm5vdGF0aW9uc19ba2V5XSA9IGFubm90YXRpb247XG4gIH0gLy8gUmVtb3ZlIGFwcGxpZWQgZGVjb3JhdG9yIGFubm90YXRpb24gc28gd2UgZG9uJ3QgdHJ5IHRvIGFwcGx5IGl0IGFnYWluIGluIHN1YmNsYXNzIGNvbnN0cnVjdG9yXG5cblxuICAoX2FkbSR0YXJnZXRfJHN0b3JlZEFuID0gYWRtLnRhcmdldF9bc3RvcmVkQW5ub3RhdGlvbnNTeW1ib2xdKSA9PSBudWxsID8gdHJ1ZSA6IGRlbGV0ZSBfYWRtJHRhcmdldF8kc3RvcmVkQW5ba2V5XTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0QW5ub3RhYmxlKGFkbSwgYW5ub3RhdGlvbiwga2V5KSB7XG4gIC8vIFZhbGlkIGFubm90YXRpb25cbiAgaWYgKE5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiAhaXNBbm5vdGF0aW9uKGFubm90YXRpb24pKSB7XG4gICAgZGllKFwiQ2Fubm90IGFubm90YXRlICdcIiArIGFkbS5uYW1lXyArIFwiLlwiICsga2V5LnRvU3RyaW5nKCkgKyBcIic6IEludmFsaWQgYW5ub3RhdGlvbi5cIik7XG4gIH1cbiAgLypcbiAgLy8gQ29uZmlndXJhYmxlLCBub3Qgc2VhbGVkLCBub3QgZnJvemVuXG4gIC8vIFBvc3NpYmx5IG5vdCBuZWVkZWQsIGp1c3QgYSBsaXR0bGUgYmV0dGVyIGVycm9yIHRoZW4gdGhlIG9uZSB0aHJvd24gYnkgZW5naW5lLlxuICAvLyBDYXNlcyB3aGVyZSB0aGlzIHdvdWxkIGJlIHVzZWZ1bCB0aGUgbW9zdCAoc3ViY2xhc3MgZmllbGQgaW5pdGlhbGl6ZXIpIGFyZSBub3QgaW50ZXJjZXB0YWJsZSBieSB0aGlzLlxuICBpZiAoX19ERVZfXykge1xuICAgICAgY29uc3QgY29uZmlndXJhYmxlID0gZ2V0RGVzY3JpcHRvcihhZG0udGFyZ2V0Xywga2V5KT8uY29uZmlndXJhYmxlXG4gICAgICBjb25zdCBmcm96ZW4gPSBPYmplY3QuaXNGcm96ZW4oYWRtLnRhcmdldF8pXG4gICAgICBjb25zdCBzZWFsZWQgPSBPYmplY3QuaXNTZWFsZWQoYWRtLnRhcmdldF8pXG4gICAgICBpZiAoIWNvbmZpZ3VyYWJsZSB8fCBmcm96ZW4gfHwgc2VhbGVkKSB7XG4gICAgICAgICAgY29uc3QgZmllbGROYW1lID0gYCR7YWRtLm5hbWVffS4ke2tleS50b1N0cmluZygpfWBcbiAgICAgICAgICBjb25zdCByZXF1ZXN0ZWRBbm5vdGF0aW9uVHlwZSA9IGFubm90YXRpb24uYW5ub3RhdGlvblR5cGVfXG4gICAgICAgICAgbGV0IGVycm9yID0gYENhbm5vdCBhcHBseSAnJHtyZXF1ZXN0ZWRBbm5vdGF0aW9uVHlwZX0nIHRvICcke2ZpZWxkTmFtZX0nOmBcbiAgICAgICAgICBpZiAoZnJvemVuKSB7XG4gICAgICAgICAgICAgIGVycm9yICs9IGBcXG5PYmplY3QgaXMgZnJvemVuLmBcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICAgICAgICBlcnJvciArPSBgXFxuT2JqZWN0IGlzIHNlYWxlZC5gXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghY29uZmlndXJhYmxlKSB7XG4gICAgICAgICAgICAgIGVycm9yICs9IGBcXG5wcm9wZXJ0eSBpcyBub3QgY29uZmlndXJhYmxlLmBcbiAgICAgICAgICAgICAgLy8gTWVudGlvbiBvbmx5IGlmIGNhdXNlZCBieSB1cyB0byBhdm9pZCBjb25mdXNpb25cbiAgICAgICAgICAgICAgaWYgKGhhc1Byb3AoYWRtLmFwcGxpZWRBbm5vdGF0aW9ucyEsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIGVycm9yICs9IGBcXG5UbyBwcmV2ZW50IGFjY2lkZW50YWwgcmUtZGVmaW5pdGlvbiBvZiBhIGZpZWxkIGJ5IGEgc3ViY2xhc3MsIGBcbiAgICAgICAgICAgICAgICAgIGVycm9yICs9IGBhbGwgYW5ub3RhdGVkIGZpZWxkcyBvZiBub24tcGxhaW4gb2JqZWN0cyAoY2xhc3NlcykgYXJlIG5vdCBjb25maWd1cmFibGUuYFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGRpZShlcnJvcilcbiAgICAgIH1cbiAgfVxuICAqL1xuICAvLyBOb3QgYW5ub3RhdGVkXG5cblxuICBpZiAoTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmICFpc092ZXJyaWRlKGFubm90YXRpb24pICYmIGhhc1Byb3AoYWRtLmFwcGxpZWRBbm5vdGF0aW9uc18sIGtleSkpIHtcbiAgICB2YXIgZmllbGROYW1lID0gYWRtLm5hbWVfICsgXCIuXCIgKyBrZXkudG9TdHJpbmcoKTtcbiAgICB2YXIgY3VycmVudEFubm90YXRpb25UeXBlID0gYWRtLmFwcGxpZWRBbm5vdGF0aW9uc19ba2V5XS5hbm5vdGF0aW9uVHlwZV87XG4gICAgdmFyIHJlcXVlc3RlZEFubm90YXRpb25UeXBlID0gYW5ub3RhdGlvbi5hbm5vdGF0aW9uVHlwZV87XG4gICAgZGllKFwiQ2Fubm90IGFwcGx5ICdcIiArIHJlcXVlc3RlZEFubm90YXRpb25UeXBlICsgXCInIHRvICdcIiArIGZpZWxkTmFtZSArIFwiJzpcIiArIChcIlxcblRoZSBmaWVsZCBpcyBhbHJlYWR5IGFubm90YXRlZCB3aXRoICdcIiArIGN1cnJlbnRBbm5vdGF0aW9uVHlwZSArIFwiJy5cIikgKyBcIlxcblJlLWFubm90YXRpbmcgZmllbGRzIGlzIG5vdCBhbGxvd2VkLlwiICsgXCJcXG5Vc2UgJ292ZXJyaWRlJyBhbm5vdGF0aW9uIGZvciBtZXRob2RzIG92ZXJyaWRlbiBieSBzdWJjbGFzcy5cIik7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGFycmF5IGJ1ZmZlciBjb250YWlucyB0d28gbGlzdHMgb2YgcHJvcGVydGllcywgc28gdGhhdCBhbGwgYXJyYXlzXG4gKiBjYW4gcmVjeWNsZSB0aGVpciBwcm9wZXJ0eSBkZWZpbml0aW9ucywgd2hpY2ggc2lnbmlmaWNhbnRseSBpbXByb3ZlcyBwZXJmb3JtYW5jZSBvZiBjcmVhdGluZ1xuICogcHJvcGVydGllcyBvbiB0aGUgZmx5LlxuICovXG5cbnZhciBPQlNFUlZBQkxFX0FSUkFZX0JVRkZFUl9TSVpFID0gMDsgLy8gVHlwZXNjcmlwdCB3b3JrYXJvdW5kIHRvIG1ha2Ugc3VyZSBPYnNlcnZhYmxlQXJyYXkgZXh0ZW5kcyBBcnJheVxuXG52YXIgU3R1YkFycmF5ID0gZnVuY3Rpb24gU3R1YkFycmF5KCkge307XG5cbmZ1bmN0aW9uIGluaGVyaXQoY3RvciwgcHJvdG8pIHtcbiAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihjdG9yLnByb3RvdHlwZSwgcHJvdG8pO1xuICB9IGVsc2UgaWYgKGN0b3IucHJvdG90eXBlLl9fcHJvdG9fXyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY3Rvci5wcm90b3R5cGUuX19wcm90b19fID0gcHJvdG87XG4gIH0gZWxzZSB7XG4gICAgY3Rvci5wcm90b3R5cGUgPSBwcm90bztcbiAgfVxufVxuXG5pbmhlcml0KFN0dWJBcnJheSwgQXJyYXkucHJvdG90eXBlKTsgLy8gV2VleCBwcm90byBmcmVlemUgcHJvdGVjdGlvbiB3YXMgaGVyZSxcbi8vIGJ1dCBpdCBpcyB1bmNsZWFyIHdoeSB0aGUgaGFjayBpcyBuZWVkIGFzIE1vYlggbmV2ZXIgY2hhbmdlZCB0aGUgcHJvdG90eXBlXG4vLyBhbnl3YXksIHNvIHJlbW92ZWQgaXQgaW4gVjZcblxudmFyIExlZ2FjeU9ic2VydmFibGVBcnJheSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N0dWJBcnJheSkge1xuICBfaW5oZXJpdHNMb29zZShMZWdhY3lPYnNlcnZhYmxlQXJyYXksIF9TdHViQXJyYXkpO1xuXG4gIGZ1bmN0aW9uIExlZ2FjeU9ic2VydmFibGVBcnJheShpbml0aWFsVmFsdWVzLCBlbmhhbmNlciwgbmFtZSwgb3duZWQpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7XG4gICAgICBuYW1lID0gTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gXCJPYnNlcnZhYmxlQXJyYXlAXCIgKyBnZXROZXh0SWQoKSA6IFwiT2JzZXJ2YWJsZUFycmF5XCI7XG4gICAgfVxuXG4gICAgaWYgKG93bmVkID09PSB2b2lkIDApIHtcbiAgICAgIG93bmVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfU3R1YkFycmF5LmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB2YXIgYWRtID0gbmV3IE9ic2VydmFibGVBcnJheUFkbWluaXN0cmF0aW9uKG5hbWUsIGVuaGFuY2VyLCBvd25lZCwgdHJ1ZSk7XG4gICAgYWRtLnByb3h5XyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpO1xuICAgIGFkZEhpZGRlbkZpbmFsUHJvcChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgJG1vYngsIGFkbSk7XG5cbiAgICBpZiAoaW5pdGlhbFZhbHVlcyAmJiBpbml0aWFsVmFsdWVzLmxlbmd0aCkge1xuICAgICAgdmFyIHByZXYgPSBhbGxvd1N0YXRlQ2hhbmdlc1N0YXJ0KHRydWUpOyAvLyBAdHMtaWdub3JlXG5cbiAgICAgIF90aGlzLnNwbGljZVdpdGhBcnJheSgwLCAwLCBpbml0aWFsVmFsdWVzKTtcblxuICAgICAgYWxsb3dTdGF0ZUNoYW5nZXNFbmQocHJldik7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IExlZ2FjeU9ic2VydmFibGVBcnJheS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB0aGlzWyRtb2J4XS5hdG9tXy5yZXBvcnRPYnNlcnZlZCgpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFycmF5cyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFycmF5c1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseSh0aGlzLnNsaWNlKCksIC8vQHRzLWlnbm9yZVxuICAgIGFycmF5cy5tYXAoZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBpc09ic2VydmFibGVBcnJheShhKSA/IGEuc2xpY2UoKSA6IGE7XG4gICAgfSkpO1xuICB9O1xuXG4gIF9wcm90b1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgbmV4dEluZGV4ID0gMDtcbiAgICByZXR1cm4gbWFrZUl0ZXJhYmxlKHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIG5leHRJbmRleCA8IHNlbGYubGVuZ3RoID8ge1xuICAgICAgICAgIHZhbHVlOiBzZWxmW25leHRJbmRleCsrXSxcbiAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICB9IDoge1xuICAgICAgICAgIGRvbmU6IHRydWUsXG4gICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhMZWdhY3lPYnNlcnZhYmxlQXJyYXksIFt7XG4gICAga2V5OiBcImxlbmd0aFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXNbJG1vYnhdLmdldEFycmF5TGVuZ3RoXygpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3TGVuZ3RoKSB7XG4gICAgICB0aGlzWyRtb2J4XS5zZXRBcnJheUxlbmd0aF8obmV3TGVuZ3RoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFN5bWJvbC50b1N0cmluZ1RhZyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBcIkFycmF5XCI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExlZ2FjeU9ic2VydmFibGVBcnJheTtcbn0oU3R1YkFycmF5KTtcblxuT2JqZWN0LmVudHJpZXMoYXJyYXlFeHRlbnNpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBwcm9wID0gX3JlZlswXSxcbiAgICAgIGZuID0gX3JlZlsxXTtcbiAgaWYgKHByb3AgIT09IFwiY29uY2F0XCIpIGFkZEhpZGRlblByb3AoTGVnYWN5T2JzZXJ2YWJsZUFycmF5LnByb3RvdHlwZSwgcHJvcCwgZm4pO1xufSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUFycmF5RW50cnlEZXNjcmlwdG9yKGluZGV4KSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXNbJG1vYnhdLmdldF8oaW5kZXgpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXNbJG1vYnhdLnNldF8oaW5kZXgsIHZhbHVlKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFycmF5QnVmZmVySXRlbShpbmRleCkge1xuICBkZWZpbmVQcm9wZXJ0eShMZWdhY3lPYnNlcnZhYmxlQXJyYXkucHJvdG90eXBlLCBcIlwiICsgaW5kZXgsIGNyZWF0ZUFycmF5RW50cnlEZXNjcmlwdG9yKGluZGV4KSk7XG59XG5cbmZ1bmN0aW9uIHJlc2VydmVBcnJheUJ1ZmZlcihtYXgpIHtcbiAgaWYgKG1heCA+IE9CU0VSVkFCTEVfQVJSQVlfQlVGRkVSX1NJWkUpIHtcbiAgICBmb3IgKHZhciBpbmRleCA9IE9CU0VSVkFCTEVfQVJSQVlfQlVGRkVSX1NJWkU7IGluZGV4IDwgbWF4ICsgMTAwOyBpbmRleCsrKSB7XG4gICAgICBjcmVhdGVBcnJheUJ1ZmZlckl0ZW0oaW5kZXgpO1xuICAgIH1cblxuICAgIE9CU0VSVkFCTEVfQVJSQVlfQlVGRkVSX1NJWkUgPSBtYXg7XG4gIH1cbn1cbnJlc2VydmVBcnJheUJ1ZmZlcigxMDAwKTtcbmZ1bmN0aW9uIGNyZWF0ZUxlZ2FjeUFycmF5KGluaXRpYWxWYWx1ZXMsIGVuaGFuY2VyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgTGVnYWN5T2JzZXJ2YWJsZUFycmF5KGluaXRpYWxWYWx1ZXMsIGVuaGFuY2VyLCBuYW1lKTtcbn1cblxuZnVuY3Rpb24gZ2V0QXRvbSh0aGluZywgcHJvcGVydHkpIHtcbiAgaWYgKHR5cGVvZiB0aGluZyA9PT0gXCJvYmplY3RcIiAmJiB0aGluZyAhPT0gbnVsbCkge1xuICAgIGlmIChpc09ic2VydmFibGVBcnJheSh0aGluZykpIHtcbiAgICAgIGlmIChwcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKSBkaWUoMjMpO1xuICAgICAgcmV0dXJuIHRoaW5nWyRtb2J4XS5hdG9tXztcbiAgICB9XG5cbiAgICBpZiAoaXNPYnNlcnZhYmxlU2V0KHRoaW5nKSkge1xuICAgICAgcmV0dXJuIHRoaW5nWyRtb2J4XTtcbiAgICB9XG5cbiAgICBpZiAoaXNPYnNlcnZhYmxlTWFwKHRoaW5nKSkge1xuICAgICAgaWYgKHByb3BlcnR5ID09PSB1bmRlZmluZWQpIHJldHVybiB0aGluZy5rZXlzQXRvbV87XG4gICAgICB2YXIgb2JzZXJ2YWJsZSA9IHRoaW5nLmRhdGFfLmdldChwcm9wZXJ0eSkgfHwgdGhpbmcuaGFzTWFwXy5nZXQocHJvcGVydHkpO1xuICAgICAgaWYgKCFvYnNlcnZhYmxlKSBkaWUoMjUsIHByb3BlcnR5LCBnZXREZWJ1Z05hbWUodGhpbmcpKTtcbiAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH1cblxuICAgIGlmIChpc09ic2VydmFibGVPYmplY3QodGhpbmcpKSB7XG4gICAgICBpZiAoIXByb3BlcnR5KSByZXR1cm4gZGllKDI2KTtcblxuICAgICAgdmFyIF9vYnNlcnZhYmxlID0gdGhpbmdbJG1vYnhdLnZhbHVlc18uZ2V0KHByb3BlcnR5KTtcblxuICAgICAgaWYgKCFfb2JzZXJ2YWJsZSkgZGllKDI3LCBwcm9wZXJ0eSwgZ2V0RGVidWdOYW1lKHRoaW5nKSk7XG4gICAgICByZXR1cm4gX29ic2VydmFibGU7XG4gICAgfVxuXG4gICAgaWYgKGlzQXRvbSh0aGluZykgfHwgaXNDb21wdXRlZFZhbHVlKHRoaW5nKSB8fCBpc1JlYWN0aW9uKHRoaW5nKSkge1xuICAgICAgcmV0dXJuIHRoaW5nO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaW5nKSkge1xuICAgIGlmIChpc1JlYWN0aW9uKHRoaW5nWyRtb2J4XSkpIHtcbiAgICAgIC8vIGRpc3Bvc2VyIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gdGhpbmdbJG1vYnhdO1xuICAgIH1cbiAgfVxuXG4gIGRpZSgyOCk7XG59XG5mdW5jdGlvbiBnZXRBZG1pbmlzdHJhdGlvbih0aGluZywgcHJvcGVydHkpIHtcbiAgaWYgKCF0aGluZykgZGllKDI5KTtcbiAgaWYgKHByb3BlcnR5ICE9PSB1bmRlZmluZWQpIHJldHVybiBnZXRBZG1pbmlzdHJhdGlvbihnZXRBdG9tKHRoaW5nLCBwcm9wZXJ0eSkpO1xuICBpZiAoaXNBdG9tKHRoaW5nKSB8fCBpc0NvbXB1dGVkVmFsdWUodGhpbmcpIHx8IGlzUmVhY3Rpb24odGhpbmcpKSByZXR1cm4gdGhpbmc7XG4gIGlmIChpc09ic2VydmFibGVNYXAodGhpbmcpIHx8IGlzT2JzZXJ2YWJsZVNldCh0aGluZykpIHJldHVybiB0aGluZztcbiAgaWYgKHRoaW5nWyRtb2J4XSkgcmV0dXJuIHRoaW5nWyRtb2J4XTtcbiAgZGllKDI0LCB0aGluZyk7XG59XG5mdW5jdGlvbiBnZXREZWJ1Z05hbWUodGhpbmcsIHByb3BlcnR5KSB7XG4gIHZhciBuYW1lZDtcblxuICBpZiAocHJvcGVydHkgIT09IHVuZGVmaW5lZCkge1xuICAgIG5hbWVkID0gZ2V0QXRvbSh0aGluZywgcHJvcGVydHkpO1xuICB9IGVsc2UgaWYgKGlzQWN0aW9uKHRoaW5nKSkge1xuICAgIHJldHVybiB0aGluZy5uYW1lO1xuICB9IGVsc2UgaWYgKGlzT2JzZXJ2YWJsZU9iamVjdCh0aGluZykgfHwgaXNPYnNlcnZhYmxlTWFwKHRoaW5nKSB8fCBpc09ic2VydmFibGVTZXQodGhpbmcpKSB7XG4gICAgbmFtZWQgPSBnZXRBZG1pbmlzdHJhdGlvbih0aGluZyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gdmFsaWQgZm9yIGFycmF5cyBhcyB3ZWxsXG4gICAgbmFtZWQgPSBnZXRBdG9tKHRoaW5nKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lZC5uYW1lXztcbn1cblxudmFyIHRvU3RyaW5nID0gb2JqZWN0UHJvdG90eXBlLnRvU3RyaW5nO1xuZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIsIGRlcHRoKSB7XG4gIGlmIChkZXB0aCA9PT0gdm9pZCAwKSB7XG4gICAgZGVwdGggPSAtMTtcbiAgfVxuXG4gIHJldHVybiBlcShhLCBiLCBkZXB0aCk7XG59IC8vIENvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9ibG9iLzVjMjM3YTdjNjgyZmI2OGZkNTM3ODIwM2YwYmYyMmRjZTE2MjQ4NTQvdW5kZXJzY29yZS5qcyNMMTE4Ni1MMTI4OVxuLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cblxuZnVuY3Rpb24gZXEoYSwgYiwgZGVwdGgsIGFTdGFjaywgYlN0YWNrKSB7XG4gIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWhhcm1vbnk6ZWdhbCkuXG4gIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PT0gMSAvIGI7IC8vIGBudWxsYCBvciBgdW5kZWZpbmVkYCBvbmx5IGVxdWFsIHRvIGl0c2VsZiAoc3RyaWN0IGNvbXBhcmlzb24pLlxuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7IC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG5cbiAgaWYgKGEgIT09IGEpIHJldHVybiBiICE9PSBiOyAvLyBFeGhhdXN0IHByaW1pdGl2ZSBjaGVja3NcblxuICB2YXIgdHlwZSA9IHR5cGVvZiBhO1xuICBpZiAoIWlzRnVuY3Rpb24odHlwZSkgJiYgdHlwZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgYiAhPSBcIm9iamVjdFwiKSByZXR1cm4gZmFsc2U7IC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG5cbiAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gIGlmIChjbGFzc05hbWUgIT09IHRvU3RyaW5nLmNhbGwoYikpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgIGNhc2UgXCJbb2JqZWN0IFJlZ0V4cF1cIjogLy8gUmVnRXhwcyBhcmUgY29lcmNlZCB0byBzdHJpbmdzIGZvciBjb21wYXJpc29uIChOb3RlOiAnJyArIC9hL2kgPT09ICcvYS9pJylcblxuICAgIGNhc2UgXCJbb2JqZWN0IFN0cmluZ11cIjpcbiAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICByZXR1cm4gXCJcIiArIGEgPT09IFwiXCIgKyBiO1xuXG4gICAgY2FzZSBcIltvYmplY3QgTnVtYmVyXVwiOlxuICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICAgIC8vIE9iamVjdChOYU4pIGlzIGVxdWl2YWxlbnQgdG8gTmFOLlxuICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjsgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cblxuICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcblxuICAgIGNhc2UgXCJbb2JqZWN0IERhdGVdXCI6XG4gICAgY2FzZSBcIltvYmplY3QgQm9vbGVhbl1cIjpcbiAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgIC8vIG9mIGBOYU5gIGFyZSBub3QgZXF1aXZhbGVudC5cbiAgICAgIHJldHVybiArYSA9PT0gK2I7XG5cbiAgICBjYXNlIFwiW29iamVjdCBTeW1ib2xdXCI6XG4gICAgICByZXR1cm4gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wudmFsdWVPZi5jYWxsKGEpID09PSBTeW1ib2wudmFsdWVPZi5jYWxsKGIpO1xuXG4gICAgY2FzZSBcIltvYmplY3QgTWFwXVwiOlxuICAgIGNhc2UgXCJbb2JqZWN0IFNldF1cIjpcbiAgICAgIC8vIE1hcHMgYW5kIFNldHMgYXJlIHVud3JhcHBlZCB0byBhcnJheXMgb2YgZW50cnktcGFpcnMsIGFkZGluZyBhbiBpbmNpZGVudGFsIGxldmVsLlxuICAgICAgLy8gSGlkZSB0aGlzIGV4dHJhIGxldmVsIGJ5IGluY3JlYXNpbmcgdGhlIGRlcHRoLlxuICAgICAgaWYgKGRlcHRoID49IDApIHtcbiAgICAgICAgZGVwdGgrKztcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG4gIH0gLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG5cblxuICBhID0gdW53cmFwKGEpO1xuICBiID0gdW53cmFwKGIpO1xuICB2YXIgYXJlQXJyYXlzID0gY2xhc3NOYW1lID09PSBcIltvYmplY3QgQXJyYXldXCI7XG5cbiAgaWYgKCFhcmVBcnJheXMpIHtcbiAgICBpZiAodHlwZW9mIGEgIT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgYiAhPSBcIm9iamVjdFwiKSByZXR1cm4gZmFsc2U7IC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG5cbiAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLFxuICAgICAgICBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG5cbiAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoaXNGdW5jdGlvbihhQ3RvcikgJiYgYUN0b3IgaW5zdGFuY2VvZiBhQ3RvciAmJiBpc0Z1bmN0aW9uKGJDdG9yKSAmJiBiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKSAmJiBcImNvbnN0cnVjdG9yXCIgaW4gYSAmJiBcImNvbnN0cnVjdG9yXCIgaW4gYikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkZXB0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChkZXB0aCA8IDApIHtcbiAgICBkZXB0aCA9IC0xO1xuICB9IC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXG4gIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuXG5cbiAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XG4gIHZhciBsZW5ndGggPSBhU3RhY2subGVuZ3RoO1xuXG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT09IGEpIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PT0gYjtcbiAgfSAvLyBBZGQgdGhlIGZpcnN0IG9iamVjdCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG5cblxuICBhU3RhY2sucHVzaChhKTtcbiAgYlN0YWNrLnB1c2goYik7IC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuXG4gIGlmIChhcmVBcnJheXMpIHtcbiAgICAvLyBDb21wYXJlIGFycmF5IGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeS5cbiAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlOyAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoIWVxKGFbbGVuZ3RoXSwgYltsZW5ndGhdLCBkZXB0aCAtIDEsIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBrZXk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cblxuICAgIGlmIChPYmplY3Qua2V5cyhiKS5sZW5ndGggIT09IGxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgIGtleSA9IGtleXNbbGVuZ3RoXTtcbiAgICAgIGlmICghKGhhc1Byb3AoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgZGVwdGggLSAxLCBhU3RhY2ssIGJTdGFjaykpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IC8vIFJlbW92ZSB0aGUgZmlyc3Qgb2JqZWN0IGZyb20gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuXG5cbiAgYVN0YWNrLnBvcCgpO1xuICBiU3RhY2sucG9wKCk7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB1bndyYXAoYSkge1xuICBpZiAoaXNPYnNlcnZhYmxlQXJyYXkoYSkpIHJldHVybiBhLnNsaWNlKCk7XG4gIGlmIChpc0VTNk1hcChhKSB8fCBpc09ic2VydmFibGVNYXAoYSkpIHJldHVybiBBcnJheS5mcm9tKGEuZW50cmllcygpKTtcbiAgaWYgKGlzRVM2U2V0KGEpIHx8IGlzT2JzZXJ2YWJsZVNldChhKSkgcmV0dXJuIEFycmF5LmZyb20oYS5lbnRyaWVzKCkpO1xuICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gbWFrZUl0ZXJhYmxlKGl0ZXJhdG9yKSB7XG4gIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBnZXRTZWxmO1xuICByZXR1cm4gaXRlcmF0b3I7XG59XG5cbmZ1bmN0aW9uIGdldFNlbGYoKSB7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBpc0Fubm90YXRpb24odGhpbmcpIHtcbiAgcmV0dXJuICgvLyBDYW4gYmUgZnVuY3Rpb25cbiAgICB0aGluZyBpbnN0YW5jZW9mIE9iamVjdCAmJiB0eXBlb2YgdGhpbmcuYW5ub3RhdGlvblR5cGVfID09PSBcInN0cmluZ1wiICYmIGlzRnVuY3Rpb24odGhpbmcubWFrZV8pICYmIGlzRnVuY3Rpb24odGhpbmcuZXh0ZW5kXylcbiAgKTtcbn1cblxuLyoqXG4gKiAoYykgTWljaGVsIFdlc3RzdHJhdGUgMjAxNSAtIDIwMjBcbiAqIE1JVCBMaWNlbnNlZFxuICpcbiAqIFdlbGNvbWUgdG8gdGhlIG1vYnggc291cmNlcyEgVG8gZ2V0IGFuIGdsb2JhbCBvdmVydmlldyBvZiBob3cgTW9iWCBpbnRlcm5hbGx5IHdvcmtzLFxuICogdGhpcyBpcyBhIGdvb2QgcGxhY2UgdG8gc3RhcnQ6XG4gKiBodHRwczovL21lZGl1bS5jb20vQG13ZXN0c3RyYXRlL2JlY29taW5nLWZ1bGx5LXJlYWN0aXZlLWFuLWluLWRlcHRoLWV4cGxhbmF0aW9uLW9mLW1vYnNlcnZhYmxlLTU1OTk1MjYyYTI1NCMueHZiaDZxZDc0XG4gKlxuICogU291cmNlIGZvbGRlcnM6XG4gKiA9PT09PT09PT09PT09PT1cbiAqXG4gKiAtIGFwaS8gICAgIE1vc3Qgb2YgdGhlIHB1YmxpYyBzdGF0aWMgbWV0aG9kcyBleHBvc2VkIGJ5IHRoZSBtb2R1bGUgY2FuIGJlIGZvdW5kIGhlcmUuXG4gKiAtIGNvcmUvICAgIEltcGxlbWVudGF0aW9uIG9mIHRoZSBNb2JYIGFsZ29yaXRobTsgYXRvbXMsIGRlcml2YXRpb25zLCByZWFjdGlvbnMsIGRlcGVuZGVuY3kgdHJlZXMsIG9wdGltaXphdGlvbnMuIENvb2wgc3R1ZmYgY2FuIGJlIGZvdW5kIGhlcmUuXG4gKiAtIHR5cGVzLyAgIEFsbCB0aGUgbWFnaWMgdGhhdCBpcyBuZWVkIHRvIGhhdmUgb2JzZXJ2YWJsZSBvYmplY3RzLCBhcnJheXMgYW5kIHZhbHVlcyBpcyBpbiB0aGlzIGZvbGRlci4gSW5jbHVkaW5nIHRoZSBtb2RpZmllcnMgbGlrZSBgYXNGbGF0YC5cbiAqIC0gdXRpbHMvICAgVXRpbGl0eSBzdHVmZi5cbiAqXG4gKi9cbltcIlN5bWJvbFwiLCBcIk1hcFwiLCBcIlNldFwiLCBcIlN5bWJvbFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gIHZhciBnID0gZ2V0R2xvYmFsKCk7XG5cbiAgaWYgKHR5cGVvZiBnW21dID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZGllKFwiTW9iWCByZXF1aXJlcyBnbG9iYWwgJ1wiICsgbSArIFwiJyB0byBiZSBhdmFpbGFibGUgb3IgcG9seWZpbGxlZFwiKTtcbiAgfVxufSk7XG5cbmlmICh0eXBlb2YgX19NT0JYX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gPT09IFwib2JqZWN0XCIpIHtcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYW5keWtvZy9tb2J4LWRldnRvb2xzL1xuICBfX01PQlhfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5pbmplY3RNb2J4KHtcbiAgICBzcHk6IHNweSxcbiAgICBleHRyYXM6IHtcbiAgICAgIGdldERlYnVnTmFtZTogZ2V0RGVidWdOYW1lXG4gICAgfSxcbiAgICAkbW9ieDogJG1vYnhcbiAgfSk7XG59XG5leHBvcnQgeyAkbW9ieCwgRmxvd0NhbmNlbGxhdGlvbkVycm9yLCBPYnNlcnZhYmxlTWFwLCBPYnNlcnZhYmxlU2V0LCBSZWFjdGlvbiwgYWxsb3dTdGF0ZUNoYW5nZXMgYXMgX2FsbG93U3RhdGVDaGFuZ2VzLCBydW5JbkFjdGlvbiBhcyBfYWxsb3dTdGF0ZUNoYW5nZXNJbnNpZGVDb21wdXRlZCwgYWxsb3dTdGF0ZVJlYWRzRW5kIGFzIF9hbGxvd1N0YXRlUmVhZHNFbmQsIGFsbG93U3RhdGVSZWFkc1N0YXJ0IGFzIF9hbGxvd1N0YXRlUmVhZHNTdGFydCwgYXV0b0FjdGlvbiBhcyBfYXV0b0FjdGlvbiwgX2VuZEFjdGlvbiwgZ2V0QWRtaW5pc3RyYXRpb24gYXMgX2dldEFkbWluaXN0cmF0aW9uLCBnZXRHbG9iYWxTdGF0ZSBhcyBfZ2V0R2xvYmFsU3RhdGUsIGludGVyY2VwdFJlYWRzIGFzIF9pbnRlcmNlcHRSZWFkcywgaXNDb21wdXRpbmdEZXJpdmF0aW9uIGFzIF9pc0NvbXB1dGluZ0Rlcml2YXRpb24sIHJlc2V0R2xvYmFsU3RhdGUgYXMgX3Jlc2V0R2xvYmFsU3RhdGUsIF9zdGFydEFjdGlvbiwgYWN0aW9uLCBhdXRvcnVuLCBjb21wYXJlciwgY29tcHV0ZWQsIGNvbmZpZ3VyZSwgY3JlYXRlQXRvbSwgYXBpRGVmaW5lUHJvcGVydHkgYXMgZGVmaW5lUHJvcGVydHksIGVudHJpZXMsIGV4dGVuZE9ic2VydmFibGUsIGZsb3csIGZsb3dSZXN1bHQsIGdldCwgZ2V0QXRvbSwgZ2V0RGVidWdOYW1lLCBnZXREZXBlbmRlbmN5VHJlZSwgZ2V0T2JzZXJ2ZXJUcmVlLCBoYXMsIGludGVyY2VwdCwgaXNBY3Rpb24sIGlzT2JzZXJ2YWJsZVZhbHVlIGFzIGlzQm94ZWRPYnNlcnZhYmxlLCBpc0NvbXB1dGVkLCBpc0NvbXB1dGVkUHJvcCwgaXNGbG93LCBpc0Zsb3dDYW5jZWxsYXRpb25FcnJvciwgaXNPYnNlcnZhYmxlLCBpc09ic2VydmFibGVBcnJheSwgaXNPYnNlcnZhYmxlTWFwLCBpc09ic2VydmFibGVPYmplY3QsIGlzT2JzZXJ2YWJsZVByb3AsIGlzT2JzZXJ2YWJsZVNldCwga2V5cywgbWFrZUF1dG9PYnNlcnZhYmxlLCBtYWtlT2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSwgb2JzZXJ2ZSwgb25CZWNvbWVPYnNlcnZlZCwgb25CZWNvbWVVbm9ic2VydmVkLCBvblJlYWN0aW9uRXJyb3IsIG92ZXJyaWRlLCBhcGlPd25LZXlzIGFzIG93bktleXMsIHJlYWN0aW9uLCByZW1vdmUsIHJ1bkluQWN0aW9uLCBzZXQsIHNweSwgdG9KUywgdHJhY2UsIHRyYW5zYWN0aW9uLCB1bnRyYWNrZWQsIHZhbHVlcywgd2hlbiB9O1xuLy8gIyBzb3VyY2VNYXBwaW5nVVJMPW1vYnguZXNtLmpzLm1hcFxuICJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/CommonUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9814d/85SFDfo1f4MmYfH4s', 'CommonUtils');
// Script/Common/Utils/CommonUtils.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CommonUtils = void 0;
var CocosHelper_1 = require("../../UIFrame/CocosHelper");
var MatchUtils_1 = require("./MatchUtils");
var kDefaultRandomGenerator = {
    nextInt: function (start, endAndNotIncluded) {
        return Math.floor(Math.random() * (endAndNotIncluded - start)) + start;
    },
    next01: function () {
        return Math.random();
    }
};
var CommonUtils = /** @class */ (function () {
    function CommonUtils() {
    }
    CommonUtils.isArray = function (target) {
        if (typeof Array.isArray === "function") {
            return Array.isArray(target);
        }
        else {
            return Object.prototype.toString.call(target) === "[object Array]";
        }
    };
    CommonUtils.foramtDate = function (dateObj, format) {
        var date = {
            "M+": dateObj.getMonth() + 1,
            "d+": dateObj.getDate(),
            "h+": dateObj.getHours(),
            "m+": dateObj.getMinutes(),
            "s+": dateObj.getSeconds(),
            "q+": Math.floor((dateObj.getMonth() + 3) / 3),
            "S+": dateObj.getMilliseconds()
        };
        if (/(y+)/i.test(format)) {
            format = format.replace(RegExp.$1, (dateObj.getFullYear() + '').substr(4 - RegExp.$1.length));
        }
        for (var k in date) {
            if (new RegExp("(" + k + ")").test(format)) {
                format = format.replace(RegExp.$1, ("00" + date[k]).substr(("" + date[k]).length));
            }
        }
        return format;
    };
    CommonUtils.getElemClamped = function (arr, index) {
        return arr[Math.max(0, Math.min(arr.length - 1, index))];
    };
    CommonUtils.randomIntClosedRange = function (min, max) {
        return Math.floor(Math.random() * (max - min + 0.9999) + min);
    };
    CommonUtils.indexOf = function (val, arr) {
        for (var i = 0; i < arr.length; i++) {
            if (arr[i] == val) {
                return i;
            }
        }
        return -1;
    };
    CommonUtils.indexOfArr = function (arr) {
        var values = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            values[_i - 1] = arguments[_i];
        }
        var paramCount = values.length;
        var found = false;
        for (var i = 0; i <= arr.length - paramCount; i += paramCount) {
            found = true;
            for (var j = 0; j < paramCount; j++) {
                if (arr[i + j] !== values[j]) {
                    found = false;
                    break;
                }
            }
            if (found) {
                return i;
            }
        }
        return -1;
    };
    CommonUtils.floatEqual = function (left, right, epsilon) {
        if (epsilon === void 0) { epsilon = 0.000001; }
        return Math.abs(left - right) < epsilon;
    };
    CommonUtils.formatTimeInterval = function (seconds, alwaysShowMinutes, alwaysShowHours) {
        if (alwaysShowMinutes === void 0) { alwaysShowMinutes = false; }
        if (alwaysShowHours === void 0) { alwaysShowHours = false; }
        alwaysShowMinutes = alwaysShowHours || alwaysShowMinutes;
        var ret = "";
        var hour = Math.floor(seconds / 3600);
        seconds = seconds % 3600;
        var minute = Math.floor(seconds / 60);
        seconds = Math.floor(seconds % 60);
        if (alwaysShowHours || hour > 0) {
            if (hour < 10) {
                ret += "0";
            }
            ret += hour + ":";
        }
        if (alwaysShowMinutes || minute > 0 || hour > 0) {
            if (minute < 10) {
                ret += "0";
            }
            ret += minute + ":";
        }
        if (seconds < 10) {
            ret += "0";
        }
        ret += seconds;
        return ret;
    };
    CommonUtils.alignNumber = function (input, divider) {
        input = input - Math.floor(input / divider) * divider;
        return input;
    };
    CommonUtils.formatNumber = function (num) {
        var str = "" + Math.floor(num);
        var newStr = "";
        var count = 0;
        // 当数字是整数
        if (str.indexOf(".") == -1) {
            for (var i = str.length - 1; i >= 0; i--) {
                if (count % 3 == 0 && count != 0) {
                    newStr = str.charAt(i) + "," + newStr;
                }
                else {
                    newStr = str.charAt(i) + newStr;
                }
                count++;
            }
            str = newStr;
            return str;
        }
        // 当数字带有小数
        else {
            for (var i = str.indexOf(".") - 1; i >= 0; i--) {
                if (count % 3 == 0 && count != 0) {
                    newStr = str.charAt(i) + "," + newStr;
                }
                else {
                    newStr = str.charAt(i) + newStr; //逐个字符相接起来
                }
                count++;
            }
            str = newStr + (str + "00").substr((str + "00").indexOf("."), 3);
            return str;
        }
    };
    CommonUtils.updateLabelSize = function (label) {
        label["_updateRenderData"](true);
    };
    CommonUtils.lerp = function (begin, end, factor) {
        return begin + (end - begin) * factor;
    };
    CommonUtils.shuffle = function (container, randGenerator, start, count) {
        if (randGenerator === void 0) { randGenerator = kDefaultRandomGenerator; }
        if (start === void 0) { start = 0; }
        if (count === void 0) { count = -1; }
        randGenerator = randGenerator || kDefaultRandomGenerator;
        if (count < 0) {
            count = container.length - start;
        }
        for (var i = 0; i < count; i++) {
            var idx = randGenerator.nextInt(start, start + count - i);
            var temp = container[idx];
            container[idx] = container[count - i - 1 + start];
            container[count - i - 1 + start] = temp;
        }
    };
    CommonUtils.setItemSpriteFrame = function (sprite, url, successCB) {
        if (successCB === void 0) { successCB = null; }
        sprite["spriteFrameName"] = url;
        CocosHelper_1.default.loadResSync(url, cc.SpriteFrame).then(function (spriteFrame) {
            if (sprite.isValid && sprite["spriteFrameName"] == url) {
                sprite.spriteFrame = spriteFrame;
                if (successCB) {
                    successCB(sprite);
                }
            }
        });
    };
    CommonUtils.addSimpleClick = function (target, cb) {
        var targetNode = target;
        var lastTouchPos = null;
        targetNode.on(cc.Node.EventType.TOUCH_START, function (e) {
            lastTouchPos = e.getLocation();
        }, this);
        targetNode.on(cc.Node.EventType.TOUCH_END, function (e) {
            if (lastTouchPos) {
                var delta = lastTouchPos.subSelf(e.getLocation()).mag();
                if (delta < 3) {
                    cb();
                }
            }
        }, this);
    };
    CommonUtils.isGoodNumber = function (num) {
        return (typeof num) === "number" && !Number.isNaN(num);
    };
    CommonUtils.getVisibleRect = function () {
        var visibleRect = cc.view.getViewportRect();
        visibleRect = cc.rect(visibleRect.origin.x / -cc.view.getScaleX(), visibleRect.origin.y / -cc.view.getScaleY(), (visibleRect.size.width + visibleRect.origin.x * 2) / cc.view.getScaleX(), (visibleRect.size.height + visibleRect.origin.y * 2) / cc.view.getScaleY());
        return visibleRect;
    };
    CommonUtils.httpGet = function (url, cb) {
        var xhr = cc.loader.getXMLHttpRequest();
        xhr.onreadystatechange = function () {
            // cc.log("Get: readyState:" + xhr.readyState + " status:" + xhr.status);
            if (xhr.readyState === 4 && xhr.status == 200) {
                var respone = xhr.responseText;
                var rsp = JSON.parse(respone);
                cb(rsp);
            }
            else if (xhr.readyState === 4 && xhr.status == 401) {
                cb({ "ret": 1 });
            }
            else {
                //callback(-1);
            }
        };
        xhr.withCredentials = true;
        xhr.open('GET', url, true);
        xhr.withCredentials = false;
        // if (cc.sys.isNative) {
        xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
        xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET, POST');
        xhr.setRequestHeader('Access-Control-Allow-Headers', 'x-requested-with,content-type,authorization');
        xhr.setRequestHeader("Content-Type", "application/json");
        //xhr.setRequestHeader('Authorization', 'Bearer ' + cc.myGame.gameManager.getToken());
        // xhr.setRequestHeader('Authorization', 'Bearer ' + "");
        // }
        // note: In Internet Explorer, the timeout property may be set only after calling the open()
        // method and before calling the send() method.
        xhr.timeout = 8000; // 8 seconds for timeout
        xhr.send();
    };
    /**
     * Box-Muller algorithm
     * @param avg
     */
    CommonUtils.randomGaussian = function (avg, variant, randGenerator) {
        if (randGenerator === void 0) { randGenerator = kDefaultRandomGenerator; }
        randGenerator = randGenerator || kDefaultRandomGenerator;
        var x1 = randGenerator.next01();
        var x2 = randGenerator.next01();
        var standard = Math.sqrt(-2 * Math.log(x1)) * Math.cos(2 * Math.PI * x2);
        return standard * variant + avg;
    };
    CommonUtils.deepCopy = function (dst, src) {
        for (var field in src) {
            this._deepCopyFields(dst, src, field);
        }
    };
    CommonUtils.constructObjectMap = function (obj) {
        var map = new Map();
        for (var key in obj) {
            var val = obj[key];
            if (typeof val === "object") {
                map.set(key, this.constructObjectMap(val));
            }
            else {
                map.set(key, val);
            }
        }
        return map;
    };
    CommonUtils._deepCopyFields = function (dst, src, field) {
        var value = src[field];
        if (typeof value == "number" || typeof value == "string") {
            dst[field] = value;
        }
        else if (this.isArray[value]) {
            var dstArr = dst[field] = [];
            for (var i = 0; i < value.length; i++) {
                this._deepCopyFields(dstArr, value, i);
            }
        }
        else if (value == null) {
            dst[field] = null;
        }
        else if (typeof value == "object") {
            var dstObj = new value.constructor();
            for (var field_1 in src) {
                this._deepCopyFields(dstObj, value, field_1);
            }
        }
    };
    /**
     * 格式化数字变成K,M,B
     * @param value
     */
    CommonUtils.formatNumberToEng = function (value) {
        if (value < 1 && value > 0) {
            return 1 + "";
        }
        value = Math.floor(value);
        var exp = Math.floor(CommonUtils.getExponent(value));
        if (exp < 13) {
            if (exp < 4) {
                return value + "";
            }
            var unitIt = Math.floor(exp / CommonUtils.constNum);
            var rem = exp % CommonUtils.constNum;
            var numStr = String(value / Math.pow(10, unitIt * CommonUtils.constNum)).substr(0, CommonUtils.constNum + rem);
            return numStr + CommonUtils.getUnit(exp);
        }
        else {
            var _num = value / Math.pow(10, exp);
            return _num.toFixed(3) + "e" + exp;
        }
    };
    CommonUtils.getExponent = function (value) {
        var exp = 0;
        while (value >= 10) {
            exp++;
            value /= 10;
        }
        return exp;
    };
    CommonUtils.getUnit = function (exp) {
        var unitIt = Math.floor(exp / CommonUtils.constNum);
        if (exp < 13) {
            return CommonUtils.unitArr[unitIt];
        }
        else {
            var unitIt = Math.floor(exp / CommonUtils.constNum);
            return "e" + unitIt * CommonUtils.constNum;
        }
    };
    /**
     * 转化成带有小数点的K,M,B
     * @param number
     * @param decimals
     */
    CommonUtils.formatEngNumber = function (number, decimals) {
        if (decimals === void 0) { decimals = 2; }
        var str;
        var num;
        number = number;
        if (number >= 1000000) {
            num = number / 1000000;
            str = (Math.floor(num / 0.001) * 0.001).toFixed(decimals);
            return this.formatEndingZero(str) + "M";
        }
        else if (number >= 1000) {
            num = number / 1000;
            str = (Math.floor(num / 0.001) * 0.001).toFixed(decimals);
            return this.formatEndingZero(str) + "K";
        }
        else {
            return number + "";
        }
    };
    CommonUtils.formatEndingZero = function (c) {
        if (c.indexOf(".") != -1) {
            if (this.endWith(c, "00")) {
                return c.substring(0, c.length - 3);
            }
            else if (this.endWith(c, "0")) {
                return c.substring(0, c.length - 1);
            }
        }
        return c;
    };
    CommonUtils.endWith = function (c, suffix) {
        return (suffix == c.substring(c.length - suffix.length));
    };
    CommonUtils.makeMaxWidthLabel = function (label, width) {
        var obj = {};
        obj["__proto__"] = label;
        Object.defineProperty(obj, "string", {
            configurable: true,
            enumerable: true,
            get: function () {
                return label.string;
            },
            set: function (str) {
                label.overflow = cc.Label.Overflow.NONE;
                label.string = str;
                label["_updateRenderData"](true);
                if (label.node.width > width) {
                    label.overflow = cc.Label.Overflow.RESIZE_HEIGHT;
                    label.node.setContentSize(width, 1);
                    label.string = str;
                }
            }
        });
        return obj;
    };
    CommonUtils.climeUserName = function (name, showLen) {
        if (showLen === void 0) { showLen = 14; }
        var len = name.length;
        while (this.strlen(name) > showLen) {
            name = name.substring(0, name.length - 1);
        }
        if (name.length != len) {
            name = name + "...";
        }
        return name;
    };
    CommonUtils.strlen = function (str) {
        var len = 0;
        for (var i = 0; i < str.length; i++) {
            var c = str.charCodeAt(i);
            //单字节加1 
            if ((c >= 0x0001 && c <= 0x007e) || (0xff60 <= c && c <= 0xff9f)) {
                len++;
            }
            else {
                len += 2;
            }
        }
        return len;
    };
    /** 打乱数组 */
    CommonUtils.shuffleArr = function (arr) {
        var _swap = function (a, b) {
            var tmp = arr[a];
            arr[a] = arr[b];
            arr[b] = tmp;
        };
        var len = arr.length;
        for (var i = 0; i < len; i++) {
            var idx = Math.floor(Math.random() * (len - i));
            _swap(idx, len - i - 1);
        }
        return arr;
    };
    /** 二分查找, findFlag 为false表示没找到的时候返回一个较小的, 为true返回一个较大的 */
    CommonUtils.binarySearch = function (arr, target, findFlag) {
        if (findFlag === void 0) { findFlag = false; }
        var start = 0, end = arr.length - 1;
        while (end - start > 1) {
            var idx = Math.floor((start + end) / 2);
            if (target < arr[idx]) {
                end = idx;
            }
            else if (target > arr[idx]) {
                start = idx;
            }
            else {
                return idx;
            }
        }
        // 没有找到对应的值
        if (!findFlag) {
            if (end == 0)
                return -1;
            return start;
        }
        else {
            if (start == arr.length - 1)
                return arr.length;
            return end;
        }
    };
    // 判断一个点是否在三角形内
    CommonUtils.isInTriangle = function (point, triA, triB, triC) {
        var AB = triB.sub(triA), AC = triC.sub(triA), BC = triC.sub(triB), AD = point.sub(triA), BD = point.sub(triB);
        //@ts-ignore
        return (AB.cross(AC) >= 0 ^ AB.cross(AD) < 0) && (AB.cross(AC) >= 0 ^ AC.cross(AD) >= 0) && (BC.cross(AB) > 0 ^ BC.cross(BD) >= 0);
    };
    CommonUtils.isInPolygon = function (checkPoint, polygonPoints) {
        var counter = 0, i, xinters;
        var p1, p2;
        var pointCount = polygonPoints.length;
        p1 = polygonPoints[0];
        for (i = 1; i <= pointCount; i++) {
            p2 = polygonPoints[i % pointCount];
            if (checkPoint.x > Math.min(p1.x, p2.x) &&
                checkPoint.x <= Math.max(p1.x, p2.x)) {
                if (checkPoint.y <= Math.max(p1.y, p2.y)) {
                    if (p1.x != p2.x) {
                        xinters = (checkPoint.x - p1.x) * (p2.y - p1.y) / (p2.x - p1.x) + p1.y;
                        if (p1.y == p2.y || checkPoint.y <= xinters) {
                            counter++;
                        }
                    }
                }
            }
            p1 = p2;
        }
        return (counter & 1) !== 0;
    };
    // 多边形 三角切割
    CommonUtils.splitePolygon = function (points) {
        if (points.length <= 3)
            return [0, 1, 2];
        var pointMap = {}; // point与idx的映射
        for (var i = 0; i < points.length; i++) {
            var p = points[i];
            pointMap[p.x + "-" + p.y] = i;
        }
        var getIdx = function (p) {
            return pointMap[p.x + "-" + p.y];
        };
        points = points.concat([]);
        var idxs = [];
        var index = 0;
        while (points.length > 3) {
            var p1 = points[(index) % points.length], p2 = points[(index + 1) % points.length], p3 = points[(index + 2) % points.length];
            var splitPoint = (index + 1) % points.length;
            var v1 = p2.sub(p1);
            var v2 = p3.sub(p2);
            if (v1.cross(v2) < 0) { // 是一个凹角, 寻找下一个
                index = (index + 1) % points.length;
                continue;
            }
            var hasPoint = false;
            for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {
                var p = points_1[_i];
                if (p != p1 && p != p2 && p != p3 && this.isInTriangle(p, p1, p2, p3)) {
                    hasPoint = true;
                    break;
                }
            }
            if (hasPoint) { // 当前三角形包含其他点, 寻找下一个
                index = (index + 1) % points.length;
                continue;
            }
            // 找到了耳朵, 切掉
            idxs.push(getIdx(p1), getIdx(p2), getIdx(p3));
            points.splice(splitPoint, 1);
        }
        for (var _a = 0, points_2 = points; _a < points_2.length; _a++) {
            var p = points_2[_a];
            idxs.push(getIdx(p));
        }
        return idxs;
    };
    /** 计算uv, 锚点都是中心 */
    CommonUtils.computeUv = function (points, width, height) {
        var uvs = [];
        for (var _i = 0, points_3 = points; _i < points_3.length; _i++) {
            var p = points_3[_i];
            // uv原点是左上角
            var x = MatchUtils_1.MathUtils.clamp(0, 1, (p.x + width / 2) / width);
            var y = MatchUtils_1.MathUtils.clamp(0, 1, 1. - (p.y + height / 2) / height);
            uvs.push(cc.v2(x, y));
        }
        return uvs;
    };
    CommonUtils.tweenFloat = function (from, to, duration, onUpdate, onComplete, autoStart) {
        if (autoStart === void 0) { autoStart = true; }
        var o = { _value: from };
        Object.defineProperty(o, 'value', {
            get: function () { return o._value; },
            set: function (v) { o._value = v; onUpdate && onUpdate(o._value); },
        });
        var tween = cc.tween(o).to(duration, { value: to }).call(onComplete);
        if (autoStart) {
            tween.start();
        }
        return tween;
    };
    CommonUtils.tweenVec2 = function (from, to, duration, onUpdate, onComplete, autoStart) {
        if (autoStart === void 0) { autoStart = true; }
        var o = { _value: from };
        Object.defineProperty(o, 'value', {
            get: function () { return o._value; },
            set: function (v) { o._value = v; onUpdate && onUpdate(o._value); },
        });
        var tween = cc.tween(o).to(duration, { value: to }).call(onComplete);
        if (autoStart) {
            tween.start();
        }
        return tween;
    };
    CommonUtils.unitArr = ["", "K", "M", "B"];
    CommonUtils.constNum = 3;
    return CommonUtils;
}());
exports.CommonUtils = CommonUtils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL0NvbW1vblV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlEQUFvRDtBQUNwRCwyQ0FBeUM7QUFXekMsSUFBSSx1QkFBdUIsR0FBRztJQUMxQixPQUFPLEVBQVAsVUFBUSxLQUFZLEVBQUUsaUJBQXdCO1FBQzFDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUMzRSxDQUFDO0lBQ0QsTUFBTSxFQUFOO1FBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDekIsQ0FBQztDQUNKLENBQUM7QUFFRjtJQUFBO0lBd2pCQSxDQUFDO0lBdmpCaUIsbUJBQU8sR0FBckIsVUFBc0IsTUFBVTtRQUM1QixJQUFJLE9BQU8sS0FBSyxDQUFDLE9BQU8sS0FBSyxVQUFVLEVBQUU7WUFDckMsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2hDO2FBQUk7WUFDRCxPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxnQkFBZ0IsQ0FBQztTQUN0RTtJQUNMLENBQUM7SUFFYSxzQkFBVSxHQUF4QixVQUF5QixPQUFZLEVBQUUsTUFBYTtRQUNoRCxJQUFJLElBQUksR0FBUztZQUNiLElBQUksRUFBRSxPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQztZQUM1QixJQUFJLEVBQUUsT0FBTyxDQUFDLE9BQU8sRUFBRTtZQUN2QixJQUFJLEVBQUUsT0FBTyxDQUFDLFFBQVEsRUFBRTtZQUN4QixJQUFJLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFBRTtZQUMxQixJQUFJLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFBRTtZQUMxQixJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxlQUFlLEVBQUU7U0FDbEMsQ0FBQztRQUNGLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUN0QixNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQ2pHO1FBQ0QsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7WUFDaEIsSUFBSSxJQUFJLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDcEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzthQUMxRjtTQUNKO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVhLDBCQUFjLEdBQTVCLFVBQWdDLEdBQU8sRUFBRSxLQUFZO1FBQ2pELE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFYSxnQ0FBb0IsR0FBbEMsVUFBbUMsR0FBVSxFQUFFLEdBQVU7UUFDckQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVhLG1CQUFPLEdBQXJCLFVBQXlCLEdBQUssRUFBRSxHQUFPO1FBQ25DLEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2hDLElBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBRTtnQkFDZCxPQUFPLENBQUMsQ0FBQzthQUNaO1NBQ0o7UUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ2QsQ0FBQztJQUVhLHNCQUFVLEdBQXhCLFVBQTRCLEdBQU87UUFBRSxnQkFBYTthQUFiLFVBQWEsRUFBYixxQkFBYSxFQUFiLElBQWE7WUFBYiwrQkFBYTs7UUFDOUMsSUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUMvQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbEIsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsVUFBVSxFQUFFLENBQUMsSUFBRSxVQUFVLEVBQUU7WUFDeEQsS0FBSyxHQUFHLElBQUksQ0FBQztZQUNiLEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2hDLElBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3pCLEtBQUssR0FBRyxLQUFLLENBQUM7b0JBQ2QsTUFBTTtpQkFDVDthQUNKO1lBQ0QsSUFBRyxLQUFLLEVBQUU7Z0JBQ04sT0FBTyxDQUFDLENBQUM7YUFDWjtTQUNKO1FBQ0QsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUNkLENBQUM7SUFFYSxzQkFBVSxHQUF4QixVQUF5QixJQUFXLEVBQUUsS0FBWSxFQUFFLE9BQXlCO1FBQXpCLHdCQUFBLEVBQUEsa0JBQXlCO1FBQ3pFLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDO0lBQzVDLENBQUM7SUFFYSw4QkFBa0IsR0FBaEMsVUFBaUMsT0FBYyxFQUFFLGlCQUFpQyxFQUFFLGVBQStCO1FBQWxFLGtDQUFBLEVBQUEseUJBQWlDO1FBQUUsZ0NBQUEsRUFBQSx1QkFBK0I7UUFDL0csaUJBQWlCLEdBQUcsZUFBZSxJQUFJLGlCQUFpQixDQUFDO1FBQ3pELElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sR0FBRyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsQ0FBQztRQUNuQyxJQUFHLGVBQWUsSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUFFO1lBQzVCLElBQUcsSUFBSSxHQUFHLEVBQUUsRUFBRTtnQkFDVixHQUFHLElBQUksR0FBRyxDQUFDO2FBQ2Q7WUFDRCxHQUFHLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQztTQUNyQjtRQUNELElBQUcsaUJBQWlCLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUFFO1lBQzVDLElBQUcsTUFBTSxHQUFHLEVBQUUsRUFBRTtnQkFDWixHQUFHLElBQUksR0FBRyxDQUFDO2FBQ2Q7WUFDRCxHQUFHLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQztTQUN2QjtRQUNELElBQUcsT0FBTyxHQUFHLEVBQUUsRUFBRTtZQUNiLEdBQUcsSUFBSSxHQUFHLENBQUM7U0FDZDtRQUNELEdBQUcsSUFBSSxPQUFPLENBQUM7UUFDZixPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFYSx1QkFBVyxHQUF6QixVQUEwQixLQUFZLEVBQUUsT0FBYztRQUNsRCxLQUFLLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQztRQUN0RCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRWEsd0JBQVksR0FBMUIsVUFBMkIsR0FBVTtRQUNqQyxJQUFJLEdBQUcsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMvQixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsU0FBUztRQUNULElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRTtZQUN4QixLQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3RDLElBQUksS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtvQkFDOUIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQztpQkFDekM7cUJBQU07b0JBQ0gsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDO2lCQUNuQztnQkFDRCxLQUFLLEVBQUUsQ0FBQzthQUNYO1lBQ0QsR0FBRyxHQUFHLE1BQU0sQ0FBQztZQUNiLE9BQU8sR0FBRyxDQUFDO1NBQ2Q7UUFDRCxVQUFVO2FBQ0w7WUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVDLElBQUksS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtvQkFDOUIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQztpQkFDekM7cUJBQU07b0JBQ0gsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsVUFBVTtpQkFDOUM7Z0JBQ0QsS0FBSyxFQUFFLENBQUM7YUFDWDtZQUNELEdBQUcsR0FBRyxNQUFNLEdBQUcsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNqRSxPQUFPLEdBQUcsQ0FBQztTQUNkO0lBQ0wsQ0FBQztJQUVhLDJCQUFlLEdBQTdCLFVBQThCLEtBQWM7UUFDeEMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVhLGdCQUFJLEdBQWxCLFVBQW1CLEtBQVksRUFBRSxHQUFVLEVBQUUsTUFBYTtRQUN0RCxPQUFPLEtBQUssR0FBRyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxNQUFNLENBQUM7SUFDMUMsQ0FBQztJQUVhLG1CQUFPLEdBQXJCLFVBQXNCLFNBQWUsRUFBRSxhQUF3RCxFQUFFLEtBQWdCLEVBQUUsS0FBaUI7UUFBN0YsOEJBQUEsRUFBQSx1Q0FBd0Q7UUFBRSxzQkFBQSxFQUFBLFNBQWdCO1FBQUUsc0JBQUEsRUFBQSxTQUFnQixDQUFDO1FBQ2hJLGFBQWEsR0FBRyxhQUFhLElBQUksdUJBQXVCLENBQUM7UUFDekQsSUFBRyxLQUFLLEdBQUcsQ0FBQyxFQUFFO1lBQ1YsS0FBSyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1NBQ3BDO1FBQ0QsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMzQixJQUFJLEdBQUcsR0FBRyxhQUFhLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzFELElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxQixTQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO1lBQ2xELFNBQVMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUM7U0FDM0M7SUFDTCxDQUFDO0lBRWEsOEJBQWtCLEdBQWhDLFVBQWlDLE1BQWdCLEVBQUUsR0FBVSxFQUFFLFNBQXlDO1FBQXpDLDBCQUFBLEVBQUEsZ0JBQXlDO1FBQ3BHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUNoQyxxQkFBVyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLFdBQTBCO1lBQ3pFLElBQUcsTUFBTSxDQUFDLE9BQU8sSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUMsSUFBSSxHQUFHLEVBQUU7Z0JBQ25ELE1BQU0sQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO2dCQUNqQyxJQUFHLFNBQVMsRUFBRTtvQkFDVixTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ3JCO2FBQ0o7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFYSwwQkFBYyxHQUE1QixVQUE2QixNQUFjLEVBQUUsRUFBVztRQUNwRCxJQUFJLFVBQVUsR0FBRyxNQUFNLENBQUM7UUFDeEIsSUFBSSxZQUFZLEdBQWEsSUFBSSxDQUFDO1FBQ2xDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLFVBQUMsQ0FBcUI7WUFDL0QsWUFBWSxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDVCxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxVQUFDLENBQXFCO1lBQzdELElBQUcsWUFBWSxFQUFFO2dCQUNiLElBQUksS0FBSyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQ3hELElBQUcsS0FBSyxHQUFHLENBQUMsRUFBRTtvQkFDVixFQUFFLEVBQUUsQ0FBQztpQkFDUjthQUNKO1FBQ0wsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUVhLHdCQUFZLEdBQTFCLFVBQTJCLEdBQU87UUFDOUIsT0FBTyxDQUFDLE9BQU8sR0FBRyxDQUFDLEtBQUssUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRWEsMEJBQWMsR0FBNUI7UUFDSSxJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQzVDLFdBQVcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQzlHLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUN2SixPQUFPLFdBQVcsQ0FBQztJQUN2QixDQUFDO0lBRWEsbUJBQU8sR0FBckIsVUFBc0IsR0FBVSxFQUFFLEVBQVk7UUFDMUMsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3hDLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRztZQUNyQix5RUFBeUU7WUFDekUsSUFBSSxHQUFHLENBQUMsVUFBVSxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsRUFBRTtnQkFDM0MsSUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQztnQkFDL0IsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDOUIsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ1g7aUJBQU0sSUFBSSxHQUFHLENBQUMsVUFBVSxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsRUFBRTtnQkFDbEQsRUFBRSxDQUFDLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7YUFDakI7aUJBQU07Z0JBQ0gsZUFBZTthQUNsQjtRQUNMLENBQUMsQ0FBQztRQUNGLEdBQUcsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO1FBQzNCLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMzQixHQUFHLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztRQUM1Qix5QkFBeUI7UUFDekIsR0FBRyxDQUFDLGdCQUFnQixDQUFDLDZCQUE2QixFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3pELEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyw4QkFBOEIsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUNsRSxHQUFHLENBQUMsZ0JBQWdCLENBQUMsOEJBQThCLEVBQUUsNkNBQTZDLENBQUMsQ0FBQztRQUNwRyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQUM7UUFDekQsc0ZBQXNGO1FBQ3RGLHlEQUF5RDtRQUN6RCxJQUFJO1FBRUosNEZBQTRGO1FBQzVGLCtDQUErQztRQUMvQyxHQUFHLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFBLHdCQUF3QjtRQUUzQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDZixDQUFDO0lBRUQ7OztPQUdHO0lBQ1csMEJBQWMsR0FBNUIsVUFBNkIsR0FBVSxFQUFFLE9BQWMsRUFBRSxhQUF3RDtRQUF4RCw4QkFBQSxFQUFBLHVDQUF3RDtRQUM3RyxhQUFhLEdBQUcsYUFBYSxJQUFJLHVCQUF1QixDQUFDO1FBQ3pELElBQUksRUFBRSxHQUFHLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQyxJQUFJLEVBQUUsR0FBRyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDaEMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUN6RSxPQUFPLFFBQVEsR0FBRyxPQUFPLEdBQUcsR0FBRyxDQUFDO0lBQ3BDLENBQUM7SUFFYSxvQkFBUSxHQUF0QixVQUF1QixHQUFVLEVBQUUsR0FBVTtRQUN6QyxLQUFJLElBQUksS0FBSyxJQUFJLEdBQUcsRUFBRTtZQUNsQixJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDekM7SUFDTCxDQUFDO0lBRWEsOEJBQWtCLEdBQWhDLFVBQWlDLEdBQVE7UUFDckMsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNwQixLQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBRTtZQUNoQixJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDbEIsSUFBRyxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7Z0JBQ3hCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQzlDO2lCQUFNO2dCQUNILEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2FBQ3JCO1NBQ0o7UUFDRCxPQUFPLEdBQUcsQ0FBQTtJQUNkLENBQUM7SUFFYywyQkFBZSxHQUE5QixVQUErQixHQUFVLEVBQUUsR0FBVSxFQUFFLEtBQVM7UUFDNUQsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZCLElBQUcsT0FBTyxLQUFLLElBQUksUUFBUSxJQUFJLE9BQU8sS0FBSyxJQUFJLFFBQVEsRUFBRTtZQUNyRCxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQ3RCO2FBQU0sSUFBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQzNCLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDN0IsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2xDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQzthQUMxQztTQUNKO2FBQU0sSUFBRyxLQUFLLElBQUksSUFBSSxFQUFFO1lBQ3JCLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUM7U0FDckI7YUFBTSxJQUFHLE9BQU8sS0FBSyxJQUFJLFFBQVEsRUFBRTtZQUNoQyxJQUFJLE1BQU0sR0FBRyxJQUFJLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNyQyxLQUFJLElBQUksT0FBSyxJQUFJLEdBQUcsRUFBRTtnQkFDbEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQUssQ0FBQyxDQUFDO2FBQzlDO1NBQ0o7SUFDTCxDQUFDO0lBS0Q7OztPQUdHO0lBQ0ksNkJBQWlCLEdBQXhCLFVBQXlCLEtBQWE7UUFDbEMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUU7WUFDeEIsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQ2pCO1FBQ0QsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDckQsSUFBSSxHQUFHLEdBQUcsRUFBRSxFQUFFO1lBQ1YsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNULE9BQU8sS0FBSyxHQUFHLEVBQUUsQ0FBQzthQUNyQjtZQUVELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNwRCxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQztZQUNyQyxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLE1BQU0sR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDL0csT0FBTyxNQUFNLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUM1QzthQUFNO1lBQ0gsSUFBSSxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3JDLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1NBQ3RDO0lBQ0wsQ0FBQztJQUVjLHVCQUFXLEdBQTFCLFVBQTJCLEtBQUs7UUFDNUIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1osT0FBTyxLQUFLLElBQUksRUFBRSxFQUFFO1lBQ2hCLEdBQUcsRUFBRSxDQUFDO1lBQ04sS0FBSyxJQUFJLEVBQUUsQ0FBQztTQUNmO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRWMsbUJBQU8sR0FBdEIsVUFBdUIsR0FBVztRQUM5QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDcEQsSUFBSSxHQUFHLEdBQUcsRUFBRSxFQUFFO1lBQ1YsT0FBTyxXQUFXLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3RDO2FBQU07WUFDSCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDcEQsT0FBTyxHQUFHLEdBQUcsTUFBTSxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUM7U0FDOUM7SUFDTCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLDJCQUFlLEdBQXRCLFVBQXVCLE1BQVcsRUFBRSxRQUFvQjtRQUFwQix5QkFBQSxFQUFBLFlBQW9CO1FBQ3BELElBQUksR0FBVyxDQUFDO1FBQ2hCLElBQUksR0FBVyxDQUFDO1FBQ2hCLE1BQU0sR0FBZ0IsTUFBTSxDQUFDO1FBRTdCLElBQUksTUFBTSxJQUFJLE9BQU8sRUFBRTtZQUNuQixHQUFHLEdBQUcsTUFBTSxHQUFHLE9BQU8sQ0FBQztZQUN2QixHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDMUQsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQzNDO2FBQU0sSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO1lBQ3ZCLEdBQUcsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ3BCLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMxRCxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7U0FDM0M7YUFBTTtZQUNILE9BQU8sTUFBTSxHQUFHLEVBQUUsQ0FBQztTQUN0QjtJQUNMLENBQUM7SUFFTSw0QkFBZ0IsR0FBdkIsVUFBd0IsQ0FBUztRQUM3QixJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUU7WUFDdEIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRTtnQkFDdkIsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ3ZDO2lCQUFNLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUU7Z0JBQzdCLE9BQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQzthQUN2QztTQUNKO1FBRUQsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRU0sbUJBQU8sR0FBZCxVQUFlLENBQVMsRUFBRSxNQUFjO1FBQ3BDLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFTSw2QkFBaUIsR0FBeEIsVUFBeUIsS0FBZSxFQUFDLEtBQVk7UUFDakQsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2IsR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUN6QixNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUU7WUFDakMsWUFBWSxFQUFDLElBQUk7WUFDakIsVUFBVSxFQUFDLElBQUk7WUFDZixHQUFHO2dCQUNDLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQztZQUN4QixDQUFDO1lBQ0QsR0FBRyxZQUFDLEdBQUc7Z0JBQ0gsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7Z0JBQ3hDLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO2dCQUNuQixLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDakMsSUFBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLEVBQUU7b0JBQ3pCLEtBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDO29CQUNqRCxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ3BDLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO2lCQUN0QjtZQUNMLENBQUM7U0FDSixDQUFDLENBQUM7UUFDSCxPQUFpQixHQUFHLENBQUM7SUFDekIsQ0FBQztJQUVhLHlCQUFhLEdBQTNCLFVBQTRCLElBQVksRUFBRSxPQUFZO1FBQVosd0JBQUEsRUFBQSxZQUFZO1FBQ2xELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDdEIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sRUFBRTtZQUNoQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztTQUM3QztRQUNELElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxHQUFHLEVBQUU7WUFDcEIsSUFBSSxHQUFHLElBQUksR0FBRyxLQUFLLENBQUE7U0FDdEI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRWMsa0JBQU0sR0FBckIsVUFBc0IsR0FBRztRQUNyQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDWixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNuQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLFFBQVE7WUFDUixJQUFJLENBQUMsQ0FBQyxJQUFJLE1BQU0sSUFBSSxDQUFDLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNLENBQUMsRUFBRTtnQkFDaEUsR0FBRyxFQUFFLENBQUM7YUFDUDtpQkFBTTtnQkFDTCxHQUFHLElBQUksQ0FBQyxDQUFDO2FBQ1Y7U0FDRjtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELFdBQVc7SUFDRyxzQkFBVSxHQUF4QixVQUF5QixHQUFVO1FBQy9CLElBQUksS0FBSyxHQUFHLFVBQUMsQ0FBUyxFQUFFLENBQVM7WUFDN0IsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUNqQixDQUFDLENBQUE7UUFDRCxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ3JCLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDckIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoRCxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsR0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkI7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCx5REFBeUQ7SUFDM0Msd0JBQVksR0FBMUIsVUFBMkIsR0FBYSxFQUFFLE1BQWMsRUFBRSxRQUFnQjtRQUFoQix5QkFBQSxFQUFBLGdCQUFnQjtRQUN0RSxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDO1FBQ2xDLE9BQU0sR0FBRyxHQUFDLEtBQUssR0FBRyxDQUFDLEVBQUM7WUFDaEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN4QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ25CLEdBQUcsR0FBRyxHQUFHLENBQUM7YUFDYjtpQkFBTSxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3ZCLEtBQUssR0FBRyxHQUFHLENBQUE7YUFDakI7aUJBQU07Z0JBQ0gsT0FBTyxHQUFHLENBQUM7YUFDZDtTQUNKO1FBQ0QsV0FBVztRQUNYLElBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDVixJQUFHLEdBQUcsSUFBSSxDQUFDO2dCQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDdkIsT0FBTyxLQUFLLENBQUM7U0FDaEI7YUFBSztZQUNGLElBQUcsS0FBSyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUMsQ0FBQztnQkFBRSxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDNUMsT0FBTyxHQUFHLENBQUM7U0FDZDtJQUNMLENBQUM7SUFFRCxlQUFlO0lBQ0Qsd0JBQVksR0FBMUIsVUFBMkIsS0FBYyxFQUFFLElBQWEsRUFBRSxJQUFhLEVBQUUsSUFBYTtRQUNsRixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlHLFlBQVk7UUFDWixPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3hJLENBQUM7SUFFYSx1QkFBVyxHQUF6QixVQUEwQixVQUFtQixFQUFFLGFBQXdCO1FBQ25FLElBQUksT0FBTyxHQUFHLENBQUMsRUFBRSxDQUFTLEVBQUUsT0FBZSxDQUFDO1FBQzVDLElBQUksRUFBVyxFQUFFLEVBQVcsQ0FBQztRQUM3QixJQUFJLFVBQVUsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDO1FBQ3RDLEVBQUUsR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFdEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDOUIsRUFBRSxHQUFHLGFBQWEsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUM7WUFDbkMsSUFDSSxVQUFVLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNuQyxVQUFVLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQ3RDO2dCQUNFLElBQUksVUFBVSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUN0QyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRTt3QkFDZCxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFDdkUsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksVUFBVSxDQUFDLENBQUMsSUFBSSxPQUFPLEVBQUU7NEJBQ3pDLE9BQU8sRUFBRSxDQUFDO3lCQUNiO3FCQUNKO2lCQUNKO2FBQ0o7WUFDRCxFQUFFLEdBQUcsRUFBRSxDQUFDO1NBQ1g7UUFDRCxPQUFPLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRUQsV0FBVztJQUNHLHlCQUFhLEdBQTNCLFVBQTRCLE1BQWlCO1FBQ3pDLElBQUcsTUFBTSxDQUFDLE1BQU0sSUFBSSxDQUFDO1lBQUUsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBSSxRQUFRLEdBQTRCLEVBQUUsQ0FBQyxDQUFLLGVBQWU7UUFDL0QsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDL0IsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xCLFFBQVEsQ0FBSSxDQUFDLENBQUMsQ0FBQyxTQUFJLENBQUMsQ0FBQyxDQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDakM7UUFDRCxJQUFNLE1BQU0sR0FBRyxVQUFDLENBQVU7WUFDdEIsT0FBTyxRQUFRLENBQUksQ0FBQyxDQUFDLENBQUMsU0FBSSxDQUFDLENBQUMsQ0FBRyxDQUFDLENBQUE7UUFDcEMsQ0FBQyxDQUFBO1FBQ0QsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDM0IsSUFBSSxJQUFJLEdBQWEsRUFBRSxDQUFDO1FBRXhCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLE9BQU0sTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDckIsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUN0QyxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsS0FBSyxHQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFDdEMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDekMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUUzQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3BCLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDcEIsSUFBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFPLGVBQWU7Z0JBQ3ZDLEtBQUssR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQyxTQUFTO2FBQ1o7WUFDRCxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDckIsS0FBZSxVQUFNLEVBQU4saUJBQU0sRUFBTixvQkFBTSxFQUFOLElBQU0sRUFBRTtnQkFBbkIsSUFBTSxDQUFDLGVBQUE7Z0JBQ1AsSUFBRyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFO29CQUNsRSxRQUFRLEdBQUcsSUFBSSxDQUFDO29CQUNoQixNQUFNO2lCQUNUO2FBQ0o7WUFDRCxJQUFHLFFBQVEsRUFBRSxFQUFPLG9CQUFvQjtnQkFDcEMsS0FBSyxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BDLFNBQVM7YUFDWjtZQUNELFlBQVk7WUFDWixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDOUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDaEM7UUFDRCxLQUFlLFVBQU0sRUFBTixpQkFBTSxFQUFOLG9CQUFNLEVBQU4sSUFBTSxFQUFFO1lBQW5CLElBQU0sQ0FBQyxlQUFBO1lBQ1AsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxtQkFBbUI7SUFDTCxxQkFBUyxHQUF2QixVQUF3QixNQUFpQixFQUFFLEtBQWEsRUFBRSxNQUFjO1FBQ3BFLElBQUksR0FBRyxHQUFjLEVBQUUsQ0FBQztRQUN4QixLQUFlLFVBQU0sRUFBTixpQkFBTSxFQUFOLG9CQUFNLEVBQU4sSUFBTSxFQUFFO1lBQW5CLElBQU0sQ0FBQyxlQUFBO1lBQ1AsV0FBVztZQUNYLElBQUksQ0FBQyxHQUFHLHNCQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztZQUN2RCxJQUFJLENBQUMsR0FBRyxzQkFBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO1lBQzlELEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN6QjtRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVhLHNCQUFVLEdBQXhCLFVBQXlCLElBQVksRUFBRSxFQUFVLEVBQUUsUUFBZ0IsRUFBRSxRQUE2QixFQUFFLFVBQXFCLEVBQUUsU0FBeUI7UUFBekIsMEJBQUEsRUFBQSxnQkFBeUI7UUFDaEosSUFBSSxDQUFDLEdBQTJCLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDO1FBQ2pELE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRTtZQUM5QixHQUFHLEVBQUUsY0FBTSxPQUFBLENBQUMsQ0FBQyxNQUFNLEVBQVIsQ0FBUTtZQUNuQixHQUFHLEVBQUUsVUFBQyxDQUFTLElBQU8sQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEUsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JFLElBQUksU0FBUyxFQUFFO1lBQ1gsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2pCO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVhLHFCQUFTLEdBQXZCLFVBQXdCLElBQWEsRUFBRSxFQUFXLEVBQUUsUUFBZ0IsRUFBRSxRQUE4QixFQUFFLFVBQXFCLEVBQUUsU0FBeUI7UUFBekIsMEJBQUEsRUFBQSxnQkFBeUI7UUFDbEosSUFBSSxDQUFDLEdBQTRCLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBQyxDQUFDO1FBQ2hELE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRTtZQUM5QixHQUFHLEVBQUUsY0FBTSxPQUFBLENBQUMsQ0FBQyxNQUFNLEVBQVIsQ0FBUTtZQUNuQixHQUFHLEVBQUUsVUFBQyxDQUFVLElBQU8sQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDekUsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JFLElBQUksU0FBUyxFQUFFO1lBQ1gsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2pCO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQWpTTSxtQkFBTyxHQUFrQixDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzdDLG9CQUFRLEdBQVcsQ0FBQyxDQUFDO0lBb1NoQyxrQkFBQztDQXhqQkQsQUF3akJDLElBQUE7QUF4akJZLGtDQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvY29zSGVscGVyIGZyb20gXCIuLi8uLi9VSUZyYW1lL0NvY29zSGVscGVyXCI7XG5pbXBvcnQgeyBNYXRoVXRpbHMgfSBmcm9tIFwiLi9NYXRjaFV0aWxzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHlwZUNvbnN0cnVjdG9yPFQ+IHtcbiAgICBuZXcoKTpUO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElSYW5kb21HZW5lcmF0b3Ige1xuICAgIG5leHRJbnQoc3RhcnQ6bnVtYmVyLCBlbmRBbmROb3RJbmNsdWRlZDpudW1iZXIpIDogbnVtYmVyO1xuICAgIG5leHQwMSgpOm51bWJlcjtcbn1cblxubGV0IGtEZWZhdWx0UmFuZG9tR2VuZXJhdG9yID0ge1xuICAgIG5leHRJbnQoc3RhcnQ6bnVtYmVyLCBlbmRBbmROb3RJbmNsdWRlZDpudW1iZXIpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChlbmRBbmROb3RJbmNsdWRlZCAtIHN0YXJ0KSkgKyBzdGFydDtcbiAgICB9LFxuICAgIG5leHQwMSgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNsYXNzIENvbW1vblV0aWxzIHtcbiAgICBwdWJsaWMgc3RhdGljIGlzQXJyYXkodGFyZ2V0OmFueSkgOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRhcmdldCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0YXJnZXQpID09PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZvcmFtdERhdGUoZGF0ZU9iajpEYXRlLCBmb3JtYXQ6c3RyaW5nKSB7XG4gICAgICAgIHZhciBkYXRlIDogYW55ID0ge1xuICAgICAgICAgICAgXCJNK1wiOiBkYXRlT2JqLmdldE1vbnRoKCkgKyAxLFxuICAgICAgICAgICAgXCJkK1wiOiBkYXRlT2JqLmdldERhdGUoKSxcbiAgICAgICAgICAgIFwiaCtcIjogZGF0ZU9iai5nZXRIb3VycygpLFxuICAgICAgICAgICAgXCJtK1wiOiBkYXRlT2JqLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICAgIFwicytcIjogZGF0ZU9iai5nZXRTZWNvbmRzKCksXG4gICAgICAgICAgICBcInErXCI6IE1hdGguZmxvb3IoKGRhdGVPYmouZ2V0TW9udGgoKSArIDMpIC8gMyksXG4gICAgICAgICAgICBcIlMrXCI6IGRhdGVPYmouZ2V0TWlsbGlzZWNvbmRzKClcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKC8oeSspL2kudGVzdChmb3JtYXQpKSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShSZWdFeHAuJDEsIChkYXRlT2JqLmdldEZ1bGxZZWFyKCkgKyAnJykuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgayBpbiBkYXRlKSB7XG4gICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChcIihcIiArIGsgKyBcIilcIikudGVzdChmb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFwiMDBcIiArIGRhdGVba10pLnN1YnN0cigoXCJcIiArIGRhdGVba10pLmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRFbGVtQ2xhbXBlZDxUPihhcnI6VFtdLCBpbmRleDpudW1iZXIpIDogVCB7XG4gICAgICAgIHJldHVybiBhcnJbTWF0aC5tYXgoMCwgTWF0aC5taW4oYXJyLmxlbmd0aCAtIDEsIGluZGV4KSldO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgcmFuZG9tSW50Q2xvc2VkUmFuZ2UobWluOm51bWJlciwgbWF4Om51bWJlcikgOiBudW1iZXIgeyAgICAgICAgICAgIC8vcmFuZG9tIGludGVnZXIgaW4gW21pbixtYXhdXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMC45OTk5KSArIG1pbik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpbmRleE9mPFQ+KHZhbDpULCBhcnI6VFtdKSA6IG51bWJlciB7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmKGFycltpXSA9PSB2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpbmRleE9mQXJyPFQ+KGFycjpUW10sIC4uLnZhbHVlczpUW10pIDogbnVtYmVyIHtcbiAgICAgICAgbGV0IHBhcmFtQ291bnQgPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8PSBhcnIubGVuZ3RoIC0gcGFyYW1Db3VudDsgaSs9cGFyYW1Db3VudCkge1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHBhcmFtQ291bnQ7IGorKykge1xuICAgICAgICAgICAgICAgIGlmKGFycltpICsgal0gIT09IHZhbHVlc1tqXSkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihmb3VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZsb2F0RXF1YWwobGVmdDpudW1iZXIsIHJpZ2h0Om51bWJlciwgZXBzaWxvbjpudW1iZXIgPSAwLjAwMDAwMSkgOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGxlZnQgLSByaWdodCkgPCBlcHNpbG9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZm9ybWF0VGltZUludGVydmFsKHNlY29uZHM6bnVtYmVyLCBhbHdheXNTaG93TWludXRlczpib29sZWFuID0gZmFsc2UsIGFsd2F5c1Nob3dIb3Vyczpib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgYWx3YXlzU2hvd01pbnV0ZXMgPSBhbHdheXNTaG93SG91cnMgfHwgYWx3YXlzU2hvd01pbnV0ZXM7XG4gICAgICAgIGxldCByZXQgPSBcIlwiO1xuICAgICAgICBsZXQgaG91ciA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuICAgICAgICBzZWNvbmRzID0gc2Vjb25kcyAlIDM2MDA7XG4gICAgICAgIGxldCBtaW51dGUgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgICAgIHNlY29uZHMgPSBNYXRoLmZsb29yKHNlY29uZHMgJSA2MCk7XG4gICAgICAgIGlmKGFsd2F5c1Nob3dIb3VycyB8fCBob3VyID4gMCkge1xuICAgICAgICAgICAgaWYoaG91ciA8IDEwKSB7XG4gICAgICAgICAgICAgICAgcmV0ICs9IFwiMFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0ICs9IGhvdXIgKyBcIjpcIjtcbiAgICAgICAgfVxuICAgICAgICBpZihhbHdheXNTaG93TWludXRlcyB8fCBtaW51dGUgPiAwIHx8IGhvdXIgPiAwKSB7XG4gICAgICAgICAgICBpZihtaW51dGUgPCAxMCkge1xuICAgICAgICAgICAgICAgIHJldCArPSBcIjBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldCArPSBtaW51dGUgKyBcIjpcIjtcbiAgICAgICAgfVxuICAgICAgICBpZihzZWNvbmRzIDwgMTApIHtcbiAgICAgICAgICAgIHJldCArPSBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICByZXQgKz0gc2Vjb25kcztcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGFsaWduTnVtYmVyKGlucHV0Om51bWJlciwgZGl2aWRlcjpudW1iZXIpIDogbnVtYmVyIHtcbiAgICAgICAgaW5wdXQgPSBpbnB1dCAtIE1hdGguZmxvb3IoaW5wdXQgLyBkaXZpZGVyKSAqIGRpdmlkZXI7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZvcm1hdE51bWJlcihudW06bnVtYmVyKSB7XG4gICAgICAgIHZhciBzdHIgPSBcIlwiICsgTWF0aC5mbG9vcihudW0pO1xuICAgICAgICB2YXIgbmV3U3RyID0gXCJcIjtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgLy8g5b2T5pWw5a2X5piv5pW05pWwXG4gICAgICAgIGlmIChzdHIuaW5kZXhPZihcIi5cIikgPT0gLTEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdHIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgJSAzID09IDAgJiYgY291bnQgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdHIgPSBzdHIuY2hhckF0KGkpICsgXCIsXCIgKyBuZXdTdHI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RyID0gc3RyLmNoYXJBdChpKSArIG5ld1N0cjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ciA9IG5ld1N0cjtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cbiAgICAgICAgLy8g5b2T5pWw5a2X5bim5pyJ5bCP5pWwXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0ci5pbmRleE9mKFwiLlwiKSAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ICUgMyA9PSAwICYmIGNvdW50ICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RyID0gc3RyLmNoYXJBdChpKSArIFwiLFwiICsgbmV3U3RyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N0ciA9IHN0ci5jaGFyQXQoaSkgKyBuZXdTdHI7IC8v6YCQ5Liq5a2X56ym55u45o6l6LW35p2lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHIgPSBuZXdTdHIgKyAoc3RyICsgXCIwMFwiKS5zdWJzdHIoKHN0ciArIFwiMDBcIikuaW5kZXhPZihcIi5cIiksIDMpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdXBkYXRlTGFiZWxTaXplKGxhYmVsOmNjLkxhYmVsKSB7XG4gICAgICAgIGxhYmVsW1wiX3VwZGF0ZVJlbmRlckRhdGFcIl0odHJ1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBsZXJwKGJlZ2luOm51bWJlciwgZW5kOm51bWJlciwgZmFjdG9yOm51bWJlcikge1xuICAgICAgICByZXR1cm4gYmVnaW4gKyAoZW5kIC0gYmVnaW4pICogZmFjdG9yO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgc2h1ZmZsZShjb250YWluZXI6YW55W10sIHJhbmRHZW5lcmF0b3I6SVJhbmRvbUdlbmVyYXRvciA9IGtEZWZhdWx0UmFuZG9tR2VuZXJhdG9yLCBzdGFydDpudW1iZXIgPSAwLCBjb3VudDpudW1iZXIgPSAtMSk6dm9pZCB7XG4gICAgICAgIHJhbmRHZW5lcmF0b3IgPSByYW5kR2VuZXJhdG9yIHx8IGtEZWZhdWx0UmFuZG9tR2VuZXJhdG9yO1xuICAgICAgICBpZihjb3VudCA8IDApIHtcbiAgICAgICAgICAgIGNvdW50ID0gY29udGFpbmVyLmxlbmd0aCAtIHN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gcmFuZEdlbmVyYXRvci5uZXh0SW50KHN0YXJ0LCBzdGFydCArIGNvdW50IC0gaSk7XG4gICAgICAgICAgICBsZXQgdGVtcCA9IGNvbnRhaW5lcltpZHhdO1xuICAgICAgICAgICAgY29udGFpbmVyW2lkeF0gPSBjb250YWluZXJbY291bnQgLSBpIC0gMSArIHN0YXJ0XTtcbiAgICAgICAgICAgIGNvbnRhaW5lcltjb3VudCAtIGkgLSAxICsgc3RhcnRdID0gdGVtcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgc2V0SXRlbVNwcml0ZUZyYW1lKHNwcml0ZTpjYy5TcHJpdGUsIHVybDpzdHJpbmcsIHN1Y2Nlc3NDQjooc3ByaXRlOmNjLlNwcml0ZSk9PnZvaWQgPSBudWxsKSB7XG4gICAgICAgIHNwcml0ZVtcInNwcml0ZUZyYW1lTmFtZVwiXSA9IHVybDtcbiAgICAgICAgQ29jb3NIZWxwZXIubG9hZFJlc1N5bmModXJsLCBjYy5TcHJpdGVGcmFtZSkudGhlbigoc3ByaXRlRnJhbWU6Y2MuU3ByaXRlRnJhbWUpPT57XG4gICAgICAgICAgICBpZihzcHJpdGUuaXNWYWxpZCAmJiBzcHJpdGVbXCJzcHJpdGVGcmFtZU5hbWVcIl0gPT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgc3ByaXRlLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XG4gICAgICAgICAgICAgICAgaWYoc3VjY2Vzc0NCKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDQihzcHJpdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBhZGRTaW1wbGVDbGljayh0YXJnZXQ6Y2MuTm9kZSwgY2I6KCk9PnZvaWQpIHtcbiAgICAgICAgbGV0IHRhcmdldE5vZGUgPSB0YXJnZXQ7XG4gICAgICAgIGxldCBsYXN0VG91Y2hQb3MgOiBjYy5WZWMyID0gbnVsbDtcbiAgICAgICAgdGFyZ2V0Tm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgKGU6Y2MuRXZlbnQuRXZlbnRUb3VjaCk9PntcbiAgICAgICAgICAgIGxhc3RUb3VjaFBvcyA9IGUuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHRhcmdldE5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCAoZTpjYy5FdmVudC5FdmVudFRvdWNoKT0+e1xuICAgICAgICAgICAgaWYobGFzdFRvdWNoUG9zKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gbGFzdFRvdWNoUG9zLnN1YlNlbGYoZS5nZXRMb2NhdGlvbigpKS5tYWcoKTtcbiAgICAgICAgICAgICAgICBpZihkZWx0YSA8IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNHb29kTnVtYmVyKG51bTphbnkpIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgbnVtKSA9PT0gXCJudW1iZXJcIiAmJiAhTnVtYmVyLmlzTmFOKG51bSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRWaXNpYmxlUmVjdCgpIHtcbiAgICAgICAgbGV0IHZpc2libGVSZWN0ID0gY2Mudmlldy5nZXRWaWV3cG9ydFJlY3QoKTtcbiAgICAgICAgdmlzaWJsZVJlY3QgPSBjYy5yZWN0KHZpc2libGVSZWN0Lm9yaWdpbi54IC8gLWNjLnZpZXcuZ2V0U2NhbGVYKCksIHZpc2libGVSZWN0Lm9yaWdpbi55IC8gLWNjLnZpZXcuZ2V0U2NhbGVZKCksIFxuICAgICAgICAodmlzaWJsZVJlY3Quc2l6ZS53aWR0aCArIHZpc2libGVSZWN0Lm9yaWdpbi54ICogMikgLyBjYy52aWV3LmdldFNjYWxlWCgpLCAodmlzaWJsZVJlY3Quc2l6ZS5oZWlnaHQgKyB2aXNpYmxlUmVjdC5vcmlnaW4ueSAqIDIpIC8gY2Mudmlldy5nZXRTY2FsZVkoKSk7XG4gICAgICAgIHJldHVybiB2aXNpYmxlUmVjdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGh0dHBHZXQodXJsOnN0cmluZywgY2I6IEZ1bmN0aW9uKSB7XG4gICAgICAgIGxldCB4aHIgPSBjYy5sb2FkZXIuZ2V0WE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGNjLmxvZyhcIkdldDogcmVhZHlTdGF0ZTpcIiArIHhoci5yZWFkeVN0YXRlICsgXCIgc3RhdHVzOlwiICsgeGhyLnN0YXR1cyk7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgeGhyLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uZSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgbGV0IHJzcCA9IEpTT04ucGFyc2UocmVzcG9uZSk7XG4gICAgICAgICAgICAgICAgY2IocnNwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgeGhyLnN0YXR1cyA9PSA0MDEpIHtcbiAgICAgICAgICAgICAgICBjYih7XCJyZXRcIjoxfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vY2FsbGJhY2soLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcbiAgICAgICAgLy8gaWYgKGNjLnN5cy5pc05hdGl2ZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NUJyk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ3gtcmVxdWVzdGVkLXdpdGgsY29udGVudC10eXBlLGF1dGhvcml6YXRpb24nKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICAvL3hoci5zZXRSZXF1ZXN0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgY2MubXlHYW1lLmdhbWVNYW5hZ2VyLmdldFRva2VuKCkpO1xuICAgICAgICAvLyB4aHIuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsICdCZWFyZXIgJyArIFwiXCIpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gbm90ZTogSW4gSW50ZXJuZXQgRXhwbG9yZXIsIHRoZSB0aW1lb3V0IHByb3BlcnR5IG1heSBiZSBzZXQgb25seSBhZnRlciBjYWxsaW5nIHRoZSBvcGVuKClcbiAgICAgICAgLy8gbWV0aG9kIGFuZCBiZWZvcmUgY2FsbGluZyB0aGUgc2VuZCgpIG1ldGhvZC5cbiAgICAgICAgeGhyLnRpbWVvdXQgPSA4MDAwOy8vIDggc2Vjb25kcyBmb3IgdGltZW91dFxuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQm94LU11bGxlciBhbGdvcml0aG1cbiAgICAgKiBAcGFyYW0gYXZnIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcmFuZG9tR2F1c3NpYW4oYXZnOm51bWJlciwgdmFyaWFudDpudW1iZXIsIHJhbmRHZW5lcmF0b3I6SVJhbmRvbUdlbmVyYXRvciA9IGtEZWZhdWx0UmFuZG9tR2VuZXJhdG9yKSA6IG51bWJlciB7XG4gICAgICAgIHJhbmRHZW5lcmF0b3IgPSByYW5kR2VuZXJhdG9yIHx8IGtEZWZhdWx0UmFuZG9tR2VuZXJhdG9yO1xuICAgICAgICBsZXQgeDEgPSByYW5kR2VuZXJhdG9yLm5leHQwMSgpO1xuICAgICAgICBsZXQgeDIgPSByYW5kR2VuZXJhdG9yLm5leHQwMSgpO1xuICAgICAgICBsZXQgc3RhbmRhcmQgPSBNYXRoLnNxcnQoLTIgKiBNYXRoLmxvZyh4MSkpICogTWF0aC5jb3MoMiAqIE1hdGguUEkgKiB4Mik7XG4gICAgICAgIHJldHVybiBzdGFuZGFyZCAqIHZhcmlhbnQgKyBhdmc7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBkZWVwQ29weShkc3Q6T2JqZWN0LCBzcmM6T2JqZWN0KSB7XG4gICAgICAgIGZvcihsZXQgZmllbGQgaW4gc3JjKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWVwQ29weUZpZWxkcyhkc3QsIHNyYywgZmllbGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBjb25zdHJ1Y3RPYmplY3RNYXAob2JqOiBhbnkpOiBNYXA8c3RyaW5nLCBhbnk+IHtcbiAgICAgICAgbGV0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBsZXQgdmFsID0gb2JqW2tleV1cbiAgICAgICAgICAgIGlmKHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0KGtleSwgdGhpcy5jb25zdHJ1Y3RPYmplY3RNYXAodmFsKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hcC5zZXQoa2V5LCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfZGVlcENvcHlGaWVsZHMoZHN0Ok9iamVjdCwgc3JjOk9iamVjdCwgZmllbGQ6YW55KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHNyY1tmaWVsZF07XG4gICAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBkc3RbZmllbGRdID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmlzQXJyYXlbdmFsdWVdKSB7XG4gICAgICAgICAgICBsZXQgZHN0QXJyID0gZHN0W2ZpZWxkXSA9IFtdO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVlcENvcHlGaWVsZHMoZHN0QXJyLCB2YWx1ZSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZih2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBkc3RbZmllbGRdID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmKHR5cGVvZiB2YWx1ZSA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBsZXQgZHN0T2JqID0gbmV3IHZhbHVlLmNvbnN0cnVjdG9yKCk7XG4gICAgICAgICAgICBmb3IobGV0IGZpZWxkIGluIHNyYykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZXBDb3B5RmllbGRzKGRzdE9iaiwgdmFsdWUsIGZpZWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB1bml0QXJyOiBBcnJheTxzdHJpbmc+ID0gW1wiXCIsIFwiS1wiLCBcIk1cIiwgXCJCXCJdO1xuICAgIHN0YXRpYyBjb25zdE51bTogbnVtYmVyID0gMztcblxuICAgIC8qKlxuICAgICAqIOagvOW8j+WMluaVsOWtl+WPmOaIkEssTSxCXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqL1xuICAgIHN0YXRpYyBmb3JtYXROdW1iZXJUb0VuZyh2YWx1ZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgMSAmJiB2YWx1ZSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiAxICsgXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpO1xuICAgICAgICB2YXIgZXhwID0gTWF0aC5mbG9vcihDb21tb25VdGlscy5nZXRFeHBvbmVudCh2YWx1ZSkpO1xuICAgICAgICBpZiAoZXhwIDwgMTMpIHtcbiAgICAgICAgICAgIGlmIChleHAgPCA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgXCJcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHVuaXRJdCA9IE1hdGguZmxvb3IoZXhwIC8gQ29tbW9uVXRpbHMuY29uc3ROdW0pO1xuICAgICAgICAgICAgdmFyIHJlbSA9IGV4cCAlIENvbW1vblV0aWxzLmNvbnN0TnVtO1xuICAgICAgICAgICAgdmFyIG51bVN0ciA9IFN0cmluZyh2YWx1ZSAvIE1hdGgucG93KDEwLCB1bml0SXQgKiBDb21tb25VdGlscy5jb25zdE51bSkpLnN1YnN0cigwLCBDb21tb25VdGlscy5jb25zdE51bSArIHJlbSk7XG4gICAgICAgICAgICByZXR1cm4gbnVtU3RyICsgQ29tbW9uVXRpbHMuZ2V0VW5pdChleHApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIF9udW0gPSB2YWx1ZSAvIE1hdGgucG93KDEwLCBleHApO1xuICAgICAgICAgICAgcmV0dXJuIF9udW0udG9GaXhlZCgzKSArIFwiZVwiICsgZXhwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0RXhwb25lbnQodmFsdWUpIHtcbiAgICAgICAgdmFyIGV4cCA9IDA7XG4gICAgICAgIHdoaWxlICh2YWx1ZSA+PSAxMCkge1xuICAgICAgICAgICAgZXhwKys7XG4gICAgICAgICAgICB2YWx1ZSAvPSAxMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXhwO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldFVuaXQoZXhwOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICB2YXIgdW5pdEl0ID0gTWF0aC5mbG9vcihleHAgLyBDb21tb25VdGlscy5jb25zdE51bSk7XG4gICAgICAgIGlmIChleHAgPCAxMykge1xuICAgICAgICAgICAgcmV0dXJuIENvbW1vblV0aWxzLnVuaXRBcnJbdW5pdEl0XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB1bml0SXQgPSBNYXRoLmZsb29yKGV4cCAvIENvbW1vblV0aWxzLmNvbnN0TnVtKTtcbiAgICAgICAgICAgIHJldHVybiBcImVcIiArIHVuaXRJdCAqIENvbW1vblV0aWxzLmNvbnN0TnVtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6L2s5YyW5oiQ5bim5pyJ5bCP5pWw54K555qESyxNLEJcbiAgICAgKiBAcGFyYW0gbnVtYmVyIFxuICAgICAqIEBwYXJhbSBkZWNpbWFscyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZm9ybWF0RW5nTnVtYmVyKG51bWJlcjogYW55LCBkZWNpbWFsczogbnVtYmVyID0gMik6IHN0cmluZyB7XG4gICAgICAgIHZhciBzdHI6IHN0cmluZztcbiAgICAgICAgdmFyIG51bTogbnVtYmVyO1xuICAgICAgICBudW1iZXIgPSA8bnVtYmVyPjxhbnk+bnVtYmVyO1xuXG4gICAgICAgIGlmIChudW1iZXIgPj0gMTAwMDAwMCkge1xuICAgICAgICAgICAgbnVtID0gbnVtYmVyIC8gMTAwMDAwMDtcbiAgICAgICAgICAgIHN0ciA9IChNYXRoLmZsb29yKG51bSAvIDAuMDAxKSAqIDAuMDAxKS50b0ZpeGVkKGRlY2ltYWxzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdEVuZGluZ1plcm8oc3RyKSArIFwiTVwiO1xuICAgICAgICB9IGVsc2UgaWYgKG51bWJlciA+PSAxMDAwKSB7XG4gICAgICAgICAgICBudW0gPSBudW1iZXIgLyAxMDAwO1xuICAgICAgICAgICAgc3RyID0gKE1hdGguZmxvb3IobnVtIC8gMC4wMDEpICogMC4wMDEpLnRvRml4ZWQoZGVjaW1hbHMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0RW5kaW5nWmVybyhzdHIpICsgXCJLXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBmb3JtYXRFbmRpbmdaZXJvKGM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmIChjLmluZGV4T2YoXCIuXCIpICE9IC0xKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbmRXaXRoKGMsIFwiMDBcIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcoMCwgYy5sZW5ndGggLSAzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbmRXaXRoKGMsIFwiMFwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjLnN1YnN0cmluZygwLCBjLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgc3RhdGljIGVuZFdpdGgoYzogc3RyaW5nLCBzdWZmaXg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHN1ZmZpeCA9PSBjLnN1YnN0cmluZyhjLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWFrZU1heFdpZHRoTGFiZWwobGFiZWw6IGNjLkxhYmVsLHdpZHRoOm51bWJlcikgOiBjYy5MYWJlbCB7XG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW1wiX19wcm90b19fXCJdID0gbGFiZWw7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFwic3RyaW5nXCIsIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTp0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTp0cnVlLFxuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbC5zdHJpbmc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KHN0cikge1xuICAgICAgICAgICAgICAgIGxhYmVsLm92ZXJmbG93ID0gY2MuTGFiZWwuT3ZlcmZsb3cuTk9ORTtcbiAgICAgICAgICAgICAgICBsYWJlbC5zdHJpbmcgPSBzdHI7XG4gICAgICAgICAgICAgICAgbGFiZWxbXCJfdXBkYXRlUmVuZGVyRGF0YVwiXSh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZihsYWJlbC5ub2RlLndpZHRoID4gd2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwub3ZlcmZsb3cgPSBjYy5MYWJlbC5PdmVyZmxvdy5SRVNJWkVfSEVJR0hUO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC5ub2RlLnNldENvbnRlbnRTaXplKHdpZHRoLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuc3RyaW5nID0gc3RyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiA8Y2MuTGFiZWw+b2JqO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgY2xpbWVVc2VyTmFtZShuYW1lOiBzdHJpbmcsIHNob3dMZW4gPSAxNCkge1xuICAgICAgICBsZXQgbGVuID0gbmFtZS5sZW5ndGg7XG4gICAgICAgIHdoaWxlICh0aGlzLnN0cmxlbihuYW1lKSA+IHNob3dMZW4pIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lLmxlbmd0aCAhPSBsZW4pIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lICsgXCIuLi5cIlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIHN0cmxlbihzdHIpIHtcbiAgICAgICAgbGV0IGxlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAvL+WNleWtl+iKguWKoDEgXG4gICAgICAgICAgaWYgKChjID49IDB4MDAwMSAmJiBjIDw9IDB4MDA3ZSkgfHwgKDB4ZmY2MCA8PSBjICYmIGMgPD0gMHhmZjlmKSkge1xuICAgICAgICAgICAgbGVuKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlbiArPSAyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVuO1xuICAgIH1cblxuICAgIC8qKiDmiZPkubHmlbDnu4QgKi9cbiAgICBwdWJsaWMgc3RhdGljIHNodWZmbGVBcnIoYXJyOiBhbnlbXSkge1xuICAgICAgICBsZXQgX3N3YXAgPSAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGxldCB0bXAgPSBhcnJbYV07XG4gICAgICAgICAgICBhcnJbYV0gPSBhcnJbYl07XG4gICAgICAgICAgICBhcnJbYl0gPSB0bXA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIGZvcihsZXQgaT0wOyBpPGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGxlbiAtIGkpKTtcbiAgICAgICAgICAgIF9zd2FwKGlkeCwgbGVuLWktMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG4gICAgXG4gICAgLyoqIOS6jOWIhuafpeaJviwgZmluZEZsYWcg5Li6ZmFsc2XooajnpLrmsqHmib7liLDnmoTml7blgJnov5Tlm57kuIDkuKrovoPlsI/nmoQsIOS4unRydWXov5Tlm57kuIDkuKrovoPlpKfnmoQgKi9cbiAgICBwdWJsaWMgc3RhdGljIGJpbmFyeVNlYXJjaChhcnI6IG51bWJlcltdLCB0YXJnZXQ6IG51bWJlciwgZmluZEZsYWcgPSBmYWxzZSkge1xuICAgICAgICBsZXQgc3RhcnQgPSAwLCBlbmQgPSBhcnIubGVuZ3RoLTE7XG4gICAgICAgIHdoaWxlKGVuZC1zdGFydCA+IDEpe1xuICAgICAgICAgICAgdmFyIGlkeCA9IE1hdGguZmxvb3IoKHN0YXJ0ICsgZW5kKSAvIDIpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA8IGFycltpZHhdKSB7XG4gICAgICAgICAgICAgICAgZW5kID0gaWR4O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgPiBhcnJbaWR4XSkge1xuICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gaWR4XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8g5rKh5pyJ5om+5Yiw5a+55bqU55qE5YC8XG4gICAgICAgIGlmKCFmaW5kRmxhZykge1xuICAgICAgICAgICAgaWYoZW5kID09IDApIHJldHVybiAtMTtcbiAgICAgICAgICAgIHJldHVybiBzdGFydDtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgaWYoc3RhcnQgPT0gYXJyLmxlbmd0aC0xKSByZXR1cm4gYXJyLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiBlbmQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDliKTmlq3kuIDkuKrngrnmmK/lkKblnKjkuInop5LlvaLlhoVcbiAgICBwdWJsaWMgc3RhdGljIGlzSW5UcmlhbmdsZShwb2ludDogY2MuVmVjMiwgdHJpQTogY2MuVmVjMiwgdHJpQjogY2MuVmVjMiwgdHJpQzogY2MuVmVjMikge1xuICAgICAgICBsZXQgQUIgPSB0cmlCLnN1Yih0cmlBKSwgQUMgPSB0cmlDLnN1Yih0cmlBKSwgQkMgPSB0cmlDLnN1Yih0cmlCKSwgQUQgPSBwb2ludC5zdWIodHJpQSksIEJEID0gcG9pbnQuc3ViKHRyaUIpO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIChBQi5jcm9zcyhBQykgPj0gMCBeIEFCLmNyb3NzKEFEKSA8IDApICAmJiAoQUIuY3Jvc3MoQUMpID49IDAgXiBBQy5jcm9zcyhBRCkgPj0gMCkgJiYgKEJDLmNyb3NzKEFCKSA+IDAgXiBCQy5jcm9zcyhCRCkgPj0gMCk7IFxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNJblBvbHlnb24oY2hlY2tQb2ludDogY2MuVmVjMiwgcG9seWdvblBvaW50czogY2MuVmVjMltdKSB7XG4gICAgICAgIGxldCBjb3VudGVyID0gMCwgaTogbnVtYmVyLCB4aW50ZXJzOiBudW1iZXI7XG4gICAgICAgIGxldCBwMTogY2MuVmVjMiwgcDI6IGNjLlZlYzI7XG4gICAgICAgIGxldCBwb2ludENvdW50ID0gcG9seWdvblBvaW50cy5sZW5ndGg7XG4gICAgICAgIHAxID0gcG9seWdvblBvaW50c1swXTtcbiAgICAgXG4gICAgICAgIGZvciAoaSA9IDE7IGkgPD0gcG9pbnRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBwMiA9IHBvbHlnb25Qb2ludHNbaSAlIHBvaW50Q291bnRdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGNoZWNrUG9pbnQueCA+IE1hdGgubWluKHAxLngsIHAyLngpICYmXG4gICAgICAgICAgICAgICAgY2hlY2tQb2ludC54IDw9IE1hdGgubWF4KHAxLngsIHAyLngpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tQb2ludC55IDw9IE1hdGgubWF4KHAxLnksIHAyLnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwMS54ICE9IHAyLngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHhpbnRlcnMgPSAoY2hlY2tQb2ludC54IC0gcDEueCkgKiAocDIueSAtIHAxLnkpIC8gKHAyLnggLSBwMS54KSArIHAxLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocDEueSA9PSBwMi55IHx8IGNoZWNrUG9pbnQueSA8PSB4aW50ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcDEgPSBwMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGNvdW50ZXIgJiAxKSAhPT0gMDtcbiAgICB9XG5cbiAgICAvLyDlpJrovrnlvaIg5LiJ6KeS5YiH5YmyXG4gICAgcHVibGljIHN0YXRpYyBzcGxpdGVQb2x5Z29uKHBvaW50czogY2MuVmVjMltdKTogbnVtYmVyW10ge1xuICAgICAgICBpZihwb2ludHMubGVuZ3RoIDw9IDMpIHJldHVybiBbMCwgMSwgMl07XG4gICAgICAgIGxldCBwb2ludE1hcDoge1trZXk6IHN0cmluZ106IG51bWJlcn0gPSB7fTsgICAgIC8vIHBvaW505LiOaWR455qE5pig5bCEXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHAgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBwb2ludE1hcFtgJHtwLnh9LSR7cC55fWBdID0gaTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBnZXRJZHggPSAocDogY2MuVmVjMikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50TWFwW2Ake3AueH0tJHtwLnl9YF1cbiAgICAgICAgfVxuICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KFtdKTtcbiAgICAgICAgbGV0IGlkeHM6IG51bWJlcltdID0gW107XG5cbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUocG9pbnRzLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgIGxldCBwMSA9IHBvaW50c1soaW5kZXgpICUgcG9pbnRzLmxlbmd0aF1cbiAgICAgICAgICAgICwgcDIgPSBwb2ludHNbKGluZGV4KzEpICUgcG9pbnRzLmxlbmd0aF1cbiAgICAgICAgICAgICwgcDMgPSBwb2ludHNbKGluZGV4KzIpICUgcG9pbnRzLmxlbmd0aF07XG4gICAgICAgICAgICBsZXQgc3BsaXRQb2ludCA9IChpbmRleCsxKSAlIHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGxldCB2MSA9IHAyLnN1YihwMSk7XG4gICAgICAgICAgICBsZXQgdjIgPSBwMy5zdWIocDIpO1xuICAgICAgICAgICAgaWYodjEuY3Jvc3ModjIpIDwgMCkgeyAgICAgIC8vIOaYr+S4gOS4quWHueinkiwg5a+75om+5LiL5LiA5LiqXG4gICAgICAgICAgICAgICAgaW5kZXggPSAoaW5kZXggKyAxKSAlIHBvaW50cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaGFzUG9pbnQgPSBmYWxzZTsgICAgICAgXG4gICAgICAgICAgICBmb3IoY29uc3QgcCBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgICAgICBpZihwICE9IHAxICYmIHAgIT0gcDIgJiYgcCAhPSBwMyAmJiB0aGlzLmlzSW5UcmlhbmdsZShwLCBwMSwgcDIgLHAzKSkge1xuICAgICAgICAgICAgICAgICAgICBoYXNQb2ludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGhhc1BvaW50KSB7ICAgICAgLy8g5b2T5YmN5LiJ6KeS5b2i5YyF5ZCr5YW25LuW54K5LCDlr7vmib7kuIvkuIDkuKpcbiAgICAgICAgICAgICAgICBpbmRleCA9IChpbmRleCArIDEpICUgcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIOaJvuWIsOS6huiAs+actSwg5YiH5o6JXG4gICAgICAgICAgICBpZHhzLnB1c2goZ2V0SWR4KHAxKSwgZ2V0SWR4KHAyKSwgZ2V0SWR4KHAzKSk7XG4gICAgICAgICAgICBwb2ludHMuc3BsaWNlKHNwbGl0UG9pbnQsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGZvcihjb25zdCBwIG9mIHBvaW50cykge1xuICAgICAgICAgICAgaWR4cy5wdXNoKGdldElkeChwKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkeHM7XG4gICAgfVxuXG4gICAgLyoqIOiuoeeul3V2LCDplJrngrnpg73mmK/kuK3lv4MgKi9cbiAgICBwdWJsaWMgc3RhdGljIGNvbXB1dGVVdihwb2ludHM6IGNjLlZlYzJbXSwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgbGV0IHV2czogY2MuVmVjMltdID0gW107XG4gICAgICAgIGZvcihjb25zdCBwIG9mIHBvaW50cykge1xuICAgICAgICAgICAgLy8gdXbljp/ngrnmmK/lt6bkuIrop5JcbiAgICAgICAgICAgIGxldCB4ID0gTWF0aFV0aWxzLmNsYW1wKDAsIDEsIChwLnggKyB3aWR0aC8yKSAvIHdpZHRoKTtcbiAgICAgICAgICAgIGxldCB5ID0gTWF0aFV0aWxzLmNsYW1wKDAsIDEsIDEuIC0gKHAueSArIGhlaWdodC8yKSAvIGhlaWdodCk7XG4gICAgICAgICAgICB1dnMucHVzaChjYy52Mih4LCB5KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV2cztcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHR3ZWVuRmxvYXQoZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyLCBvblVwZGF0ZTogKHQ6IG51bWJlcikgPT4gdm9pZCwgb25Db21wbGV0ZT86IEZ1bmN0aW9uLCBhdXRvU3RhcnQ6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIGxldCBvOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0geyBfdmFsdWU6IGZyb20gfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sICd2YWx1ZScsIHtcbiAgICAgICAgICAgIGdldDogKCkgPT4gby5fdmFsdWUsXG4gICAgICAgICAgICBzZXQ6ICh2OiBudW1iZXIpID0+IHsgby5fdmFsdWUgPSB2OyBvblVwZGF0ZSAmJiBvblVwZGF0ZShvLl92YWx1ZSk7IH0sXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdHdlZW4gPSBjYy50d2VlbihvKS50byhkdXJhdGlvbiwgeyB2YWx1ZTogdG8gfSkuY2FsbChvbkNvbXBsZXRlKTtcbiAgICAgICAgaWYgKGF1dG9TdGFydCkge1xuICAgICAgICAgICAgdHdlZW4uc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHdlZW47XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyB0d2VlblZlYzIoZnJvbTogY2MuVmVjMiwgdG86IGNjLlZlYzIsIGR1cmF0aW9uOiBudW1iZXIsIG9uVXBkYXRlOiAodDogY2MuVmVjMikgPT4gdm9pZCwgb25Db21wbGV0ZT86IEZ1bmN0aW9uLCBhdXRvU3RhcnQ6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIGxldCBvOiBSZWNvcmQ8c3RyaW5nLCBjYy5WZWMyPiA9IHtfdmFsdWU6IGZyb219O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgJ3ZhbHVlJywge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiBvLl92YWx1ZSxcbiAgICAgICAgICAgIHNldDogKHY6IGNjLlZlYzIpID0+IHsgby5fdmFsdWUgPSB2OyBvblVwZGF0ZSAmJiBvblVwZGF0ZShvLl92YWx1ZSk7IH0sXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdHdlZW4gPSBjYy50d2VlbihvKS50byhkdXJhdGlvbiwgeyB2YWx1ZTogdG8gfSkuY2FsbChvbkNvbXBsZXRlKTtcbiAgICAgICAgaWYgKGF1dG9TdGFydCkge1xuICAgICAgICAgICAgdHdlZW4uc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHdlZW47XG4gICAgfVxuXG4gICAgXG4gICAgXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/StateMachine/StateMachine.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a7054SKrgdF4Z4s5xp++8qZ', 'StateMachine');
// Script/Common/StateMachine/StateMachine.js

"use strict";

/*
  Javascript State Machine Library - https://github.com/jakesgordon/javascript-state-machine
  Copyright (c) 2012, 2013, 2014, 2015, Jake Gordon and contributors
  Released under the MIT license - https://github.com/jakesgordon/javascript-state-machine/blob/master/LICENSE
*/
(function () {
  var StateMachine = {
    //---------------------------------------------------------------------------
    VERSION: "2.4.0",
    //---------------------------------------------------------------------------
    Result: {
      SUCCEEDED: 1,
      // the event transitioned successfully from one state to another
      NOTRANSITION: 2,
      // the event was successfull but no state transition was necessary
      CANCELLED: 3,
      // the event was cancelled by the caller in a beforeEvent callback
      PENDING: 4 // the event is asynchronous and the caller is in control of when the transition occurs

    },
    Error: {
      INVALID_TRANSITION: 100,
      // caller tried to fire an event that was innapropriate in the current state
      PENDING_TRANSITION: 200,
      // caller tried to fire an event while an async transition was still pending
      INVALID_CALLBACK: 300 // caller provided callback function threw an exception

    },
    WILDCARD: '*',
    ASYNC: 'async',
    //---------------------------------------------------------------------------
    create: function create(cfg, target) {
      var initial = typeof cfg.initial == 'string' ? {
        state: cfg.initial
      } : cfg.initial; // allow for a simple string, or an object with { state: 'foo', event: 'setup', defer: true|false }

      var terminal = cfg.terminal || cfg['final'];
      var fsm = target || cfg.target || {};
      var events = cfg.events || [];
      var callbacks = cfg.callbacks || {};
      var map = {}; // track state transitions allowed for an event { event: { from: [ to ] } }

      var transitions = {}; // track events allowed from a state            { state: [ event ] }

      var add = function add(e) {
        var from = Array.isArray(e.from) ? e.from : e.from ? [e.from] : [StateMachine.WILDCARD]; // allow 'wildcard' transition if 'from' is not specified

        map[e.name] = map[e.name] || {};

        for (var n = 0; n < from.length; n++) {
          transitions[from[n]] = transitions[from[n]] || [];
          transitions[from[n]].push(e.name);
          map[e.name][from[n]] = e.to || from[n]; // allow no-op transition if 'to' is not specified
        }

        if (e.to) transitions[e.to] = transitions[e.to] || [];
      };

      if (initial) {
        initial.event = initial.event || 'startup';
        add({
          name: initial.event,
          from: 'none',
          to: initial.state
        });
      }

      for (var n = 0; n < events.length; n++) {
        add(events[n]);
      }

      for (var name in map) {
        if (map.hasOwnProperty(name)) fsm[name] = StateMachine.buildEvent(name, map[name]);
      }

      for (var name in callbacks) {
        if (callbacks.hasOwnProperty(name)) fsm[name] = callbacks[name];
      }

      fsm.current = 'none';

      fsm.is = function (state) {
        return Array.isArray(state) ? state.indexOf(this.current) >= 0 : this.current === state;
      };

      fsm.can = function (event) {
        return !this.transition && map[event] !== undefined && (map[event].hasOwnProperty(this.current) || map[event].hasOwnProperty(StateMachine.WILDCARD));
      };

      fsm.cannot = function (event) {
        return !this.can(event);
      };

      fsm.transitions = function () {
        return (transitions[this.current] || []).concat(transitions[StateMachine.WILDCARD] || []);
      };

      fsm.isFinished = function () {
        return this.is(terminal);
      };

      fsm.error = cfg.error || function (name, from, to, args, error, msg, e) {
        throw e || msg;
      }; // default behavior when something unexpected happens is to throw an exception, but caller can override this behavior if desired (see github issue #3 and #17)


      fsm.states = function () {
        return Object.keys(transitions).sort();
      };

      if (initial && !initial.defer) fsm[initial.event]();
      return fsm;
    },
    //===========================================================================
    doCallback: function doCallback(fsm, func, name, from, to, args) {
      if (func) {
        try {
          return func.apply(fsm, [name, from, to].concat(args));
        } catch (e) {
          return fsm.error(name, from, to, args, StateMachine.Error.INVALID_CALLBACK, "an exception occurred in a caller-provided callback function", e);
        }
      }
    },
    beforeAnyEvent: function beforeAnyEvent(fsm, name, from, to, args) {
      return StateMachine.doCallback(fsm, fsm['onbeforeevent'], name, from, to, args);
    },
    afterAnyEvent: function afterAnyEvent(fsm, name, from, to, args) {
      return StateMachine.doCallback(fsm, fsm['onafterevent'] || fsm['onevent'], name, from, to, args);
    },
    leaveAnyState: function leaveAnyState(fsm, name, from, to, args) {
      return StateMachine.doCallback(fsm, fsm['onleavestate'], name, from, to, args);
    },
    enterAnyState: function enterAnyState(fsm, name, from, to, args) {
      return StateMachine.doCallback(fsm, fsm['onenterstate'] || fsm['onstate'], name, from, to, args);
    },
    changeState: function changeState(fsm, name, from, to, args) {
      return StateMachine.doCallback(fsm, fsm['onchangestate'], name, from, to, args);
    },
    beforeThisEvent: function beforeThisEvent(fsm, name, from, to, args) {
      return StateMachine.doCallback(fsm, fsm['onbefore' + name], name, from, to, args);
    },
    afterThisEvent: function afterThisEvent(fsm, name, from, to, args) {
      return StateMachine.doCallback(fsm, fsm['onafter' + name] || fsm['on' + name], name, from, to, args);
    },
    leaveThisState: function leaveThisState(fsm, name, from, to, args) {
      return StateMachine.doCallback(fsm, fsm['onleave' + from], name, from, to, args);
    },
    enterThisState: function enterThisState(fsm, name, from, to, args) {
      return StateMachine.doCallback(fsm, fsm['onenter' + to] || fsm['on' + to], name, from, to, args);
    },
    beforeEvent: function beforeEvent(fsm, name, from, to, args) {
      if (false === StateMachine.beforeThisEvent(fsm, name, from, to, args) || false === StateMachine.beforeAnyEvent(fsm, name, from, to, args)) return false;
    },
    afterEvent: function afterEvent(fsm, name, from, to, args) {
      StateMachine.afterThisEvent(fsm, name, from, to, args);
      StateMachine.afterAnyEvent(fsm, name, from, to, args);
    },
    leaveState: function leaveState(fsm, name, from, to, args) {
      var specific = StateMachine.leaveThisState(fsm, name, from, to, args),
          general = StateMachine.leaveAnyState(fsm, name, from, to, args);
      if (false === specific || false === general) return false;else if (StateMachine.ASYNC === specific || StateMachine.ASYNC === general) return StateMachine.ASYNC;
    },
    enterState: function enterState(fsm, name, from, to, args) {
      StateMachine.enterThisState(fsm, name, from, to, args);
      StateMachine.enterAnyState(fsm, name, from, to, args);
    },
    //===========================================================================
    buildEvent: function buildEvent(name, map) {
      return function () {
        var from = this.current;
        var to = map[from] || (map[StateMachine.WILDCARD] != StateMachine.WILDCARD ? map[StateMachine.WILDCARD] : from) || from;
        var args = Array.prototype.slice.call(arguments); // turn arguments into pure array

        if (this.transition) return this.error(name, from, to, args, StateMachine.Error.PENDING_TRANSITION, "event " + name + " inappropriate because previous transition did not complete");
        if (this.cannot(name)) return this.error(name, from, to, args, StateMachine.Error.INVALID_TRANSITION, "event " + name + " inappropriate in current state " + this.current);
        if (false === StateMachine.beforeEvent(this, name, from, to, args)) return StateMachine.Result.CANCELLED;

        if (from === to) {
          StateMachine.afterEvent(this, name, from, to, args);
          return StateMachine.Result.NOTRANSITION;
        } // prepare a transition method for use EITHER lower down, or by caller if they want an async transition (indicated by an ASYNC return value from leaveState)


        var fsm = this;

        this.transition = function () {
          fsm.transition = null; // this method should only ever be called once

          fsm.current = to;
          StateMachine.enterState(fsm, name, from, to, args);
          StateMachine.changeState(fsm, name, from, to, args);
          StateMachine.afterEvent(fsm, name, from, to, args);
          return StateMachine.Result.SUCCEEDED;
        };

        this.transition.cancel = function () {
          // provide a way for caller to cancel async transition if desired (issue #22)
          fsm.transition = null;
          StateMachine.afterEvent(fsm, name, from, to, args);
        };

        var leave = StateMachine.leaveState(this, name, from, to, args);

        if (false === leave) {
          this.transition = null;
          return StateMachine.Result.CANCELLED;
        } else if (StateMachine.ASYNC === leave) {
          return StateMachine.Result.PENDING;
        } else {
          if (this.transition) // need to check in case user manually called transition() but forgot to return StateMachine.ASYNC
            return this.transition();
        }
      };
    }
  }; // StateMachine
  //===========================================================================
  //======
  // NODE
  //======

  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      exports = module.exports = StateMachine;
    }

    exports.StateMachine = StateMachine;
  } //============
  // AMD/REQUIRE
  //============
  else if (typeof define === 'function' && define.amd) {
    define(function (require) {
      return StateMachine;
    });
  } //========
  // BROWSER
  //========
  else if (typeof window !== 'undefined') {
    window.StateMachine = StateMachine;
  } //===========
  // WEB WORKER
  //===========
  else if (typeof self !== 'undefined') {
    self.StateMachine = StateMachine;
  }
})();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1N0YXRlTWFjaGluZS9TdGF0ZU1hY2hpbmUuanMiXSwibmFtZXMiOlsiU3RhdGVNYWNoaW5lIiwiVkVSU0lPTiIsIlJlc3VsdCIsIlNVQ0NFRURFRCIsIk5PVFJBTlNJVElPTiIsIkNBTkNFTExFRCIsIlBFTkRJTkciLCJFcnJvciIsIklOVkFMSURfVFJBTlNJVElPTiIsIlBFTkRJTkdfVFJBTlNJVElPTiIsIklOVkFMSURfQ0FMTEJBQ0siLCJXSUxEQ0FSRCIsIkFTWU5DIiwiY3JlYXRlIiwiY2ZnIiwidGFyZ2V0IiwiaW5pdGlhbCIsInN0YXRlIiwidGVybWluYWwiLCJmc20iLCJldmVudHMiLCJjYWxsYmFja3MiLCJtYXAiLCJ0cmFuc2l0aW9ucyIsImFkZCIsImUiLCJmcm9tIiwiQXJyYXkiLCJpc0FycmF5IiwibmFtZSIsIm4iLCJsZW5ndGgiLCJwdXNoIiwidG8iLCJldmVudCIsImhhc093blByb3BlcnR5IiwiYnVpbGRFdmVudCIsImN1cnJlbnQiLCJpcyIsImluZGV4T2YiLCJjYW4iLCJ0cmFuc2l0aW9uIiwidW5kZWZpbmVkIiwiY2Fubm90IiwiY29uY2F0IiwiaXNGaW5pc2hlZCIsImVycm9yIiwiYXJncyIsIm1zZyIsInN0YXRlcyIsIk9iamVjdCIsImtleXMiLCJzb3J0IiwiZGVmZXIiLCJkb0NhbGxiYWNrIiwiZnVuYyIsImFwcGx5IiwiYmVmb3JlQW55RXZlbnQiLCJhZnRlckFueUV2ZW50IiwibGVhdmVBbnlTdGF0ZSIsImVudGVyQW55U3RhdGUiLCJjaGFuZ2VTdGF0ZSIsImJlZm9yZVRoaXNFdmVudCIsImFmdGVyVGhpc0V2ZW50IiwibGVhdmVUaGlzU3RhdGUiLCJlbnRlclRoaXNTdGF0ZSIsImJlZm9yZUV2ZW50IiwiYWZ0ZXJFdmVudCIsImxlYXZlU3RhdGUiLCJzcGVjaWZpYyIsImdlbmVyYWwiLCJlbnRlclN0YXRlIiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwiY2FuY2VsIiwibGVhdmUiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwicmVxdWlyZSIsIndpbmRvdyIsInNlbGYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVDLGFBQVk7QUFFVCxNQUFJQSxZQUFZLEdBQUc7QUFFakI7QUFFQUMsSUFBQUEsT0FBTyxFQUFFLE9BSlE7QUFNakI7QUFFQUMsSUFBQUEsTUFBTSxFQUFFO0FBQ05DLE1BQUFBLFNBQVMsRUFBSyxDQURSO0FBQ1c7QUFDakJDLE1BQUFBLFlBQVksRUFBRSxDQUZSO0FBRVc7QUFDakJDLE1BQUFBLFNBQVMsRUFBSyxDQUhSO0FBR1c7QUFDakJDLE1BQUFBLE9BQU8sRUFBTyxDQUpSLENBSVc7O0FBSlgsS0FSUztBQWVqQkMsSUFBQUEsS0FBSyxFQUFFO0FBQ0xDLE1BQUFBLGtCQUFrQixFQUFFLEdBRGY7QUFDb0I7QUFDekJDLE1BQUFBLGtCQUFrQixFQUFFLEdBRmY7QUFFb0I7QUFDekJDLE1BQUFBLGdCQUFnQixFQUFJLEdBSGYsQ0FHbUI7O0FBSG5CLEtBZlU7QUFxQmpCQyxJQUFBQSxRQUFRLEVBQUUsR0FyQk87QUFzQmpCQyxJQUFBQSxLQUFLLEVBQUUsT0F0QlU7QUF3QmpCO0FBRUFDLElBQUFBLE1BQU0sRUFBRSxnQkFBU0MsR0FBVCxFQUFjQyxNQUFkLEVBQXNCO0FBRTVCLFVBQUlDLE9BQU8sR0FBUyxPQUFPRixHQUFHLENBQUNFLE9BQVgsSUFBc0IsUUFBdkIsR0FBbUM7QUFBRUMsUUFBQUEsS0FBSyxFQUFFSCxHQUFHLENBQUNFO0FBQWIsT0FBbkMsR0FBNERGLEdBQUcsQ0FBQ0UsT0FBbkYsQ0FGNEIsQ0FFZ0U7O0FBQzVGLFVBQUlFLFFBQVEsR0FBT0osR0FBRyxDQUFDSSxRQUFKLElBQWdCSixHQUFHLENBQUMsT0FBRCxDQUF0QztBQUNBLFVBQUlLLEdBQUcsR0FBWUosTUFBTSxJQUFJRCxHQUFHLENBQUNDLE1BQWQsSUFBeUIsRUFBNUM7QUFD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Q3RDQSxJQUFBQSxNQUFNLENBQUNuRixZQUFQLEdBQXNCQSxZQUF0QjtBQUNELEdBRkksQ0FHTDtBQUNBO0FBQ0E7QUFMSyxPQU1BLElBQUksT0FBT29GLElBQVAsS0FBZ0IsV0FBcEIsRUFBaUM7QUFDcENBLElBQUFBLElBQUksQ0FBQ3BGLFlBQUwsR0FBb0JBLFlBQXBCO0FBQ0Q7QUFFRixDQTVORixHQUFEIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICBKYXZhc2NyaXB0IFN0YXRlIE1hY2hpbmUgTGlicmFyeSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9qYWtlc2dvcmRvbi9qYXZhc2NyaXB0LXN0YXRlLW1hY2hpbmVcbiAgQ29weXJpZ2h0IChjKSAyMDEyLCAyMDEzLCAyMDE0LCAyMDE1LCBKYWtlIEdvcmRvbiBhbmQgY29udHJpYnV0b3JzXG4gIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAtIGh0dHBzOi8vZ2l0aHViLmNvbS9qYWtlc2dvcmRvbi9qYXZhc2NyaXB0LXN0YXRlLW1hY2hpbmUvYmxvYi9tYXN0ZXIvTElDRU5TRVxuKi9cblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBTdGF0ZU1hY2hpbmUgPSB7XG4gIFxuICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgICBWRVJTSU9OOiBcIjIuNC4wXCIsXG4gIFxuICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gICAgICBSZXN1bHQ6IHtcbiAgICAgICAgU1VDQ0VFREVEOiAgICAxLCAvLyB0aGUgZXZlbnQgdHJhbnNpdGlvbmVkIHN1Y2Nlc3NmdWxseSBmcm9tIG9uZSBzdGF0ZSB0byBhbm90aGVyXG4gICAgICAgIE5PVFJBTlNJVElPTjogMiwgLy8gdGhlIGV2ZW50IHdhcyBzdWNjZXNzZnVsbCBidXQgbm8gc3RhdGUgdHJhbnNpdGlvbiB3YXMgbmVjZXNzYXJ5XG4gICAgICAgIENBTkNFTExFRDogICAgMywgLy8gdGhlIGV2ZW50IHdhcyBjYW5jZWxsZWQgYnkgdGhlIGNhbGxlciBpbiBhIGJlZm9yZUV2ZW50IGNhbGxiYWNrXG4gICAgICAgIFBFTkRJTkc6ICAgICAgNCAgLy8gdGhlIGV2ZW50IGlzIGFzeW5jaHJvbm91cyBhbmQgdGhlIGNhbGxlciBpcyBpbiBjb250cm9sIG9mIHdoZW4gdGhlIHRyYW5zaXRpb24gb2NjdXJzXG4gICAgICB9LFxuICBcbiAgICAgIEVycm9yOiB7XG4gICAgICAgIElOVkFMSURfVFJBTlNJVElPTjogMTAwLCAvLyBjYWxsZXIgdHJpZWQgdG8gZmlyZSBhbiBldmVudCB0aGF0IHdhcyBpbm5hcHJvcHJpYXRlIGluIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgIFBFTkRJTkdfVFJBTlNJVElPTjogMjAwLCAvLyBjYWxsZXIgdHJpZWQgdG8gZmlyZSBhbiBldmVudCB3aGlsZSBhbiBhc3luYyB0cmFuc2l0aW9uIHdhcyBzdGlsbCBwZW5kaW5nXG4gICAgICAgIElOVkFMSURfQ0FMTEJBQ0s6ICAgMzAwIC8vIGNhbGxlciBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiB0aHJldyBhbiBleGNlcHRpb25cbiAgICAgIH0sXG4gIFxuICAgICAgV0lMRENBUkQ6ICcqJyxcbiAgICAgIEFTWU5DOiAnYXN5bmMnLFxuICBcbiAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIFxuICAgICAgY3JlYXRlOiBmdW5jdGlvbihjZmcsIHRhcmdldCkge1xuICBcbiAgICAgICAgdmFyIGluaXRpYWwgICAgICA9ICh0eXBlb2YgY2ZnLmluaXRpYWwgPT0gJ3N0cmluZycpID8geyBzdGF0ZTogY2ZnLmluaXRpYWwgfSA6IGNmZy5pbml0aWFsOyAvLyBhbGxvdyBmb3IgYSBzaW1wbGUgc3RyaW5nLCBvciBhbiBvYmplY3Qgd2l0aCB7IHN0YXRlOiAnZm9vJywgZXZlbnQ6ICdzZXR1cCcsIGRlZmVyOiB0cnVlfGZhbHNlIH1cbiAgICAgICAgdmFyIHRlcm1pbmFsICAgICA9IGNmZy50ZXJtaW5hbCB8fCBjZmdbJ2ZpbmFsJ107XG4gICAgICAgIHZhciBmc20gICAgICAgICAgPSB0YXJnZXQgfHwgY2ZnLnRhcmdldCAgfHwge307XG4gICAgICAgIHZhciBldmVudHMgICAgICAgPSBjZmcuZXZlbnRzIHx8IFtdO1xuICAgICAgICB2YXIgY2FsbGJhY2tzICAgID0gY2ZnLmNhbGxiYWNrcyB8fCB7fTtcbiAgICAgICAgdmFyIG1hcCAgICAgICAgICA9IHt9OyAvLyB0cmFjayBzdGF0ZSB0cmFuc2l0aW9ucyBhbGxvd2VkIGZvciBhbiBldmVudCB7IGV2ZW50OiB7IGZyb206IFsgdG8gXSB9IH1cbiAgICAgICAgdmFyIHRyYW5zaXRpb25zICA9IHt9OyAvLyB0cmFjayBldmVudHMgYWxsb3dlZCBmcm9tIGEgc3RhdGUgICAgICAgICAgICB7IHN0YXRlOiBbIGV2ZW50IF0gfVxuICBcbiAgICAgICAgdmFyIGFkZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICB2YXIgZnJvbSA9IEFycmF5LmlzQXJyYXkoZS5mcm9tKSA/IGUuZnJvbSA6IChlLmZyb20gPyBbZS5mcm9tXSA6IFtTdGF0ZU1hY2hpbmUuV0lMRENBUkRdKTsgLy8gYWxsb3cgJ3dpbGRjYXJkJyB0cmFuc2l0aW9uIGlmICdmcm9tJyBpcyBub3Qgc3BlY2lmaWVkXG4gICAgICAgICAgbWFwW2UubmFtZV0gPSBtYXBbZS5uYW1lXSB8fCB7fTtcbiAgICAgICAgICBmb3IgKHZhciBuID0gMCA7IG4gPCBmcm9tLmxlbmd0aCA7IG4rKykge1xuICAgICAgICAgICAgdHJhbnNpdGlvbnNbZnJvbVtuXV0gPSB0cmFuc2l0aW9uc1tmcm9tW25dXSB8fCBbXTtcbiAgICAgICAgICAgIHRyYW5zaXRpb25zW2Zyb21bbl1dLnB1c2goZS5uYW1lKTtcbiAgXG4gICAgICAgICAgICBtYXBbZS5uYW1lXVtmcm9tW25dXSA9IGUudG8gfHwgZnJvbVtuXTsgLy8gYWxsb3cgbm8tb3AgdHJhbnNpdGlvbiBpZiAndG8nIGlzIG5vdCBzcGVjaWZpZWRcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGUudG8pXG4gICAgICAgICAgICB0cmFuc2l0aW9uc1tlLnRvXSA9IHRyYW5zaXRpb25zW2UudG9dIHx8IFtdO1xuICAgICAgICB9O1xuICBcbiAgICAgICAgaWYgKGluaXRpYWwpIHtcbiAgICAgICAgICBpbml0aWFsLmV2ZW50ID0gaW5pdGlhbC5ldmVudCB8fCAnc3RhcnR1cCc7XG4gICAgICAgICAgYWRkKHsgbmFtZTogaW5pdGlhbC5ldmVudCwgZnJvbTogJ25vbmUnLCB0bzogaW5pdGlhbC5zdGF0ZSB9KTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgZm9yKHZhciBuID0gMCA7IG4gPCBldmVudHMubGVuZ3RoIDsgbisrKVxuICAgICAgICAgIGFkZChldmVudHNbbl0pO1xuICBcbiAgICAgICAgZm9yKHZhciBuYW1lIGluIG1hcCkge1xuICAgICAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkobmFtZSkpXG4gICAgICAgICAgICBmc21bbmFtZV0gPSBTdGF0ZU1hY2hpbmUuYnVpbGRFdmVudChuYW1lLCBtYXBbbmFtZV0pO1xuICAgICAgICB9XG4gIFxuICAgICAgICBmb3IodmFyIG5hbWUgaW4gY2FsbGJhY2tzKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSlcbiAgICAgICAgICAgIGZzbVtuYW1lXSA9IGNhbGxiYWNrc1tuYW1lXVxuICAgICAgICB9XG4gIFxuICAgICAgICBmc20uY3VycmVudCAgICAgPSAnbm9uZSc7XG4gICAgICAgIGZzbS5pcyAgICAgICAgICA9IGZ1bmN0aW9uKHN0YXRlKSB7IHJldHVybiBBcnJheS5pc0FycmF5KHN0YXRlKSA/IChzdGF0ZS5pbmRleE9mKHRoaXMuY3VycmVudCkgPj0gMCkgOiAodGhpcy5jdXJyZW50ID09PSBzdGF0ZSk7IH07XG4gICAgICAgIGZzbS5jYW4gICAgICAgICA9IGZ1bmN0aW9uKGV2ZW50KSB7IHJldHVybiAhdGhpcy50cmFuc2l0aW9uICYmIChtYXBbZXZlbnRdICE9PSB1bmRlZmluZWQpICYmIChtYXBbZXZlbnRdLmhhc093blByb3BlcnR5KHRoaXMuY3VycmVudCkgfHwgbWFwW2V2ZW50XS5oYXNPd25Qcm9wZXJ0eShTdGF0ZU1hY2hpbmUuV0lMRENBUkQpKTsgfVxuICAgICAgICBmc20uY2Fubm90ICAgICAgPSBmdW5jdGlvbihldmVudCkgeyByZXR1cm4gIXRoaXMuY2FuKGV2ZW50KTsgfTtcbiAgICAgICAgZnNtLnRyYW5zaXRpb25zID0gZnVuY3Rpb24oKSAgICAgIHsgcmV0dXJuICh0cmFuc2l0aW9uc1t0aGlzLmN1cnJlbnRdIHx8IFtdKS5jb25jYXQodHJhbnNpdGlvbnNbU3RhdGVNYWNoaW5lLldJTERDQVJEXSB8fCBbXSk7IH07XG4gICAgICAgIGZzbS5pc0ZpbmlzaGVkICA9IGZ1bmN0aW9uKCkgICAgICB7IHJldHVybiB0aGlzLmlzKHRlcm1pbmFsKTsgfTtcbiAgICAgICAgZnNtLmVycm9yICAgICAgID0gY2ZnLmVycm9yIHx8IGZ1bmN0aW9uKG5hbWUsIGZyb20sIHRvLCBhcmdzLCBlcnJvciwgbXNnLCBlKSB7IHRocm93IGUgfHwgbXNnOyB9OyAvLyBkZWZhdWx0IGJlaGF2aW9yIHdoZW4gc29tZXRoaW5nIHVuZXhwZWN0ZWQgaGFwcGVucyBpcyB0byB0aHJvdyBhbiBleGNlcHRpb24sIGJ1dCBjYWxsZXIgY2FuIG92ZXJyaWRlIHRoaXMgYmVoYXZpb3IgaWYgZGVzaXJlZCAoc2VlIGdpdGh1YiBpc3N1ZSAjMyBhbmQgIzE3KVxuICAgICAgICBmc20uc3RhdGVzICAgICAgPSBmdW5jdGlvbigpIHsgcmV0dXJuIE9iamVjdC5rZXlzKHRyYW5zaXRpb25zKS5zb3J0KCkgfTtcbiAgXG4gICAgICAgIGlmIChpbml0aWFsICYmICFpbml0aWFsLmRlZmVyKVxuICAgICAgICAgIGZzbVtpbml0aWFsLmV2ZW50XSgpO1xuICBcbiAgICAgICAgcmV0dXJuIGZzbTtcbiAgXG4gICAgICB9LFxuICBcbiAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIFxuICAgICAgZG9DYWxsYmFjazogZnVuY3Rpb24oZnNtLCBmdW5jLCBuYW1lLCBmcm9tLCB0bywgYXJncykge1xuICAgICAgICBpZiAoZnVuYykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShmc20sIFtuYW1lLCBmcm9tLCB0b10uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZzbS5lcnJvcihuYW1lLCBmcm9tLCB0bywgYXJncywgU3RhdGVNYWNoaW5lLkVycm9yLklOVkFMSURfQ0FMTEJBQ0ssIFwiYW4gZXhjZXB0aW9uIG9jY3VycmVkIGluIGEgY2FsbGVyLXByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uXCIsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgXG4gICAgICBiZWZvcmVBbnlFdmVudDogIGZ1bmN0aW9uKGZzbSwgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpIHsgcmV0dXJuIFN0YXRlTWFjaGluZS5kb0NhbGxiYWNrKGZzbSwgZnNtWydvbmJlZm9yZWV2ZW50J10sICAgICAgICAgICAgICAgICAgICAgICBuYW1lLCBmcm9tLCB0bywgYXJncyk7IH0sXG4gICAgICBhZnRlckFueUV2ZW50OiAgIGZ1bmN0aW9uKGZzbSwgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpIHsgcmV0dXJuIFN0YXRlTWFjaGluZS5kb0NhbGxiYWNrKGZzbSwgZnNtWydvbmFmdGVyZXZlbnQnXSB8fCBmc21bJ29uZXZlbnQnXSwgICAgICBuYW1lLCBmcm9tLCB0bywgYXJncyk7IH0sXG4gICAgICBsZWF2ZUFueVN0YXRlOiAgIGZ1bmN0aW9uKGZzbSwgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpIHsgcmV0dXJuIFN0YXRlTWFjaGluZS5kb0NhbGxiYWNrKGZzbSwgZnNtWydvbmxlYXZlc3RhdGUnXSwgICAgICAgICAgICAgICAgICAgICAgICBuYW1lLCBmcm9tLCB0bywgYXJncyk7IH0sXG4gICAgICBlbnRlckFueVN0YXRlOiAgIGZ1bmN0aW9uKGZzbSwgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpIHsgcmV0dXJuIFN0YXRlTWFjaGluZS5kb0NhbGxiYWNrKGZzbSwgZnNtWydvbmVudGVyc3RhdGUnXSB8fCBmc21bJ29uc3RhdGUnXSwgICAgICBuYW1lLCBmcm9tLCB0bywgYXJncyk7IH0sXG4gICAgICBjaGFuZ2VTdGF0ZTogICAgIGZ1bmN0aW9uKGZzbSwgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpIHsgcmV0dXJuIFN0YXRlTWFjaGluZS5kb0NhbGxiYWNrKGZzbSwgZnNtWydvbmNoYW5nZXN0YXRlJ10sICAgICAgICAgICAgICAgICAgICAgICBuYW1lLCBmcm9tLCB0bywgYXJncyk7IH0sXG4gIFxuICAgICAgYmVmb3JlVGhpc0V2ZW50OiBmdW5jdGlvbihmc20sIG5hbWUsIGZyb20sIHRvLCBhcmdzKSB7IHJldHVybiBTdGF0ZU1hY2hpbmUuZG9DYWxsYmFjayhmc20sIGZzbVsnb25iZWZvcmUnICsgbmFtZV0sICAgICAgICAgICAgICAgICAgICAgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpOyB9LFxuICAgICAgYWZ0ZXJUaGlzRXZlbnQ6ICBmdW5jdGlvbihmc20sIG5hbWUsIGZyb20sIHRvLCBhcmdzKSB7IHJldHVybiBTdGF0ZU1hY2hpbmUuZG9DYWxsYmFjayhmc20sIGZzbVsnb25hZnRlcicgICsgbmFtZV0gfHwgZnNtWydvbicgKyBuYW1lXSwgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpOyB9LFxuICAgICAgbGVhdmVUaGlzU3RhdGU6ICBmdW5jdGlvbihmc20sIG5hbWUsIGZyb20sIHRvLCBhcmdzKSB7IHJldHVybiBTdGF0ZU1hY2hpbmUuZG9DYWxsYmFjayhmc20sIGZzbVsnb25sZWF2ZScgICsgZnJvbV0sICAgICAgICAgICAgICAgICAgICAgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpOyB9LFxuICAgICAgZW50ZXJUaGlzU3RhdGU6ICBmdW5jdGlvbihmc20sIG5hbWUsIGZyb20sIHRvLCBhcmdzKSB7IHJldHVybiBTdGF0ZU1hY2hpbmUuZG9DYWxsYmFjayhmc20sIGZzbVsnb25lbnRlcicgICsgdG9dICAgfHwgZnNtWydvbicgKyB0b10sICAgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpOyB9LFxuICBcbiAgICAgIGJlZm9yZUV2ZW50OiBmdW5jdGlvbihmc20sIG5hbWUsIGZyb20sIHRvLCBhcmdzKSB7XG4gICAgICAgIGlmICgoZmFsc2UgPT09IFN0YXRlTWFjaGluZS5iZWZvcmVUaGlzRXZlbnQoZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncykpIHx8XG4gICAgICAgICAgICAoZmFsc2UgPT09IFN0YXRlTWFjaGluZS5iZWZvcmVBbnlFdmVudCggZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncykpKVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gIFxuICAgICAgYWZ0ZXJFdmVudDogZnVuY3Rpb24oZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncykge1xuICAgICAgICBTdGF0ZU1hY2hpbmUuYWZ0ZXJUaGlzRXZlbnQoZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncyk7XG4gICAgICAgIFN0YXRlTWFjaGluZS5hZnRlckFueUV2ZW50KCBmc20sIG5hbWUsIGZyb20sIHRvLCBhcmdzKTtcbiAgICAgIH0sXG4gIFxuICAgICAgbGVhdmVTdGF0ZTogZnVuY3Rpb24oZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncykge1xuICAgICAgICB2YXIgc3BlY2lmaWMgPSBTdGF0ZU1hY2hpbmUubGVhdmVUaGlzU3RhdGUoZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncyksXG4gICAgICAgICAgICBnZW5lcmFsICA9IFN0YXRlTWFjaGluZS5sZWF2ZUFueVN0YXRlKCBmc20sIG5hbWUsIGZyb20sIHRvLCBhcmdzKTtcbiAgICAgICAgaWYgKChmYWxzZSA9PT0gc3BlY2lmaWMpIHx8IChmYWxzZSA9PT0gZ2VuZXJhbCkpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBlbHNlIGlmICgoU3RhdGVNYWNoaW5lLkFTWU5DID09PSBzcGVjaWZpYykgfHwgKFN0YXRlTWFjaGluZS5BU1lOQyA9PT0gZ2VuZXJhbCkpXG4gICAgICAgICAgcmV0dXJuIFN0YXRlTWFjaGluZS5BU1lOQztcbiAgICAgIH0sXG4gIFxuICAgICAgZW50ZXJTdGF0ZTogZnVuY3Rpb24oZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncykge1xuICAgICAgICBTdGF0ZU1hY2hpbmUuZW50ZXJUaGlzU3RhdGUoZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncyk7XG4gICAgICAgIFN0YXRlTWFjaGluZS5lbnRlckFueVN0YXRlKCBmc20sIG5hbWUsIGZyb20sIHRvLCBhcmdzKTtcbiAgICAgIH0sXG4gIFxuICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgICBidWlsZEV2ZW50OiBmdW5jdGlvbihuYW1lLCBtYXApIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICBcbiAgICAgICAgICB2YXIgZnJvbSAgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgdmFyIHRvICAgID0gbWFwW2Zyb21dIHx8IChtYXBbU3RhdGVNYWNoaW5lLldJTERDQVJEXSAhPSBTdGF0ZU1hY2hpbmUuV0lMRENBUkQgPyBtYXBbU3RhdGVNYWNoaW5lLldJTERDQVJEXSA6IGZyb20pIHx8IGZyb207XG4gICAgICAgICAgdmFyIGFyZ3MgID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsgLy8gdHVybiBhcmd1bWVudHMgaW50byBwdXJlIGFycmF5XG4gIFxuICAgICAgICAgIGlmICh0aGlzLnRyYW5zaXRpb24pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihuYW1lLCBmcm9tLCB0bywgYXJncywgU3RhdGVNYWNoaW5lLkVycm9yLlBFTkRJTkdfVFJBTlNJVElPTiwgXCJldmVudCBcIiArIG5hbWUgKyBcIiBpbmFwcHJvcHJpYXRlIGJlY2F1c2UgcHJldmlvdXMgdHJhbnNpdGlvbiBkaWQgbm90IGNvbXBsZXRlXCIpO1xuICBcbiAgICAgICAgICBpZiAodGhpcy5jYW5ub3QobmFtZSkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihuYW1lLCBmcm9tLCB0bywgYXJncywgU3RhdGVNYWNoaW5lLkVycm9yLklOVkFMSURfVFJBTlNJVElPTiwgXCJldmVudCBcIiArIG5hbWUgKyBcIiBpbmFwcHJvcHJpYXRlIGluIGN1cnJlbnQgc3RhdGUgXCIgKyB0aGlzLmN1cnJlbnQpO1xuICBcbiAgICAgICAgICBpZiAoZmFsc2UgPT09IFN0YXRlTWFjaGluZS5iZWZvcmVFdmVudCh0aGlzLCBuYW1lLCBmcm9tLCB0bywgYXJncykpXG4gICAgICAgICAgICByZXR1cm4gU3RhdGVNYWNoaW5lLlJlc3VsdC5DQU5DRUxMRUQ7XG4gIFxuICAgICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgICAgU3RhdGVNYWNoaW5lLmFmdGVyRXZlbnQodGhpcywgbmFtZSwgZnJvbSwgdG8sIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIFN0YXRlTWFjaGluZS5SZXN1bHQuTk9UUkFOU0lUSU9OO1xuICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgLy8gcHJlcGFyZSBhIHRyYW5zaXRpb24gbWV0aG9kIGZvciB1c2UgRUlUSEVSIGxvd2VyIGRvd24sIG9yIGJ5IGNhbGxlciBpZiB0aGV5IHdhbnQgYW4gYXN5bmMgdHJhbnNpdGlvbiAoaW5kaWNhdGVkIGJ5IGFuIEFTWU5DIHJldHVybiB2YWx1ZSBmcm9tIGxlYXZlU3RhdGUpXG4gICAgICAgICAgdmFyIGZzbSA9IHRoaXM7XG4gICAgICAgICAgdGhpcy50cmFuc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmc20udHJhbnNpdGlvbiA9IG51bGw7IC8vIHRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGV2ZXIgYmUgY2FsbGVkIG9uY2VcbiAgICAgICAgICAgIGZzbS5jdXJyZW50ID0gdG87XG4gICAgICAgICAgICBTdGF0ZU1hY2hpbmUuZW50ZXJTdGF0ZSggZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncyk7XG4gICAgICAgICAgICBTdGF0ZU1hY2hpbmUuY2hhbmdlU3RhdGUoZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncyk7XG4gICAgICAgICAgICBTdGF0ZU1hY2hpbmUuYWZ0ZXJFdmVudCggZnNtLCBuYW1lLCBmcm9tLCB0bywgYXJncyk7XG4gICAgICAgICAgICByZXR1cm4gU3RhdGVNYWNoaW5lLlJlc3VsdC5TVUNDRUVERUQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb24uY2FuY2VsID0gZnVuY3Rpb24oKSB7IC8vIHByb3ZpZGUgYSB3YXkgZm9yIGNhbGxlciB0byBjYW5jZWwgYXN5bmMgdHJhbnNpdGlvbiBpZiBkZXNpcmVkIChpc3N1ZSAjMjIpXG4gICAgICAgICAgICBmc20udHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBTdGF0ZU1hY2hpbmUuYWZ0ZXJFdmVudChmc20sIG5hbWUsIGZyb20sIHRvLCBhcmdzKTtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIHZhciBsZWF2ZSA9IFN0YXRlTWFjaGluZS5sZWF2ZVN0YXRlKHRoaXMsIG5hbWUsIGZyb20sIHRvLCBhcmdzKTtcbiAgICAgICAgICBpZiAoZmFsc2UgPT09IGxlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIFN0YXRlTWFjaGluZS5SZXN1bHQuQ0FOQ0VMTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChTdGF0ZU1hY2hpbmUuQVNZTkMgPT09IGxlYXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RhdGVNYWNoaW5lLlJlc3VsdC5QRU5ESU5HO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zaXRpb24pIC8vIG5lZWQgdG8gY2hlY2sgaW4gY2FzZSB1c2VyIG1hbnVhbGx5IGNhbGxlZCB0cmFuc2l0aW9uKCkgYnV0IGZvcmdvdCB0byByZXR1cm4gU3RhdGVNYWNoaW5lLkFTWU5DXG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb24oKTtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICB9O1xuICAgICAgfVxuICBcbiAgICB9OyAvLyBTdGF0ZU1hY2hpbmVcbiAgXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgXG4gICAgLy89PT09PT1cbiAgICAvLyBOT0RFXG4gICAgLy89PT09PT1cbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gU3RhdGVNYWNoaW5lO1xuICAgICAgfVxuICAgICAgZXhwb3J0cy5TdGF0ZU1hY2hpbmUgPSBTdGF0ZU1hY2hpbmU7XG4gICAgfVxuICAgIC8vPT09PT09PT09PT09XG4gICAgLy8gQU1EL1JFUVVJUkVcbiAgICAvLz09PT09PT09PT09PVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uKHJlcXVpcmUpIHsgcmV0dXJuIFN0YXRlTWFjaGluZTsgfSk7XG4gICAgfVxuICAgIC8vPT09PT09PT1cbiAgICAvLyBCUk9XU0VSXG4gICAgLy89PT09PT09PVxuICAgIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB3aW5kb3cuU3RhdGVNYWNoaW5lID0gU3RhdGVNYWNoaW5lO1xuICAgIH1cbiAgICAvLz09PT09PT09PT09XG4gICAgLy8gV0VCIFdPUktFUlxuICAgIC8vPT09PT09PT09PT1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHNlbGYuU3RhdGVNYWNoaW5lID0gU3RhdGVNYWNoaW5lO1xuICAgIH1cbiAgXG4gIH0oKSk7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Scene/Scene.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b13f3yncLhOvJSRs1QLB0sR', 'Scene');
// Script/Scene/Scene.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var Game_1 = require("../Logic/Game");
var AdapterMgr_1 = require("../UIFrame/AdapterMgr");
var EventCenter_1 = require("../UIFrame/EventCenter");
var EventType_1 = require("../UIFrame/EventType");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Scene = /** @class */ (function (_super) {
    __extends(Scene, _super);
    function Scene() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ndBlock = null;
        /** 设置是否阻挡游戏触摸输入 */
        _this._block = 0;
        return _this;
    }
    Scene_1 = Scene;
    Scene.prototype.onLoad = function () {
        this.initBlockNode();
    };
    Scene.prototype.initBlockNode = function () {
        this.ndBlock = new cc.Node("block");
        this.ndBlock.addComponent(cc.BlockInputEvents);
        this.node.addChild(this.ndBlock, cc.macro.MAX_ZINDEX);
    };
    Scene.prototype.start = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        Scene_1.inst = this;
                        AdapterMgr_1.default.inst.adapteByType(AdapterMgr_1.AdapterType.StretchHeight | AdapterMgr_1.AdapterType.StretchWidth, this.node);
                        return [4 /*yield*/, this.onGameInit()];
                    case 1:
                        _a.sent();
                        this.registerEvent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 游戏初始化 */
    Scene.prototype.onGameInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: 
                    // 第一步 展示loading页面，当然有些默认就是loading页面
                    // 第二步 初始化游戏（Managers，Configs，SDKs）
                    return [4 /*yield*/, Game_1.default.init(this.node)];
                    case 1:
                        // 第一步 展示loading页面，当然有些默认就是loading页面
                        // 第二步 初始化游戏（Managers，Configs，SDKs）
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 初始化事件 */
    Scene.prototype.registerEvent = function () {
        if (cc.sys.platform === cc.sys.WECHAT_GAME) {
            wx.onShow(this.onGameShow.bind(this));
            wx.onHide(this.onGameHide.bind(this));
        }
        else {
            cc.game.on(cc.game.EVENT_SHOW, this.onGameShow, this);
            cc.game.on(cc.game.EVENT_HIDE, this.onGameHide, this);
        }
    };
    Scene.prototype.onGameShow = function (param) {
        EventCenter_1.EventCenter.emit(EventType_1.EventType.GameShow, param);
        cc.director.resume();
    };
    Scene.prototype.onGameHide = function () {
        EventCenter_1.EventCenter.emit(EventType_1.EventType.GameHide);
        cc.director.pause();
    };
    Scene.prototype.update = function (dt) {
        Game_1.default.update(dt);
    };
    Scene.prototype.lateUpdate = function () {
    };
    Scene.prototype.setInputBlock = function (bool) {
        if (!this.ndBlock) {
            cc.warn("未启用 block input");
            return;
        }
        bool ? ++this._block : --this._block;
        this.ndBlock.active = this._block > 0;
    };
    var Scene_1;
    Scene.inst = null;
    Scene = Scene_1 = __decorate([
        ccclass
    ], Scene);
    return Scene;
}(cc.Component));
exports.default = Scene;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvU2NlbmUvU2NlbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0NBQWlDO0FBQ2pDLG9EQUFnRTtBQUNoRSxzREFBcUQ7QUFDckQsa0RBQWlEO0FBRTNDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQW1DLHlCQUFZO0lBQS9DO1FBQUEscUVBcUVDO1FBbEVXLGFBQU8sR0FBWSxJQUFJLENBQUM7UUF3RGhDLG1CQUFtQjtRQUNYLFlBQU0sR0FBRyxDQUFDLENBQUM7O0lBU3ZCLENBQUM7Y0FyRW9CLEtBQUs7SUFJdEIsc0JBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU0sNkJBQWEsR0FBcEI7UUFDSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUMvQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVZLHFCQUFLLEdBQWxCOzs7Ozt3QkFDSSxPQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQzt3QkFDbEIsb0JBQVUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLHdCQUFXLENBQUMsYUFBYSxHQUFHLHdCQUFXLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDOUYscUJBQU0sSUFBSSxDQUFDLFVBQVUsRUFBRSxFQUFBOzt3QkFBdkIsU0FBdUIsQ0FBQzt3QkFDeEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDOzs7OztLQUN4QjtJQUNELFlBQVk7SUFDQywwQkFBVSxHQUF2Qjs7Ozs7b0JBQ0ksb0NBQW9DO29CQUVwQyxtQ0FBbUM7b0JBQ25DLHFCQUFNLGNBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFBOzt3QkFIMUIsb0NBQW9DO3dCQUVwQyxtQ0FBbUM7d0JBQ25DLFNBQTBCLENBQUM7Ozs7O0tBSzlCO0lBQ0QsWUFBWTtJQUNKLDZCQUFhLEdBQXJCO1FBQ0ksSUFBRyxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRTtZQUN2QyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDdEMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQ3pDO2FBQUs7WUFDRixFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3RELEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDekQ7SUFDTCxDQUFDO0lBRU8sMEJBQVUsR0FBbEIsVUFBbUIsS0FBVTtRQUN6Qix5QkFBVyxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM1QyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFBO0lBQ3hCLENBQUM7SUFDTywwQkFBVSxHQUFsQjtRQUNJLHlCQUFXLENBQUMsSUFBSSxDQUFDLHFCQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRU0sc0JBQU0sR0FBYixVQUFjLEVBQVU7UUFDcEIsY0FBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBRU0sMEJBQVUsR0FBakI7SUFFQSxDQUFDO0lBSU0sNkJBQWEsR0FBcEIsVUFBcUIsSUFBYTtRQUM5QixJQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNkLEVBQUUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUMzQixPQUFRO1NBQ1g7UUFDRCxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQzFDLENBQUM7O0lBbEVhLFVBQUksR0FBVSxJQUFJLENBQUM7SUFGaEIsS0FBSztRQUR6QixPQUFPO09BQ2EsS0FBSyxDQXFFekI7SUFBRCxZQUFDO0NBckVELEFBcUVDLENBckVrQyxFQUFFLENBQUMsU0FBUyxHQXFFOUM7a0JBckVvQixLQUFLIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWUgZnJvbSBcIi4uL0xvZ2ljL0dhbWVcIjtcbmltcG9ydCBBZGFwdGVyTWdyLCB7IEFkYXB0ZXJUeXBlIH0gZnJvbSBcIi4uL1VJRnJhbWUvQWRhcHRlck1nclwiO1xuaW1wb3J0IHsgRXZlbnRDZW50ZXIgfSBmcm9tIFwiLi4vVUlGcmFtZS9FdmVudENlbnRlclwiO1xuaW1wb3J0IHsgRXZlbnRUeXBlIH0gZnJvbSBcIi4uL1VJRnJhbWUvRXZlbnRUeXBlXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NlbmUgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgcHVibGljIHN0YXRpYyBpbnN0OiBTY2VuZSA9IG51bGw7XG4gICAgcHJpdmF0ZSBuZEJsb2NrOiBjYy5Ob2RlID0gbnVsbDtcbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMuaW5pdEJsb2NrTm9kZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0QmxvY2tOb2RlKCkge1xuICAgICAgICB0aGlzLm5kQmxvY2sgPSBuZXcgY2MuTm9kZShcImJsb2NrXCIpO1xuICAgICAgICB0aGlzLm5kQmxvY2suYWRkQ29tcG9uZW50KGNjLkJsb2NrSW5wdXRFdmVudHMpO1xuICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQodGhpcy5uZEJsb2NrLCBjYy5tYWNyby5NQVhfWklOREVYKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIFNjZW5lLmluc3QgPSB0aGlzO1xuICAgICAgICBBZGFwdGVyTWdyLmluc3QuYWRhcHRlQnlUeXBlKEFkYXB0ZXJUeXBlLlN0cmV0Y2hIZWlnaHQgfCBBZGFwdGVyVHlwZS5TdHJldGNoV2lkdGgsIHRoaXMubm9kZSk7XG4gICAgICAgIGF3YWl0IHRoaXMub25HYW1lSW5pdCgpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoKTtcbiAgICB9XG4gICAgLyoqIOa4uOaIj+WIneWni+WMliAqL1xuICAgIHB1YmxpYyBhc3luYyBvbkdhbWVJbml0KCkge1xuICAgICAgICAvLyDnrKzkuIDmraUg5bGV56S6bG9hZGluZ+mhtemdou+8jOW9k+eEtuacieS6m+m7mOiupOWwseaYr2xvYWRpbmfpobXpnaJcblxuICAgICAgICAvLyDnrKzkuozmraUg5Yid5aeL5YyW5ri45oiP77yITWFuYWdlcnPvvIxDb25maWdz77yMU0RLc++8iVxuICAgICAgICBhd2FpdCBHYW1lLmluaXQodGhpcy5ub2RlKTtcbiAgICAgICAgLy8g56ys5LiJ5q2lIOaehOW7uuWIneWni+WcuuaZr++8iOWKoOi9veW/heimgeeahHByZWZhYu+8jOmfs+mike+8jHRleHR1cmXvvIlcblxuICAgICAgICAvLyDnrKzlm5vmraUg5Yqg6L295Li755WM6Z2iVUks5YWz5o6JbG9hZGluZ+mhtemdoizmraPlvI/ov5vlhaXmuLjmiI9cblxuICAgIH1cbiAgICAvKiog5Yid5aeL5YyW5LqL5Lu2ICovXG4gICAgcHJpdmF0ZSByZWdpc3RlckV2ZW50KCkge1xuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSkge1xuICAgICAgICAgICAgd3gub25TaG93KHRoaXMub25HYW1lU2hvdy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHd4Lm9uSGlkZSh0aGlzLm9uR2FtZUhpZGUuYmluZCh0aGlzKSk7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIGNjLmdhbWUub24oY2MuZ2FtZS5FVkVOVF9TSE9XLCB0aGlzLm9uR2FtZVNob3csIHRoaXMpO1xuICAgICAgICAgICAgY2MuZ2FtZS5vbihjYy5nYW1lLkVWRU5UX0hJREUsIHRoaXMub25HYW1lSGlkZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uR2FtZVNob3cocGFyYW06IGFueSkge1xuICAgICAgICBFdmVudENlbnRlci5lbWl0KEV2ZW50VHlwZS5HYW1lU2hvdywgcGFyYW0pO1xuICAgICAgICBjYy5kaXJlY3Rvci5yZXN1bWUoKVxuICAgIH1cbiAgICBwcml2YXRlIG9uR2FtZUhpZGUoKSB7XG4gICAgICAgIEV2ZW50Q2VudGVyLmVtaXQoRXZlbnRUeXBlLkdhbWVIaWRlKTtcbiAgICAgICAgY2MuZGlyZWN0b3IucGF1c2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKGR0OiBudW1iZXIpIHtcbiAgICAgICAgR2FtZS51cGRhdGUoZHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsYXRlVXBkYXRlKCkge1xuXG4gICAgfVxuXG4gICAgLyoqIOiuvue9ruaYr+WQpumYu+aMoea4uOaIj+inpuaRuOi+k+WFpSAqL1xuICAgIHByaXZhdGUgX2Jsb2NrID0gMDtcbiAgICBwdWJsaWMgc2V0SW5wdXRCbG9jayhib29sOiBib29sZWFuKSB7XG4gICAgICAgIGlmKCF0aGlzLm5kQmxvY2spIHtcbiAgICAgICAgICAgIGNjLndhcm4oXCLmnKrlkK/nlKggYmxvY2sgaW5wdXRcIik7XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG4gICAgICAgIGJvb2wgPyArKyB0aGlzLl9ibG9jayA6IC0tIHRoaXMuX2Jsb2NrO1xuICAgICAgICB0aGlzLm5kQmxvY2suYWN0aXZlID0gdGhpcy5fYmxvY2sgPiAwO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UILoading_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd6a9c7+3lFNSZtgW9z8QvXg', 'UILoading_Auto');
// Script/AutoScripts/UILoading_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UILoading_Auto = /** @class */ (function (_super) {
    __extends(UILoading_Auto, _super);
    function UILoading_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Right = null;
        _this.Left = null;
        return _this;
    }
    __decorate([
        property(cc.Node)
    ], UILoading_Auto.prototype, "Right", void 0);
    __decorate([
        property(cc.Node)
    ], UILoading_Auto.prototype, "Left", void 0);
    UILoading_Auto = __decorate([
        ccclass
    ], UILoading_Auto);
    return UILoading_Auto;
}(cc.Component));
exports.default = UILoading_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlMb2FkaW5nX0F1dG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUM7SUFBNEMsa0NBQVk7SUFBeEQ7UUFBQSxxRUFNQztRQUpBLFdBQUssR0FBWSxJQUFJLENBQUM7UUFFdEIsVUFBSSxHQUFZLElBQUksQ0FBQzs7SUFFdEIsQ0FBQztJQUpBO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ0k7SUFFdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztnREFDRztJQUpELGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FNbEM7SUFBRCxxQkFBQztDQU5ELEFBTUMsQ0FOMkMsRUFBRSxDQUFDLFNBQVMsR0FNdkQ7a0JBTm9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlMb2FkaW5nX0F1dG8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXHRAcHJvcGVydHkoY2MuTm9kZSlcblx0UmlnaHQ6IGNjLk5vZGUgPSBudWxsO1xuXHRAcHJvcGVydHkoY2MuTm9kZSlcblx0TGVmdDogY2MuTm9kZSA9IG51bGw7XG4gXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UILevel_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a077dk8+/xJHLVJDt0+l4cP', 'UILevel_Auto');
// Script/AutoScripts/UILevel_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UILevel_Auto = /** @class */ (function (_super) {
    __extends(UILevel_Auto, _super);
    function UILevel_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Setting = null;
        _this.Skills = null;
        _this.Back = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UILevel_Auto.prototype, "Setting", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UILevel_Auto.prototype, "Skills", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UILevel_Auto.prototype, "Back", void 0);
    UILevel_Auto = __decorate([
        ccclass
    ], UILevel_Auto);
    return UILevel_Auto;
}(cc.Component));
exports.default = UILevel_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlMZXZlbF9BdXRvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGdFQUEwRDtBQUVwRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQVFDO1FBTkEsYUFBTyxHQUFlLElBQUksQ0FBQztRQUUzQixZQUFNLEdBQWUsSUFBSSxDQUFDO1FBRTFCLFVBQUksR0FBZSxJQUFJLENBQUM7O0lBRXpCLENBQUM7SUFOQTtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDO2lEQUNNO0lBRTNCO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7Z0RBQ0s7SUFFMUI7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQzs4Q0FDRztJQU5KLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0FRaEM7SUFBRCxtQkFBQztDQVJELEFBUUMsQ0FSeUMsRUFBRSxDQUFDLFNBQVMsR0FRckQ7a0JBUm9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBCdXR0b25QbHVzIGZyb20gXCIuLy4uL0NvbW1vbi9Db21wb25lbnRzL0J1dHRvblBsdXNcIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUxldmVsX0F1dG8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0U2V0dGluZzogQnV0dG9uUGx1cyA9IG51bGw7XG5cdEBwcm9wZXJ0eShCdXR0b25QbHVzKVxuXHRTa2lsbHM6IEJ1dHRvblBsdXMgPSBudWxsO1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0QmFjazogQnV0dG9uUGx1cyA9IG51bGw7XG4gXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UIDungeon_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '74ba6VsKwJNPo4au7YjBx4f', 'UIDungeon_Auto');
// Script/AutoScripts/UIDungeon_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIDungeon_Auto = /** @class */ (function (_super) {
    __extends(UIDungeon_Auto, _super);
    function UIDungeon_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Items = null;
        _this.Back = null;
        return _this;
    }
    __decorate([
        property(cc.Node)
    ], UIDungeon_Auto.prototype, "Items", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIDungeon_Auto.prototype, "Back", void 0);
    UIDungeon_Auto = __decorate([
        ccclass
    ], UIDungeon_Auto);
    return UIDungeon_Auto;
}(cc.Component));
exports.default = UIDungeon_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlEdW5nZW9uX0F1dG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZ0VBQTBEO0FBRXBELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRTFDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBTUM7UUFKQSxXQUFLLEdBQVksSUFBSSxDQUFDO1FBRXRCLFVBQUksR0FBZSxJQUFJLENBQUM7O0lBRXpCLENBQUM7SUFKQTtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNJO0lBRXRCO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7Z0RBQ0c7SUFKSixjQUFjO1FBRGxDLE9BQU87T0FDYSxjQUFjLENBTWxDO0lBQUQscUJBQUM7Q0FORCxBQU1DLENBTjJDLEVBQUUsQ0FBQyxTQUFTLEdBTXZEO2tCQU5vQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgQnV0dG9uUGx1cyBmcm9tIFwiLi8uLi9Db21tb24vQ29tcG9uZW50cy9CdXR0b25QbHVzXCJcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlEdW5nZW9uX0F1dG8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXHRAcHJvcGVydHkoY2MuTm9kZSlcblx0SXRlbXM6IGNjLk5vZGUgPSBudWxsO1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0QmFjazogQnV0dG9uUGx1cyA9IG51bGw7XG4gXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UIMap_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'adecbZD4u1CU5tY/U48Fb7E', 'UIMap_Auto');
// Script/AutoScripts/UIMap_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIMap_Auto = /** @class */ (function (_super) {
    __extends(UIMap_Auto, _super);
    function UIMap_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Round = null;
        _this.Back = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UIMap_Auto.prototype, "Round", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIMap_Auto.prototype, "Back", void 0);
    UIMap_Auto = __decorate([
        ccclass
    ], UIMap_Auto);
    return UIMap_Auto;
}(cc.Component));
exports.default = UIMap_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlNYXBfQXV0by50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxnRUFBMEQ7QUFFcEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUFNQztRQUpBLFdBQUssR0FBZSxJQUFJLENBQUM7UUFFekIsVUFBSSxHQUFlLElBQUksQ0FBQzs7SUFFekIsQ0FBQztJQUpBO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7NkNBQ0k7SUFFekI7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQzs0Q0FDRztJQUpKLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0FNOUI7SUFBRCxpQkFBQztDQU5ELEFBTUMsQ0FOdUMsRUFBRSxDQUFDLFNBQVMsR0FNbkQ7a0JBTm9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBCdXR0b25QbHVzIGZyb20gXCIuLy4uL0NvbW1vbi9Db21wb25lbnRzL0J1dHRvblBsdXNcIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSU1hcF9BdXRvIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdFJvdW5kOiBCdXR0b25QbHVzID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdEJhY2s6IEJ1dHRvblBsdXMgPSBudWxsO1xuIFxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UILogin_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a88begnTmZOIY7ImNZFjPCO', 'UILogin_Auto');
// Script/AutoScripts/UILogin_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UILogin_Auto = /** @class */ (function (_super) {
    __extends(UILogin_Auto, _super);
    function UILogin_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Login = null;
        _this.btn = null;
        _this.Name = null;
        return _this;
    }
    __decorate([
        property(cc.Node)
    ], UILogin_Auto.prototype, "Login", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UILogin_Auto.prototype, "btn", void 0);
    __decorate([
        property(cc.Label)
    ], UILogin_Auto.prototype, "Name", void 0);
    UILogin_Auto = __decorate([
        ccclass
    ], UILogin_Auto);
    return UILogin_Auto;
}(cc.Component));
exports.default = UILogin_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlMb2dpbl9BdXRvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGdFQUEwRDtBQUVwRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQVFDO1FBTkEsV0FBSyxHQUFZLElBQUksQ0FBQztRQUV0QixTQUFHLEdBQWUsSUFBSSxDQUFDO1FBRXZCLFVBQUksR0FBYSxJQUFJLENBQUM7O0lBRXZCLENBQUM7SUFOQTtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOytDQUNJO0lBRXRCO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7NkNBQ0U7SUFFdkI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs4Q0FDRztJQU5GLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0FRaEM7SUFBRCxtQkFBQztDQVJELEFBUUMsQ0FSeUMsRUFBRSxDQUFDLFNBQVMsR0FRckQ7a0JBUm9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBCdXR0b25QbHVzIGZyb20gXCIuLy4uL0NvbW1vbi9Db21wb25lbnRzL0J1dHRvblBsdXNcIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUxvZ2luX0F1dG8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXHRAcHJvcGVydHkoY2MuTm9kZSlcblx0TG9naW46IGNjLk5vZGUgPSBudWxsO1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0YnRuOiBCdXR0b25QbHVzID0gbnVsbDtcblx0QHByb3BlcnR5KGNjLkxhYmVsKVxuXHROYW1lOiBjYy5MYWJlbCA9IG51bGw7XG4gXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UIECSView_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '05b26GD8QtA74GhissSA2qn', 'UIECSView_Auto');
// Script/AutoScripts/UIECSView_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIECSView_Auto = /** @class */ (function (_super) {
    __extends(UIECSView_Auto, _super);
    function UIECSView_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Back = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UIECSView_Auto.prototype, "Back", void 0);
    UIECSView_Auto = __decorate([
        ccclass
    ], UIECSView_Auto);
    return UIECSView_Auto;
}(cc.Component));
exports.default = UIECSView_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlFQ1NWaWV3X0F1dG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZ0VBQTBEO0FBRXBELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRTFDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBSUM7UUFGQSxVQUFJLEdBQWUsSUFBSSxDQUFDOztJQUV6QixDQUFDO0lBRkE7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQztnREFDRztJQUZKLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FJbEM7SUFBRCxxQkFBQztDQUpELEFBSUMsQ0FKMkMsRUFBRSxDQUFDLFNBQVMsR0FJdkQ7a0JBSm9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBCdXR0b25QbHVzIGZyb20gXCIuLy4uL0NvbW1vbi9Db21wb25lbnRzL0J1dHRvblBsdXNcIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUVDU1ZpZXdfQXV0byBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cdEBwcm9wZXJ0eShCdXR0b25QbHVzKVxuXHRCYWNrOiBCdXR0b25QbHVzID0gbnVsbDtcbiBcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UIPop_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ff343z++axN/JazAmdJADSo', 'UIPop_Auto');
// Script/AutoScripts/UIPop_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIPop_Auto = /** @class */ (function (_super) {
    __extends(UIPop_Auto, _super);
    function UIPop_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Close = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UIPop_Auto.prototype, "Close", void 0);
    UIPop_Auto = __decorate([
        ccclass
    ], UIPop_Auto);
    return UIPop_Auto;
}(cc.Component));
exports.default = UIPop_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlQb3BfQXV0by50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxnRUFBMEQ7QUFFcEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUFJQztRQUZBLFdBQUssR0FBZSxJQUFJLENBQUM7O0lBRTFCLENBQUM7SUFGQTtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDOzZDQUNJO0lBRkwsVUFBVTtRQUQ5QixPQUFPO09BQ2EsVUFBVSxDQUk5QjtJQUFELGlCQUFDO0NBSkQsQUFJQyxDQUp1QyxFQUFFLENBQUMsU0FBUyxHQUluRDtrQkFKb0IsVUFBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEJ1dHRvblBsdXMgZnJvbSBcIi4vLi4vQ29tbW9uL0NvbXBvbmVudHMvQnV0dG9uUGx1c1wiXG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJUG9wX0F1dG8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0Q2xvc2U6IEJ1dHRvblBsdXMgPSBudWxsO1xuIFxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UILight_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8c485spEilPeKnloxpdqCcq', 'UILight_Auto');
// Script/AutoScripts/UILight_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UILight_Auto = /** @class */ (function (_super) {
    __extends(UILight_Auto, _super);
    function UILight_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Back = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UILight_Auto.prototype, "Back", void 0);
    UILight_Auto = __decorate([
        ccclass
    ], UILight_Auto);
    return UILight_Auto;
}(cc.Component));
exports.default = UILight_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlMaWdodF9BdXRvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGdFQUEwRDtBQUVwRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQUlDO1FBRkEsVUFBSSxHQUFlLElBQUksQ0FBQzs7SUFFekIsQ0FBQztJQUZBO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7OENBQ0c7SUFGSixZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBSWhDO0lBQUQsbUJBQUM7Q0FKRCxBQUlDLENBSnlDLEVBQUUsQ0FBQyxTQUFTLEdBSXJEO2tCQUpvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgQnV0dG9uUGx1cyBmcm9tIFwiLi8uLi9Db21tb24vQ29tcG9uZW50cy9CdXR0b25QbHVzXCJcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlMaWdodF9BdXRvIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdEJhY2s6IEJ1dHRvblBsdXMgPSBudWxsO1xuIFxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UISetting_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '22575SjFCNL45HIdqXg3GL6', 'UISetting_Auto');
// Script/AutoScripts/UISetting_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UISetting_Auto = /** @class */ (function (_super) {
    __extends(UISetting_Auto, _super);
    function UISetting_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Pop = null;
        _this.Mobx = null;
        _this.Capture = null;
        _this.Light = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UISetting_Auto.prototype, "Pop", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UISetting_Auto.prototype, "Mobx", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UISetting_Auto.prototype, "Capture", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UISetting_Auto.prototype, "Light", void 0);
    UISetting_Auto = __decorate([
        ccclass
    ], UISetting_Auto);
    return UISetting_Auto;
}(cc.Component));
exports.default = UISetting_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlTZXR0aW5nX0F1dG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZ0VBQTBEO0FBRXBELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRTFDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBVUM7UUFSQSxTQUFHLEdBQWUsSUFBSSxDQUFDO1FBRXZCLFVBQUksR0FBZSxJQUFJLENBQUM7UUFFeEIsYUFBTyxHQUFlLElBQUksQ0FBQztRQUUzQixXQUFLLEdBQWUsSUFBSSxDQUFDOztJQUUxQixDQUFDO0lBUkE7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQzsrQ0FDRTtJQUV2QjtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDO2dEQUNHO0lBRXhCO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7bURBQ007SUFFM0I7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQztpREFDSTtJQVJMLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FVbEM7SUFBRCxxQkFBQztDQVZELEFBVUMsQ0FWMkMsRUFBRSxDQUFDLFNBQVMsR0FVdkQ7a0JBVm9CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBCdXR0b25QbHVzIGZyb20gXCIuLy4uL0NvbW1vbi9Db21wb25lbnRzL0J1dHRvblBsdXNcIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSVNldHRpbmdfQXV0byBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cdEBwcm9wZXJ0eShCdXR0b25QbHVzKVxuXHRQb3A6IEJ1dHRvblBsdXMgPSBudWxsO1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0TW9ieDogQnV0dG9uUGx1cyA9IG51bGw7XG5cdEBwcm9wZXJ0eShCdXR0b25QbHVzKVxuXHRDYXB0dXJlOiBCdXR0b25QbHVzID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdExpZ2h0OiBCdXR0b25QbHVzID0gbnVsbDtcbiBcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UISkills_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8169469d1pBaIeedlgzYf6P', 'UISkills_Auto');
// Script/AutoScripts/UISkills_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UISkills_Auto = /** @class */ (function (_super) {
    __extends(UISkills_Auto, _super);
    function UISkills_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Close = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UISkills_Auto.prototype, "Close", void 0);
    UISkills_Auto = __decorate([
        ccclass
    ], UISkills_Auto);
    return UISkills_Auto;
}(cc.Component));
exports.default = UISkills_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlTa2lsbHNfQXV0by50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxnRUFBMEQ7QUFFcEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUM7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFJQztRQUZBLFdBQUssR0FBZSxJQUFJLENBQUM7O0lBRTFCLENBQUM7SUFGQTtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDO2dEQUNJO0lBRkwsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQUlqQztJQUFELG9CQUFDO0NBSkQsQUFJQyxDQUowQyxFQUFFLENBQUMsU0FBUyxHQUl0RDtrQkFKb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEJ1dHRvblBsdXMgZnJvbSBcIi4vLi4vQ29tbW9uL0NvbXBvbmVudHMvQnV0dG9uUGx1c1wiXG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJU2tpbGxzX0F1dG8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0Q2xvc2U6IEJ1dHRvblBsdXMgPSBudWxsO1xuIFxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UITips_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '720c13VLvBJS7Yo0OZQVmt0', 'UITips_Auto');
// Script/AutoScripts/UITips_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UITips_Auto = /** @class */ (function (_super) {
    __extends(UITips_Auto, _super);
    function UITips_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Tips = null;
        return _this;
    }
    __decorate([
        property(cc.Label)
    ], UITips_Auto.prototype, "Tips", void 0);
    UITips_Auto = __decorate([
        ccclass
    ], UITips_Auto);
    return UITips_Auto;
}(cc.Component));
exports.default = UITips_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlUaXBzX0F1dG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUM7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUFJQztRQUZBLFVBQUksR0FBYSxJQUFJLENBQUM7O0lBRXZCLENBQUM7SUFGQTtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzZDQUNHO0lBRkYsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQUkvQjtJQUFELGtCQUFDO0NBSkQsQUFJQyxDQUp3QyxFQUFFLENBQUMsU0FBUyxHQUlwRDtrQkFKb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSVRpcHNfQXV0byBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cdEBwcm9wZXJ0eShjYy5MYWJlbClcblx0VGlwczogY2MuTGFiZWwgPSBudWxsO1xuIFxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UISplitTexture_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e756flXrulLpp2O1qP7l/Ru', 'UISplitTexture_Auto');
// Script/AutoScripts/UISplitTexture_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UISplitTexture_Auto = /** @class */ (function (_super) {
    __extends(UISplitTexture_Auto, _super);
    function UISplitTexture_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Close = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UISplitTexture_Auto.prototype, "Close", void 0);
    UISplitTexture_Auto = __decorate([
        ccclass
    ], UISplitTexture_Auto);
    return UISplitTexture_Auto;
}(cc.Component));
exports.default = UISplitTexture_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlTcGxpdFRleHR1cmVfQXV0by50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxnRUFBMEQ7QUFFcEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUM7SUFBaUQsdUNBQVk7SUFBN0Q7UUFBQSxxRUFJQztRQUZBLFdBQUssR0FBZSxJQUFJLENBQUM7O0lBRTFCLENBQUM7SUFGQTtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDO3NEQUNJO0lBRkwsbUJBQW1CO1FBRHZDLE9BQU87T0FDYSxtQkFBbUIsQ0FJdkM7SUFBRCwwQkFBQztDQUpELEFBSUMsQ0FKZ0QsRUFBRSxDQUFDLFNBQVMsR0FJNUQ7a0JBSm9CLG1CQUFtQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEJ1dHRvblBsdXMgZnJvbSBcIi4vLi4vQ29tbW9uL0NvbXBvbmVudHMvQnV0dG9uUGx1c1wiXG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJU3BsaXRUZXh0dXJlX0F1dG8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0Q2xvc2U6IEJ1dHRvblBsdXMgPSBudWxsO1xuIFxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UIAbout_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8aceanbfPFAnZ5HmcwWJqVl', 'UIAbout_Auto');
// Script/AutoScripts/UIAbout_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIAbout_Auto = /** @class */ (function (_super) {
    __extends(UIAbout_Auto, _super);
    function UIAbout_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Close = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UIAbout_Auto.prototype, "Close", void 0);
    UIAbout_Auto = __decorate([
        ccclass
    ], UIAbout_Auto);
    return UIAbout_Auto;
}(cc.Component));
exports.default = UIAbout_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlBYm91dF9BdXRvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGdFQUEwRDtBQUVwRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQUlDO1FBRkEsV0FBSyxHQUFlLElBQUksQ0FBQzs7SUFFMUIsQ0FBQztJQUZBO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7K0NBQ0k7SUFGTCxZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBSWhDO0lBQUQsbUJBQUM7Q0FKRCxBQUlDLENBSnlDLEVBQUUsQ0FBQyxTQUFTLEdBSXJEO2tCQUpvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgQnV0dG9uUGx1cyBmcm9tIFwiLi8uLi9Db21tb24vQ29tcG9uZW50cy9CdXR0b25QbHVzXCJcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlBYm91dF9BdXRvIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdENsb3NlOiBCdXR0b25QbHVzID0gbnVsbDtcbiBcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Assemblers/BaseAssembler.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e3feaq91SVBdIfW2t1TEvv2', 'BaseAssembler');
// Script/Common/Assemblers/BaseAssembler.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var gfx = cc['gfx'];
// 顶点格式 -> 位置 UV, 颜色
var vfmtPosUvColor = new gfx.VertexFormat([
    { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },
    { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },
    { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_UINT8, num: 4, normalize: true },
]);
/**
 * assembler for texture
 */
var BaseAssembler = /** @class */ (function (_super) {
    __extends(BaseAssembler, _super);
    function BaseAssembler() {
        var _this = _super.call(this) || this;
        _this.verticesCount = 4;
        _this.indicesCount = 6;
        _this.floatsPerVert = 5;
        _this.uvOffset = 2;
        _this.colorOffset = 4;
        _this._renderData = null;
        _this._local = null;
        _this._renderData = new cc.RenderData();
        _this._renderData.init(_this);
        _this.initData();
        _this.initLocal();
        return _this;
    }
    Object.defineProperty(BaseAssembler.prototype, "verticesFloats", {
        get: function () {
            return this.verticesCount * this.floatsPerVert;
        },
        enumerable: false,
        configurable: true
    });
    BaseAssembler.prototype.getVfmt = function () {
        return vfmtPosUvColor;
    };
    BaseAssembler.prototype.getBuffer = function () {
        return cc.renderer['_handle'].getBuffer('mesh', this.getVfmt());
    };
    BaseAssembler.prototype.initData = function () {
        var data = this._renderData;
        data.createQuadData(0, this.verticesFloats, this.indicesCount);
    };
    BaseAssembler.prototype.initLocal = function () {
        this._local = [];
        this._local.length = 4;
    };
    /** 填充顶点的color */
    BaseAssembler.prototype.updateColor = function (comp, color) {
        var uintVerts = this._renderData.uintVDatas[0];
        if (!uintVerts)
            return;
        color = color != null ? color : comp.node.color['_val'];
        var floatsPerVert = this.floatsPerVert;
        var colorOffset = this.colorOffset;
        for (var i = 0; i < this.verticesCount; i++) {
            uintVerts[colorOffset + i * floatsPerVert] = color;
        }
    };
    /** 更新uv */
    BaseAssembler.prototype.updateUVs = function (comp) {
        // 对应的是 l, b, r, b, l, t, r, t 既左下， 右下， 左上， 右上
        var uv = [0, 1, 1, 1, 0, 0, 1, 0];
        var uvOffset = this.uvOffset;
        var floatsPerVert = this.floatsPerVert;
        var verts = this._renderData.vDatas[0];
        // 填充render data中4个顶点的uv部分
        for (var i = 0; i < this.verticesCount; i++) {
            var srcOffset = i * 2;
            var dstOffset = floatsPerVert * i + uvOffset;
            verts[dstOffset] = uv[srcOffset]; // 设置 u
            verts[dstOffset + 1] = uv[srcOffset + 1]; // 设置 v
        }
    };
    BaseAssembler.prototype.updateWorldVertsWebGL = function (comp) {
        var local = this._local;
        var verts = this._renderData.vDatas[0];
        var matrix = comp.node['_worldMatrix'];
        var matrixm = matrix.m, a = matrixm[0], b = matrixm[1], c = matrixm[4], d = matrixm[5], tx = matrixm[12], ty = matrixm[13];
        var vl = local[0], vr = local[2], vb = local[1], vt = local[3];
        var justTranslate = a === 1 && b === 0 && c === 0 && d === 1;
        var index = 0;
        var floatsPerVert = this.floatsPerVert;
        if (justTranslate) {
            // left bottom
            verts[index] = vl + tx; // 顶点位置 x = 世界坐标left + x的偏移量
            verts[index + 1] = vb + ty; // 顶点位置 y
            index += floatsPerVert;
            // right bottom
            verts[index] = vr + tx;
            verts[index + 1] = vb + ty;
            index += floatsPerVert;
            // right top
            verts[index] = vr + tx;
            verts[index + 1] = vt + ty;
            index += floatsPerVert;
            // left top
            verts[index] = vl + tx;
            verts[index + 1] = vt + ty;
            index += floatsPerVert;
        }
        else {
            // 4对xy分别乘以 [2,2]仿射矩阵，然后+平移量
            var al = a * vl, ar = a * vr, bl = b * vl, br = b * vr, cb = c * vb, ct = c * vt, db = d * vb, dt = d * vt;
            // left bottom
            verts[index] = al + cb + tx;
            verts[index + 1] = bl + db + ty;
            index += floatsPerVert;
            // right bottom
            verts[index] = ar + cb + tx;
            verts[index + 1] = br + db + ty;
            index += floatsPerVert;
            // left top
            verts[index] = al + ct + tx;
            verts[index + 1] = bl + dt + ty;
            index += floatsPerVert;
            // right top
            verts[index] = ar + ct + tx;
            verts[index + 1] = br + dt + ty;
        }
    };
    BaseAssembler.prototype.updateWorldVertsNative = function (comp) {
        var local = this._local;
        var verts = this._renderData.vDatas[0];
        var floatsPerVert = this.floatsPerVert;
        var vl = local[0], vr = local[2], vb = local[1], vt = local[3];
        var index = 0;
        // left bottom
        verts[index] = vl;
        verts[index + 1] = vb;
        index += floatsPerVert;
        // right bottom
        verts[index] = vr;
        verts[index + 1] = vb;
        index += floatsPerVert;
        // left top
        verts[index] = vl;
        verts[index + 1] = vt;
        index += floatsPerVert;
        // right top
        verts[index] = vr;
        verts[index + 1] = vt;
    };
    BaseAssembler.prototype.updateWorldVerts = function (comp) {
        if (CC_NATIVERENDERER) {
            this.updateWorldVertsNative(comp);
        }
        else {
            this.updateWorldVertsWebGL(comp);
        }
    };
    /** 更新顶点数据 */
    BaseAssembler.prototype.updateVerts = function (comp) {
        var node = comp.node, cw = node.width, ch = node.height, appx = node.anchorX * cw, appy = node.anchorY * ch, l, b, r, t;
        l = -appx;
        b = -appy;
        r = cw - appx;
        t = ch - appy;
        var local = this._local;
        local[0] = l;
        local[1] = b;
        local[2] = r;
        local[3] = t;
        this.updateWorldVerts(comp);
    };
    /** 更新renderdata */
    BaseAssembler.prototype.updateRenderData = function (comp) {
        if (comp._vertsDirty) {
            this.updateUVs(comp);
            this.updateVerts(comp);
            comp._vertsDirty = false;
        }
    };
    BaseAssembler.prototype.fillBuffers = function (comp, renderer) {
        if (renderer.worldMatDirty) {
            this.updateWorldVerts(comp);
        }
        var renderData = this._renderData;
        // vData里包含 pos， uv， color数据， iData中包含顶点索引
        var vData = renderData.vDatas[0];
        var iData = renderData.iDatas[0];
        var buffer = this.getBuffer();
        var offsetInfo = buffer.request(this.verticesCount, this.indicesCount);
        // buffer data may be realloc, need get reference after request.
        // fill vertices
        var vertexOffset = offsetInfo.byteOffset >> 2, vbuf = buffer._vData;
        if (vData.length + vertexOffset > vbuf.length) {
            vbuf.set(vData.subarray(0, vbuf.length - vertexOffset), vertexOffset);
        }
        else {
            vbuf.set(vData, vertexOffset);
        }
        // fill indices
        var ibuf = buffer._iData, indiceOffset = offsetInfo.indiceOffset, vertexId = offsetInfo.vertexOffset; // vertexId是已经在buffer里的顶点数，也是当前顶点序号的基数
        var textData = [0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7];
        for (var i = 0, l = iData.length; i < l; i++) {
            ibuf[indiceOffset++] = vertexId + textData[i];
        }
    };
    BaseAssembler.prototype.packToDynamicAtlas = function (comp, frame) {
        if (CC_TEST)
            return;
        if (!frame._original && cc.dynamicAtlasManager && frame._texture.packable) {
            var packedFrame = cc.dynamicAtlasManager.insertSpriteFrame(frame);
            if (packedFrame) {
                frame._setDynamicAtlasFrame(packedFrame);
            }
        }
        var material = comp._materials[0];
        if (!material)
            return;
        if (material.getProperty('texture') !== frame._texture) {
            // texture was packed to dynamic atlas, should update uvs
            comp._vertsDirty = true;
            comp._updateMaterial();
        }
    };
    return BaseAssembler;
}(cc.Assembler));
exports.default = BaseAssembler;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0Fzc2VtYmxlcnMvQmFzZUFzc2VtYmxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFdEIsb0JBQW9CO0FBQ3BCLElBQUksY0FBYyxHQUFHLElBQUksR0FBRyxDQUFDLFlBQVksQ0FBQztJQUN0QyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRTtJQUNoRSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRTtJQUMzRCxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRTtDQUMvRSxDQUFDLENBQUM7QUFDSDs7R0FFRztBQUNIO0lBQTJDLGlDQUFZO0lBQ25EO1FBQUEsWUFDSSxpQkFBTyxTQU1WO1FBQ0QsbUJBQWEsR0FBRyxDQUFDLENBQUM7UUFDbEIsa0JBQVksR0FBRyxDQUFDLENBQUM7UUFDakIsbUJBQWEsR0FBRyxDQUFDLENBQUM7UUFDbEIsY0FBUSxHQUFHLENBQUMsQ0FBQztRQUNiLGlCQUFXLEdBQUcsQ0FBQyxDQUFDO1FBRVIsaUJBQVcsR0FBa0IsSUFBSSxDQUFDO1FBQ2xDLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFiNUIsS0FBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN2QyxLQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFJLENBQUMsQ0FBQztRQUU1QixL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LEdBQWxCLFVBQW1CLElBQUksRUFBRSxLQUFLO1FBQzFCLElBQUksT0FBTztZQUFFLE9BQU87UUFFcEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDLG1CQUFtQixJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFO1lBQ3ZFLElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNsRSxJQUFJLFdBQVcsRUFBRTtnQkFDYixLQUFLLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDNUM7U0FDSjtRQUNELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxDQUFDLFFBQVE7WUFBRSxPQUFPO1FBRXRCLElBQUksUUFBUSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsS0FBSyxLQUFLLENBQUMsUUFBUSxFQUFFO1lBQ3BELHlEQUF5RDtZQUN6RCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztZQUN4QixJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7U0FDMUI7SUFDTCxDQUFDO0lBRUwsb0JBQUM7QUFBRCxDQXpQQSxBQXlQQyxDQXpQMEMsRUFBRSxDQUFDLFNBQVMsR0F5UHREIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2Z4ID0gY2NbJ2dmeCddO1xuXG4vLyDpobbngrnmoLzlvI8gLT4g5L2N572uIFVWLCDpopzoibJcbmxldCB2Zm10UG9zVXZDb2xvciA9IG5ldyBnZnguVmVydGV4Rm9ybWF0KFtcbiAgICB7IG5hbWU6IGdmeC5BVFRSX1BPU0lUSU9OLCB0eXBlOiBnZnguQVRUUl9UWVBFX0ZMT0FUMzIsIG51bTogMiB9LFxuICAgIHsgbmFtZTogZ2Z4LkFUVFJfVVYwLCB0eXBlOiBnZnguQVRUUl9UWVBFX0ZMT0FUMzIsIG51bTogMiB9LFxuICAgIHsgbmFtZTogZ2Z4LkFUVFJfQ09MT1IsIHR5cGU6IGdmeC5BVFRSX1RZUEVfVUlOVDgsIG51bTogNCwgbm9ybWFsaXplOiB0cnVlIH0sXG5dKTtcbi8qKlxuICogYXNzZW1ibGVyIGZvciB0ZXh0dXJlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VBc3NlbWJsZXIgZXh0ZW5kcyBjYy5Bc3NlbWJsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9yZW5kZXJEYXRhID0gbmV3IGNjLlJlbmRlckRhdGEoKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyRGF0YS5pbml0KHRoaXMpO1xuXG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICAgICAgdGhpcy5pbml0TG9jYWwoKTtcbiAgICB9XG4gICAgdmVydGljZXNDb3VudCA9IDQ7XG4gICAgaW5kaWNlc0NvdW50ID0gNjtcbiAgICBmbG9hdHNQZXJWZXJ0ID0gNTtcbiAgICB1dk9mZnNldCA9IDI7ICAgICAgIFxuICAgIGNvbG9yT2Zmc2V0ID0gNDtcblxuICAgIHByaXZhdGUgX3JlbmRlckRhdGE6IGNjLlJlbmRlckRhdGEgPSBudWxsO1xuICAgIHByaXZhdGUgX2xvY2FsOiBudW1iZXJbXSA9IG51bGw7XG5cbiAgICBnZXQgdmVydGljZXNGbG9hdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRpY2VzQ291bnQgKiB0aGlzLmZsb2F0c1BlclZlcnQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZmbXQoKSB7XG4gICAgICAgIHJldHVybiB2Zm10UG9zVXZDb2xvcjtcbiAgICB9XG4gICAgcHVibGljIGdldEJ1ZmZlcigpIHtcbiAgICAgICAgcmV0dXJuIGNjLnJlbmRlcmVyWydfaGFuZGxlJ10uZ2V0QnVmZmVyKCdtZXNoJywgdGhpcy5nZXRWZm10KCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0RGF0YSgpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLl9yZW5kZXJEYXRhO1xuICAgICAgICBkYXRhLmNyZWF0ZVF1YWREYXRhKDAsIHRoaXMudmVydGljZXNGbG9hdHMsIHRoaXMuaW5kaWNlc0NvdW50KTtcbiAgICB9XG4gICAgcHVibGljIGluaXRMb2NhbCgpIHtcbiAgICAgICAgdGhpcy5fbG9jYWwgPSBbXTtcbiAgICAgICAgdGhpcy5fbG9jYWwubGVuZ3RoID0gNDtcbiAgICB9XG5cbiAgICAvKiog5aGr5YWF6aG254K555qEY29sb3IgKi9cbiAgICBwdWJsaWMgdXBkYXRlQ29sb3IoY29tcDogY2MuUmVuZGVyQ29tcG9uZW50LCBjb2xvcjogbnVtYmVyKSB7XG4gICAgICAgIGxldCB1aW50VmVydHMgPSB0aGlzLl9yZW5kZXJEYXRhLnVpbnRWRGF0YXNbMF07XG4gICAgICAgIGlmKCF1aW50VmVydHMpIHJldHVybiA7XG4gICAgICAgIGNvbG9yID0gY29sb3IgIT0gbnVsbCA/IGNvbG9yIDogY29tcC5ub2RlLmNvbG9yWydfdmFsJ107XG4gICAgICAgIGxldCBmbG9hdHNQZXJWZXJ0ID0gdGhpcy5mbG9hdHNQZXJWZXJ0O1xuICAgICAgICBsZXQgY29sb3JPZmZzZXQgPSB0aGlzLmNvbG9yT2Zmc2V0O1xuICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLnZlcnRpY2VzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgdWludFZlcnRzW2NvbG9yT2Zmc2V0ICsgaSAqIGZsb2F0c1BlclZlcnRdID0gY29sb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIOabtOaWsHV2ICovXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVVWcyhjb21wOiBjYy5SZW5kZXJDb21wb25lbnQpIHtcbiAgICAgICAgLy8g5a+55bqU55qE5pivIGwsIGIsIHIsIGIsIGwsIHQsIHIsIHQg5pei5bem5LiL77yMIOWPs+S4i++8jCDlt6bkuIrvvIwg5Y+z5LiKXG4gICAgICAgIGxldCB1diA9IFswLCAxLCAxLCAxLCAwLCAwLCAxLCAwXTtcbiAgICAgICAgbGV0IHV2T2Zmc2V0ID0gdGhpcy51dk9mZnNldDtcbiAgICAgICAgbGV0IGZsb2F0c1BlclZlcnQgPSB0aGlzLmZsb2F0c1BlclZlcnQ7XG4gICAgICAgIGxldCB2ZXJ0cyA9IHRoaXMuX3JlbmRlckRhdGEudkRhdGFzWzBdO1xuICAgICAgICAvLyDloavlhYVyZW5kZXIgZGF0YeS4rTTkuKrpobbngrnnmoR1dumDqOWIhlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmVydGljZXNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3JjT2Zmc2V0ID0gaSAqIDI7XG4gICAgICAgICAgICBsZXQgZHN0T2Zmc2V0ID0gZmxvYXRzUGVyVmVydCAqIGkgKyB1dk9mZnNldDtcbiAgICAgICAgICAgIHZlcnRzW2RzdE9mZnNldF0gPSB1dltzcmNPZmZzZXRdOyAgICAgICAgICAgLy8g6K6+572uIHVcbiAgICAgICAgICAgIHZlcnRzW2RzdE9mZnNldCArIDFdID0gdXZbc3JjT2Zmc2V0ICsgMV07ICAgLy8g6K6+572uIHZcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVXb3JsZFZlcnRzV2ViR0woY29tcDogY2MuUmVuZGVyQ29tcG9uZW50KSB7XG4gICAgICAgIGxldCBsb2NhbCA9IHRoaXMuX2xvY2FsO1xuICAgICAgICBsZXQgdmVydHMgPSB0aGlzLl9yZW5kZXJEYXRhLnZEYXRhc1swXTtcblxuICAgICAgICBsZXQgbWF0cml4OiBjYy5NYXQ0ID0gY29tcC5ub2RlWydfd29ybGRNYXRyaXgnXTtcbiAgICAgICAgbGV0IG1hdHJpeG0gPSBtYXRyaXgubSxcbiAgICAgICAgYSA9IG1hdHJpeG1bMF0sIGIgPSBtYXRyaXhtWzFdLCBjID0gbWF0cml4bVs0XSwgZCA9IG1hdHJpeG1bNV0sIFxuICAgICAgICB0eCA9IG1hdHJpeG1bMTJdLCB0eSA9IG1hdHJpeG1bMTNdO1xuXG4gICAgICAgIGxldCB2bCA9IGxvY2FsWzBdLCB2ciA9IGxvY2FsWzJdLFxuICAgICAgICB2YiA9IGxvY2FsWzFdLCB2dCA9IGxvY2FsWzNdO1xuXG4gICAgICAgIGxldCBqdXN0VHJhbnNsYXRlID0gYSA9PT0gMSAmJiBiID09PSAwICYmIGMgPT09IDAgJiYgZCA9PT0gMTtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IGZsb2F0c1BlclZlcnQgPSB0aGlzLmZsb2F0c1BlclZlcnQ7XG4gICAgICAgIGlmIChqdXN0VHJhbnNsYXRlKSB7XG4gICAgICAgICAgICAvLyBsZWZ0IGJvdHRvbVxuICAgICAgICAgICAgdmVydHNbaW5kZXhdID0gdmwgKyB0eDsgICAgIC8vIOmhtueCueS9jee9riB4ID0g5LiW55WM5Z2Q5qCHbGVmdCArIHjnmoTlgY/np7vph49cbiAgICAgICAgICAgIHZlcnRzW2luZGV4KzFdID0gdmIgKyB0eTsgICAvLyDpobbngrnkvY3nva4geVxuICAgICAgICAgICAgaW5kZXggKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgIC8vIHJpZ2h0IGJvdHRvbVxuICAgICAgICAgICAgdmVydHNbaW5kZXhdID0gdnIgKyB0eDtcbiAgICAgICAgICAgIHZlcnRzW2luZGV4KzFdID0gdmIgKyB0eTtcbiAgICAgICAgICAgIGluZGV4ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgICAgICAvLyByaWdodCB0b3BcbiAgICAgICAgICAgIHZlcnRzW2luZGV4XSA9IHZyICsgdHg7XG4gICAgICAgICAgICB2ZXJ0c1tpbmRleCsxXSA9IHZ0ICsgdHk7XG4gICAgICAgICAgICBpbmRleCArPSBmbG9hdHNQZXJWZXJ0O1xuICAgICAgICAgICAgLy8gbGVmdCB0b3BcbiAgICAgICAgICAgIHZlcnRzW2luZGV4XSA9IHZsICsgdHg7XG4gICAgICAgICAgICB2ZXJ0c1tpbmRleCsxXSA9IHZ0ICsgdHk7XG4gICAgICAgICAgICBpbmRleCArPSBmbG9hdHNQZXJWZXJ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gNOWvuXh55YiG5Yir5LmY5LulIFsyLDJd5Lu/5bCE55+p6Zi177yM54S25ZCOK+W5s+enu+mHj1xuICAgICAgICAgICAgbGV0IGFsID0gYSAqIHZsLCBhciA9IGEgKiB2cixcbiAgICAgICAgICAgIGJsID0gYiAqIHZsLCBiciA9IGIgKiB2cixcbiAgICAgICAgICAgIGNiID0gYyAqIHZiLCBjdCA9IGMgKiB2dCxcbiAgICAgICAgICAgIGRiID0gZCAqIHZiLCBkdCA9IGQgKiB2dDtcblxuICAgICAgICAgICAgLy8gbGVmdCBib3R0b21cbiAgICAgICAgICAgIHZlcnRzW2luZGV4XSA9IGFsICsgY2IgKyB0eDtcbiAgICAgICAgICAgIHZlcnRzW2luZGV4KzFdID0gYmwgKyBkYiArIHR5O1xuICAgICAgICAgICAgaW5kZXggKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgIC8vIHJpZ2h0IGJvdHRvbVxuICAgICAgICAgICAgdmVydHNbaW5kZXhdID0gYXIgKyBjYiArIHR4O1xuICAgICAgICAgICAgdmVydHNbaW5kZXgrMV0gPSBiciArIGRiICsgdHk7XG4gICAgICAgICAgICBpbmRleCArPSBmbG9hdHNQZXJWZXJ0O1xuICAgICAgICAgICAgLy8gbGVmdCB0b3BcbiAgICAgICAgICAgIHZlcnRzW2luZGV4XSA9IGFsICsgY3QgKyB0eDtcbiAgICAgICAgICAgIHZlcnRzW2luZGV4KzFdID0gYmwgKyBkdCArIHR5O1xuICAgICAgICAgICAgaW5kZXggKz0gZmxvYXRzUGVyVmVydDtcbiAgICAgICAgICAgIC8vIHJpZ2h0IHRvcFxuICAgICAgICAgICAgdmVydHNbaW5kZXhdID0gYXIgKyBjdCArIHR4O1xuICAgICAgICAgICAgdmVydHNbaW5kZXgrMV0gPSBiciArIGR0ICsgdHk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdXBkYXRlV29ybGRWZXJ0c05hdGl2ZShjb21wOiBjYy5SZW5kZXJDb21wb25lbnQpIHtcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5fbG9jYWw7XG4gICAgICAgIGxldCB2ZXJ0cyA9IHRoaXMuX3JlbmRlckRhdGEudkRhdGFzWzBdO1xuICAgICAgICBsZXQgZmxvYXRzUGVyVmVydCA9IHRoaXMuZmxvYXRzUGVyVmVydDtcbiAgICAgIFxuICAgICAgICBsZXQgdmwgPSBsb2NhbFswXSxcbiAgICAgICAgICAgIHZyID0gbG9jYWxbMl0sXG4gICAgICAgICAgICB2YiA9IGxvY2FsWzFdLFxuICAgICAgICAgICAgdnQgPSBsb2NhbFszXTtcbiAgICAgIFxuICAgICAgICBsZXQgaW5kZXg6IG51bWJlciA9IDA7XG4gICAgICAgIC8vIGxlZnQgYm90dG9tXG4gICAgICAgIHZlcnRzW2luZGV4XSA9IHZsO1xuICAgICAgICB2ZXJ0c1tpbmRleCsxXSA9IHZiO1xuICAgICAgICBpbmRleCArPSBmbG9hdHNQZXJWZXJ0O1xuICAgICAgICAvLyByaWdodCBib3R0b21cbiAgICAgICAgdmVydHNbaW5kZXhdID0gdnI7XG4gICAgICAgIHZlcnRzW2luZGV4KzFdID0gdmI7XG4gICAgICAgIGluZGV4ICs9IGZsb2F0c1BlclZlcnQ7XG4gICAgICAgIC8vIGxlZnQgdG9wXG4gICAgICAgIHZlcnRzW2luZGV4XSA9IHZsO1xuICAgICAgICB2ZXJ0c1tpbmRleCsxXSA9IHZ0O1xuICAgICAgICBpbmRleCArPSBmbG9hdHNQZXJWZXJ0O1xuICAgICAgICAvLyByaWdodCB0b3BcbiAgICAgICAgdmVydHNbaW5kZXhdID0gdnI7XG4gICAgICAgIHZlcnRzW2luZGV4KzFdID0gdnQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVdvcmxkVmVydHMoY29tcDogY2MuUmVuZGVyQ29tcG9uZW50KSB7XG4gICAgICAgIGlmIChDQ19OQVRJVkVSRU5ERVJFUikge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVXb3JsZFZlcnRzTmF0aXZlKGNvbXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVXb3JsZFZlcnRzV2ViR0woY29tcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiog5pu05paw6aG254K55pWw5o2uICovXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVZlcnRzKGNvbXA6IGNjLlJlbmRlckNvbXBvbmVudCkge1xuICAgICAgICBsZXQgbm9kZTogY2MuTm9kZSA9IGNvbXAubm9kZSxcbiAgICAgICAgICAgIGN3OiBudW1iZXIgPSBub2RlLndpZHRoLFxuICAgICAgICAgICAgY2g6IG51bWJlciA9IG5vZGUuaGVpZ2h0LFxuICAgICAgICAgICAgYXBweDogbnVtYmVyID0gbm9kZS5hbmNob3JYICogY3csXG4gICAgICAgICAgICBhcHB5OiBudW1iZXIgPSBub2RlLmFuY2hvclkgKiBjaCxcbiAgICAgICAgICAgIGw6IG51bWJlcixcbiAgICAgICAgICAgIGI6IG51bWJlciwgXG4gICAgICAgICAgICByOiBudW1iZXIsXG4gICAgICAgICAgICB0OiBudW1iZXI7XG5cbiAgICAgICAgbCA9IC0gYXBweDtcbiAgICAgICAgYiA9IC0gYXBweTtcbiAgICAgICAgciA9IGN3IC0gYXBweDtcbiAgICAgICAgdCA9IGNoIC0gYXBweTtcblxuICAgICAgICBsZXQgbG9jYWwgPSB0aGlzLl9sb2NhbDtcbiAgICAgICAgbG9jYWxbMF0gPSBsO1xuICAgICAgICBsb2NhbFsxXSA9IGI7XG4gICAgICAgIGxvY2FsWzJdID0gcjtcbiAgICAgICAgbG9jYWxbM10gPSB0O1xuICAgICAgICB0aGlzLnVwZGF0ZVdvcmxkVmVydHMoY29tcCk7XG4gICAgfVxuXG4gICAgLyoqIOabtOaWsHJlbmRlcmRhdGEgKi9cbiAgICBwcm90ZWN0ZWQgdXBkYXRlUmVuZGVyRGF0YShjb21wOiBjYy5SZW5kZXJDb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGNvbXAuX3ZlcnRzRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVVZzKGNvbXApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWZXJ0cyhjb21wKTtcbiAgICAgICAgICAgIGNvbXAuX3ZlcnRzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0gXG5cbiAgICBmaWxsQnVmZmVycyhjb21wOiBjYy5SZW5kZXJDb21wb25lbnQsIHJlbmRlcmVyKSB7XG4gICAgICAgIGlmIChyZW5kZXJlci53b3JsZE1hdERpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVdvcmxkVmVydHMoY29tcCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVuZGVyRGF0YSA9IHRoaXMuX3JlbmRlckRhdGE7XG5cbiAgICAgICAgLy8gdkRhdGHph4zljIXlkKsgcG9z77yMIHV277yMIGNvbG9y5pWw5o2u77yMIGlEYXRh5Lit5YyF5ZCr6aG254K557Si5byVXG4gICAgICAgIGxldCB2RGF0YSA9IHJlbmRlckRhdGEudkRhdGFzWzBdO1xuICAgICAgICBsZXQgaURhdGEgPSByZW5kZXJEYXRhLmlEYXRhc1swXTtcblxuICAgICAgICBsZXQgYnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgICAgbGV0IG9mZnNldEluZm8gPSBidWZmZXIucmVxdWVzdCh0aGlzLnZlcnRpY2VzQ291bnQsIHRoaXMuaW5kaWNlc0NvdW50KTtcblxuICAgICAgICAvLyBidWZmZXIgZGF0YSBtYXkgYmUgcmVhbGxvYywgbmVlZCBnZXQgcmVmZXJlbmNlIGFmdGVyIHJlcXVlc3QuXG5cbiAgICAgICAgLy8gZmlsbCB2ZXJ0aWNlc1xuICAgICAgICBsZXQgdmVydGV4T2Zmc2V0ID0gb2Zmc2V0SW5mby5ieXRlT2Zmc2V0ID4+IDIsXG4gICAgICAgICAgICB2YnVmID0gYnVmZmVyLl92RGF0YTtcblxuICAgICAgICBpZiAodkRhdGEubGVuZ3RoICsgdmVydGV4T2Zmc2V0ID4gdmJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZidWYuc2V0KHZEYXRhLnN1YmFycmF5KDAsIHZidWYubGVuZ3RoIC0gdmVydGV4T2Zmc2V0KSwgdmVydGV4T2Zmc2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZidWYuc2V0KHZEYXRhLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlsbCBpbmRpY2VzXG4gICAgICAgIGxldCBpYnVmID0gYnVmZmVyLl9pRGF0YSxcbiAgICAgICAgICAgIGluZGljZU9mZnNldCA9IG9mZnNldEluZm8uaW5kaWNlT2Zmc2V0LFxuICAgICAgICAgICAgdmVydGV4SWQgPSBvZmZzZXRJbmZvLnZlcnRleE9mZnNldDsgICAgICAgICAgICAgLy8gdmVydGV4SWTmmK/lt7Lnu4/lnKhidWZmZXLph4znmoTpobbngrnmlbDvvIzkuZ/mmK/lvZPliY3pobbngrnluo/lj7fnmoTln7rmlbBcbiAgICAgICAgICAgIGxldCB0ZXh0RGF0YSA9IFswLCAxLCAyLCAwLCAyLCAzLCA0LCA1LCA2LCA0LCA2ICw3XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBpRGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlidWZbaW5kaWNlT2Zmc2V0KytdID0gdmVydGV4SWQgKyB0ZXh0RGF0YVtpXTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cbiAgICBwYWNrVG9EeW5hbWljQXRsYXMoY29tcCwgZnJhbWUpIHtcbiAgICAgICAgaWYgKENDX1RFU1QpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGlmICghZnJhbWUuX29yaWdpbmFsICYmIGNjLmR5bmFtaWNBdGxhc01hbmFnZXIgJiYgZnJhbWUuX3RleHR1cmUucGFja2FibGUpIHtcbiAgICAgICAgICAgIGxldCBwYWNrZWRGcmFtZSA9IGNjLmR5bmFtaWNBdGxhc01hbmFnZXIuaW5zZXJ0U3ByaXRlRnJhbWUoZnJhbWUpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHBhY2tlZEZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUuX3NldER5bmFtaWNBdGxhc0ZyYW1lKHBhY2tlZEZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgbWF0ZXJpYWwgPSBjb21wLl9tYXRlcmlhbHNbMF07XG4gICAgICAgIGlmICghbWF0ZXJpYWwpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGlmIChtYXRlcmlhbC5nZXRQcm9wZXJ0eSgndGV4dHVyZScpICE9PSBmcmFtZS5fdGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gdGV4dHVyZSB3YXMgcGFja2VkIHRvIGR5bmFtaWMgYXRsYXMsIHNob3VsZCB1cGRhdGUgdXZzXG4gICAgICAgICAgICBjb21wLl92ZXJ0c0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbXAuX3VwZGF0ZU1hdGVyaWFsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Assemblers/BatchAssembler.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3989dU4L8BIBJM9muUNLD0B', 'BatchAssembler');
// Script/Common/Assemblers/BatchAssembler.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var BaseAssembler_1 = require("./BaseAssembler");
/** 禁止子节点执行的FLAG */
var BAN_FALG = (cc.RenderFlow.FLAG_RENDER | cc.RenderFlow.FLAG_POST_RENDER);
/** 对子节点有影响的FLAG */
var DIRTY_PROP = cc.RenderFlow.FLAG_OPACITY | cc.RenderFlow.FLAG_WORLD_TRANSFORM;
/** 开关 */
var BATCH_SWITCH = true;
var BatchAssembler = /** @class */ (function (_super) {
    __extends(BatchAssembler, _super);
    function BatchAssembler() {
        var _this = _super.call(this) || this;
        /** 分层渲染 */
        _this._groups = [];
        return _this;
    }
    /**
     * 重写
     * 第一步, 让item的render方法都不执行, 只执行处理数据的方法 但是不执行fillbuffers方法
     * 第二步, 在postFillBuffers中按照顺序, 自己调用render方法, 填充数据, 以达到合批的目的
    **/
    BatchAssembler.prototype.fillBuffers = function (comp, renderer) {
        if (CC_NATIVERENDERER) {
            return;
        }
        if (!BATCH_SWITCH)
            return;
        // 记录当前结点是否会给孩子结点造成影响
        var worldTransformFlag = renderer.worldMatDirty ? cc.RenderFlow.FLAG_WORLD_TRANSFORM : 0;
        var worldOpacityFlag = renderer.parentOpacityDirty ? cc.RenderFlow.FLAG_OPACITY_COLOR : 0;
        var dirtyFlag = worldTransformFlag | worldOpacityFlag;
        comp.node['__DirtyFlag__'] = dirtyFlag;
        this._groups = [];
        this._walkByName(comp.node.children);
    };
    BatchAssembler.prototype.postFillBuffers = function (comp, renderer) {
        var originWorldMatDirty = renderer.worldMatDirty;
        if (!BATCH_SWITCH || !this._groups || this._groups.length <= 0)
            return;
        BATCH_SWITCH = false;
        for (var _i = 0, _a = this._groups; _i < _a.length; _i++) {
            var group = _a[_i];
            if (group.length <= 0)
                continue;
            for (var _b = 0, group_1 = group; _b < group_1.length; _b++) {
                var node = group_1[_b];
                var renderFlag = node['__RenderFlag__'];
                var dirtyFlag = node['__DirtyFlag__'];
                renderer.worldMatDirty = dirtyFlag > 0 ? 1 : 0;
                node._renderFlag |= renderFlag;
                if (renderFlag) {
                    cc.RenderFlow.flows[renderFlag]._func(node);
                }
            }
        }
        this._groups = null;
        BATCH_SWITCH = true;
        renderer.worldMatDirty = originWorldMatDirty;
    };
    /**
     * 方案一
     * 默认的广度遍历方式
     * 优点: 速度较快
     * 缺点: 新增或删除节点可能会导致合批失败
     */
    BatchAssembler.prototype._walkDefault = function (nodes) {
        if (!nodes || nodes.length <= 0)
            return;
        var count = nodes[0].childrenCount;
        var groups = [];
        for (var i = 0; i < count; i++) {
            groups[i] = [];
        }
        var group = [];
        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {
            var node = nodes_1[_i];
            if (!node._activeInHierarchy || node.opacity == 0)
                continue;
            var flag = node._renderFlag & BAN_FALG;
            if (flag > 0) { // 表示这个node需要渲染
                node['__RenderFlag__'] = flag;
                node._renderFlag &= ~flag; // 去掉对应的flag
                group.push(node);
            }
            node['__DirtyFlag__'] = node.parent['__DirtyFlag__'] | (node._renderFlag & DIRTY_PROP);
            for (var i = 0; i < count; i++) {
                groups[i].push(node.children[i]);
            }
        }
        if (group.length > 0) {
            this._groups.push(group);
        }
        for (var _a = 0, groups_1 = groups; _a < groups_1.length; _a++) {
            var group_2 = groups_1[_a];
            this._walkDefault(group_2);
        }
    };
    /**
     * 方案二
     * 同名结点同批次渲染
     * 优点: 新增或删除节点不会导致合批失败
     * 缺点: 兄弟结点不能同名,速度没方案一快,内存消耗也大
     */
    BatchAssembler.prototype._walkByName = function (nodes) {
        if (!nodes || nodes.length <= 0)
            return;
        var groups = {};
        var group = [];
        var keys = [];
        for (var _i = 0, nodes_2 = nodes; _i < nodes_2.length; _i++) {
            var node = nodes_2[_i];
            if (!node._activeInHierarchy || node.opacity == 0)
                continue;
            var flag = node._renderFlag & BAN_FALG;
            if (flag > 0) { // 表示这个node需要渲染
                node['__RenderFlag__'] = flag;
                node._renderFlag &= ~flag; // 去掉对应的flag
                group.push(node);
            }
            node['__DirtyFlag__'] = node.parent['__DirtyFlag__'] | (node._renderFlag & DIRTY_PROP);
            var lastKey = "";
            for (var _a = 0, _b = node.children; _a < _b.length; _a++) {
                var n = _b[_a];
                var key = n.name;
                if (!groups[key])
                    groups[key] = [];
                groups[key].push(n);
                if (keys.indexOf(key) == -1) {
                    if (lastKey.length == 0) { // 当前key肯定要存0号位
                        keys.unshift(key);
                    }
                    else {
                        var idx = keys.indexOf(lastKey);
                        keys.splice(idx + 1, 0, key);
                    }
                }
                lastKey = key;
            }
        }
        if (group.length > 0) {
            this._groups.push(group);
        }
        for (var _c = 0, keys_1 = keys; _c < keys_1.length; _c++) {
            var key = keys_1[_c];
            this._walkByName(groups[key]);
        }
    };
    return BatchAssembler;
}(BaseAssembler_1.default));
exports.default = BatchAssembler;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0Fzc2VtYmxlcnMvQmF0Y2hBc3NlbWJsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaURBQTRDO0FBRTVDLG1CQUFtQjtBQUNuQixJQUFNLFFBQVEsR0FBRyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUM5RSxtQkFBbUI7QUFDbkIsSUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQztBQUNuRixTQUFTO0FBQ1QsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDO0FBRXhCO0lBQTRDLGtDQUFhO0lBRXJEO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBRUQsV0FBVztRQUNILGFBQU8sR0FBcUIsRUFBRSxDQUFDOztJQUh2QyxDQUFDO0lBSUQ7Ozs7T0FJRztJQUNJLG9DQUFXLEdBQWxCLFVBQW1CLElBQXdCLEVBQUUsUUFBYTtRQUN0RCxJQUFHLGlCQUFpQixFQUFFO1lBQ2xCLE9BQVE7U0FDWDtRQUNELElBQUcsQ0FBQyxZQUFZO1lBQUUsT0FBUTtRQUUxQixxQkFBcUI7UUFDckIsSUFBSSxrQkFBa0IsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekYsSUFBSSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxRixJQUFJLFNBQVMsR0FBRyxrQkFBa0IsR0FBRyxnQkFBZ0IsQ0FBQztRQUN0RCxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUs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QUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUM1QjtRQUNELEtBQWlCLFVBQUksRUFBSixhQUFJLEVBQUosa0JBQUksRUFBSixJQUFJLEVBQUU7WUFBbkIsSUFBTSxHQUFHLGFBQUE7WUFDVCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ2pDO0lBQ0wsQ0FBQztJQUdMLHFCQUFDO0FBQUQsQ0F6SUEsQUF5SUMsQ0F6STJDLHVCQUFhLEdBeUl4RCIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlQXNzZW1ibGVyIGZyb20gXCIuL0Jhc2VBc3NlbWJsZXJcIjtcblxuLyoqIOemgeatouWtkOiKgueCueaJp+ihjOeahEZMQUcgKi9cbmNvbnN0IEJBTl9GQUxHID0gKGNjLlJlbmRlckZsb3cuRkxBR19SRU5ERVIgfCBjYy5SZW5kZXJGbG93LkZMQUdfUE9TVF9SRU5ERVIpO1xuLyoqIOWvueWtkOiKgueCueacieW9seWTjeeahEZMQUcgKi9cbmNvbnN0IERJUlRZX1BST1AgPSBjYy5SZW5kZXJGbG93LkZMQUdfT1BBQ0lUWSB8IGNjLlJlbmRlckZsb3cuRkxBR19XT1JMRF9UUkFOU0ZPUk07XG4vKiog5byA5YWzICovXG5sZXQgQkFUQ0hfU1dJVENIID0gdHJ1ZTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0Y2hBc3NlbWJsZXIgZXh0ZW5kcyBCYXNlQXNzZW1ibGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIC8qKiDliIblsYLmuLLmn5MgKi9cbiAgICBwcml2YXRlIF9ncm91cHM6IEFycmF5PGNjLk5vZGVbXT4gPSBbXTtcbiAgICAvKiogXG4gICAgICog6YeN5YaZIFxuICAgICAqIOesrOS4gOatpSwg6K6paXRlbeeahHJlbmRlcuaWueazlemDveS4jeaJp+ihjCwg5Y+q5omn6KGM5aSE55CG5pWw5o2u55qE5pa55rOVIOS9huaYr+S4jeaJp+ihjGZpbGxidWZmZXJz5pa55rOVXG4gICAgICog56ys5LqM5q2lLCDlnKhwb3N0RmlsbEJ1ZmZlcnPkuK3mjInnhafpobrluo8sIOiHquW3seiwg+eUqHJlbmRlcuaWueazlSwg5aGr5YWF5pWw5o2uLCDku6Xovr7liLDlkIjmibnnmoTnm67nmoRcbiAgICAqKi9cbiAgICBwdWJsaWMgZmlsbEJ1ZmZlcnMoY29tcDogY2MuUmVuZGVyQ29tcG9uZW50LCByZW5kZXJlcjogYW55KSB7XG4gICAgICAgIGlmKENDX05BVElWRVJFTkRFUkVSKSB7XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG4gICAgICAgIGlmKCFCQVRDSF9TV0lUQ0gpIHJldHVybiA7XG4gICAgICAgIFxuICAgICAgICAvLyDorrDlvZXlvZPliY3nu5PngrnmmK/lkKbkvJrnu5nlranlrZDnu5PngrnpgKDmiJDlvbHlk41cbiAgICAgICAgbGV0IHdvcmxkVHJhbnNmb3JtRmxhZyA9IHJlbmRlcmVyLndvcmxkTWF0RGlydHkgPyBjYy5SZW5kZXJGbG93LkZMQUdfV09STERfVFJBTlNGT1JNIDogMDtcbiAgICAgICAgbGV0IHdvcmxkT3BhY2l0eUZsYWcgPSByZW5kZXJlci5wYXJlbnRPcGFjaXR5RGlydHkgPyBjYy5SZW5kZXJGbG93LkZMQUdfT1BBQ0lUWV9DT0xPUiA6IDA7XG4gICAgICAgIGxldCBkaXJ0eUZsYWcgPSB3b3JsZFRyYW5zZm9ybUZsYWcgfCB3b3JsZE9wYWNpdHlGbGFnO1xuICAgICAgICBjb21wLm5vZGVbJ19fRGlydHlGbGFnX18nXSA9IGRpcnR5RmxhZztcbiAgICAgICAgdGhpcy5fZ3JvdXBzID0gW107XG4gICAgICAgIHRoaXMuX3dhbGtCeU5hbWUoY29tcC5ub2RlLmNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcG9zdEZpbGxCdWZmZXJzKGNvbXA6IGNjLlJlbmRlckNvbXBvbmVudCwgcmVuZGVyZXI6IGFueSkge1xuICAgICAgICBsZXQgb3JpZ2luV29ybGRNYXREaXJ0eSA9IHJlbmRlcmVyLndvcmxkTWF0RGlydHk7XG4gICAgICAgIGlmKCFCQVRDSF9TV0lUQ0ggfHwgIXRoaXMuX2dyb3VwcyB8fCB0aGlzLl9ncm91cHMubGVuZ3RoIDw9IDApIHJldHVybiA7XG4gICAgICAgIEJBVENIX1NXSVRDSCA9IGZhbHNlO1xuXG4gICAgICAgIGZvcihsZXQgZ3JvdXAgb2YgdGhpcy5fZ3JvdXBzKSB7XG4gICAgICAgICAgICBpZihncm91cC5sZW5ndGggPD0gMCkgY29udGludWU7XG4gICAgICAgICAgICBmb3IobGV0IG5vZGUgb2YgZ3JvdXApIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVuZGVyRmxhZyA9IG5vZGVbJ19fUmVuZGVyRmxhZ19fJ107XG4gICAgICAgICAgICAgICAgbGV0IGRpcnR5RmxhZyA9IG5vZGVbJ19fRGlydHlGbGFnX18nXTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci53b3JsZE1hdERpcnR5ID0gZGlydHlGbGFnID4gMCA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIG5vZGUuX3JlbmRlckZsYWcgfD0gcmVuZGVyRmxhZztcblxuICAgICAgICAgICAgICAgIGlmKHJlbmRlckZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2MuUmVuZGVyRmxvdy5mbG93c1tyZW5kZXJGbGFnXS5fZnVuYyhub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZ3JvdXBzID0gbnVsbDtcbiAgICAgICAgQkFUQ0hfU1dJVENIID0gdHJ1ZTtcbiAgICAgICAgcmVuZGVyZXIud29ybGRNYXREaXJ0eSA9IG9yaWdpbldvcmxkTWF0RGlydHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5pa55qGI5LiAXG4gICAgICog6buY6K6k55qE5bm/5bqm6YGN5Y6G5pa55byPXG4gICAgICog5LyY54K5OiDpgJ/luqbovoPlv6tcbiAgICAgKiDnvLrngrk6IOaWsOWinuaIluWIoOmZpOiKgueCueWPr+iDveS8muWvvOiHtOWQiOaJueWksei0pVxuICAgICAqL1xuICAgIHByaXZhdGUgX3dhbGtEZWZhdWx0KG5vZGVzOiBjYy5Ob2RlW10pOiB2b2lkIHtcbiAgICAgICAgaWYoIW5vZGVzIHx8IG5vZGVzLmxlbmd0aCA8PSAwKSByZXR1cm4gO1xuICAgICAgICBcbiAgICAgICAgbGV0IGNvdW50ID0gbm9kZXNbMF0uY2hpbGRyZW5Db3VudDtcbiAgICAgICAgbGV0IGdyb3VwczogY2MuTm9kZVtdW10gPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8Y291bnQ7IGkrKykge1xuICAgICAgICAgICAgZ3JvdXBzW2ldID0gW107XG4gICAgICAgIH0gICAgICAgIFxuICAgICAgICBsZXQgZ3JvdXAgPSBbXTtcbiAgICAgICAgZm9yKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICAgICAgICAgIGlmKCFub2RlLl9hY3RpdmVJbkhpZXJhcmNoeSB8fCBub2RlLm9wYWNpdHkgPT0gMCkgY29udGludWU7XG4gICAgICAgICAgICBsZXQgZmxhZyA9IG5vZGUuX3JlbmRlckZsYWcgJiBCQU5fRkFMRztcbiAgICAgICAgICAgIGlmKGZsYWcgPiAwKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDooajnpLrov5nkuKpub2Rl6ZyA6KaB5riy5p+TXG4gICAgICAgICAgICAgICAgbm9kZVsnX19SZW5kZXJGbGFnX18nXSA9IGZsYWc7XG4gICAgICAgICAgICAgICAgbm9kZS5fcmVuZGVyRmxhZyAmPSB+ZmxhZzsgICAgICAgICAgLy8g5Y675o6J5a+55bqU55qEZmxhZ1xuICAgICAgICAgICAgICAgIGdyb3VwLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBub2RlWydfX0RpcnR5RmxhZ19fJ10gPSBub2RlLnBhcmVudFsnX19EaXJ0eUZsYWdfXyddIHwgKG5vZGUuX3JlbmRlckZsYWcgJiBESVJUWV9QUk9QKTtcbiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBncm91cHNbaV0ucHVzaChub2RlLmNoaWxkcmVuW2ldKTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZ3JvdXAubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fZ3JvdXBzLnB1c2goZ3JvdXApO1xuICAgICAgICB9XG4gICAgICAgIGZvcihjb25zdCBncm91cCBvZiBncm91cHMpIHtcbiAgICAgICAgICAgIHRoaXMuX3dhbGtEZWZhdWx0KGdyb3VwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaWueahiOS6jFxuICAgICAqIOWQjOWQjee7k+eCueWQjOaJueasoea4suafk1xuICAgICAqIOS8mOeCuTog5paw5aKe5oiW5Yig6Zmk6IqC54K55LiN5Lya5a+86Ie05ZCI5om55aSx6LSlXG4gICAgICog57y654K5OiDlhYTlvJ/nu5PngrnkuI3og73lkIzlkI0s6YCf5bqm5rKh5pa55qGI5LiA5b+rLOWGheWtmOa2iOiAl+S5n+Wkp1xuICAgICAqL1xuICAgIHByaXZhdGUgX3dhbGtCeU5hbWUobm9kZXM6IGNjLk5vZGVbXSkge1xuICAgICAgICBpZighbm9kZXMgfHwgbm9kZXMubGVuZ3RoIDw9IDApIHJldHVybiA7XG4gICAgICAgIFxuICAgICAgICBsZXQgZ3JvdXBzOiB7W2tleTogc3RyaW5nXTogY2MuTm9kZVtdfSA9IHt9O1xuICAgICAgICBsZXQgZ3JvdXAgPSBbXTtcbiAgICAgICAgbGV0IGtleXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGZvcihjb25zdCBub2RlIG9mIG5vZGVzKSB7XG4gICAgICAgICAgICBpZighbm9kZS5fYWN0aXZlSW5IaWVyYXJjaHkgfHwgbm9kZS5vcGFjaXR5ID09IDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGZsYWcgPSBub2RlLl9yZW5kZXJGbGFnICYgQkFOX0ZBTEc7XG4gICAgICAgICAgICBpZihmbGFnID4gMCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6KGo56S66L+Z5Liqbm9kZemcgOimgea4suafk1xuICAgICAgICAgICAgICAgIG5vZGVbJ19fUmVuZGVyRmxhZ19fJ10gPSBmbGFnO1xuICAgICAgICAgICAgICAgIG5vZGUuX3JlbmRlckZsYWcgJj0gfmZsYWc7ICAgICAgICAgIC8vIOWOu+aOieWvueW6lOeahGZsYWdcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfSAgICAgICAgICAgICBcblxuICAgICAgICAgICAgbm9kZVsnX19EaXJ0eUZsYWdfXyddID0gbm9kZS5wYXJlbnRbJ19fRGlydHlGbGFnX18nXSB8IChub2RlLl9yZW5kZXJGbGFnICYgRElSVFlfUFJPUCk7XG5cbiAgICAgICAgICAgIGxldCBsYXN0S2V5ID0gXCJcIjtcbiAgICAgICAgICAgIGZvcihjb25zdCBuIG9mIG5vZGUuY2hpbGRyZW4pIHsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IG4ubmFtZTtcbiAgICAgICAgICAgICAgICBpZighZ3JvdXBzW2tleV0pIGdyb3Vwc1trZXldID0gW107XG4gICAgICAgICAgICAgICAgZ3JvdXBzW2tleV0ucHVzaChuKTtcblxuICAgICAgICAgICAgICAgIGlmKGtleXMuaW5kZXhPZihrZXkpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGxhc3RLZXkubGVuZ3RoID09IDApIHsgICAgICAgICAgIC8vIOW9k+WJjWtleeiCr+WumuimgeWtmDDlj7fkvY1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMudW5zaGlmdChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWR4ID0ga2V5cy5pbmRleE9mKGxhc3RLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5zcGxpY2UoaWR4KzEsIDAsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdEtleSA9IGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihncm91cC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ncm91cHMucHVzaChncm91cCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICB0aGlzLl93YWxrQnlOYW1lKGdyb3Vwc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/DrawBorad.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5d19bkVv4BM774fPMww+bzv', 'DrawBorad');
// Script/Common/Components/DrawBorad.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var DrawingBoard_1 = require("../Utils/DrawingBoard");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DrawBorad = /** @class */ (function (_super) {
    __extends(DrawBorad, _super);
    function DrawBorad() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ndBroad = null;
        _this._drawingBroad = null;
        _this._texture = new cc.Texture2D();
        _this._sprite = null;
        _this.broadYMax = -1; // 画板上边界最大值
        _this.broadXMin = -1; // 画板左边界最小值
        _this._touching = false;
        return _this;
    }
    DrawBorad.prototype.onLoad = function () {
        if (!this.ndBroad) {
            this.ndBroad = this.node;
        }
        this._sprite = this.ndBroad.getComponent(cc.Sprite);
        if (!this._sprite) {
            this.ndBroad.addComponent(cc.Sprite);
        }
        this._drawingBroad = new DrawingBoard_1.default(this.ndBroad.width, this.ndBroad.height);
        this._drawingBroad.setColor(0, 0, 0, 255);
        this._drawingBroad.setLineWidth(5);
        this._touching = false;
        var worldPos = this.ndBroad.convertToWorldSpaceAR(cc.v2(0, 0));
        this.broadYMax = worldPos.y + this.ndBroad.height / 2;
        this.broadXMin = worldPos.x - this.ndBroad.width / 2;
        this.ndBroad.on(cc.Node.EventType.TOUCH_START, this.touchStart, this);
        this.ndBroad.on(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);
        this.ndBroad.on(cc.Node.EventType.TOUCH_CANCEL, this.touchCancel, this);
        this.ndBroad.on(cc.Node.EventType.TOUCH_END, this.touchEnd, this);
    };
    DrawBorad.prototype.start = function () {
    };
    DrawBorad.prototype.setData = function (data) {
        this._drawingBroad.setData(data);
        this.updateTexture(this._drawingBroad.getData(), this.ndBroad.width, this.ndBroad.height);
    };
    DrawBorad.prototype.touchStart = function (e) {
        if (this._touching)
            return;
        this._touching = true;
        var worldPos = e.getLocation();
        this._drawingBroad.moveTo(worldPos.x - this.broadXMin, this.getRealY(worldPos.y));
    };
    DrawBorad.prototype.touchMove = function (e) {
        if (!this._touching)
            return;
        var worldPos = e.getLocation();
        this._drawingBroad.lineTo(worldPos.x - this.broadXMin, this.getRealY(worldPos.y));
        this.updateTexture(this._drawingBroad.getData(), this.ndBroad.width, this.ndBroad.height);
    };
    DrawBorad.prototype.touchCancel = function (e) {
        this._touching = false;
    };
    DrawBorad.prototype.touchEnd = function (e) {
        this._touching = false;
    };
    DrawBorad.prototype.onDestroy = function () {
        this.ndBroad.off(cc.Node.EventType.TOUCH_START, this.touchStart, this);
        this.ndBroad.off(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);
        this.ndBroad.off(cc.Node.EventType.TOUCH_CANCEL, this.touchCancel, this);
        this.ndBroad.off(cc.Node.EventType.TOUCH_END, this.touchEnd, this);
    };
    DrawBorad.prototype.setColor = function (r, g, b, a) {
        this._drawingBroad.setColor(r, g, b, a);
    };
    DrawBorad.prototype.setLineWidth = function (width) {
        this._drawingBroad.setLineWidth(width);
    };
    DrawBorad.prototype.setPen = function () {
        this.setColor(0, 0, 0, 255);
        this.setLineWidth(5);
    };
    DrawBorad.prototype.setReaser = function () {
        this.setColor(0, 0, 0, 0);
        this.setLineWidth(20);
    };
    DrawBorad.prototype.getTexture = function () {
        return this._texture;
    };
    DrawBorad.prototype.updateTexture = function (data, width, height) {
        this._texture.initWithData(data, cc.Texture2D.PixelFormat.RGBA8888, width, height);
        this._sprite.spriteFrame.setTexture(this._texture);
        this._sprite.markForRender(true);
    };
    DrawBorad.prototype.getRealY = function (y) {
        if (this._sprite.spriteFrame['_flipY']) {
            return this.broadYMax - (cc.visibleRect.height - y);
        }
        return this.broadYMax - y;
    };
    __decorate([
        property(cc.Node)
    ], DrawBorad.prototype, "ndBroad", void 0);
    DrawBorad = __decorate([
        ccclass
    ], DrawBorad);
    return DrawBorad;
}(cc.Component));
exports.default = DrawBorad;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvRHJhd0JvcmFkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNEQUFpRDtBQUUzQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF1Qyw2QkFBWTtJQUFuRDtRQUFBLHFFQTBHQztRQXZHRyxhQUFPLEdBQVksSUFBSSxDQUFDO1FBRWhCLG1CQUFhLEdBQWlCLElBQUksQ0FBQztRQUNuQyxjQUFRLEdBQWlCLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQzVDLGFBQU8sR0FBYyxJQUFJLENBQUM7UUFFMUIsZUFBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQVMsV0FBVztRQUNuQyxlQUFTLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBUyxXQUFXO1FBQ25DLGVBQVMsR0FBRyxLQUFLLENBQUM7O0lBK0Y5QixDQUFDO0lBNUZHLDBCQUFNLEdBQU47UUFDSSxJQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNkLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztTQUM1QjtRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BELElBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3hDO1FBQ0QsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLHNCQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMvRSxJQUFJLENB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LENBMUdzQyxFQUFFLENBQUMsU0FBUyxHQTBHbEQ7a0JBMUdvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERyYXdpbmdCb2FyZCBmcm9tIFwiLi4vVXRpbHMvRHJhd2luZ0JvYXJkXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhd0JvcmFkIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIG5kQnJvYWQ6IGNjLk5vZGUgPSBudWxsO1xuXG4gICAgcHJpdmF0ZSBfZHJhd2luZ0Jyb2FkOiBEcmF3aW5nQm9hcmQgPSBudWxsO1xuICAgIHByaXZhdGUgX3RleHR1cmU6IGNjLlRleHR1cmUyRCA9IG5ldyBjYy5UZXh0dXJlMkQoKTtcbiAgICBwcml2YXRlIF9zcHJpdGU6IGNjLlNwcml0ZSA9IG51bGw7XG5cbiAgICBwcml2YXRlIGJyb2FkWU1heCA9IC0xOyAgICAgICAgIC8vIOeUu+adv+S4iui+ueeVjOacgOWkp+WAvFxuICAgIHByaXZhdGUgYnJvYWRYTWluID0gLTE7ICAgICAgICAgLy8g55S75p2/5bem6L6555WM5pyA5bCP5YC8XG4gICAgcHJpdmF0ZSBfdG91Y2hpbmcgPSBmYWxzZTtcblxuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICBpZighdGhpcy5uZEJyb2FkKSB7XG4gICAgICAgICAgICB0aGlzLm5kQnJvYWQgPSB0aGlzLm5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3ByaXRlID0gdGhpcy5uZEJyb2FkLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgICAgICBpZighdGhpcy5fc3ByaXRlKSB7XG4gICAgICAgICAgICB0aGlzLm5kQnJvYWQuYWRkQ29tcG9uZW50KGNjLlNwcml0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHJhd2luZ0Jyb2FkID0gbmV3IERyYXdpbmdCb2FyZCh0aGlzLm5kQnJvYWQud2lkdGgsIHRoaXMubmRCcm9hZC5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9kcmF3aW5nQnJvYWQuc2V0Q29sb3IoMCwgMCwgMCwgMjU1KTtcbiAgICAgICAgdGhpcy5fZHJhd2luZ0Jyb2FkLnNldExpbmVXaWR0aCg1KTtcblxuICAgICAgICB0aGlzLl90b3VjaGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGxldCB3b3JsZFBvcyA9IHRoaXMubmRCcm9hZC5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwgMCkpXG4gICAgICAgIHRoaXMuYnJvYWRZTWF4ID0gd29ybGRQb3MueSArIHRoaXMubmRCcm9hZC5oZWlnaHQvMiA7XG4gICAgICAgIHRoaXMuYnJvYWRYTWluID0gd29ybGRQb3MueCAtIHRoaXMubmRCcm9hZC53aWR0aC8yO1xuXG4gICAgICAgIHRoaXMubmRCcm9hZC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgdGhpcy50b3VjaFN0YXJ0LCB0aGlzKTtcbiAgICAgICAgdGhpcy5uZEJyb2FkLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMudG91Y2hNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5uZEJyb2FkLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy50b3VjaENhbmNlbCwgdGhpcyk7XG4gICAgICAgIHRoaXMubmRCcm9hZC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMudG91Y2hFbmQsIHRoaXMpO1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0RGF0YShkYXRhOiBhbnkpIHtcbiAgICAgICAgdGhpcy5fZHJhd2luZ0Jyb2FkLnNldERhdGEoZGF0YSk7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0aGlzLl9kcmF3aW5nQnJvYWQuZ2V0RGF0YSgpLCB0aGlzLm5kQnJvYWQud2lkdGgsIHRoaXMubmRCcm9hZC5oZWlnaHQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdG91Y2hTdGFydChlOiBjYy5FdmVudC5FdmVudFRvdWNoKSB7XG4gICAgICAgIGlmKHRoaXMuX3RvdWNoaW5nKSByZXR1cm4gO1xuICAgICAgICB0aGlzLl90b3VjaGluZyA9IHRydWU7XG4gICAgICAgIGxldCB3b3JsZFBvcyA9IGUuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgdGhpcy5fZHJhd2luZ0Jyb2FkLm1vdmVUbyh3b3JsZFBvcy54LXRoaXMuYnJvYWRYTWluLCB0aGlzLmdldFJlYWxZKHdvcmxkUG9zLnkpKTtcbiAgICB9XG4gICAgcHJpdmF0ZSB0b3VjaE1vdmUoZTogY2MuRXZlbnQuRXZlbnRUb3VjaCkge1xuICAgICAgICBpZighdGhpcy5fdG91Y2hpbmcpIHJldHVybiA7XG4gICAgICAgIGxldCB3b3JsZFBvcyA9IGUuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgdGhpcy5fZHJhd2luZ0Jyb2FkLmxpbmVUbyh3b3JsZFBvcy54LXRoaXMuYnJvYWRYTWluLCB0aGlzLmdldFJlYWxZKHdvcmxkUG9zLnkpKTtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKHRoaXMuX2RyYXdpbmdCcm9hZC5nZXREYXRhKCksIHRoaXMubmRCcm9hZC53aWR0aCwgdGhpcy5uZEJyb2FkLmhlaWdodCk7XG4gICAgfVxuICAgIHByaXZhdGUgdG91Y2hDYW5jZWwoZTogY2MuRXZlbnQuRXZlbnRUb3VjaCkge1xuICAgICAgICB0aGlzLl90b3VjaGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBwcml2YXRlIHRvdWNoRW5kKGU6IGNjLkV2ZW50LkV2ZW50VG91Y2gpIHtcbiAgICAgICAgdGhpcy5fdG91Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMubmRCcm9hZC5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMudG91Y2hTdGFydCwgdGhpcyk7XG4gICAgICAgIHRoaXMubmRCcm9hZC5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy50b3VjaE1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLm5kQnJvYWQub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCwgdGhpcy50b3VjaENhbmNlbCwgdGhpcyk7XG4gICAgICAgIHRoaXMubmRCcm9hZC5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLnRvdWNoRW5kLCB0aGlzKTtcbiAgICB9XG5cbiAgICBzZXRDb2xvcihyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBhOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fZHJhd2luZ0Jyb2FkLnNldENvbG9yKHIsIGcsIGIsIGEpO1xuICAgIH1cbiAgICBzZXRMaW5lV2lkdGgod2lkdGg6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9kcmF3aW5nQnJvYWQuc2V0TGluZVdpZHRoKHdpZHRoKTtcbiAgICB9XG4gICAgc2V0UGVuKCkge1xuICAgICAgICB0aGlzLnNldENvbG9yKDAsIDAsIDAsIDI1NSk7XG4gICAgICAgIHRoaXMuc2V0TGluZVdpZHRoKDUpO1xuICAgIH1cbiAgICBzZXRSZWFzZXIoKSB7XG4gICAgICAgIHRoaXMuc2V0Q29sb3IoMCwgMCwgMCwgMCk7XG4gICAgICAgIHRoaXMuc2V0TGluZVdpZHRoKDIwKTtcbiAgICB9XG5cbiAgICBnZXRUZXh0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVRleHR1cmUoZGF0YTogYW55LCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLl90ZXh0dXJlLmluaXRXaXRoRGF0YShkYXRhLCBjYy5UZXh0dXJlMkQuUGl4ZWxGb3JtYXQuUkdCQTg4ODgsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLl9zcHJpdGUuc3ByaXRlRnJhbWUuc2V0VGV4dHVyZSh0aGlzLl90ZXh0dXJlKVxuICAgICAgICB0aGlzLl9zcHJpdGUubWFya0ZvclJlbmRlcih0cnVlKVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UmVhbFkoeTogbnVtYmVyKSB7XG4gICAgICAgIGlmKHRoaXMuX3Nwcml0ZS5zcHJpdGVGcmFtZVsnX2ZsaXBZJ10pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJyb2FkWU1heCAtIChjYy52aXNpYmxlUmVjdC5oZWlnaHQteSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnJvYWRZTWF4IC0geTtcbiAgICB9XG5cblxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UIGame_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9eb95Sc8n9DtbkW3ATza3Qx', 'UIGame_Auto');
// Script/AutoScripts/UIGame_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIGame_Auto = /** @class */ (function (_super) {
    __extends(UIGame_Auto, _super);
    function UIGame_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Back = null;
        _this.GuideNode = null;
        _this.LblTip = null;
        _this.guidNode = null;
        _this.toMap = null;
        _this.items = null;
        _this.buldtool = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UIGame_Auto.prototype, "Back", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIGame_Auto.prototype, "GuideNode", void 0);
    __decorate([
        property(cc.Label)
    ], UIGame_Auto.prototype, "LblTip", void 0);
    __decorate([
        property(cc.Node)
    ], UIGame_Auto.prototype, "guidNode", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIGame_Auto.prototype, "toMap", void 0);
    __decorate([
        property(cc.Node)
    ], UIGame_Auto.prototype, "items", void 0);
    __decorate([
        property(cc.Node)
    ], UIGame_Auto.prototype, "buldtool", void 0);
    UIGame_Auto = __decorate([
        ccclass
    ], UIGame_Auto);
    return UIGame_Auto;
}(cc.Component));
exports.default = UIGame_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlHYW1lX0F1dG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZ0VBQTBEO0FBRXBELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRTFDO0lBQXlDLCtCQUFZO0lBQXJEO1FBQUEscUVBc0JDO1FBcEJBLFVBQUksR0FBZSxJQUFJLENBQUM7UUFHckIsZUFBUyxHQUFhLElBQUksQ0FBQztRQUczQixZQUFNLEdBQVcsSUFBSSxDQUFDO1FBR3RCLGNBQVEsR0FBVSxJQUFJLENBQUM7UUFHdkIsV0FBSyxHQUFhLElBQUksQ0FBQztRQUd2QixXQUFLLEdBQVUsSUFBSSxDQUFDO1FBR3BCLGNBQVEsR0FBVSxJQUFJLENBQUM7O0lBRTNCLENBQUM7SUFwQkE7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQzs2Q0FDRztJQUdyQjtRQURGLFFBQVEsQ0FBQyxvQkFBVSxDQUFDO2tEQUNTO0lBRzNCO1FBREYsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7K0NBQ007SUFHdEI7UUFERixRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztpREFDUTtJQUd2QjtRQURGLFFBQVEsQ0FBQyxvQkFBVSxDQUFDOzhDQUNLO0lBR3ZCO1FBREYsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7OENBQ0s7SUFHcEI7UUFERixRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztpREFDUTtJQXBCTixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBc0IvQjtJQUFELGtCQUFDO0NBdEJELEFBc0JDLENBdEJ3QyxFQUFFLENBQUMsU0FBUyxHQXNCcEQ7a0JBdEJvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgQnV0dG9uUGx1cyBmcm9tIFwiLi8uLi9Db21tb24vQ29tcG9uZW50cy9CdXR0b25QbHVzXCJcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlHYW1lX0F1dG8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0QmFjazogQnV0dG9uUGx1cyA9IG51bGw7XG5cblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG4gICAgR3VpZGVOb2RlOiBCdXR0b25QbHVzPW51bGw7XG5cblx0QHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIExibFRpcDogY2MuTGFiZWw9bnVsbDtcblxuXHRAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBndWlkTm9kZTogY2MuTm9kZT1udWxsO1xuXG5cdEBwcm9wZXJ0eShCdXR0b25QbHVzKVxuICAgIHRvTWFwOiBCdXR0b25QbHVzPW51bGw7XG5cblx0QHByb3BlcnR5KGNjLk5vZGUpXG4gICAgaXRlbXM6IGNjLk5vZGU9bnVsbDtcblxuXHRAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBidWxkdG9vbDogY2MuTm9kZT1udWxsO1xuIFxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/MeshTexture.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1acd7QWgaNGAIz6Mkh6ICTD', 'MeshTexture');
// Script/Common/Components/MeshTexture.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var MeshAssembler_1 = require("../Assemblers/MeshAssembler");
var _a = cc._decorator, ccclass = _a.ccclass, menu = _a.menu, executeInEditMode = _a.executeInEditMode, mixins = _a.mixins, property = _a.property;
var MeshTexture = /** @class */ (function (_super) {
    __extends(MeshTexture, _super);
    function MeshTexture() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._texture = null;
        _this.step = 10;
        _this.srcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;
        _this.dstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;
        _this._assembler = null;
        return _this;
    }
    Object.defineProperty(MeshTexture.prototype, "texture", {
        get: function () {
            return this._texture;
        },
        set: function (val) {
            this._texture = val;
            this.node.width = val.width;
            this.node.height = val.height;
            this._updateMaterial();
        },
        enumerable: false,
        configurable: true
    });
    MeshTexture.prototype._updateVerts = function () {
        this.setVertsDirty();
    };
    MeshTexture.prototype._updateMaterial = function () {
        var texture = this._texture;
        var material = this.getMaterial(0);
        if (material) {
            if (material.getDefine("USE_TEXTURE") !== undefined) {
                material.define("USE_TEXTURE", true);
            }
            material.setProperty("texture", texture);
        }
        this['__proto__']._updateBlendFunc.call(this);
        this.setVertsDirty();
    };
    MeshTexture.prototype._validateRender = function () {
    };
    MeshTexture.prototype._resetAssembler = function () {
        var assembler = this._assembler = window["textureAssember"] = new MeshAssembler_1.default();
        assembler.init(this);
        this._updateColor();
        this.setVertsDirty();
    };
    MeshTexture.prototype.getPolygonCenter = function (polygon) {
        var x = 0, y = 0;
        for (var i = 0; i < polygon.length; i++) {
            x += polygon[i].x;
            y += polygon[i].y;
        }
        x = x / polygon.length;
        y = y / polygon.length;
        return cc.v2(x, y);
    };
    MeshTexture.prototype.tweenVec2 = function (from, to, duration, onUpdate, onComplete, delay) {
        if (delay === void 0) { delay = 0; }
        var o = { _value: from };
        Object.defineProperty(o, 'position', {
            get: function () { return o._value; },
            set: function (v) { o._value = v; onUpdate && onUpdate(o._value); },
        });
        var tween = cc.tween(o).delay(delay).to(duration, { position: to }).call(onComplete);
        tween.start();
        return tween;
    };
    MeshTexture.prototype.tweenVec2Bezier = function (from, to, duration, onUpdate, onComplete, delay) {
        if (delay === void 0) { delay = 0; }
        var o = { _value: from };
        Object.defineProperty(o, 'position', {
            get: function () { return o._value; },
            set: function (v) { o._value = v; onUpdate && onUpdate(o._value); },
        });
        // let tween = cc.tween(o).delay(delay).to(duration, { position: to }).call(onComplete);
        var tween = cc.tween(o).delay(delay).bezierTo(duration, cc.v2(from.x, from.y + 100), cc.v2(to.x, to.y + 100), to).call(onComplete);
        tween.start();
        return tween;
    };
    MeshTexture.prototype.doScaleEffect = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var rectCount = _this._assembler.getRectCount();
            var pos = _this.node.convertToWorldSpaceAR(cc.v2(0, 0));
            var _loop_1 = function (i) {
                var arr = _this._assembler.getRect(i);
                var center = _this.getPolygonCenter(arr);
                var dir = center.sub(pos).normalize();
                _this.tweenVec2(cc.v2(0, 0), dir.mul(1.5), 0.3, function (dt) {
                    _this._assembler.setRect(i, [
                        arr[0].addSelf(dt),
                        arr[1].addSelf(dt),
                        arr[2].addSelf(dt),
                        arr[3].addSelf(dt)
                    ]);
                }, function () {
                    if (i == rectCount - 1)
                        resolve(true);
                });
            };
            for (var i = 0; i < rectCount; i++) {
                _loop_1(i);
            }
        });
    };
    MeshTexture.prototype.doTextureMove = function (e, data) {
        return __awaiter(this, void 0, void 0, function () {
            var dir, rectCount, pos, _loop_2, this_1, i;
            var _this = this;
            return __generator(this, function (_a) {
                dir = cc.v2(-1, 0);
                if (data == 'right') {
                    dir = cc.v2(1, 0);
                }
                rectCount = this._assembler.getRectCount();
                pos = this.node.convertToWorldSpaceAR(cc.v2(0, 0));
                _loop_2 = function (i) {
                    var idx = rectCount - i - 1;
                    var arr = this_1._assembler.getRect(idx);
                    var targetPos = dir.mul(400);
                    this_1.tweenVec2Bezier(cc.v2(0, 0), targetPos, 1, function (dt) {
                        _this._assembler.setRect(idx, [
                            arr[0].add(dt),
                            arr[1].add(dt),
                            arr[2].add(dt),
                            arr[3].add(dt),
                        ]);
                    }, function () {
                        _this._assembler.setRect(idx, [
                            arr[0].add(targetPos),
                            arr[1].add(targetPos),
                            arr[2].add(targetPos),
                            arr[3].add(targetPos),
                        ]);
                    }, Math.floor(i / 40) * 0.1);
                };
                this_1 = this;
                for (i = 0; i < rectCount; i++) {
                    _loop_2(i);
                }
                return [2 /*return*/];
            });
        });
    };
    __decorate([
        property(cc.Texture2D)
    ], MeshTexture.prototype, "_texture", void 0);
    __decorate([
        property(cc.Texture2D)
    ], MeshTexture.prototype, "texture", null);
    __decorate([
        property({ displayName: "步长" })
    ], MeshTexture.prototype, "step", void 0);
    __decorate([
        property({ type: cc.Enum(cc.macro.BlendFactor), override: true })
    ], MeshTexture.prototype, "srcBlendFactor", void 0);
    __decorate([
        property({ type: cc.Enum(cc.macro.BlendFactor), override: true })
    ], MeshTexture.prototype, "dstBlendFactor", void 0);
    MeshTexture = __decorate([
        ccclass,
        executeInEditMode,
        menu('i18n:MAIN_MENU.component.ui/MeshTexture'),
        mixins(cc.BlendFunc)
    ], MeshTexture);
    return MeshTexture;
}(cc.RenderComponent));
exports.default = MeshTexture;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvTWVzaFRleHR1cmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkRBQTBEO0FBRXBELElBQUEsS0FBdUQsRUFBRSxDQUFDLFVBQVUsRUFBbkUsT0FBTyxhQUFBLEVBQUUsSUFBSSxVQUFBLEVBQUUsaUJBQWlCLHVCQUFBLEVBQUUsTUFBTSxZQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBTTNFO0lBQXlDLCtCQUFrQjtJQUEzRDtRQUFBLHFFQWlKQztRQTlJRyxjQUFRLEdBQWlCLElBQUksQ0FBQztRQVk5QixVQUFJLEdBQUcsRUFBRSxDQUFDO1FBR1Ysb0JBQWMsR0FBeUIsRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDO1FBR3RFLG9CQUFjLEdBQXlCLEVBQUUsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDO1FBdUJ6RSxnQkFBVSxHQUFvQixJQUFJLENBQUM7O0lBcUc5QyxDQUFDO0lBNUlHLHNCQUFJLGdDQUFPO2FBQVg7WUFDSSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQzthQUNELFVBQVksR0FBaUI7WUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7WUFDcEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDM0QsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQzNCLENBQUM7OztPQUxBO0lBZ0JPLGtDQUFZLEdBQXBCO1FBQ0ksSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFTSxxQ0FBZSxHQUF0QjtRQUNJLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDNUIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQyxJQUFHLFFBQVEsRUFBRTtZQUNULElBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsS0FBSyxTQUFTLEVBQUU7Z0JBQ2hELFFBQVEsQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ3hDO1lBQ0QsUUFBUSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDNUM7UUFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU0scUNBQWUsR0FBdEI7SUFFQSxDQUFDO0lBR00scUNBQWUsR0FBdEI7UUFDSSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLElBQUksdUJBQWUsRUFBRSxDQUFDO1FBQ3BGLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBR08sc0NBQWdCLEdBQXhCLFVBQXlCLE9BQWtCO1FBQ3ZDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2hDLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xCLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3JCO1FBQ0QsQ0FBQyxHQUFHLENBQUMsR0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQ3JCLENBQUMsR0FBRyxDQUFDLEdBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUNyQixPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO0lBQ3RCLENBQUM7SUFFTSwrQkFBUyxHQUFoQixVQUFpQixJQUFhLEVBQUUsRUFBVyxFQUFFLFFBQWdCLEVBQUUsUUFBOEIsRUFBRSxVQUFxQixFQUFFLEtBQWlCO1FBQWpCLHNCQUFBLEVBQUEsU0FBaUI7UUFDbkksSUFBSSxDQUFDLEdBQTRCLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBQyxDQUFDO1FBQ2hELE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLFVBQVUsRUFBRTtZQUNqQyxHQUFHLEVBQUUsY0FBTSxPQUFBLENBQUMsQ0FBQyxNQUFNLEVBQVIsQ0FBUTtZQUNuQixHQUFHLEVBQUUsVUFBQyxDQUFVLElBQU8sQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDekUsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNyRixLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDZCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU0scUNBQWUsR0FBdEIsVUFBdUIsSUFBYSxFQUFFLEVBQVcsRUFBRSxRQUFnQixFQUFFLFFBQThCLEVBQUUsVUFBcUIsRUFBRSxLQUFpQjtRQUFqQixzQkFBQSxFQUFBLFNBQWlCO1FBQ3pJLElBQUksQ0FBQyxHQUE0QixFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUMsQ0FBQztRQUNoRCxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUU7WUFDakMsR0FBRyxFQUFFLGNBQU0sT0FBQSxDQUFDLENBQUMsTUFBTSxFQUFSLENBQVE7WUFDbkIsR0FBRyxFQUFFLFVBQUMsQ0FBVSxJQUFPLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3pFLENBQUMsQ0FBQztRQUNILHdGQUF3RjtRQUN4RixJQUFJLEtBQUssR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNqSSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDZCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU0sbUNBQWEsR0FBcEI7UUFBQSxpQkF3QkM7UUF2QkcsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1lBQy9CLElBQUksU0FBUyxHQUFHLEtBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDL0MsSUFBSSxHQUFHLEdBQUcsS0FBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO29DQUUvQyxDQUFDO2dCQUNMLElBQUksR0FBRyxHQUFHLEtBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUVyQyxJQUFJLE1BQU0sR0FBRyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3hDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBRXRDLEtBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsVUFBQyxFQUFXO29CQUN2RCxLQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUU7d0JBQ3ZCLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO3dCQUNsQixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQzt3QkFDbEIsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7d0JBQ2xCLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO3FCQUNyQixDQUFDLENBQUM7Z0JBQ1AsQ0FBQyxFQUFFO29CQUNDLElBQUcsQ0FBQyxJQUFJLFNBQVMsR0FBQyxDQUFDO3dCQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDdkMsQ0FBQyxDQUFDLENBQUM7O1lBZlAsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUU7d0JBQXJCLENBQUM7YUFnQlI7UUFDTCxDQUFDLENBQUMsQ0FBQTtJQUVOLENBQUM7SUFFWSxtQ0FBYSxHQUExQixVQUEyQixDQUFDLEVBQUUsSUFBSTs7Ozs7Z0JBQzFCLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN2QixJQUFHLElBQUksSUFBSSxPQUFPLEVBQUU7b0JBQ2hCLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtpQkFDcEI7Z0JBRUcsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQzNDLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7b0NBRS9DLENBQUM7b0JBQ0wsSUFBSSxHQUFHLEdBQUcsU0FBUyxHQUFHLENBQUMsR0FBRSxDQUFDLENBQUM7b0JBQzNCLElBQUksR0FBRyxHQUFHLE9BQUssVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFFdkMsSUFBSSxTQUFTLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDN0IsT0FBSyxlQUFlLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxVQUFDLEVBQVc7d0JBQ3hELEtBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRTs0QkFDekIsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7NEJBQ2QsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7NEJBQ2QsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7NEJBQ2QsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7eUJBQ2pCLENBQUMsQ0FBQztvQkFDUCxDQUFDLEVBQUU7d0JBQ0MsS0FBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFOzRCQUN6QixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQzs0QkFDckIsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUM7NEJBQ3JCLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDOzRCQUNyQixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQzt5QkFDeEIsQ0FBQyxDQUFDO29CQUNQLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQzs7O2dCQW5CL0IsS0FBUSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFOzRCQUFyQixDQUFDO2lCQW9CUjs7OztLQUNKO0lBNUlEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7aURBQ087SUFFOUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQzs4Q0FHdEI7SUFRRDtRQURDLFFBQVEsQ0FBQyxFQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUMsQ0FBQzs2Q0FDcEI7SUFHVjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFDO3VEQUNNO0lBR3RFO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7dURBQ2dCO0lBckIvRCxXQUFXO1FBSi9CLE9BQU87UUFDUCxpQkFBaUI7UUFDakIsSUFBSSxDQUFDLHlDQUF5QyxDQUFDO1FBQy9DLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDO09BQ0EsV0FBVyxDQWlKL0I7SUFBRCxrQkFBQztDQWpKRCxBQWlKQyxDQWpKd0MsRUFBRSxDQUFDLGVBQWUsR0FpSjFEO2tCQWpKb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTY3JvbGxBc3NlbWJsZXIgZnJvbSBcIi4uL0Fzc2VtYmxlcnMvTWVzaEFzc2VtYmxlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgbWVudSwgZXhlY3V0ZUluRWRpdE1vZGUsIG1peGlucywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbkBleGVjdXRlSW5FZGl0TW9kZVxuQG1lbnUoJ2kxOG46TUFJTl9NRU5VLmNvbXBvbmVudC51aS9NZXNoVGV4dHVyZScpXG5AbWl4aW5zKGNjLkJsZW5kRnVuYylcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc2hUZXh0dXJlIGV4dGVuZHMgY2MuUmVuZGVyQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eShjYy5UZXh0dXJlMkQpXG4gICAgX3RleHR1cmU6IGNjLlRleHR1cmUyRCA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLlRleHR1cmUyRClcbiAgICBnZXQgdGV4dHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgfVxuICAgIHNldCB0ZXh0dXJlKHZhbDogY2MuVGV4dHVyZTJEKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWw7XG4gICAgICAgIHRoaXMubm9kZS53aWR0aCA9IHZhbC53aWR0aDsgdGhpcy5ub2RlLmhlaWdodCA9IHZhbC5oZWlnaHQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1hdGVyaWFsKCk7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHtkaXNwbGF5TmFtZTogXCLmraXplb9cIn0pXG4gICAgc3RlcCA9IDEwO1xuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5FbnVtKGNjLm1hY3JvLkJsZW5kRmFjdG9yKSwgb3ZlcnJpZGU6IHRydWV9KVxuICAgIHNyY0JsZW5kRmFjdG9yOiBjYy5tYWNyby5CbGVuZEZhY3RvciA9IGNjLm1hY3JvLkJsZW5kRmFjdG9yLlNSQ19BTFBIQTtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuRW51bShjYy5tYWNyby5CbGVuZEZhY3RvciksIG92ZXJyaWRlOiB0cnVlfSlcbiAgICBkc3RCbGVuZEZhY3RvcjogY2MubWFjcm8uQmxlbmRGYWN0b3IgPSBjYy5tYWNyby5CbGVuZEZhY3Rvci5PTkVfTUlOVVNfU1JDX0FMUEhBO1xuXG4gICAgcHJpdmF0ZSBfdXBkYXRlVmVydHMoKSB7XG4gICAgICAgIHRoaXMuc2V0VmVydHNEaXJ0eSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBfdXBkYXRlTWF0ZXJpYWwoKSB7XG4gICAgICAgIGxldCB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgbGV0IG1hdGVyaWFsID0gdGhpcy5nZXRNYXRlcmlhbCgwKTtcbiAgICAgICAgaWYobWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIGlmKG1hdGVyaWFsLmdldERlZmluZShcIlVTRV9URVhUVVJFXCIpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5kZWZpbmUoXCJVU0VfVEVYVFVSRVwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdGVyaWFsLnNldFByb3BlcnR5KFwidGV4dHVyZVwiLCB0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzWydfX3Byb3RvX18nXS5fdXBkYXRlQmxlbmRGdW5jLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0VmVydHNEaXJ0eSgpOyAgICAgICAgXG4gICAgfVxuXG4gICAgcHVibGljIF92YWxpZGF0ZVJlbmRlcigpIHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHVibGljIF9hc3NlbWJsZXI6IFNjcm9sbEFzc2VtYmxlciA9IG51bGw7XG4gICAgcHVibGljIF9yZXNldEFzc2VtYmxlcigpIHtcbiAgICAgICAgbGV0IGFzc2VtYmxlciA9IHRoaXMuX2Fzc2VtYmxlciA9IHdpbmRvd1tcInRleHR1cmVBc3NlbWJlclwiXSA9IG5ldyBTY3JvbGxBc3NlbWJsZXIoKTtcbiAgICAgICAgYXNzZW1ibGVyLmluaXQodGhpcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbG9yKCk7XG4gICAgICAgIHRoaXMuc2V0VmVydHNEaXJ0eSgpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBnZXRQb2x5Z29uQ2VudGVyKHBvbHlnb246IGNjLlZlYzJbXSkge1xuICAgICAgICBsZXQgeCA9IDAsIHkgPSAwO1xuICAgICAgICBmb3IobGV0IGk9MDsgaTxwb2x5Z29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4ICs9IHBvbHlnb25baV0ueDtcbiAgICAgICAgICAgIHkgKz0gcG9seWdvbltpXS55O1xuICAgICAgICB9XG4gICAgICAgIHggPSB4L3BvbHlnb24ubGVuZ3RoO1xuICAgICAgICB5ID0geS9wb2x5Z29uLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGNjLnYyKHgsIHkpXG4gICAgfVxuXG4gICAgcHVibGljIHR3ZWVuVmVjMihmcm9tOiBjYy5WZWMyLCB0bzogY2MuVmVjMiwgZHVyYXRpb246IG51bWJlciwgb25VcGRhdGU6ICh0OiBjYy5WZWMyKSA9PiB2b2lkLCBvbkNvbXBsZXRlPzogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIgPSAwKSB7XG4gICAgICAgIGxldCBvOiBSZWNvcmQ8c3RyaW5nLCBjYy5WZWMyPiA9IHtfdmFsdWU6IGZyb219O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgJ3Bvc2l0aW9uJywge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PiBvLl92YWx1ZSxcbiAgICAgICAgICAgIHNldDogKHY6IGNjLlZlYzIpID0+IHsgby5fdmFsdWUgPSB2OyBvblVwZGF0ZSAmJiBvblVwZGF0ZShvLl92YWx1ZSk7IH0sXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdHdlZW4gPSBjYy50d2VlbihvKS5kZWxheShkZWxheSkudG8oZHVyYXRpb24sIHsgcG9zaXRpb246IHRvIH0pLmNhbGwob25Db21wbGV0ZSk7XG4gICAgICAgIHR3ZWVuLnN0YXJ0KCk7XG4gICAgICAgIHJldHVybiB0d2VlbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdHdlZW5WZWMyQmV6aWVyKGZyb206IGNjLlZlYzIsIHRvOiBjYy5WZWMyLCBkdXJhdGlvbjogbnVtYmVyLCBvblVwZGF0ZTogKHQ6IGNjLlZlYzIpID0+IHZvaWQsIG9uQ29tcGxldGU/OiBGdW5jdGlvbiwgZGVsYXk6IG51bWJlciA9IDApIHtcbiAgICAgICAgbGV0IG86IFJlY29yZDxzdHJpbmcsIGNjLlZlYzI+ID0ge192YWx1ZTogZnJvbX07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCAncG9zaXRpb24nLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IG8uX3ZhbHVlLFxuICAgICAgICAgICAgc2V0OiAodjogY2MuVmVjMikgPT4geyBvLl92YWx1ZSA9IHY7IG9uVXBkYXRlICYmIG9uVXBkYXRlKG8uX3ZhbHVlKTsgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGxldCB0d2VlbiA9IGNjLnR3ZWVuKG8pLmRlbGF5KGRlbGF5KS50byhkdXJhdGlvbiwgeyBwb3NpdGlvbjogdG8gfSkuY2FsbChvbkNvbXBsZXRlKTtcbiAgICAgICAgbGV0IHR3ZWVuID0gY2MudHdlZW4obykuZGVsYXkoZGVsYXkpLmJlemllclRvKGR1cmF0aW9uLCBjYy52Mihmcm9tLngsIGZyb20ueSsxMDApLCBjYy52Mih0by54LCB0by55ICsgMTAwKSwgdG8pLmNhbGwob25Db21wbGV0ZSk7XG4gICAgICAgIHR3ZWVuLnN0YXJ0KCk7XG4gICAgICAgIHJldHVybiB0d2VlbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZG9TY2FsZUVmZmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCByZWN0Q291bnQgPSB0aGlzLl9hc3NlbWJsZXIuZ2V0UmVjdENvdW50KCk7XG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy5ub2RlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLCAwKSk7XG4gICAgXG4gICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxyZWN0Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBhcnIgPSB0aGlzLl9hc3NlbWJsZXIuZ2V0UmVjdChpKTtcbiAgICBcbiAgICAgICAgICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5nZXRQb2x5Z29uQ2VudGVyKGFycik7XG4gICAgICAgICAgICAgICAgbGV0IGRpciA9IGNlbnRlci5zdWIocG9zKS5ub3JtYWxpemUoKTtcbiAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnR3ZWVuVmVjMihjYy52MigwLCAwKSwgZGlyLm11bCgxLjUpLCAwLjMsIChkdDogY2MuVmVjMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hc3NlbWJsZXIuc2V0UmVjdChpLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJbMF0uYWRkU2VsZihkdCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJbMV0uYWRkU2VsZihkdCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJbMl0uYWRkU2VsZihkdCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJbM10uYWRkU2VsZihkdClcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihpID09IHJlY3RDb3VudC0xKSByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZG9UZXh0dXJlTW92ZShlLCBkYXRhKSB7XG4gICAgICAgIGxldCBkaXIgPSBjYy52MigtMSwgMCk7XG4gICAgICAgIGlmKGRhdGEgPT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgZGlyID0gY2MudjIoMSwgMClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGV0IHJlY3RDb3VudCA9IHRoaXMuX2Fzc2VtYmxlci5nZXRSZWN0Q291bnQoKTtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMubm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwgMCkpO1xuXG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHJlY3RDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gcmVjdENvdW50IC0gaSAtMTtcbiAgICAgICAgICAgIGxldCBhcnIgPSB0aGlzLl9hc3NlbWJsZXIuZ2V0UmVjdChpZHgpO1xuXG4gICAgICAgICAgICBsZXQgdGFyZ2V0UG9zID0gZGlyLm11bCg0MDApO1xuICAgICAgICAgICAgdGhpcy50d2VlblZlYzJCZXppZXIoY2MudjIoMCwgMCksIHRhcmdldFBvcywgMSwgKGR0OiBjYy5WZWMyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXNzZW1ibGVyLnNldFJlY3QoaWR4LCBbXG4gICAgICAgICAgICAgICAgICAgIGFyclswXS5hZGQoZHQpLFxuICAgICAgICAgICAgICAgICAgICBhcnJbMV0uYWRkKGR0KSxcbiAgICAgICAgICAgICAgICAgICAgYXJyWzJdLmFkZChkdCksXG4gICAgICAgICAgICAgICAgICAgIGFyclszXS5hZGQoZHQpLFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Fzc2VtYmxlci5zZXRSZWN0KGlkeCwgW1xuICAgICAgICAgICAgICAgICAgICBhcnJbMF0uYWRkKHRhcmdldFBvcyksXG4gICAgICAgICAgICAgICAgICAgIGFyclsxXS5hZGQodGFyZ2V0UG9zKSxcbiAgICAgICAgICAgICAgICAgICAgYXJyWzJdLmFkZCh0YXJnZXRQb3MpLFxuICAgICAgICAgICAgICAgICAgICBhcnJbM10uYWRkKHRhcmdldFBvcyksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9LCBNYXRoLmZsb29yKGkvNDApICogMC4xKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UIMobx_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '09c65yYakpLkJuHNEjfCfPN', 'UIMobx_Auto');
// Script/AutoScripts/UIMobx_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIMobx_Auto = /** @class */ (function (_super) {
    __extends(UIMobx_Auto, _super);
    function UIMobx_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Close = null;
        _this.Txt1 = null;
        _this.Btn1 = null;
        _this.Txt2 = null;
        _this.Btn2 = null;
        _this.Txt3 = null;
        _this.Txt4 = null;
        _this.Btn3 = null;
        _this.Btn4 = null;
        _this.Txt5 = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UIMobx_Auto.prototype, "Close", void 0);
    __decorate([
        property(cc.Label)
    ], UIMobx_Auto.prototype, "Txt1", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIMobx_Auto.prototype, "Btn1", void 0);
    __decorate([
        property(cc.Label)
    ], UIMobx_Auto.prototype, "Txt2", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIMobx_Auto.prototype, "Btn2", void 0);
    __decorate([
        property(cc.Label)
    ], UIMobx_Auto.prototype, "Txt3", void 0);
    __decorate([
        property(cc.Label)
    ], UIMobx_Auto.prototype, "Txt4", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIMobx_Auto.prototype, "Btn3", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIMobx_Auto.prototype, "Btn4", void 0);
    __decorate([
        property(cc.Label)
    ], UIMobx_Auto.prototype, "Txt5", void 0);
    UIMobx_Auto = __decorate([
        ccclass
    ], UIMobx_Auto);
    return UIMobx_Auto;
}(cc.Component));
exports.default = UIMobx_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlNb2J4X0F1dG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZ0VBQTBEO0FBRXBELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRTFDO0lBQXlDLCtCQUFZO0lBQXJEO1FBQUEscUVBc0JDO1FBcEJBLFdBQUssR0FBZSxJQUFJLENBQUM7UUFFekIsVUFBSSxHQUFhLElBQUksQ0FBQztRQUV0QixVQUFJLEdBQWUsSUFBSSxDQUFDO1FBRXhCLFVBQUksR0FBYSxJQUFJLENBQUM7UUFFdEIsVUFBSSxHQUFlLElBQUksQ0FBQztRQUV4QixVQUFJLEdBQWEsSUFBSSxDQUFDO1FBRXRCLFVBQUksR0FBYSxJQUFJLENBQUM7UUFFdEIsVUFBSSxHQUFlLElBQUksQ0FBQztRQUV4QixVQUFJLEdBQWUsSUFBSSxDQUFDO1FBRXhCLFVBQUksR0FBYSxJQUFJLENBQUM7O0lBRXZCLENBQUM7SUFwQkE7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQzs4Q0FDSTtJQUV6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzZDQUNHO0lBRXRCO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7NkNBQ0c7SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs2Q0FDRztJQUV0QjtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDOzZDQUNHO0lBRXhCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NkNBQ0c7SUFFdEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs2Q0FDRztJQUV0QjtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDOzZDQUNHO0lBRXhCO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7NkNBQ0c7SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzs2Q0FDRztJQXBCRixXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBc0IvQjtJQUFELGtCQUFDO0NBdEJELEFBc0JDLENBdEJ3QyxFQUFFLENBQUMsU0FBUyxHQXNCcEQ7a0JBdEJvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgQnV0dG9uUGx1cyBmcm9tIFwiLi8uLi9Db21tb24vQ29tcG9uZW50cy9CdXR0b25QbHVzXCJcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNb2J4X0F1dG8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0Q2xvc2U6IEJ1dHRvblBsdXMgPSBudWxsO1xuXHRAcHJvcGVydHkoY2MuTGFiZWwpXG5cdFR4dDE6IGNjLkxhYmVsID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdEJ0bjE6IEJ1dHRvblBsdXMgPSBudWxsO1xuXHRAcHJvcGVydHkoY2MuTGFiZWwpXG5cdFR4dDI6IGNjLkxhYmVsID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdEJ0bjI6IEJ1dHRvblBsdXMgPSBudWxsO1xuXHRAcHJvcGVydHkoY2MuTGFiZWwpXG5cdFR4dDM6IGNjLkxhYmVsID0gbnVsbDtcblx0QHByb3BlcnR5KGNjLkxhYmVsKVxuXHRUeHQ0OiBjYy5MYWJlbCA9IG51bGw7XG5cdEBwcm9wZXJ0eShCdXR0b25QbHVzKVxuXHRCdG4zOiBCdXR0b25QbHVzID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdEJ0bjQ6IEJ1dHRvblBsdXMgPSBudWxsO1xuXHRAcHJvcGVydHkoY2MuTGFiZWwpXG5cdFR4dDU6IGNjLkxhYmVsID0gbnVsbDtcbiBcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/CacheUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f7caav8yMdOrZNrAy/SIOIW', 'CacheUtils');
// Script/Common/Components/CacheUtils.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ResMgr_1 = require("../../UIFrame/ResMgr");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CacheUtils = /** @class */ (function (_super) {
    __extends(CacheUtils, _super);
    function CacheUtils() {
        // LIFE-CYCLE CALLBACKS:
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.com = null;
        _this.passTime = 0;
        return _this;
    }
    CacheUtils.prototype.onLoad = function () {
        this.com = this.getComponent(cc.Label);
    };
    CacheUtils.prototype.start = function () {
        var _this = this;
        this.node.on(cc.Node.EventType.TOUCH_MOVE, function (e) {
            _this.node.x += e.getDeltaX();
            _this.node.y += e.getDeltaY();
        }, this);
    };
    CacheUtils.prototype.update = function (dt) {
        this.passTime += dt;
        if (this.passTime > 1) {
            this.passTime = 0;
            this.com.string = ResMgr_1.default.inst.computeTextureCache();
        }
    };
    CacheUtils = __decorate([
        ccclass
    ], CacheUtils);
    return CacheUtils;
}(cc.Component));
exports.default = CacheUtils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvQ2FjaGVVdGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQ0FBMEM7QUFFcEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFFSSx3QkFBd0I7UUFGNUIscUVBeUJDO1FBckJVLFNBQUcsR0FBYSxJQUFJLENBQUM7UUFZcEIsY0FBUSxHQUFHLENBQUMsQ0FBQzs7SUFTekIsQ0FBQztJQXBCRywyQkFBTSxHQUFOO1FBQ0ksSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsMEJBQUssR0FBTDtRQUFBLGlCQUtDO1FBSkcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQUMsQ0FBc0I7WUFDOUQsS0FBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQzdCLEtBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNqQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDYixDQUFDO0lBR0QsMkJBQU0sR0FBTixVQUFRLEVBQUU7UUFDTixJQUFJLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQztRQUNwQixJQUFHLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxFQUFFO1lBQ2xCLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1lBQ2xCLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLGdCQUFNLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7U0FDdkQ7SUFFTCxDQUFDO0lBeEJnQixVQUFVO1FBRDlCLE9BQU87T0FDYSxVQUFVLENBeUI5QjtJQUFELGlCQUFDO0NBekJELEFBeUJDLENBekJ1QyxFQUFFLENBQUMsU0FBUyxHQXlCbkQ7a0JBekJvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlc01nciBmcm9tIFwiLi4vLi4vVUlGcmFtZS9SZXNNZ3JcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYWNoZVV0aWxzIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxuXG4gICAgcHVibGljIGNvbTogY2MuTGFiZWwgPSBudWxsO1xuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMuY29tID0gdGhpcy5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIChlOiBjYy5FdmVudC5FdmVudFRvdWNoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vZGUueCArPSBlLmdldERlbHRhWCgpO1xuICAgICAgICAgICAgdGhpcy5ub2RlLnkgKz0gZS5nZXREZWx0YVkoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwYXNzVGltZSA9IDA7XG4gICAgdXBkYXRlIChkdCkge1xuICAgICAgICB0aGlzLnBhc3NUaW1lICs9IGR0O1xuICAgICAgICBpZih0aGlzLnBhc3NUaW1lID4gMSkge1xuICAgICAgICAgICAgdGhpcy5wYXNzVGltZSA9IDA7XG4gICAgICAgICAgICB0aGlzLmNvbS5zdHJpbmcgPSBSZXNNZ3IuaW5zdC5jb21wdXRlVGV4dHVyZUNhY2hlKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/GridScrollList.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1cacdUiKzNJIJRK/5ihZG1M', 'GridScrollList');
// Script/Common/Components/GridScrollList.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.GridScrollList = void 0;
var ScrollViewHelper_1 = require("../../Common/Components/ScrollViewHelper");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var RowDirection;
(function (RowDirection) {
    RowDirection[RowDirection["LeftToRight"] = 0] = "LeftToRight";
    RowDirection[RowDirection["TopToBottom"] = 1] = "TopToBottom";
})(RowDirection || (RowDirection = {}));
var GridScrollList = /** @class */ (function (_super) {
    __extends(GridScrollList, _super);
    function GridScrollList() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.allProxy = [];
        _this.scrollHelper = null;
        _this.rowDirection = RowDirection.LeftToRight;
        _this.colSpace = 10;
        _this.rowSpace = 10;
        _this.colCount = 3;
        _this.margin = 10;
        return _this;
    }
    GridScrollList.prototype.doLayout = function () {
        this._layoutItems();
    };
    GridScrollList.prototype._layoutItems = function () {
        this.scrollHelper.clearData();
        var data = this.allProxy;
        var elemSize = data.length ? data[0].region.size : cc.size(0, 0);
        var xSpace = this.colSpace;
        var ySpace = this.rowSpace;
        var colCount = this.colCount;
        var viewSize = this.scrollHelper.scrollView.node.getContentSize();
        if (this.rowDirection == RowDirection.TopToBottom) {
            var temp = viewSize.width;
            viewSize.width = viewSize.height;
            viewSize.height = temp;
            temp = elemSize.width;
            elemSize.width = elemSize.height;
            elemSize.height = temp;
        }
        var yMargin = this.margin;
        var xMargin = (viewSize.width - (colCount * elemSize.width + (colCount - 1) * xSpace)) / 2;
        var x = xMargin;
        var y = -yMargin + ySpace + elemSize.height;
        var dy = -ySpace - elemSize.height;
        var dx = xSpace + elemSize.width;
        if (this.rowDirection == RowDirection.TopToBottom) {
            dy = ySpace + elemSize.height;
            dx = -xSpace - elemSize.width;
            y = yMargin - dy;
        }
        for (var i = 0; i < data.length; i++) {
            x += dx;
            if (i % colCount == 0) {
                y += dy;
                x = xMargin;
            }
            var proxy = data[i];
            if (this.rowDirection == RowDirection.LeftToRight) {
                proxy.region.origin = cc.v2(x, y - elemSize.height);
            }
            else {
                proxy.region.origin = cc.v2(y, x - elemSize.height);
            }
            this.scrollHelper.addData(proxy);
        }
        if (this.rowDirection == RowDirection.LeftToRight) {
            this.scrollHelper.scrollView.content.setContentSize(viewSize.width, -y + elemSize.height + yMargin);
        }
        else {
            this.scrollHelper.scrollView.content.setContentSize(y + elemSize.height + yMargin, viewSize.width);
        }
    };
    __decorate([
        property(ScrollViewHelper_1.ScrollViewHelper)
    ], GridScrollList.prototype, "scrollHelper", void 0);
    __decorate([
        property({ type: cc.Enum(RowDirection) })
    ], GridScrollList.prototype, "rowDirection", void 0);
    __decorate([
        property()
    ], GridScrollList.prototype, "colSpace", void 0);
    __decorate([
        property()
    ], GridScrollList.prototype, "rowSpace", void 0);
    __decorate([
        property()
    ], GridScrollList.prototype, "colCount", void 0);
    __decorate([
        property()
    ], GridScrollList.prototype, "margin", void 0);
    GridScrollList = __decorate([
        ccclass
    ], GridScrollList);
    return GridScrollList;
}(cc.Component));
exports.GridScrollList = GridScrollList;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvR3JpZFNjcm9sbExpc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZFQUFvRztBQUU5RixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFLLFlBR0o7QUFIRCxXQUFLLFlBQVk7SUFDYiw2REFBVyxDQUFBO0lBQ1gsNkRBQVcsQ0FBQTtBQUNmLENBQUMsRUFISSxZQUFZLEtBQVosWUFBWSxRQUdoQjtBQUdEO0lBQW9DLGtDQUFZO0lBQWhEO1FBQUEscUVBb0VDO1FBbkVVLGNBQVEsR0FBOEIsRUFBRSxDQUFDO1FBRXpDLGtCQUFZLEdBQW9CLElBQUksQ0FBQztRQUVwQyxrQkFBWSxHQUFnQixZQUFZLENBQUMsV0FBVyxDQUFDO1FBRXJELGNBQVEsR0FBWSxFQUFFLENBQUM7UUFFdkIsY0FBUSxHQUFZLEVBQUUsQ0FBQztRQUV2QixjQUFRLEdBQVksQ0FBQyxDQUFDO1FBRXRCLFlBQU0sR0FBWSxFQUFFLENBQUM7O0lBdURqQyxDQUFDO0lBckRVLGlDQUFRLEdBQWY7UUFDSSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVPLHFDQUFZLEdBQXBCO1FBQ0ksSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUM5QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUEsQ0FBQyxDQUFBLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFBLENBQUMsQ0FBQSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM3RCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMs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YUFBTTtZQUNILElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEdBQUcsT0FBTyxFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN0RztJQUNMLENBQUM7SUFoRUQ7UUFEQyxRQUFRLENBQUMsbUNBQWdCLENBQUM7d0RBQ2lCO0lBRTVDO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUMsQ0FBQzt3REFDc0I7SUFFN0Q7UUFEQyxRQUFRLEVBQUU7b0RBQ29CO0lBRS9CO1FBREMsUUFBUSxFQUFFO29EQUNvQjtJQUUvQjtRQURDLFFBQVEsRUFBRTtvREFDbUI7SUFFOUI7UUFEQyxRQUFRLEVBQUU7a0RBQ2tCO0lBYnBCLGNBQWM7UUFEMUIsT0FBTztPQUNLLGNBQWMsQ0FvRTFCO0lBQUQscUJBQUM7Q0FwRUQsQUFvRUMsQ0FwRW1DLEVBQUUsQ0FBQyxTQUFTLEdBb0UvQztBQXBFWSx3Q0FBYyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjcm9sbFZpZXdIZWxwZXIsIFNjcm9sbFZpZXdFbGVtZW50UHJveHkgfSBmcm9tIFwiLi4vLi4vQ29tbW9uL0NvbXBvbmVudHMvU2Nyb2xsVmlld0hlbHBlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuZW51bSBSb3dEaXJlY3Rpb24ge1xuICAgIExlZnRUb1JpZ2h0LFxuICAgIFRvcFRvQm90dG9tXG59XG5cbkBjY2NsYXNzXG5leHBvcnQgY2xhc3MgR3JpZFNjcm9sbExpc3QgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIHB1YmxpYyBhbGxQcm94eSA6IFNjcm9sbFZpZXdFbGVtZW50UHJveHlbXSA9IFtdO1xuICAgIEBwcm9wZXJ0eShTY3JvbGxWaWV3SGVscGVyKVxuICAgIHB1YmxpYyBzY3JvbGxIZWxwZXI6U2Nyb2xsVmlld0hlbHBlciA9IG51bGw7XG4gICAgQHByb3BlcnR5KHt0eXBlOmNjLkVudW0oUm93RGlyZWN0aW9uKX0pXG4gICAgcHJpdmF0ZSByb3dEaXJlY3Rpb246Um93RGlyZWN0aW9uID0gUm93RGlyZWN0aW9uLkxlZnRUb1JpZ2h0O1xuICAgIEBwcm9wZXJ0eSgpXG4gICAgcHJpdmF0ZSBjb2xTcGFjZSA6IG51bWJlciA9IDEwO1xuICAgIEBwcm9wZXJ0eSgpXG4gICAgcHJpdmF0ZSByb3dTcGFjZSA6IG51bWJlciA9IDEwO1xuICAgIEBwcm9wZXJ0eSgpXG4gICAgcHJpdmF0ZSBjb2xDb3VudCA6IG51bWJlciA9IDM7XG4gICAgQHByb3BlcnR5KClcbiAgICBwcml2YXRlIG1hcmdpbiA6IG51bWJlciA9IDEwO1xuXG4gICAgcHVibGljIGRvTGF5b3V0KCkge1xuICAgICAgICB0aGlzLl9sYXlvdXRJdGVtcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2xheW91dEl0ZW1zKCkge1xuICAgICAgICB0aGlzLnNjcm9sbEhlbHBlci5jbGVhckRhdGEoKTtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmFsbFByb3h5O1xuICAgICAgICBsZXQgZWxlbVNpemUgPSBkYXRhLmxlbmd0aD9kYXRhWzBdLnJlZ2lvbi5zaXplOmNjLnNpemUoMCwgMCk7XG4gICAgICAgIGxldCB4U3BhY2UgPSB0aGlzLmNvbFNwYWNlO1xuICAgICAgICBsZXQgeVNwYWNlID0gdGhpcy5yb3dTcGFjZTtcbiAgICAgICAgbGV0IGNvbENvdW50ID0gdGhpcy5jb2xDb3VudDtcbiAgICAgICAgbGV0IHZpZXdTaXplID0gdGhpcy5zY3JvbGxIZWxwZXIuc2Nyb2xsVmlldy5ub2RlLmdldENvbnRlbnRTaXplKCk7XG4gICAgICAgIGlmKHRoaXMucm93RGlyZWN0aW9uID09IFJvd0RpcmVjdGlvbi5Ub3BUb0JvdHRvbSkge1xuICAgICAgICAgICAgbGV0IHRlbXAgPSB2aWV3U2l6ZS53aWR0aDtcbiAgICAgICAgICAgIHZpZXdTaXplLndpZHRoID0gdmlld1NpemUuaGVpZ2h0O1xuICAgICAgICAgICAgdmlld1NpemUuaGVpZ2h0ID0gdGVtcDtcbiAgICAgICAgICAgIHRlbXAgPSBlbGVtU2l6ZS53aWR0aDtcbiAgICAgICAgICAgIGVsZW1TaXplLndpZHRoID0gZWxlbVNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgZWxlbVNpemUuaGVpZ2h0ID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeU1hcmdpbiA9IHRoaXMubWFyZ2luO1xuICAgICAgICBsZXQgeE1hcmdpbiA9ICh2aWV3U2l6ZS53aWR0aCAtIChjb2xDb3VudCAqIGVsZW1TaXplLndpZHRoICsgKGNvbENvdW50IC0gMSkgKiB4U3BhY2UpKSAvIDI7XG4gICAgICAgIFxuXG4gICAgICAgIGxldCB4ID0geE1hcmdpbjtcbiAgICAgICAgbGV0IHkgPSAtIHlNYXJnaW4gKyB5U3BhY2UgKyBlbGVtU2l6ZS5oZWlnaHQ7XG4gICAgICAgIGxldCBkeSA9IC15U3BhY2UgLSBlbGVtU2l6ZS5oZWlnaHQ7XG4gICAgICAgIGxldCBkeCA9IHhTcGFjZSArIGVsZW1TaXplLndpZHRoO1xuICAgICAgICBpZih0aGlzLnJvd0RpcmVjdGlvbiA9PSBSb3dEaXJlY3Rpb24uVG9wVG9Cb3R0b20pIHtcbiAgICAgICAgICAgIGR5ID0geVNwYWNlICsgZWxlbVNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgZHggPSAteFNwYWNlIC0gZWxlbVNpemUud2lkdGg7XG4gICAgICAgICAgICB5ID0geU1hcmdpbiAtIGR5O1xuICAgICAgICB9XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4ICs9IGR4O1xuICAgICAgICAgICAgaWYoaSAlIGNvbENvdW50ID09IDApIHtcbiAgICAgICAgICAgICAgICB5ICs9IGR5O1xuICAgICAgICAgICAgICAgIHggPSB4TWFyZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHByb3h5ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIGlmKHRoaXMucm93RGlyZWN0aW9uID09IFJvd0RpcmVjdGlvbi5MZWZ0VG9SaWdodCkge1xuICAgICAgICAgICAgICAgIHByb3h5LnJlZ2lvbi5vcmlnaW4gPSBjYy52Mih4LCB5IC0gZWxlbVNpemUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJveHkucmVnaW9uLm9yaWdpbiA9IGNjLnYyKHksIHggLSBlbGVtU2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY3JvbGxIZWxwZXIuYWRkRGF0YShwcm94eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5yb3dEaXJlY3Rpb24gPT0gUm93RGlyZWN0aW9uLkxlZnRUb1JpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEhlbHBlci5zY3JvbGxWaWV3LmNvbnRlbnQuc2V0Q29udGVudFNpemUodmlld1NpemUud2lkdGgsIC15ICsgZWxlbVNpemUuaGVpZ2h0ICsgeU1hcmdpbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEhlbHBlci5zY3JvbGxWaWV3LmNvbnRlbnQuc2V0Q29udGVudFNpemUoeSArIGVsZW1TaXplLmhlaWdodCArIHlNYXJnaW4sIHZpZXdTaXplLndpZHRoKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/MaskPlus.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a1aa9cyaadEZ67qCIT1FuzO', 'MaskPlus');
// Script/Common/Components/MaskPlus.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.MaskPlusType = void 0;
var CommonUtils_1 = require("../Utils/CommonUtils");
var MaskPlusType;
(function (MaskPlusType) {
    /**
     * !#en Rect mask.
     * !#zh 使用矩形作为遮罩
     * @property {Number} RECT
     */
    MaskPlusType[MaskPlusType["RECT"] = 0] = "RECT";
    /**
     * !#en Ellipse Mask.
     * !#zh 使用椭圆作为遮罩
     * @property {Number} ELLIPSE
     */
    MaskPlusType[MaskPlusType["ELLIPSE"] = 1] = "ELLIPSE";
    /**
     * !#en Image Stencil Mask.
     * !#zh 使用图像模版作为遮罩
     * @property {Number} IMAGE_STENCIL
     */
    MaskPlusType[MaskPlusType["IMAGE_STENCIL"] = 2] = "IMAGE_STENCIL";
    /**
     * 多边形遮罩
     */
    MaskPlusType[MaskPlusType["Polygon"] = 3] = "Polygon";
})(MaskPlusType = exports.MaskPlusType || (exports.MaskPlusType = {}));
var _vec2_temp = new cc.Vec2();
var _mat4_temp = new cc.Mat4();
var _circlepoints = [];
function _calculateCircle(center, radius, segements) {
    _circlepoints.length = 0;
    var anglePerStep = Math.PI * 2 / segements;
    for (var step = 0; step < segements; ++step) {
        _circlepoints.push(cc.v2(radius.x * Math.cos(anglePerStep * step) + center.x, radius.y * Math.sin(anglePerStep * step) + center.y));
    }
    return _circlepoints;
}
var EllipseConfig = /** @class */ (function () {
    function EllipseConfig() {
    }
    return EllipseConfig;
}());
/**
 * 遮罩扩展
 * 自定义多边形遮罩
 */
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executeInEditMode = _a.executeInEditMode, menu = _a.menu, help = _a.help, inspector = _a.inspector;
var MaskPlus = /** @class */ (function (_super) {
    __extends(MaskPlus, _super);
    function MaskPlus() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._type = 0;
        _this._polygon = [];
        _this.ellipse = new EllipseConfig();
        return _this;
    }
    Object.defineProperty(MaskPlus.prototype, "type", {
        get: function () {
            return this._type;
        },
        // @ts-ignore
        set: function (value) {
            if (this._type !== value) {
                this['_resetAssembler']();
            }
            this._type = value;
            if (this._type === MaskPlusType.Polygon) {
                if (this._polygon.length === 0) {
                    var _a = this.getNodeRect(), x = _a[0], y = _a[1], width = _a[2], height = _a[3];
                    this._polygon.push(cc.v2(x, y), cc.v2(x + width, y), cc.v2(x + width, y + height), cc.v2(x, y + height));
                }
            }
            if (this._type !== MaskPlusType.IMAGE_STENCIL) {
                this.spriteFrame = null;
                this.alphaThreshold = 0;
                this._updateGraphics();
            }
            this['_activateMaterial']();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MaskPlus.prototype, "polygon", {
        get: function () {
            return this._polygon;
        },
        set: function (points) {
            this._polygon = points;
            this._updateGraphics();
        },
        enumerable: false,
        configurable: true
    });
    MaskPlus.prototype.setEllipse = function (center, r, segments) {
        this.ellipse.center = center;
        this.ellipse.r = r;
        this.ellipse.segments = segments || this.segements;
    };
    MaskPlus.prototype._updateGraphics = function () {
        var node = this.node;
        var graphics = this['_graphics'];
        // Share render data with graphics content
        graphics.clear(false);
        var _a = this.getNodeRect(), x = _a[0], y = _a[1], width = _a[2], height = _a[3];
        if (this['_type'] === MaskPlusType.RECT) {
            graphics.rect(x, y, width, height);
        }
        else if (this['_type'] === MaskPlusType.ELLIPSE) {
            var center = this.ellipse.center || cc.v2(x + width / 2, y + height / 2);
            var radius = this.ellipse.r || { x: width / 2, y: height / 2 };
            var segments = this.ellipse.segments || this['_segments'];
            var points = _calculateCircle(center, radius, segments);
            for (var i = 0; i < points.length; ++i) {
                var point = points[i];
                if (i === 0) {
                    graphics.moveTo(point.x, point.y);
                }
                else {
                    graphics.lineTo(point.x, point.y);
                }
            }
            graphics.close();
        }
        else if (this['_type'] === MaskPlusType.Polygon) {
            if (this._polygon.length === 0)
                this._polygon.push(cc.v2(0, 0));
            graphics.moveTo(this._polygon[0].x, this._polygon[0].y);
            for (var i = 1; i < this._polygon.length; i++) {
                graphics.lineTo(this._polygon[i].x, this._polygon[i].y);
            }
            graphics.lineTo(this._polygon[0].x, this._polygon[0].y);
        }
        if (cc.game.renderType === cc.game.RENDER_TYPE_CANVAS) {
            graphics.stroke();
        }
        else {
            graphics.fill();
        }
    };
    MaskPlus.prototype._hitTest = function (cameraPt) {
        var node = this.node;
        var size = node.getContentSize(), w = size.width, h = size.height, testPt = _vec2_temp;
        node['_updateWorldMatrix']();
        // If scale is 0, it can't be hit.
        if (!cc.Mat4.invert(_mat4_temp, node['_worldMatrix'])) {
            return false;
        }
        var point = cc.v2(0, 0);
        cc.Vec2.transformMat4(point, cameraPt, _mat4_temp);
        testPt.x = point.x + node['_anchorPoint'].x * w;
        testPt.y = point.y + node['_anchorPoint'].y * h;
        var result = false;
        if (this.type === MaskPlusType.RECT || this.type === MaskPlusType.IMAGE_STENCIL) {
            result = testPt.x >= 0 && testPt.y >= 0 && testPt.x <= w && testPt.y <= h;
        }
        else if (this.type === MaskPlusType.ELLIPSE) {
            var rx = w / 2, ry = h / 2;
            var px = testPt.x - 0.5 * w, py = testPt.y - 0.5 * h;
            result = px * px / (rx * rx) + py * py / (ry * ry) < 1;
        }
        else if (this.type === MaskPlusType.Polygon) {
            result = CommonUtils_1.CommonUtils.isInPolygon(point, this.polygon);
        }
        if (this.inverted) {
            result = !result;
        }
        return result;
    };
    MaskPlus.prototype.getNodeRect = function () {
        var width = this.node['_contentSize'].width;
        var height = this.node['_contentSize'].height;
        var x = -width * this.node['_anchorPoint'].x;
        var y = -height * this.node['_anchorPoint'].y;
        return [x, y, width, height];
    };
    MaskPlus.Type = MaskPlusType;
    __decorate([
        property({ type: cc.Enum(MaskPlusType), override: true })
    ], MaskPlus.prototype, "_type", void 0);
    __decorate([
        property({ type: cc.Enum(MaskPlusType), override: true })
    ], MaskPlus.prototype, "type", null);
    __decorate([
        property({ type: [cc.Vec2], serializable: true })
    ], MaskPlus.prototype, "_polygon", void 0);
    __decorate([
        property({ type: [cc.Vec2], serializable: true })
    ], MaskPlus.prototype, "polygon", null);
    MaskPlus = __decorate([
        ccclass,
        menu('i18n:MAIN_MENU.component.renderers/MaskPlus'),
        executeInEditMode,
        help('i18n:COMPONENT.help_url.mask'),
        inspector('packages://maskplus/inspector.js')
    ], MaskPlus);
    return MaskPlus;
}(cc.Mask));
exports.default = MaskPlus;
cc['MaskPlus'] = MaskPlus;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvTWFza1BsdXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9EQUFtRDtBQUVuRCxJQUFZLFlBd0JYO0FBeEJELFdBQVksWUFBWTtJQUNwQjs7OztPQUlHO0lBQ0gsK0NBQVEsQ0FBQTtJQUNSOzs7O09BSUc7SUFDSCxxREFBVyxDQUFBO0lBQ1g7Ozs7T0FJRztJQUNILGlFQUFpQixDQUFBO0lBRWpCOztPQUVHO0lBQ0gscURBQVcsQ0FBQTtBQUNmLENBQUMsRUF4QlcsWUFBWSxHQUFaLG9CQUFZLEtBQVosb0JBQVksUUF3QnZCO0FBRUQsSUFBSSxVQUFVLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDL0IsSUFBSSxVQUFVLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFFL0IsSUFBSSxhQUFhLEdBQUUsRUFBRSxDQUFDO0FBQ3RCLFNBQVMsZ0JBQWdCLENBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxTQUFTO0lBQ2hELGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ3pCLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztJQUMzQyxLQUFLLElBQUksSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsU0FBUyxFQUFFLEVBQUUsSUFBSSxFQUFFO1FBQ3pDLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQ3hFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDN0Q7SUFFRCxPQUFPLGFBQWEsQ0FBQztBQUN6QixDQUFDO0FBRUQ7SUFBQTtJQUlBLENBQUM7SUFBRCxvQkFBQztBQUFELENBSkEsQUFJQyxJQUFBO0FBRUQ7OztHQUdHO0FBQ0csSUFBQSxLQUFnRSxFQUFFLENBQUMsVUFBVSxFQUE1RSxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxpQkFBaUIsdUJBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxTQUFTLGVBQWlCLENBQUM7QUFNcEY7SUFBc0MsNEJBQU87SUFBN0M7UUFBQSxxRUF5SUM7UUFwSUcsV0FBSyxHQUFpQixDQUFDLENBQUM7UUE4QnhCLGNBQVEsR0FBYyxFQUFFLENBQUM7UUFVakIsYUFBTyxHQUFrQixJQUFJLGFBQWEsRUFBRSxDQUFDOztJQTRGekQsQ0FBQztJQWpJRyxzQkFBSSwwQkFBSTthQUFSO1lBQ0ksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3RCLENBQUM7UUFDRCxhQUFhO2FBQ2IsVUFBUyxLQUFLO1lBQ1YsSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLEtBQUssRUFBRTtnQkFDdEIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsQ0FBQzthQUM3QjtZQUVELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1lBRW5CLElBQUcsSUFBSSxDQUFDLEtBQUssS0FBSyxZQUFZLENBQUMsT0FBTyxFQUFFO2dCQUNwQyxJQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtvQkFDdkIsSUFBQSxLQUF3QixJQUFJLENBQUMsV0FBVyxFQUFFLEVBQXpDLENBQUMsUUFBQSxFQUFFLENBQUMsUUFBQSxFQUFFLEtBQUssUUFBQSxFQUFFLE1BQU0sUUFBc0IsQ0FBQztvQkFDL0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFDLEtBQUssRUFBRSxDQUFDLEdBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7aUJBQ3BHO2FBQ0o7WUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssWUFBWSxDQUFDLGFBQWEsRUFBRTtnQkFDM0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7Z0JBQ3hCLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDO2dCQUN4QixJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7YUFDMUI7WUFDRCxJQUFJLENBQUMsbUJBQW1CLENBQUMsRUFBRSxDQUFDO1FBQ2hDLENBQUM7OztPQXRCQTtJQTJCRCxzQkFBVyw2QkFBTzthQUFsQjtZQUNJLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN6QixDQUFDO2FBQ0QsVUFBbUIsTUFBaUI7WUFDaEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7WUFDdkIsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQzNCLENBQUM7OztPQUpBO0lBT00sNkJBQVUsR0FBakIsVUFBa0IsTUFBZ0IsRUFBRSxDQUFXLEVBQUUsUUFBaUI7UUFDOUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNuQixJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxRQUFRLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN2RCxDQUFDO0lBRUQsa0NBQWUsR0FBZjtRQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDckIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2pDLDBDQUEwQztRQUMxQyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xCLElBQUEsS0FBd0IsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUF6QyxDQUFDLFFBQUEsRUFBRSxDQUFDLFFBQUEsRUFBRSxLQUFLLFFBQUEsRUFBRSxNQUFNLFFBQXNCLENBQUM7UUFDL0MsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssWUFBWSxDQUFDLElBQUksRUFBRTtZQUNyQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQ3RDO2FBQ0ksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssWUFBWSxDQUFDLE9BQU8sRUFBRTtZQUM3QyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDekUsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBQyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFBQyxDQUFDLEVBQUUsTUFBTSxHQUFHLENBQUMsRUFBQyxDQUFDO1lBQzVELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUMxRCxJQUFJLE1BQU0sR0FBRyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3hELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFO2dCQUNwQyxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDVCxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNyQztxQkFDSTtvQkFDRCxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNyQzthQUNKO1lBQ0QsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ3BCO2FBQUssSUFBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssWUFBWSxDQUFDLE9BQU8sRUFBRTtZQUM3QyxJQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUM7Z0JBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvRCxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEQsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUN0QyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDM0Q7WUFDRCxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDM0Q7UUFFRCxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxLQUFLLEVBQUUsQ0FBQyxJ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IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tbW9uVXRpbHMgfSBmcm9tIFwiLi4vVXRpbHMvQ29tbW9uVXRpbHNcIjtcblxuZXhwb3J0IGVudW0gTWFza1BsdXNUeXBlIHtcbiAgICAvKipcbiAgICAgKiAhI2VuIFJlY3QgbWFzay5cbiAgICAgKiAhI3poIOS9v+eUqOefqeW9ouS9nOS4uumBrue9qVxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBSRUNUXG4gICAgICovXG4gICAgUkVDVCA9IDAsXG4gICAgLyoqXG4gICAgICogISNlbiBFbGxpcHNlIE1hc2suXG4gICAgICogISN6aCDkvb/nlKjmpK3lnIbkvZzkuLrpga7nvalcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gRUxMSVBTRVxuICAgICAqL1xuICAgIEVMTElQU0UgPSAxLFxuICAgIC8qKlxuICAgICAqICEjZW4gSW1hZ2UgU3RlbmNpbCBNYXNrLlxuICAgICAqICEjemgg5L2/55So5Zu+5YOP5qih54mI5L2c5Li66YGu572pXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IElNQUdFX1NURU5DSUxcbiAgICAgKi9cbiAgICBJTUFHRV9TVEVOQ0lMID0gMixcblxuICAgIC8qKlxuICAgICAqIOWkmui+ueW9oumBrue9qVxuICAgICAqL1xuICAgIFBvbHlnb24gPSAzLFxufVxuXG5sZXQgX3ZlYzJfdGVtcCA9IG5ldyBjYy5WZWMyKCk7XG5sZXQgX21hdDRfdGVtcCA9IG5ldyBjYy5NYXQ0KCk7XG5cbmxldCBfY2lyY2xlcG9pbnRzID1bXTtcbmZ1bmN0aW9uIF9jYWxjdWxhdGVDaXJjbGUgKGNlbnRlciwgcmFkaXVzLCBzZWdlbWVudHMpIHtcbiAgICBfY2lyY2xlcG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgbGV0IGFuZ2xlUGVyU3RlcCA9IE1hdGguUEkgKiAyIC8gc2VnZW1lbnRzO1xuICAgIGZvciAobGV0IHN0ZXAgPSAwOyBzdGVwIDwgc2VnZW1lbnRzOyArK3N0ZXApIHtcbiAgICAgICAgX2NpcmNsZXBvaW50cy5wdXNoKGNjLnYyKHJhZGl1cy54ICogTWF0aC5jb3MoYW5nbGVQZXJTdGVwICogc3RlcCkgKyBjZW50ZXIueCxcbiAgICAgICAgICAgIHJhZGl1cy55ICogTWF0aC5zaW4oYW5nbGVQZXJTdGVwICogc3RlcCkgKyBjZW50ZXIueSkpO1xuICAgIH1cblxuICAgIHJldHVybiBfY2lyY2xlcG9pbnRzO1xufVxuXG5jbGFzcyBFbGxpcHNlQ29uZmlnIHtcbiAgICBjZW50ZXI6IGNjLlZlYzI7XG4gICAgcjogY2MuVmVjMjtcbiAgICBzZWdtZW50czogbnVtYmVyO1xufVxuXG4vKipcbiAqIOmBrue9qeaJqeWxlVxuICog6Ieq5a6a5LmJ5aSa6L655b2i6YGu572pXG4gKi9cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eSwgZXhlY3V0ZUluRWRpdE1vZGUsIG1lbnUsIGhlbHAsIGluc3BlY3Rvcn0gPSBjYy5fZGVjb3JhdG9yO1xuQGNjY2xhc3NcbkBtZW51KCdpMThuOk1BSU5fTUVOVS5jb21wb25lbnQucmVuZGVyZXJzL01hc2tQbHVzJykgXG5AZXhlY3V0ZUluRWRpdE1vZGVcbkBoZWxwKCdpMThuOkNPTVBPTkVOVC5oZWxwX3VybC5tYXNrJylcbkBpbnNwZWN0b3IoJ3BhY2thZ2VzOi8vbWFza3BsdXMvaW5zcGVjdG9yLmpzJylcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hc2tQbHVzIGV4dGVuZHMgY2MuTWFzayB7XG5cbiAgICBzdGF0aWMgVHlwZSA9IE1hc2tQbHVzVHlwZTtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuRW51bShNYXNrUGx1c1R5cGUpLCBvdmVycmlkZTogdHJ1ZX0pXG4gICAgX3R5cGU6IE1hc2tQbHVzVHlwZSA9IDA7XG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5FbnVtKE1hc2tQbHVzVHlwZSksIG92ZXJyaWRlOiB0cnVlfSlcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlOyBcbiAgICB9XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHNldCB0eXBlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl90eXBlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpc1snX3Jlc2V0QXNzZW1ibGVyJ10oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3R5cGUgPSB2YWx1ZTtcblxuICAgICAgICBpZih0aGlzLl90eXBlID09PSBNYXNrUGx1c1R5cGUuUG9seWdvbikge1xuICAgICAgICAgICAgaWYodGhpcy5fcG9seWdvbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgW3gsIHksIHdpZHRoLCBoZWlnaHRdID0gdGhpcy5nZXROb2RlUmVjdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvbHlnb24ucHVzaChjYy52Mih4LCB5KSwgY2MudjIoeCt3aWR0aCwgeSksIGNjLnYyKHgrd2lkdGgsIHkraGVpZ2h0KSwgY2MudjIoeCwgeStoZWlnaHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl90eXBlICE9PSBNYXNrUGx1c1R5cGUuSU1BR0VfU1RFTkNJTCkge1xuICAgICAgICAgICAgdGhpcy5zcHJpdGVGcmFtZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmFscGhhVGhyZXNob2xkID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUdyYXBoaWNzKCk7XG4gICAgICAgIH0gICAgICAgIFxuICAgICAgICB0aGlzWydfYWN0aXZhdGVNYXRlcmlhbCddKCk7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBbY2MuVmVjMl0sIHNlcmlhbGl6YWJsZTogdHJ1ZX0pXG4gICAgX3BvbHlnb246IGNjLlZlYzJbXSA9IFtdO1xuICAgIEBwcm9wZXJ0eSh7dHlwZTogW2NjLlZlYzJdLCBzZXJpYWxpemFibGU6IHRydWV9KVxuICAgIHB1YmxpYyBnZXQgcG9seWdvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvbHlnb247XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgcG9seWdvbihwb2ludHM6IGNjLlZlYzJbXSkge1xuICAgICAgICB0aGlzLl9wb2x5Z29uID0gcG9pbnRzO1xuICAgICAgICB0aGlzLl91cGRhdGVHcmFwaGljcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZWxsaXBzZTogRWxsaXBzZUNvbmZpZyA9IG5ldyBFbGxpcHNlQ29uZmlnKCk7XG4gICAgcHVibGljIHNldEVsbGlwc2UoY2VudGVyPzogY2MuVmVjMiwgcj86IGNjLlZlYzIsIHNlZ21lbnRzPzogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZWxsaXBzZS5jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIHRoaXMuZWxsaXBzZS5yID0gcjtcbiAgICAgICAgdGhpcy5lbGxpcHNlLnNlZ21lbnRzID0gc2VnbWVudHMgfHwgdGhpcy5zZWdlbWVudHM7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUdyYXBoaWNzICgpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGU7XG4gICAgICAgIGxldCBncmFwaGljcyA9IHRoaXNbJ19ncmFwaGljcyddO1xuICAgICAgICAvLyBTaGFyZSByZW5kZXIgZGF0YSB3aXRoIGdyYXBoaWNzIGNvbnRlbnRcbiAgICAgICAgZ3JhcGhpY3MuY2xlYXIoZmFsc2UpO1xuICAgICAgICBsZXQgW3gsIHksIHdpZHRoLCBoZWlnaHRdID0gdGhpcy5nZXROb2RlUmVjdCgpO1xuICAgICAgICBpZiAodGhpc1snX3R5cGUnXSA9PT0gTWFza1BsdXNUeXBlLlJFQ1QpIHtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpc1snX3R5cGUnXSA9PT0gTWFza1BsdXNUeXBlLkVMTElQU0UpIHtcbiAgICAgICAgICAgIGxldCBjZW50ZXIgPSB0aGlzLmVsbGlwc2UuY2VudGVyIHx8IGNjLnYyKHggKyB3aWR0aCAvIDIsIHkgKyBoZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIGxldCByYWRpdXMgPSB0aGlzLmVsbGlwc2UuciB8fCB7eDogd2lkdGggLyAyLHk6IGhlaWdodCAvIDJ9O1xuICAgICAgICAgICAgbGV0IHNlZ21lbnRzID0gdGhpcy5lbGxpcHNlLnNlZ21lbnRzIHx8IHRoaXNbJ19zZWdtZW50cyddO1xuICAgICAgICAgICAgbGV0IHBvaW50cyA9IF9jYWxjdWxhdGVDaXJjbGUoY2VudGVyLCByYWRpdXMsIHNlZ21lbnRzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyYXBoaWNzLm1vdmVUbyhwb2ludC54LCBwb2ludC55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdyYXBoaWNzLmxpbmVUbyhwb2ludC54LCBwb2ludC55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFwaGljcy5jbG9zZSgpO1xuICAgICAgICB9ZWxzZSBpZih0aGlzWydfdHlwZSddID09PSBNYXNrUGx1c1R5cGUuUG9seWdvbikge1xuICAgICAgICAgICAgaWYodGhpcy5fcG9seWdvbi5sZW5ndGggPT09IDApIHRoaXMuX3BvbHlnb24ucHVzaChjYy52MigwLCAwKSk7XG4gICAgICAgICAgICBncmFwaGljcy5tb3ZlVG8odGhpcy5fcG9seWdvblswXS54LCB0aGlzLl9wb2x5Z29uWzBdLnkpO1xuICAgICAgICAgICAgZm9yKGxldCBpPTE7IGk8dGhpcy5fcG9seWdvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGdyYXBoaWNzLmxpbmVUbyh0aGlzLl9wb2x5Z29uW2ldLngsIHRoaXMuX3BvbHlnb25baV0ueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFwaGljcy5saW5lVG8odGhpcy5fcG9seWdvblswXS54LCB0aGlzLl9wb2x5Z29uWzBdLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNjLmdhbWUucmVuZGVyVHlwZSA9PT0gY2MuZ2FtZS5SRU5ERVJfVFlQRV9DQU5WQVMpIHtcbiAgICAgICAgICAgIGdyYXBoaWNzLnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ3JhcGhpY3MuZmlsbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2hpdFRlc3QgKGNhbWVyYVB0OiBjYy5WZWMyKSB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5ub2RlO1xuICAgICAgICBsZXQgc2l6ZSA9IG5vZGUuZ2V0Q29udGVudFNpemUoKSxcbiAgICAgICAgICAgIHcgPSBzaXplLndpZHRoLFxuICAgICAgICAgICAgaCA9IHNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgdGVzdFB0ID0gX3ZlYzJfdGVtcDtcbiAgICAgICAgXG4gICAgICAgIG5vZGVbJ191cGRhdGVXb3JsZE1hdHJpeCddKCk7XG4gICAgICAgIC8vIElmIHNjYWxlIGlzIDAsIGl0IGNhbid0IGJlIGhpdC5cbiAgICAgICAgaWYgKCFjYy5NYXQ0LmludmVydChfbWF0NF90ZW1wLCBub2RlWydfd29ybGRNYXRyaXgnXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcG9pbnQgPSBjYy52MigwLCAwKTtcbiAgICAgICAgY2MuVmVjMi50cmFuc2Zvcm1NYXQ0KHBvaW50LCBjYW1lcmFQdCwgX21hdDRfdGVtcCk7XG4gICAgICAgIHRlc3RQdC54ID0gcG9pbnQueCArIG5vZGVbJ19hbmNob3JQb2ludCddLnggKiB3O1xuICAgICAgICB0ZXN0UHQueSA9IHBvaW50LnkgKyBub2RlWydfYW5jaG9yUG9pbnQnXS55ICogaDtcblxuICAgICAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IE1hc2tQbHVzVHlwZS5SRUNUIHx8IHRoaXMudHlwZSA9PT0gTWFza1BsdXNUeXBlLklNQUdFX1NURU5DSUwpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRlc3RQdC54ID49IDAgJiYgdGVzdFB0LnkgPj0gMCAmJiB0ZXN0UHQueCA8PSB3ICYmIHRlc3RQdC55IDw9IGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy50eXBlID09PSBNYXNrUGx1c1R5cGUuRUxMSVBTRSkge1xuICAgICAgICAgICAgbGV0IHJ4ID0gdyAvIDIsIHJ5ID0gaCAvIDI7XG4gICAgICAgICAgICBsZXQgcHggPSB0ZXN0UHQueCAtIDAuNSAqIHcsIHB5ID0gdGVzdFB0LnkgLSAwLjUgKiBoO1xuICAgICAgICAgICAgcmVzdWx0ID0gcHggKiBweCAvIChyeCAqIHJ4KSArIHB5ICogcHkgLyAocnkgKiByeSkgPCAxO1xuICAgICAgICB9ZWxzZSBpZih0aGlzLnR5cGUgPT09IE1hc2tQbHVzVHlwZS5Qb2x5Z29uKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBDb21tb25VdGlscy5pc0luUG9seWdvbihwb2ludCwgdGhpcy5wb2x5Z29uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbnZlcnRlZCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gIXJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Tm9kZVJlY3QoKSB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMubm9kZVsnX2NvbnRlbnRTaXplJ10ud2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQgPSB0aGlzLm5vZGVbJ19jb250ZW50U2l6ZSddLmhlaWdodDtcbiAgICAgICAgbGV0IHggPSAtd2lkdGggKiB0aGlzLm5vZGVbJ19hbmNob3JQb2ludCddLng7XG4gICAgICAgIGxldCB5ID0gLWhlaWdodCAqIHRoaXMubm9kZVsnX2FuY2hvclBvaW50J10ueTtcbiAgICAgICAgcmV0dXJuIFt4LCB5LCB3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG5cbiAgICBcblxufVxuY2NbJ01hc2tQbHVzJ10gPSBNYXNrUGx1cztcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Assemblers/TextureAssembler.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e0687tDW69CxalPcgT1Omra', 'TextureAssembler');
// Script/Common/Assemblers/TextureAssembler.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var CommonUtils_1 = require("../Utils/CommonUtils");
var gfx = cc['gfx'];
// 顶点格式 -> 位置 UV, 颜色
var vfmtPosUvColor = new gfx.VertexFormat([
    { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },
    { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },
    { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_UINT8, num: 4, normalize: true },
]);
/**
 * assembler for texture
 */
var TextureAssembler = /** @class */ (function (_super) {
    __extends(TextureAssembler, _super);
    function TextureAssembler() {
        var _this = _super.call(this) || this;
        _this.verticesCount = 4;
        _this.indicesCount = 6;
        _this.floatsPerVert = 5;
        _this.uvOffset = 2;
        _this.colorOffset = 4;
        _this._renderData = null;
        _this._renderData = new cc.RenderData();
        _this._renderData.init(_this);
        _this.initData();
        return _this;
    }
    Object.defineProperty(TextureAssembler.prototype, "verticesFloats", {
        get: function () {
            return this.verticesCount * this.floatsPerVert;
        },
        enumerable: false,
        configurable: true
    });
    TextureAssembler.prototype.getVfmt = function () {
        return vfmtPosUvColor;
    };
    TextureAssembler.prototype.getBuffer = function () {
        return cc.renderer['_handle'].getBuffer('mesh', this.getVfmt());
    };
    TextureAssembler.prototype.initData = function () {
        var data = this._renderData;
        data.createQuadData(0, this.verticesFloats, this.indicesCount);
    };
    TextureAssembler.prototype.resetData = function (comp) {
        var points = comp.polygon;
        if (!points || points.length < 3)
            return;
        this.verticesCount = points.length;
        this.indicesCount = this.verticesCount + (this.verticesCount - 3) * 2;
        this._renderData['clear']();
        this.initData();
    };
    TextureAssembler.prototype.initQuadIndices = function (indices, arr) {
        for (var i = 0; i < arr.length; i++) {
            indices[i] = arr[i];
        }
    };
    /** 填充顶点的color */
    TextureAssembler.prototype.updateColor = function (comp, color) {
        var uintVerts = this._renderData.uintVDatas[0];
        if (!uintVerts)
            return;
        color = color != null ? color : comp.node.color['_val'];
        var floatsPerVert = this.floatsPerVert;
        var colorOffset = this.colorOffset;
        var polygon = comp.polygon;
        for (var i = 0; i < polygon.length; i++) {
            uintVerts[colorOffset + i * floatsPerVert] = color;
        }
    };
    /** 更新uv */
    TextureAssembler.prototype.updateUVs = function (comp) {
        var uvOffset = this.uvOffset;
        var floatsPerVert = this.floatsPerVert;
        var verts = this._renderData.vDatas[0];
        var uvs = CommonUtils_1.CommonUtils.computeUv(comp.polygon, comp.node.width, comp.node.height);
        var polygon = comp.polygon;
        for (var i = 0; i < polygon.length; i++) {
            var dstOffset = floatsPerVert * i + uvOffset;
            verts[dstOffset] = uvs[i].x;
            verts[dstOffset + 1] = uvs[i].y;
        }
    };
    TextureAssembler.prototype.updateWorldVertsWebGL = function (comp) {
        var verts = this._renderData.vDatas[0];
        var matrix = comp.node['_worldMatrix'];
        var matrixm = matrix.m, a = matrixm[0], b = matrixm[1], c = matrixm[4], d = matrixm[5], tx = matrixm[12], ty = matrixm[13];
        var justTranslate = a === 1 && b === 0 && c === 0 && d === 1;
        var floatsPerVert = this.floatsPerVert;
        if (justTranslate) {
            var polygon = comp.polygon;
            for (var i = 0; i < polygon.length; i++) {
                verts[i * floatsPerVert] = polygon[i].x + tx;
                verts[i * floatsPerVert + 1] = polygon[i].y + ty;
            }
        }
        else {
            var polygon = comp.polygon;
            for (var i = 0; i < polygon.length; i++) {
                verts[i * floatsPerVert] = a * polygon[i].x + c * polygon[i].y + tx;
                verts[i * floatsPerVert + 1] = b * polygon[i].x + d * polygon[i].y + ty;
            }
        }
    };
    TextureAssembler.prototype.updateWorldVertsNative = function (comp) {
        var verts = this._renderData.vDatas[0];
        var floatsPerVert = this.floatsPerVert;
        var polygon = comp.polygon;
        for (var i = 0; i < polygon.length; i++) {
            verts[i * floatsPerVert] = polygon[i].x;
            verts[i * floatsPerVert + 1] = polygon[i].y;
        }
    };
    TextureAssembler.prototype.updateWorldVerts = function (comp) {
        if (CC_NATIVERENDERER) {
            this.updateWorldVertsNative(comp);
        }
        else {
            this.updateWorldVertsWebGL(comp);
        }
    };
    /** 更新顶点数据 */
    TextureAssembler.prototype.updateVerts = function (comp) {
        var indicesArr = CommonUtils_1.CommonUtils.splitePolygon(comp.polygon);
        this.initQuadIndices(this._renderData.iDatas[0], indicesArr);
        this.updateWorldVerts(comp);
    };
    /** 更新renderdata */
    TextureAssembler.prototype.updateRenderData = function (comp) {
        if (comp._vertsDirty) {
            this.resetData(comp);
            this.updateUVs(comp);
            this.updateVerts(comp);
            this.updateColor(comp, null);
            comp._vertsDirty = false;
        }
    };
    //每帧都会被调用
    TextureAssembler.prototype.fillBuffers = function (comp, renderer) {
        if (renderer.worldMatDirty) {
            this.updateWorldVerts(comp);
        }
        var renderData = this._renderData;
        // vData里包含 pos， uv， color数据， iData中包含顶点索引
        var vData = renderData.vDatas[0];
        var iData = renderData.iDatas[0];
        var buffer = this.getBuffer();
        var offsetInfo = buffer.request(this.verticesCount, this.indicesCount);
        // buffer data may be realloc, need get reference after request.
        // fill vertices
        var vertexOffset = offsetInfo.byteOffset >> 2, vbuf = buffer._vData;
        if (vData.length + vertexOffset > vbuf.length) {
            vbuf.set(vData.subarray(0, vbuf.length - vertexOffset), vertexOffset);
        }
        else {
            vbuf.set(vData, vertexOffset);
        }
        // fill indices
        var ibuf = buffer._iData, indiceOffset = offsetInfo.indiceOffset, vertexId = offsetInfo.vertexOffset;
        for (var i = 0, l = iData.length; i < l; i++) {
            ibuf[indiceOffset++] = vertexId + iData[i];
        }
    };
    TextureAssembler.prototype.packToDynamicAtlas = function (comp, frame) {
        if (CC_TEST)
            return;
        if (!frame._original && cc.dynamicAtlasManager && frame._texture.packable) {
            var packedFrame = cc.dynamicAtlasManager.insertSpriteFrame(frame);
            if (packedFrame) {
                frame._setDynamicAtlasFrame(packedFrame);
            }
        }
        var material = comp['_materials'][0];
        if (!material)
            return;
        if (material.getProperty('texture') !== frame._texture) {
            // texture was packed to dynamic atlas, should update uvs
            comp._vertsDirty = true;
            comp._updateMaterial();
        }
    };
    return TextureAssembler;
}(cc.Assembler));
exports.default = TextureAssembler;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0Fzc2VtYmxlcnMvVGV4dHVyZUFzc2VtYmxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxvREFBbUQ7QUFFbkQsSUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBRXRCLG9CQUFvQjtBQUNwQixJQUFJLGNBQWMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxZQUFZLENBQUM7SUFDdEMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7SUFDaEUsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7SUFDM0QsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUU7Q0FDL0UsQ0FBQyxDQUFDO0FBQ0g7O0dBRUc7QUFDSDtJQUE4QyxvQ0FBWTtJQUN0RDtRQUFBLFlBQ0ksaUJBQU8sU0FLVjtRQUNELG1CQUFhLEdBQUcsQ0FBQyxDQUFDO1FBQ2xCLGtCQUFZLEdBQUcsQ0FBQyxDQUFDO1FBRWpCLG1CQUFhLEdBQUcsQ0FBQyxDQUFDO1FBQ2xCLGNBQVEsR0FBRyxDQUFDLENBQUM7UUFDYixpQkFBVyxHQUFHLENBQUMsQ0FBQztRQUVSLGlCQUFXLEdBQWtCLElBQUksQ0FBQztRQVp0QyxLQUFJLENBQUMsV0FBVyxHQUFHLElBQUksRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3ZDLEtBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxDQUFDO1FBRTVCLEtBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQzs7SUFDcEIsQ0FBQztJQVVELHNCQUFJLDRDQUFjO2FBQWxCO1lBQ0ksT0FBTyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDbkQsQ0FBQzs7O09BQUE7SUFFTSxrQ0FBTyxHQUFkO1FBQ0ksT0FBTyxjQUFjLENBQUM7SUFDMUIsQ0FBQztJQUNNLG9DQUFTLEdBQWhCO1FBQ0ksT0FBTyxFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVNLG1DQUFRLEdBQWY7UUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQzVCLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFTSxvQ0FBUyxHQUFoQixVQUFpQixJQUFpQjtRQUM5QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQzFCLElBQUcsQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQUUsT0FBUTtRQUN6QyxJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDbkMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRU0sMENBQWUsR0FBdEIsVUFBdUIsT0FBaUIsRUFBRSxHQUFhO1FBQ25ELEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzVCLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBRUQsaUJBQWlCO0lBQ1Ysc0NBQVcsR0FBbEIsVUFBbUIsSUFBaUIsRUFBRSxLQUFhO1FBQy9DLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9DLElBQUcsQ0FBQyxTQUFTO1lBQUUsT0FBUTtRQUN2QixLQUFLLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RCxJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQ3ZDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFFbkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUMzQixLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNoQyxTQUFTLENBQUMsV0FBVyxHQUFHLENBQUMsR0FBRyxhQUFhLENBQUMsR0FBRyxLQUFLLENBQUM7U0FDdEQ7SUFDTCxDQUFDO0lBQ0QsV0FBVztJQUNELG9DQUFTLEdBQW5CLFVBQW9CLElBQWlCO1FBQ2pDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDN0IsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUN2QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV2QyxJQUFJLEdBQUcsR0FBRyx5QkFBVyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDaEYsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUMzQixLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNoQyxJQUFJLFNBQVMsR0FBRyxhQUFhLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQztZQUM3QyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixLQUFLLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkM7SUFDTCxDQUFDO0lBRVMsZ0RBQXFCLEdBQS9CLFVBQWdDLElBQWlCO1FBQzdDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXZDLElBQUksTUFBTSxHQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDaEQsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFDdEIsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFDOUQsRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRW5DLElBQUksYUFBYSxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0QsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUN2QyxJQUFJLGFBQWEsRUFBRTtZQUNmLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDM0IsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2hDLEtBQUssQ0FBQyxDQUFDLEdBQUcsYUFBYSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQzdDLEtBQUssQ0FBQyxDQUFDLEdBQUcsYUFBYSxHQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO2FBQ2xEO1NBQ0o7YUFBTTtZQUNILElBQUksT0FBTyxHQUFJLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDNUIsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2hDLEtBQUssQ0FBQyxDQUFDLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUNwRSxLQUFLLENBQUMsQ0FBQyxHQUFHLGFBQWEsR0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7YUFDekU7U0FDSjtJQUNMLENBQUM7SUFFUyxpREFBc0IsR0FBaEMsVUFBaUMsSUFBaUI7UUFDOUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUV2QyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQzNCLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2hDLEtBQUssQ0FBQyxDQUFDLEdBQUcsYUFBYSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QyxLQUFLLENBQUMsQ0FBQyxHQUFHLGFBQWEsR0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzdDO0lBQ0wsQ0FBQztJQUVTLDJDQUFnQixHQUExQixVQUEyQixJQUFpQjtRQUN4QyxJQUFJLGlCQUFpQixFQUFFO1lBQ25CLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNyQzthQUFNO1lBQ0gsSUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3BDO0lBQ0wsQ0FBQztJQUVELGFBQWE7SUFDSCxzQ0FBVyxHQUFyQixVQUFzQixJQUFpQjtRQUNuQyxJQUFJLFVBQVUsR0FBRyx5QkFBVyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM3RCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVELG1CQUFtQjtJQUNULDJDQUFnQixHQUExQixVQUEyQixJQUFpQjtRQUN4QyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDbEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyQixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDN0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7U0FDNUI7SUFDTCxDQUFDO0lBRUQsU0FBUztJQUNULHNDQUFXLEdBQVgsVUFBWSxJQUFpQixFQUFFLFFBQVE7UUFDbkMsSUFBSSxRQUFRLENBQUMsYUFBYSxFQUFFO1lBQ3hCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFFbEMsMENBQTBDO1FBQzFDLElBQUksS0FBSyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakMsSUFBSSxLQUFLLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVqQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDOUIsSUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUV2RSxnRUFBZ0U7UUFFaEUsZ0JBQWdCO1FBQ2hCLElBQUksWUFBWSxHQUFHLFVBQVUsQ0FBQyxVQUFVLElBQUksQ0FBQyxFQUN6QyxJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUN6QixJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsWUFBWSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDM0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLFlBQVksQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1NBQ3pFO2FBQU07WUFDSCxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQztTQUNqQztRQUVELGVBQWU7UUFDZixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxFQUNwQixZQUFZLEdBQUcsVUFBVSxDQUFDLFlBQVksRUFDdEMsUUFBUSxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUM7UUFDdkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMxQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsR0FBRyxRQUFRLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzlDO0lBQ0wsQ0FBQztJQUVELDZDQUFrQixHQUFsQixVQUFtQixJQUFpQixFQUFFLEtBQVU7UUFDNUMsSUFBSSxPQUFPO1lBQUUsT0FBTztRQUVwQixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUMsbUJBQW1CLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUU7WUFDdkUsSUFBSSxXQUFXLEdBQUcsRUFBRSxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2xFLElBQUksV0FBVyxFQUFFO2dCQUNiLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUM1QztTQUNKO1FBQ0QsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxRQUFRO1lBQUUsT0FBTztRQUV0QixJQUFJLFFBQVEsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEtBQUssS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUNwRCx5REFBeUQ7WUFDekQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7WUFDeEIsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQzFCO0lBQ0wsQ0FBQztJQUNMLHVCQUFDO0FBQUQsQ0EvTEEsQUErTEMsQ0EvTDZDLEVBQUUsQ0FBQyxTQUFTLEdBK0x6RCIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUZXh0dXJlUGx1cyBmcm9tIFwiLi4vQ29tcG9uZW50cy9UZXh0dXJlUGx1c1wiO1xuaW1wb3J0IHsgQ29tbW9uVXRpbHMgfSBmcm9tIFwiLi4vVXRpbHMvQ29tbW9uVXRpbHNcIjtcblxuY29uc3QgZ2Z4ID0gY2NbJ2dmeCddO1xuXG4vLyDpobbngrnmoLzlvI8gLT4g5L2N572uIFVWLCDpopzoibJcbmxldCB2Zm10UG9zVXZDb2xvciA9IG5ldyBnZnguVmVydGV4Rm9ybWF0KFtcbiAgICB7IG5hbWU6IGdmeC5BVFRSX1BPU0lUSU9OLCB0eXBlOiBnZnguQVRUUl9UWVBFX0ZMT0FUMzIsIG51bTogMiB9LFxuICAgIHsgbmFtZTogZ2Z4LkFUVFJfVVYwLCB0eXBlOiBnZnguQVRUUl9UWVBFX0ZMT0FUMzIsIG51bTogMiB9LFxuICAgIHsgbmFtZTogZ2Z4LkFUVFJfQ09MT1IsIHR5cGU6IGdmeC5BVFRSX1RZUEVfVUlOVDgsIG51bTogNCwgbm9ybWFsaXplOiB0cnVlIH0sXG5dKTtcbi8qKlxuICogYXNzZW1ibGVyIGZvciB0ZXh0dXJlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmVBc3NlbWJsZXIgZXh0ZW5kcyBjYy5Bc3NlbWJsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9yZW5kZXJEYXRhID0gbmV3IGNjLlJlbmRlckRhdGEoKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyRGF0YS5pbml0KHRoaXMpO1xuXG4gICAgICAgIHRoaXMuaW5pdERhdGEoKTtcbiAgICB9XG4gICAgdmVydGljZXNDb3VudCA9IDQ7XG4gICAgaW5kaWNlc0NvdW50ID0gNjtcblxuICAgIGZsb2F0c1BlclZlcnQgPSA1O1xuICAgIHV2T2Zmc2V0ID0gMjsgICAgICAgXG4gICAgY29sb3JPZmZzZXQgPSA0OyAgICBcblxuICAgIHByaXZhdGUgX3JlbmRlckRhdGE6IGNjLlJlbmRlckRhdGEgPSBudWxsO1xuXG4gICAgZ2V0IHZlcnRpY2VzRmxvYXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0aWNlc0NvdW50ICogdGhpcy5mbG9hdHNQZXJWZXJ0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRWZm10KCkge1xuICAgICAgICByZXR1cm4gdmZtdFBvc1V2Q29sb3I7XG4gICAgfVxuICAgIHB1YmxpYyBnZXRCdWZmZXIoKSB7XG4gICAgICAgIHJldHVybiBjYy5yZW5kZXJlclsnX2hhbmRsZSddLmdldEJ1ZmZlcignbWVzaCcsIHRoaXMuZ2V0VmZtdCgpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdERhdGEoKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5fcmVuZGVyRGF0YTtcbiAgICAgICAgZGF0YS5jcmVhdGVRdWFkRGF0YSgwLCB0aGlzLnZlcnRpY2VzRmxvYXRzLCB0aGlzLmluZGljZXNDb3VudCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2V0RGF0YShjb21wOiBUZXh0dXJlUGx1cykge1xuICAgICAgICBsZXQgcG9pbnRzID0gY29tcC5wb2x5Z29uO1xuICAgICAgICBpZighcG9pbnRzIHx8IHBvaW50cy5sZW5ndGggPCAzKSByZXR1cm4gO1xuICAgICAgICB0aGlzLnZlcnRpY2VzQ291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICB0aGlzLmluZGljZXNDb3VudCA9IHRoaXMudmVydGljZXNDb3VudCArICh0aGlzLnZlcnRpY2VzQ291bnQgLSAzKSAqIDI7XG4gICAgICAgIHRoaXMuX3JlbmRlckRhdGFbJ2NsZWFyJ10oKTtcbiAgICAgICAgdGhpcy5pbml0RGF0YSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0UXVhZEluZGljZXMoaW5kaWNlczogbnVtYmVyW10sIGFycjogbnVtYmVyW10pIHtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbmRpY2VzW2ldID0gYXJyW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIOWhq+WFhemhtueCueeahGNvbG9yICovXG4gICAgcHVibGljIHVwZGF0ZUNvbG9yKGNvbXA6IFRleHR1cmVQbHVzLCBjb2xvcjogbnVtYmVyKSB7XG4gICAgICAgIGxldCB1aW50VmVydHMgPSB0aGlzLl9yZW5kZXJEYXRhLnVpbnRWRGF0YXNbMF07XG4gICAgICAgIGlmKCF1aW50VmVydHMpIHJldHVybiA7XG4gICAgICAgIGNvbG9yID0gY29sb3IgIT0gbnVsbCA/IGNvbG9yIDogY29tcC5ub2RlLmNvbG9yWydfdmFsJ107XG4gICAgICAgIGxldCBmbG9hdHNQZXJWZXJ0ID0gdGhpcy5mbG9hdHNQZXJWZXJ0O1xuICAgICAgICBsZXQgY29sb3JPZmZzZXQgPSB0aGlzLmNvbG9yT2Zmc2V0O1xuXG4gICAgICAgIGxldCBwb2x5Z29uID0gY29tcC5wb2x5Z29uO1xuICAgICAgICBmb3IobGV0IGk9MDsgaTxwb2x5Z29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB1aW50VmVydHNbY29sb3JPZmZzZXQgKyBpICogZmxvYXRzUGVyVmVydF0gPSBjb2xvcjtcbiAgICAgICAgfSAgICAgICAgXG4gICAgfVxuICAgIC8qKiDmm7TmlrB1diAqL1xuICAgIHByb3RlY3RlZCB1cGRhdGVVVnMoY29tcDogVGV4dHVyZVBsdXMpIHtcbiAgICAgICAgbGV0IHV2T2Zmc2V0ID0gdGhpcy51dk9mZnNldDtcbiAgICAgICAgbGV0IGZsb2F0c1BlclZlcnQgPSB0aGlzLmZsb2F0c1BlclZlcnQ7XG4gICAgICAgIGxldCB2ZXJ0cyA9IHRoaXMuX3JlbmRlckRhdGEudkRhdGFzWzBdO1xuXG4gICAgICAgIGxldCB1dnMgPSBDb21tb25VdGlscy5jb21wdXRlVXYoY29tcC5wb2x5Z29uLCBjb21wLm5vZGUud2lkdGgsIGNvbXAubm9kZS5oZWlnaHQpICAgICAgICBcbiAgICAgICAgbGV0IHBvbHlnb24gPSBjb21wLnBvbHlnb247XG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHBvbHlnb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkc3RPZmZzZXQgPSBmbG9hdHNQZXJWZXJ0ICogaSArIHV2T2Zmc2V0O1xuICAgICAgICAgICAgdmVydHNbZHN0T2Zmc2V0XSA9IHV2c1tpXS54O1xuICAgICAgICAgICAgdmVydHNbZHN0T2Zmc2V0ICsgMV0gPSB1dnNbaV0ueTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVXb3JsZFZlcnRzV2ViR0woY29tcDogVGV4dHVyZVBsdXMpIHtcbiAgICAgICAgbGV0IHZlcnRzID0gdGhpcy5fcmVuZGVyRGF0YS52RGF0YXNbMF07XG5cbiAgICAgICAgbGV0IG1hdHJpeDogY2MuTWF0NCA9IGNvbXAubm9kZVsnX3dvcmxkTWF0cml4J107XG4gICAgICAgIGxldCBtYXRyaXhtID0gbWF0cml4Lm0sXG4gICAgICAgIGEgPSBtYXRyaXhtWzBdLCBiID0gbWF0cml4bVsxXSwgYyA9IG1hdHJpeG1bNF0sIGQgPSBtYXRyaXhtWzVdLCBcbiAgICAgICAgdHggPSBtYXRyaXhtWzEyXSwgdHkgPSBtYXRyaXhtWzEzXTtcblxuICAgICAgICBsZXQganVzdFRyYW5zbGF0ZSA9IGEgPT09IDEgJiYgYiA9PT0gMCAmJiBjID09PSAwICYmIGQgPT09IDE7XG4gICAgICAgIGxldCBmbG9hdHNQZXJWZXJ0ID0gdGhpcy5mbG9hdHNQZXJWZXJ0O1xuICAgICAgICBpZiAoanVzdFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgbGV0IHBvbHlnb24gPSBjb21wLnBvbHlnb247XG4gICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxwb2x5Z29uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmVydHNbaSAqIGZsb2F0c1BlclZlcnRdID0gcG9seWdvbltpXS54ICsgdHg7XG4gICAgICAgICAgICAgICAgdmVydHNbaSAqIGZsb2F0c1BlclZlcnQrMV0gPSBwb2x5Z29uW2ldLnkgKyB0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwb2x5Z29uICA9IGNvbXAucG9seWdvbjtcbiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHBvbHlnb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ0c1tpICogZmxvYXRzUGVyVmVydF0gPSBhICogcG9seWdvbltpXS54ICsgYyAqIHBvbHlnb25baV0ueSArIHR4O1xuICAgICAgICAgICAgICAgIHZlcnRzW2kgKiBmbG9hdHNQZXJWZXJ0KzFdID0gYiAqIHBvbHlnb25baV0ueCArIGQgKiBwb2x5Z29uW2ldLnkgKyB0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVXb3JsZFZlcnRzTmF0aXZlKGNvbXA6IFRleHR1cmVQbHVzKSB7XG4gICAgICAgIGxldCB2ZXJ0cyA9IHRoaXMuX3JlbmRlckRhdGEudkRhdGFzWzBdO1xuICAgICAgICBsZXQgZmxvYXRzUGVyVmVydCA9IHRoaXMuZmxvYXRzUGVyVmVydDtcbiAgICAgIFxuICAgICAgICBsZXQgcG9seWdvbiA9IGNvbXAucG9seWdvbjtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8cG9seWdvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmVydHNbaSAqIGZsb2F0c1BlclZlcnRdID0gcG9seWdvbltpXS54O1xuICAgICAgICAgICAgdmVydHNbaSAqIGZsb2F0c1BlclZlcnQrMV0gPSBwb2x5Z29uW2ldLnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdXBkYXRlV29ybGRWZXJ0cyhjb21wOiBUZXh0dXJlUGx1cykge1xuICAgICAgICBpZiAoQ0NfTkFUSVZFUkVOREVSRVIpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV29ybGRWZXJ0c05hdGl2ZShjb21wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV29ybGRWZXJ0c1dlYkdMKGNvbXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIOabtOaWsOmhtueCueaVsOaNriAqL1xuICAgIHByb3RlY3RlZCB1cGRhdGVWZXJ0cyhjb21wOiBUZXh0dXJlUGx1cykge1xuICAgICAgICBsZXQgaW5kaWNlc0FyciA9IENvbW1vblV0aWxzLnNwbGl0ZVBvbHlnb24oY29tcC5wb2x5Z29uKTsgXG4gICAgICAgIHRoaXMuaW5pdFF1YWRJbmRpY2VzKHRoaXMuX3JlbmRlckRhdGEuaURhdGFzWzBdLCBpbmRpY2VzQXJyKTtcbiAgICAgICAgdGhpcy51cGRhdGVXb3JsZFZlcnRzKGNvbXApO1xuICAgIH1cblxuICAgIC8qKiDmm7TmlrByZW5kZXJkYXRhICovXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVJlbmRlckRhdGEoY29tcDogVGV4dHVyZVBsdXMpIHtcbiAgICAgICAgaWYgKGNvbXAuX3ZlcnRzRGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXREYXRhKGNvbXApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVVnMoY29tcCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZlcnRzKGNvbXApO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDb2xvcihjb21wLCBudWxsKTtcbiAgICAgICAgICAgIGNvbXAuX3ZlcnRzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0gXG5cbiAgICAvL+avj+W4p+mDveS8muiiq+iwg+eUqFxuICAgIGZpbGxCdWZmZXJzKGNvbXA6IFRleHR1cmVQbHVzLCByZW5kZXJlcikge1xuICAgICAgICBpZiAocmVuZGVyZXIud29ybGRNYXREaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVXb3JsZFZlcnRzKGNvbXApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlbmRlckRhdGEgPSB0aGlzLl9yZW5kZXJEYXRhO1xuXG4gICAgICAgIC8vIHZEYXRh6YeM5YyF5ZCrIHBvc++8jCB1du+8jCBjb2xvcuaVsOaNru+8jCBpRGF0YeS4reWMheWQq+mhtueCuee0ouW8lVxuICAgICAgICBsZXQgdkRhdGEgPSByZW5kZXJEYXRhLnZEYXRhc1swXTtcbiAgICAgICAgbGV0IGlEYXRhID0gcmVuZGVyRGF0YS5pRGF0YXNbMF07XG5cbiAgICAgICAgbGV0IGJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCk7XG4gICAgICAgIGxldCBvZmZzZXRJbmZvID0gYnVmZmVyLnJlcXVlc3QodGhpcy52ZXJ0aWNlc0NvdW50LCB0aGlzLmluZGljZXNDb3VudCk7XG5cbiAgICAgICAgLy8gYnVmZmVyIGRhdGEgbWF5IGJlIHJlYWxsb2MsIG5lZWQgZ2V0IHJlZmVyZW5jZSBhZnRlciByZXF1ZXN0LlxuXG4gICAgICAgIC8vIGZpbGwgdmVydGljZXNcbiAgICAgICAgbGV0IHZlcnRleE9mZnNldCA9IG9mZnNldEluZm8uYnl0ZU9mZnNldCA+PiAyLFxuICAgICAgICAgICAgdmJ1ZiA9IGJ1ZmZlci5fdkRhdGE7XG4gICAgICAgIGlmICh2RGF0YS5sZW5ndGggKyB2ZXJ0ZXhPZmZzZXQgPiB2YnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgdmJ1Zi5zZXQodkRhdGEuc3ViYXJyYXkoMCwgdmJ1Zi5sZW5ndGggLSB2ZXJ0ZXhPZmZzZXQpLCB2ZXJ0ZXhPZmZzZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmJ1Zi5zZXQodkRhdGEsIHZlcnRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaWxsIGluZGljZXNcbiAgICAgICAgbGV0IGlidWYgPSBidWZmZXIuX2lEYXRhLFxuICAgICAgICAgICAgaW5kaWNlT2Zmc2V0ID0gb2Zmc2V0SW5mby5pbmRpY2VPZmZzZXQsXG4gICAgICAgICAgICB2ZXJ0ZXhJZCA9IG9mZnNldEluZm8udmVydGV4T2Zmc2V0O1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGlEYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWJ1ZltpbmRpY2VPZmZzZXQrK10gPSB2ZXJ0ZXhJZCArIGlEYXRhW2ldO1xuICAgICAgICB9XG4gICAgfVxuICBcbiAgICBwYWNrVG9EeW5hbWljQXRsYXMoY29tcDogVGV4dHVyZVBsdXMsIGZyYW1lOiBhbnkpIHtcbiAgICAgICAgaWYgKENDX1RFU1QpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGlmICghZnJhbWUuX29yaWdpbmFsICYmIGNjLmR5bmFtaWNBdGxhc01hbmFnZXIgJiYgZnJhbWUuX3RleHR1cmUucGFja2FibGUpIHtcbiAgICAgICAgICAgIGxldCBwYWNrZWRGcmFtZSA9IGNjLmR5bmFtaWNBdGxhc01hbmFnZXIuaW5zZXJ0U3ByaXRlRnJhbWUoZnJhbWUpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHBhY2tlZEZyYW1lKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUuX3NldER5bmFtaWNBdGxhc0ZyYW1lKHBhY2tlZEZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgbWF0ZXJpYWwgPSBjb21wWydfbWF0ZXJpYWxzJ11bMF07XG4gICAgICAgIGlmICghbWF0ZXJpYWwpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGlmIChtYXRlcmlhbC5nZXRQcm9wZXJ0eSgndGV4dHVyZScpICE9PSBmcmFtZS5fdGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gdGV4dHVyZSB3YXMgcGFja2VkIHRvIGR5bmFtaWMgYXRsYXMsIHNob3VsZCB1cGRhdGUgdXZzXG4gICAgICAgICAgICBjb21wLl92ZXJ0c0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbXAuX3VwZGF0ZU1hdGVyaWFsKCk7XG4gICAgICAgIH1cbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/CameraCapture.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '29803DQKJdC2KvHyjig9y8N', 'CameraCapture');
// Script/Common/Components/CameraCapture.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var CocosHelper_1 = require("../../UIFrame/CocosHelper");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var CameraCapture = /** @class */ (function (_super) {
    __extends(CameraCapture, _super);
    function CameraCapture() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.captureNode = null;
        _this.camera = null;
        return _this;
    }
    CameraCapture_1 = CameraCapture;
    CameraCapture.prototype.onLoad = function () {
        CameraCapture_1.inst = this;
        this.camera = this.getComponent(cc.Camera);
        if (!this.camera) {
            this.camera = this.addComponent(cc.Camera);
        }
        this.node.active = false;
    };
    CameraCapture.prototype.start = function () { };
    CameraCapture.prototype.captureTexture = function () {
        this.node.active = true;
        this.captureNode.active = false;
        var data = CocosHelper_1.default.captureScreen(this.camera, this.captureNode);
        this.captureNode.active = true;
        this.node.active = false;
        return data;
    };
    var CameraCapture_1;
    CameraCapture.inst = null;
    __decorate([
        property(cc.Node)
    ], CameraCapture.prototype, "captureNode", void 0);
    CameraCapture = CameraCapture_1 = __decorate([
        ccclass
    ], CameraCapture);
    return CameraCapture;
}(cc.Component));
exports.default = CameraCapture;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvQ2FtZXJhQ2FwdHVyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSx5REFBb0Q7QUFHOUMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUErQkM7UUExQkcsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFFcEIsWUFBTSxHQUFjLElBQUksQ0FBQzs7SUF3QnJDLENBQUM7c0JBL0JvQixhQUFhO0lBUTlCLDhCQUFNLEdBQU47UUFDSSxlQUFhLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLElBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM5QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUU3QixDQUFDO0lBRUQsNkJBQUssR0FBTCxjQUFVLENBQUM7SUFFWCxzQ0FBYyxHQUFkO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNoQyxJQUFJLElBQUksR0FBRyxxQkFBVyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBRXpCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7O0lBMUJNLGtCQUFJLEdBQWtCLElBQUksQ0FBQztJQUdsQztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3NEQUNVO0lBTFgsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQStCakM7SUFBRCxvQkFBQztDQS9CRCxBQStCQyxDQS9CMEMsRUFBRSxDQUFDLFNBQVMsR0ErQnREO2tCQS9Cb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb2Nvc0hlbHBlciBmcm9tIFwiLi4vLi4vVUlGcmFtZS9Db2Nvc0hlbHBlclwiO1xuaW1wb3J0IHsgQ29tbW9uVXRpbHMgfSBmcm9tIFwiLi4vVXRpbHMvQ29tbW9uVXRpbHNcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmFDYXB0dXJlIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIHN0YXRpYyBpbnN0OiBDYW1lcmFDYXB0dXJlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGNhcHR1cmVOb2RlOiBjYy5Ob2RlID0gbnVsbDtcblxuICAgIHByaXZhdGUgY2FtZXJhOiBjYy5DYW1lcmEgPSBudWxsO1xuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIENhbWVyYUNhcHR1cmUuaW5zdCA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5nZXRDb21wb25lbnQoY2MuQ2FtZXJhKTtcbiAgICAgICAgaWYoIXRoaXMuY2FtZXJhKSB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuYWRkQ29tcG9uZW50KGNjLkNhbWVyYSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgfVxuXG4gICAgc3RhcnQgKCkge31cblxuICAgIGNhcHR1cmVUZXh0dXJlKCkge1xuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYXB0dXJlTm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IGRhdGEgPSBDb2Nvc0hlbHBlci5jYXB0dXJlU2NyZWVuKHRoaXMuY2FtZXJhLCB0aGlzLmNhcHR1cmVOb2RlKTtcbiAgICAgICAgdGhpcy5jYXB0dXJlTm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cblxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/QuadTree.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '97092zpFuhN/oWHIMkF7jei', 'QuadTree');
// Script/Common/Components/QuadTree.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Bound = void 0;
var Bound = /** @class */ (function () {
    function Bound(x, y, width, height, uid) {
        if (uid === void 0) { uid = ""; }
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
        this.uid = uid;
    }
    return Bound;
}());
exports.Bound = Bound;
/**
 * 四叉树
 */
var Quadtree = /** @class */ (function () {
    function Quadtree(bound, maxObjects, maxLevels, level) {
        this._maxObject = 10;
        this._maxLevel = 4;
        this._level = 0;
        this._bound = null;
        this._objects = [];
        this._nodes = [];
        this._bound = bound;
        this._maxObject = maxObjects || this._maxObject;
        this._maxLevel = maxLevels || this._maxLevel;
        this._level = level || this._level;
    }
    /** 切 */
    Quadtree.prototype.split = function () {
        var nextLevel = this._level + 1;
        var subWidth = this._bound.width / 2;
        var subHeight = this._bound.height / 2;
        var x = this._bound.x;
        var y = this._bound.y;
        //top right node
        this._nodes[0] = new Quadtree({
            uid: nextLevel + "-top-right",
            x: x + subWidth,
            y: y,
            width: subWidth,
            height: subHeight
        }, this._maxObject, this._maxLevel, nextLevel);
        //top left node
        this._nodes[1] = new Quadtree({
            uid: nextLevel + "-top-left",
            x: x,
            y: y,
            width: subWidth,
            height: subHeight
        }, this._maxObject, this._maxLevel, nextLevel);
        //bottom left node
        this._nodes[2] = new Quadtree({
            uid: nextLevel + "-bottom-left",
            x: x,
            y: y + subHeight,
            width: subWidth,
            height: subHeight
        }, this._maxObject, this._maxLevel, nextLevel);
        //bottom right node
        this._nodes[3] = new Quadtree({
            uid: nextLevel + "-bottom-right",
            x: x + subWidth,
            y: y + subHeight,
            width: subWidth,
            height: subHeight
        }, this._maxObject, this._maxLevel, nextLevel);
    };
    /**  */
    Quadtree.prototype.getIndex = function (bound) {
        var indexes = [], verticalMidpoint = this._bound.x + (this._bound.width / 2), horizontalMidpoint = this._bound.y + (this._bound.height / 2);
        var startIsNorth = bound.y < horizontalMidpoint, startIsWest = bound.x < verticalMidpoint, endIsEast = bound.x + bound.width > verticalMidpoint, endIsSouth = bound.y + bound.height > horizontalMidpoint;
        //top-right quad
        if (startIsNorth && endIsEast) {
            indexes.push(0);
        }
        //top-left quad
        if (startIsWest && startIsNorth) {
            indexes.push(1);
        }
        //bottom-left quad
        if (startIsWest && endIsSouth) {
            indexes.push(2);
        }
        //bottom-right quad
        if (endIsEast && endIsSouth) {
            indexes.push(3);
        }
        return indexes;
    };
    /** 插入一个bound */
    Quadtree.prototype.insert = function (bound) {
        var i = 0;
        var indexes = [];
        //if we have subnodes, call insert on matching subnodes
        if (this._nodes.length) {
            indexes = this.getIndex(bound);
            for (i = 0; i < indexes.length; i++) {
                this._nodes[indexes[i]].insert(bound);
            }
            return;
        }
        //otherwise, store object here
        this._objects.push(bound);
        //max_objects reached
        if (this._objects.length > this._maxObject && this._level < this._maxLevel) {
            //split if we don't already have subnodes
            if (!this._nodes.length) {
                this.split();
            }
            //add all objects to their corresponding subnode
            for (i = 0; i < this._objects.length; i++) {
                indexes = this.getIndex(this._objects[i]);
                for (var k = 0; k < indexes.length; k++) {
                    this._nodes[indexes[k]].insert(this._objects[i]);
                }
            }
            //clean up this node
            this._objects = [];
        }
    };
    Quadtree.prototype.retrieve = function (bound) {
        var indexes = this.getIndex(bound), returnObjects = this._objects;
        //if we have subnodes, retrieve their objects
        if (this._nodes.length) {
            for (var i = 0; i < indexes.length; i++) {
                returnObjects = returnObjects.concat(this._nodes[indexes[i]].retrieve(bound));
            }
        }
        //remove duplicates
        returnObjects = returnObjects.filter(function (item, index) {
            return returnObjects.indexOf(item) >= index;
        });
        return returnObjects;
    };
    Quadtree.prototype.clear = function () {
        this._objects = [];
        for (var i = 0; i < this._nodes.length; i++) {
            if (this._nodes.length) {
                this._nodes[i].clear();
            }
        }
        this._nodes = [];
    };
    return Quadtree;
}());
exports.default = Quadtree;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvUXVhZFRyZWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7SUFPSSxlQUFZLENBQVMsRUFBRSxDQUFTLEVBQUUsS0FBYSxFQUFFLE1BQWMsRUFBRSxHQUFRO1FBQVIsb0JBQUEsRUFBQSxRQUFRO1FBQ3JFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztJQUNuQixDQUFDO0lBQ0wsWUFBQztBQUFELENBZEEsQUFjQyxJQUFBO0FBZFksc0JBQUs7QUFlbEI7O0dBRUc7QUFDSDtJQVFJLGtCQUFZLEtBQVksRUFBRSxVQUFtQixFQUFFLFNBQWtCLEVBQUUsS0FBYztRQVB6RSxlQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLGNBQVMsR0FBRyxDQUFDLENBQUM7UUFDZCxXQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsV0FBTSxHQUFVLElBQUksQ0FBQztRQUNyQixhQUFRLEdBQVksRUFBRSxDQUFDO1FBQ3ZCLFdBQU0sR0FBZSxFQUFFLENBQUM7UUFHNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUNoRCxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQzdDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkMsQ0FBQztJQUVELFFBQVE7SUFDRCx3QkFBSyxHQUFaO1FBQ0ksSUFBSSxTQUFTLEdB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QUM7YUFDakY7U0FDSjtRQUVELG1CQUFtQjtRQUNuQixhQUFhLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FBQyxVQUFTLElBQUksRUFBRSxLQUFLO1lBQ3JELE9BQU8sYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUM7UUFDaEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLGFBQWEsQ0FBQztJQUN6QixDQUFDO0lBRU0sd0JBQUssR0FBWjtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ25CLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN0QyxJQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO2dCQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO2FBQ3hCO1NBQ047UUFDRCxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBQ0wsZUFBQztBQUFELENBbEtBLEFBa0tDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQm91bmQge1xuICAgIHVpZD86IHN0cmluZztcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHVpZCA9IFwiXCIpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy51aWQgPSB1aWQ7XG4gICAgfVxufVxuLyoqXG4gKiDlm5vlj4nmoJFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVhZHRyZWUge1xuICAgIHByaXZhdGUgX21heE9iamVjdCA9IDEwO1xuICAgIHByaXZhdGUgX21heExldmVsID0gNDtcbiAgICBwcml2YXRlIF9sZXZlbCA9IDA7XG4gICAgcHJpdmF0ZSBfYm91bmQ6IEJvdW5kID0gbnVsbDtcbiAgICBwcml2YXRlIF9vYmplY3RzOiBCb3VuZFtdID0gW107XG4gICAgcHJpdmF0ZSBfbm9kZXM6IFF1YWR0cmVlW10gPSBbXTtcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihib3VuZDogQm91bmQsIG1heE9iamVjdHM/OiBudW1iZXIsIG1heExldmVscz86IG51bWJlciwgbGV2ZWw/OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fYm91bmQgPSBib3VuZDtcbiAgICAgICAgdGhpcy5fbWF4T2JqZWN0ID0gbWF4T2JqZWN0cyB8fCB0aGlzLl9tYXhPYmplY3Q7XG4gICAgICAgIHRoaXMuX21heExldmVsID0gbWF4TGV2ZWxzIHx8IHRoaXMuX21heExldmVsO1xuICAgICAgICB0aGlzLl9sZXZlbCA9IGxldmVsIHx8IHRoaXMuX2xldmVsO1xuICAgIH1cblxuICAgIC8qKiDliIcgKi9cbiAgICBwdWJsaWMgc3BsaXQoKSB7XG4gICAgICAgIGxldCBuZXh0TGV2ZWwgICA9IHRoaXMuX2xldmVsICsgMTtcbiAgICAgICAgbGV0IHN1YldpZHRoICAgID0gdGhpcy5fYm91bmQud2lkdGgvMjtcbiAgICAgICAgbGV0IHN1YkhlaWdodCAgID0gdGhpcy5fYm91bmQuaGVpZ2h0LzI7XG4gICAgICAgIGxldCB4ICAgICAgICAgICA9IHRoaXMuX2JvdW5kLng7XG4gICAgICAgIGxldCB5ICAgICAgICAgICA9IHRoaXMuX2JvdW5kLnk7XG4gXG4gICAgICAgIC8vdG9wIHJpZ2h0IG5vZGVcbiAgICAgICAgdGhpcy5fbm9kZXNbMF0gPSBuZXcgUXVhZHRyZWUoe1xuICAgICAgICAgICAgdWlkOiBgJHtuZXh0TGV2ZWx9LXRvcC1yaWdodGAsXG4gICAgICAgICAgICB4OiB4K3N1YldpZHRoLFxuICAgICAgICAgICAgeTogeSwgXG4gICAgICAgICAgICB3aWR0aDogc3ViV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHN1YkhlaWdodFxuICAgICAgICB9LCB0aGlzLl9tYXhPYmplY3QsIHRoaXMuX21heExldmVsLCBuZXh0TGV2ZWwpO1xuICAgICAgICBcbiAgICAgICAgLy90b3AgbGVmdCBub2RlXG4gICAgICAgIHRoaXMuX25vZGVzWzFdID0gbmV3IFF1YWR0cmVlKHtcbiAgICAgICAgICAgIHVpZDogYCR7bmV4dExldmVsfS10b3AtbGVmdGAsXG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHdpZHRoOiBzdWJXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogc3ViSGVpZ2h0XG4gICAgICAgIH0sIHRoaXMuX21heE9iamVjdCwgdGhpcy5fbWF4TGV2ZWwsIG5leHRMZXZlbCk7XG4gICAgICAgIFxuICAgICAgICAvL2JvdHRvbSBsZWZ0IG5vZGVcbiAgICAgICAgdGhpcy5fbm9kZXNbMl0gPSBuZXcgUXVhZHRyZWUoe1xuICAgICAgICAgICAgdWlkOiBgJHtuZXh0TGV2ZWx9LWJvdHRvbS1sZWZ0YCxcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5K3N1YkhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiBzdWJXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogc3ViSGVpZ2h0XG4gICAgICAgIH0sIHRoaXMuX21heE9iamVjdCwgdGhpcy5fbWF4TGV2ZWwsIG5leHRMZXZlbCk7XG4gICAgICAgIFxuICAgICAgICAvL2JvdHRvbSByaWdodCBub2RlXG4gICAgICAgIHRoaXMuX25vZGVzWzNdID0gbmV3IFF1YWR0cmVlKHtcbiAgICAgICAgICAgIHVpZDogYCR7bmV4dExldmVsfS1ib3R0b20tcmlnaHRgLFxuICAgICAgICAgICAgeDogeCArIHN1YldpZHRoLFxuICAgICAgICAgICAgeTogeStzdWJIZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogc3ViV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHN1YkhlaWdodFxuICAgICAgICB9LCB0aGlzLl9tYXhPYmplY3QsIHRoaXMuX21heExldmVsLCBuZXh0TGV2ZWwpO1xuICAgIH1cblxuICAgIC8qKiAgKi9cbiAgICBwdWJsaWMgZ2V0SW5kZXgoYm91bmQ6IEJvdW5kKSB7XG4gICAgICAgIGxldCBpbmRleGVzOiBudW1iZXJbXSA9IFtdLFxuICAgICAgICB2ZXJ0aWNhbE1pZHBvaW50ICAgID0gdGhpcy5fYm91bmQueCArICh0aGlzLl9ib3VuZC53aWR0aC8yKSxcbiAgICAgICAgaG9yaXpvbnRhbE1pZHBvaW50ICA9IHRoaXMuX2JvdW5kLnkgKyAodGhpcy5fYm91bmQuaGVpZ2h0LzIpOyAgICBcblxuICAgICAgICBsZXQgc3RhcnRJc05vcnRoID0gYm91bmQueSA8IGhvcml6b250YWxNaWRwb2ludCxcbiAgICAgICAgICAgIHN0YXJ0SXNXZXN0ICA9IGJvdW5kLnggPCB2ZXJ0aWNhbE1pZHBvaW50LFxuICAgICAgICAgICAgZW5kSXNFYXN0ICAgID0gYm91bmQueCArIGJvdW5kLndpZHRoID4gdmVydGljYWxNaWRwb2ludCxcbiAgICAgICAgICAgIGVuZElzU291dGggICA9IGJvdW5kLnkgKyBib3VuZC5oZWlnaHQgPiBob3Jpem9udGFsTWlkcG9pbnQ7ICAgIFxuXG4gICAgICAgIC8vdG9wLXJpZ2h0IHF1YWRcbiAgICAgICAgaWYoc3RhcnRJc05vcnRoICYmIGVuZElzRWFzdCkge1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvL3RvcC1sZWZ0IHF1YWRcbiAgICAgICAgaWYoc3RhcnRJc1dlc3QgJiYgc3RhcnRJc05vcnRoKSB7XG4gICAgICAgICAgICBpbmRleGVzLnB1c2goMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2JvdHRvbS1sZWZ0IHF1YWRcbiAgICAgICAgaWYoc3RhcnRJc1dlc3QgJiYgZW5kSXNTb3V0aCkge1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9ib3R0b20tcmlnaHQgcXVhZFxuICAgICAgICBpZihlbmRJc0Vhc3QgJiYgZW5kSXNTb3V0aCkge1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKDMpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiBpbmRleGVzO1xuICAgIH1cblxuICAgIC8qKiDmj5LlhaXkuIDkuKpib3VuZCAqL1xuICAgIHB1YmxpYyBpbnNlcnQoYm91bmQ6IEJvdW5kKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgbGV0IGluZGV4ZXM6IG51bWJlcltdID0gW107XG4gICAgICAgICBcbiAgICAgICAgLy9pZiB3ZSBoYXZlIHN1Ym5vZGVzLCBjYWxsIGluc2VydCBvbiBtYXRjaGluZyBzdWJub2Rlc1xuICAgICAgICBpZih0aGlzLl9ub2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGluZGV4ZXMgPSB0aGlzLmdldEluZGV4KGJvdW5kKTtcbiAgICAgXG4gICAgICAgICAgICBmb3IoaT0wOyBpPGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ub2Rlc1tpbmRleGVzW2ldXS5pbnNlcnQoYm91bmQpOyAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgXG4gICAgICAgIC8vb3RoZXJ3aXNlLCBzdG9yZSBvYmplY3QgaGVyZVxuICAgICAgICB0aGlzLl9vYmplY3RzLnB1c2goYm91bmQpO1xuXG4gICAgICAgIC8vbWF4X29iamVjdHMgcmVhY2hlZFxuICAgICAgICBpZih0aGlzLl9vYmplY3RzLmxlbmd0aCA+IHRoaXMuX21heE9iamVjdCAmJiB0aGlzLl9sZXZlbCA8IHRoaXMuX21heExldmVsKSB7XG5cbiAgICAgICAgICAgIC8vc3BsaXQgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIHN1Ym5vZGVzXG4gICAgICAgICAgICBpZighdGhpcy5fbm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL2FkZCBhbGwgb2JqZWN0cyB0byB0aGVpciBjb3JyZXNwb25kaW5nIHN1Ym5vZGVcbiAgICAgICAgICAgIGZvcihpPTA7IGk8dGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGluZGV4ZXMgPSB0aGlzLmdldEluZGV4KHRoaXMuX29iamVjdHNbaV0pO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaz0wOyBrPGluZGV4ZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9kZXNbaW5kZXhlc1trXV0uaW5zZXJ0KHRoaXMuX29iamVjdHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9jbGVhbiB1cCB0aGlzIG5vZGVcbiAgICAgICAgICAgIHRoaXMuX29iamVjdHMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyByZXRyaWV2ZShib3VuZDogQm91bmQpOiBCb3VuZFtdIHtcbiAgICAgICAgIFxuICAgICAgICBsZXQgaW5kZXhlcyA9IHRoaXMuZ2V0SW5kZXgoYm91bmQpLFxuICAgICAgICAgICAgcmV0dXJuT2JqZWN0cyA9IHRoaXMuX29iamVjdHM7XG4gICAgICAgICAgICBcbiAgICAgICAgLy9pZiB3ZSBoYXZlIHN1Ym5vZGVzLCByZXRyaWV2ZSB0aGVpciBvYmplY3RzXG4gICAgICAgIGlmKHRoaXMuX25vZGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8aW5kZXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJldHVybk9iamVjdHMgPSByZXR1cm5PYmplY3RzLmNvbmNhdCh0aGlzLl9ub2Rlc1tpbmRleGVzW2ldXS5yZXRyaWV2ZShib3VuZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9yZW1vdmUgZHVwbGljYXRlc1xuICAgICAgICByZXR1cm5PYmplY3RzID0gcmV0dXJuT2JqZWN0cy5maWx0ZXIoZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5PYmplY3RzLmluZGV4T2YoaXRlbSkgPj0gaW5kZXg7XG4gICAgICAgIH0pO1xuICAgICBcbiAgICAgICAgcmV0dXJuIHJldHVybk9iamVjdHM7XG4gICAgfVxuXG4gICAgcHVibGljIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9vYmplY3RzID0gW107XG4gICAgICAgIGZvcihsZXQgaT0wOyBpIDwgdGhpcy5fbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHRoaXMuX25vZGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25vZGVzW2ldLmNsZWFyKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub2RlcyA9IFtdO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/PropController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9c55bh8k9BD0JhzsvfCJYNE', 'PropController');
// Script/Common/Components/PropController.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.NodePathType = void 0;
var PropSelector_1 = require("./PropSelector");
var NodePathType;
(function (NodePathType) {
    NodePathType[NodePathType["Name"] = 0] = "Name";
    NodePathType[NodePathType["SiblingIndex"] = 1] = "SiblingIndex";
})(NodePathType = exports.NodePathType || (exports.NodePathType = {}));
cc['NodePathType'] = NodePathType;
var _a = cc._decorator, ccclass = _a.ccclass, executeInEditMode = _a.executeInEditMode, menu = _a.menu, inspector = _a.inspector, property = _a.property;
var PropController = /** @class */ (function (_super) {
    __extends(PropController, _super);
    function PropController() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.nodePathType = NodePathType.SiblingIndex;
        _this.open = true;
        _this._uid = "";
        _this._state = 0;
        _this._states = [];
        _this.propertyJson = '';
        return _this;
        // update (dt) {}
    }
    PropController_1 = PropController;
    Object.defineProperty(PropController.prototype, "uid", {
        get: function () {
            return this._uid;
        },
        set: function (val) {
            this._uid = val;
            this._refreshIdEnum();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(PropController.prototype, "state", {
        get: function () {
            return this._state;
        },
        set: function (val) {
            this._state = val;
            this.doControl(val);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(PropController.prototype, "states", {
        get: function () {
            return this._states;
        },
        set: function (states) {
            this._states = states;
            this._refresh();
        },
        enumerable: false,
        configurable: true
    });
    PropController.prototype.onLoad = function () {
        this._refresh();
        this._refreshIdEnum();
    };
    PropController.prototype.start = function () { };
    PropController.prototype.doControl = function (type) {
        var t = type;
        var ctrl = JSON.parse(this.propertyJson);
        var map = ctrl[t];
        for (var path in map) {
            var paths = path.split(":");
            var node = null;
            switch (+paths[0]) {
                case NodePathType.Name:
                    node = cc.find(paths[1], this.node);
                    break;
                case NodePathType.SiblingIndex:
                    node = this._getNodeBySiblingIndex(paths[1], this.node);
                    break;
            }
            if (!node) {
                cc.warn("find node faild, path:", path);
                continue;
            }
            var nodeProps = map[path];
            for (var key in nodeProps) {
                var func = _localSetFunc[key];
                if (!func)
                    continue;
                func(node, nodeProps[key]);
            }
        }
    };
    PropController.prototype._getNodeBySiblingIndex = function (path, node) {
        path = (path[0] == '/') ? path.substring(1) : path;
        for (var _i = 0, _a = path.split("/"); _i < _a.length; _i++) {
            var e = _a[_i];
            node = node.children[+e];
        }
        return node;
    };
    PropController.prototype._refresh = function () {
        if (CC_EDITOR) {
            var array = this._states.map(function (val, i) {
                return { name: val, value: i };
            });
            //@ts-ignore
            cc.Class.Attr.setClassAttr(this, 'state', 'enumList', array);
            //@ts-ignore
            // Editor.Utils.refreshSelectedInspector('node', this.node.uuid);
        }
    };
    PropController.prototype._refreshIdEnum = function () {
        if (CC_EDITOR) {
            var coms = this.node.getComponents(PropController_1);
            var array = coms.map(function (val, i) {
                return { name: val.uid, value: i };
            });
            //@ts-ignore
            cc.Class.Attr.setClassAttr(PropSelector_1.default, 'ctrlId', 'enumList', array);
        }
    };
    var PropController_1;
    __decorate([
        property({ type: cc.Enum(NodePathType), tooltip: "Name: 根据node name保存, SiblingIndex: 根据node 在children的index保存" })
    ], PropController.prototype, "nodePathType", void 0);
    __decorate([
        property({ tooltip: "是否启用控制器" })
    ], PropController.prototype, "open", void 0);
    __decorate([
        property({ serializable: true })
    ], PropController.prototype, "_uid", void 0);
    __decorate([
        property
    ], PropController.prototype, "uid", null);
    __decorate([
        property({ type: cc.Enum({}) })
    ], PropController.prototype, "_state", void 0);
    __decorate([
        property({ type: cc.Enum({}) })
    ], PropController.prototype, "state", null);
    __decorate([
        property
    ], PropController.prototype, "_states", void 0);
    __decorate([
        property([cc.String])
    ], PropController.prototype, "states", null);
    __decorate([
        property()
    ], PropController.prototype, "propertyJson", void 0);
    PropController = PropController_1 = __decorate([
        ccclass,
        executeInEditMode,
        menu('i18n:状态控制/PropController'),
        inspector('packages://propcontroller/dist/inspector.js')
    ], PropController);
    return PropController;
}(cc.Component));
exports.default = PropController;
function _setPosition(node, prop) {
    node.setPosition(prop);
}
function _setColor(node, prop) {
    node.color = new cc.Color(prop.r, prop.g, prop.b);
}
function _setSacle(node, prop) {
    node.scaleX = prop.scaleX;
    node.scaleY = prop.scaleY;
}
function _setRotation(node, prop) {
    node.angle = prop;
}
function _setOpacity(node, prop) {
    node.opacity = prop;
}
function _setSlew(node, prop) {
    node.skewX = prop.skewX;
    node.skewY = prop.skewY;
}
function _setSize(node, prop) {
    node.setContentSize(prop);
}
function _setAnchor(node, prop) {
    node.anchorX = prop.anchorX;
    node.anchorY = prop.anchorY;
}
function _setActive(node, prop) {
    node.active = prop;
}
function _setLabelString(node, prop) {
    node.getComponent(cc.Label).string = prop;
}
function _setSpriteTexture(node, prop) {
    cc.assetManager.loadAny({ uuid: prop }, function (error, data) {
        if (error) {
            Editor.warn('PropController  load sprite texture faild', prop, error);
            return;
        }
        ;
        node.getComponent(cc.Sprite).spriteFrame = data;
    });
}
var _localSetFunc = {};
function _regiestSetFunction(id, func) {
    if (_localSetFunc[id]) {
        cc.warn("");
    }
    _localSetFunc[id] = func;
}
_regiestSetFunction(PropSelector_1.PropEmum.Active, _setActive);
_regiestSetFunction(PropSelector_1.PropEmum.Position, _setPosition);
_regiestSetFunction(PropSelector_1.PropEmum.Color, _setColor);
_regiestSetFunction(PropSelector_1.PropEmum.Scale, _setSacle);
_regiestSetFunction(PropSelector_1.PropEmum.Rotation, _setRotation);
_regiestSetFunction(PropSelector_1.PropEmum.Opacity, _setOpacity);
_regiestSetFunction(PropSelector_1.PropEmum.Slew, _setSlew);
_regiestSetFunction(PropSelector_1.PropEmum.Size, _setSize);
_regiestSetFunction(PropSelector_1.PropEmum.Anchor, _setAnchor);
_regiestSetFunction(PropSelector_1.PropEmum.Label_String, _setLabelString);
_regiestSetFunction(PropSelector_1.PropEmum.Sprite_Texture, _setSpriteTexture);

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvUHJvcENvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtDQUF3RDtBQUV4RCxJQUFZLFlBR1g7QUFIRCxXQUFZLFlBQVk7SUFDcEIsK0NBQUksQ0FBQTtJQUNKLCtEQUFZLENBQUE7QUFDaEIsQ0FBQyxFQUhXLFlBQVksR0FBWixvQkFBWSxLQUFaLG9CQUFZLFFBR3ZCO0FBQ0QsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUU1QixJQUFBLEtBQTBELEVBQUUsQ0FBQyxVQUFVLEVBQXRFLE9BQU8sYUFBQSxFQUFFLGlCQUFpQix1QkFBQSxFQUFFLElBQUksVUFBQSxFQUFFLFNBQVMsZUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQU05RTtJQUE0QyxrQ0FBWTtJQUF4RDtRQUFBLHFFQWdIQztRQTdHRyxrQkFBWSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUM7UUFHekMsVUFBSSxHQUFHLElBQUksQ0FBQztRQUdaLFVBQUksR0FBRyxFQUFFLENBQUM7UUFXVixZQUFNLEdBQUcsQ0FBQyxDQUFDO1FBV1gsYUFBTyxHQUFhLEVBQUUsQ0FBQztRQVd2QixrQkFBWSxHQUFHLEVBQUUsQ0FBQzs7UUFxRWxCLGlCQUFpQjtJQUNyQixDQUFDO3VCQWhIb0IsY0FBYztJQVcvQixzQkFBSSwrQkFBRzthQUFQO1lBQ0ksT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3JCLENBQUM7YUFDRCxVQUFRLEdBQVc7WUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNoQixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDMUIsQ0FBQzs7O09BSkE7SUFTRCxzQkFBSSxpQ0FBSzthQUFUO1lBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3ZCLENBQUM7YUFDRCxVQUFVLEdBQVc7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QU0sYUFBYSxHQUF3RCxFQUFFLENBQUM7QUFDOUUsU0FBUyxtQkFBbUIsQ0FBQyxFQUFVLEVBQUUsSUFBd0M7SUFDN0UsSUFBRyxhQUFhLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDbEIsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUNmO0lBQ0QsYUFBYSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQztBQUM3QixDQUFDO0FBRUQsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDakQsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDckQsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDL0MsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDL0MsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDckQsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDbkQsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDN0MsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDN0MsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDakQsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDNUQsbUJBQW1CLENBQUMsdUJBQVEsQ0FBQyxjQUFjLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wU2VsZWN0b3IsIHsgUHJvcEVtdW0gfSBmcm9tIFwiLi9Qcm9wU2VsZWN0b3JcIjtcblxuZXhwb3J0IGVudW0gTm9kZVBhdGhUeXBlIHtcbiAgICBOYW1lLFxuICAgIFNpYmxpbmdJbmRleCxcbn1cbmNjWydOb2RlUGF0aFR5cGUnXSA9IE5vZGVQYXRoVHlwZTtcblxuY29uc3Qge2NjY2xhc3MsIGV4ZWN1dGVJbkVkaXRNb2RlLCBtZW51LCBpbnNwZWN0b3IsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5AZXhlY3V0ZUluRWRpdE1vZGVcbkBtZW51KCdpMThuOueKtuaAgeaOp+WIti9Qcm9wQ29udHJvbGxlcicpXG5AaW5zcGVjdG9yKCdwYWNrYWdlczovL3Byb3Bjb250cm9sbGVyL2Rpc3QvaW5zcGVjdG9yLmpzJylcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BDb250cm9sbGVyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuRW51bShOb2RlUGF0aFR5cGUpLCB0b29sdGlwOiBcIk5hbWU6IOagueaNrm5vZGUgbmFtZeS/neWtmCwgU2libGluZ0luZGV4OiDmoLnmja5ub2RlIOWcqGNoaWxkcmVu55qEaW5kZXjkv53lrZhcIn0pXG4gICAgbm9kZVBhdGhUeXBlID0gTm9kZVBhdGhUeXBlLlNpYmxpbmdJbmRleDtcblxuICAgIEBwcm9wZXJ0eSh7dG9vbHRpcDogXCLmmK/lkKblkK/nlKjmjqfliLblmahcIn0pXG4gICAgb3BlbiA9IHRydWU7XG4gICAgXG4gICAgQHByb3BlcnR5KHtzZXJpYWxpemFibGU6IHRydWV9KVxuICAgIF91aWQgPSBcIlwiO1xuICAgIEBwcm9wZXJ0eVxuICAgIGdldCB1aWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91aWQ7XG4gICAgfVxuICAgIHNldCB1aWQodmFsOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fdWlkID0gdmFsO1xuICAgICAgICB0aGlzLl9yZWZyZXNoSWRFbnVtKCk7XG4gICAgfVxuICAgIFxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuRW51bSh7fSl9KVxuICAgIF9zdGF0ZSA9IDA7XG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5FbnVtKHt9KX0pXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIHNldCBzdGF0ZSh2YWw6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHZhbDtcbiAgICAgICAgdGhpcy5kb0NvbnRyb2wodmFsKTtcbiAgICB9XG5cbiAgICBAcHJvcGVydHlcbiAgICBfc3RhdGVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIEBwcm9wZXJ0eShbY2MuU3RyaW5nXSlcbiAgICBnZXQgc3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVzO1xuICAgIH1cbiAgICBzZXQgc3RhdGVzKHN0YXRlczogc3RyaW5nW10pIHtcbiAgICAgICAgdGhpcy5fc3RhdGVzID0gc3RhdGVzO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KClcbiAgICBwcm9wZXJ0eUpzb24gPSAnJztcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaElkRW51bSgpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHt9XG5cbiAgICBwdWJsaWMgZG9Db250cm9sKHR5cGU6IHN0cmluZyB8IG51bWJlcikge1xuICAgICAgICBsZXQgdCA9IHR5cGU7XG4gICAgICAgIGxldCBjdHJsID0gSlNPTi5wYXJzZSh0aGlzLnByb3BlcnR5SnNvbik7XG5cbiAgICAgICAgbGV0IG1hcCA9IGN0cmxbdF07ICAgICAgXG4gICAgICAgIGZvcihjb25zdCBwYXRoIGluIG1hcCkge1xuICAgICAgICAgICAgbGV0IHBhdGhzID0gcGF0aC5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICBsZXQgbm9kZTogY2MuTm9kZSA9IG51bGw7XG4gICAgICAgICAgICBzd2l0Y2goK3BhdGhzWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBOb2RlUGF0aFR5cGUuTmFtZTpcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNjLmZpbmQocGF0aHNbMV0sIHRoaXMubm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTm9kZVBhdGhUeXBlLlNpYmxpbmdJbmRleDpcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHRoaXMuX2dldE5vZGVCeVNpYmxpbmdJbmRleChwYXRoc1sxXSwgdGhpcy5ub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighbm9kZSkgeyBjYy53YXJuKFwiZmluZCBub2RlIGZhaWxkLCBwYXRoOlwiLCBwYXRoKTsgY29udGludWU7fVxuICAgICAgICAgICAgbGV0IG5vZGVQcm9wcyA9IG1hcFtwYXRoXTtcbiAgICAgICAgICAgIGZvcihjb25zdCBrZXkgaW4gbm9kZVByb3BzKSB7ICBcbiAgICAgICAgICAgICAgICBsZXQgZnVuYyA9IF9sb2NhbFNldEZ1bmNba2V5XTtcbiAgICAgICAgICAgICAgICBpZighZnVuYykgY29udGludWU7XG4gICAgICAgICAgICAgICAgZnVuYyhub2RlLCBub2RlUHJvcHNba2V5XSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2dldE5vZGVCeVNpYmxpbmdJbmRleChwYXRoOiBzdHJpbmcsIG5vZGU6IGNjLk5vZGUpIHtcbiAgICAgICAgcGF0aCA9IChwYXRoWzBdID09ICcvJykgPyBwYXRoLnN1YnN0cmluZygxKSA6IHBhdGg7XG4gICAgICAgIGZvcihjb25zdCBlIG9mIHBhdGguc3BsaXQoXCIvXCIpKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZHJlblsrZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcmVmcmVzaCgpIHtcbiAgICAgICAgaWYoQ0NfRURJVE9SKSB7XG4gICAgICAgICAgICBsZXQgYXJyYXkgPSB0aGlzLl9zdGF0ZXMubWFwKCh2YWwsIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge25hbWU6IHZhbCwgdmFsdWU6IGl9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGNjLkNsYXNzLkF0dHIuc2V0Q2xhc3NBdHRyKHRoaXMsICdzdGF0ZScsICdlbnVtTGlzdCcsIGFycmF5KTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgLy8gRWRpdG9yLlV0aWxzLnJlZnJlc2hTZWxlY3RlZEluc3BlY3Rvcignbm9kZScsIHRoaXMubm9kZS51dWlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3JlZnJlc2hJZEVudW0oKSB7XG4gICAgICAgIGlmKENDX0VESVRPUikge1xuICAgICAgICAgICAgbGV0IGNvbXMgPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50cyhQcm9wQ29udHJvbGxlcik7XG4gICAgICAgICAgICBsZXQgYXJyYXkgPSBjb21zLm1hcCgodmFsLCBpKSA9PiB7IFxuICAgICAgICAgICAgICAgIHJldHVybiB7bmFtZTogdmFsLnVpZCwgdmFsdWU6IGl9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGNjLkNsYXNzLkF0dHIuc2V0Q2xhc3NBdHRyKFByb3BTZWxlY3RvciwgJ2N0cmxJZCcsICdlbnVtTGlzdCcsIGFycmF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgXG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuXG5mdW5jdGlvbiBfc2V0UG9zaXRpb24obm9kZTogY2MuTm9kZSwgcHJvcDogYW55KSB7XG4gICAgbm9kZS5zZXRQb3NpdGlvbihwcm9wKTtcbn1cbmZ1bmN0aW9uIF9zZXRDb2xvcihub2RlOiBjYy5Ob2RlLCBwcm9wOiBhbnkpIHtcbiAgICBub2RlLmNvbG9yID0gbmV3IGNjLkNvbG9yKHByb3AuciwgcHJvcC5nLCBwcm9wLmIpO1xufVxuZnVuY3Rpb24gX3NldFNhY2xlKG5vZGU6IGNjLk5vZGUsIHByb3A6IGFueSkge1xuICAgIG5vZGUuc2NhbGVYID0gcHJvcC5zY2FsZVg7XG4gICAgbm9kZS5zY2FsZVkgPSBwcm9wLnNjYWxlWTtcbn1cbmZ1bmN0aW9uIF9zZXRSb3RhdGlvbihub2RlOiBjYy5Ob2RlLCBwcm9wOiBhbnkpIHtcbiAgICBub2RlLmFuZ2xlID0gcHJvcDtcbn1cbmZ1bmN0aW9uIF9zZXRPcGFjaXR5KG5vZGU6IGNjLk5vZGUsIHByb3A6IGFueSkge1xuICAgIG5vZGUub3BhY2l0eSA9IHByb3A7XG59XG5mdW5jdGlvbiBfc2V0U2xldyhub2RlOiBjYy5Ob2RlLCBwcm9wOiBhbnkpIHtcbiAgICBub2RlLnNrZXdYID0gcHJvcC5za2V3WDtcbiAgICBub2RlLnNrZXdZID0gcHJvcC5za2V3WTtcbn1cbmZ1bmN0aW9uIF9zZXRTaXplKG5vZGU6IGNjLk5vZGUsIHByb3A6IGFueSkge1xuICAgIG5vZGUuc2V0Q29udGVudFNpemUocHJvcCk7XG59XG5mdW5jdGlvbiBfc2V0QW5jaG9yKG5vZGU6IGNjLk5vZGUsIHByb3A6IGFueSkge1xuICAgIG5vZGUuYW5jaG9yWCA9IHByb3AuYW5jaG9yWDtcbiAgICBub2RlLmFuY2hvclkgPSBwcm9wLmFuY2hvclk7XG59XG5mdW5jdGlvbiBfc2V0QWN0aXZlKG5vZGU6IGNjLk5vZGUsIHByb3A6IGFueSkge1xuICAgIG5vZGUuYWN0aXZlID0gcHJvcDtcbn1cbmZ1bmN0aW9uIF9zZXRMYWJlbFN0cmluZyhub2RlOiBjYy5Ob2RlLCBwcm9wOiBhbnkpIHtcbiAgICBub2RlLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gcHJvcDtcbn1cbmZ1bmN0aW9uIF9zZXRTcHJpdGVUZXh0dXJlKG5vZGU6IGNjLk5vZGUsIHByb3A6IGFueSkge1xuICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQW55KHt1dWlkOiBwcm9wfSwgKGVycm9yLCBkYXRhKSA9PiB7ICAgICAgICBcbiAgICAgICAgaWYoZXJyb3IpIHtcbiAgICAgICAgICAgIEVkaXRvci53YXJuKCdQcm9wQ29udHJvbGxlciAgbG9hZCBzcHJpdGUgdGV4dHVyZSBmYWlsZCcsIHByb3AsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH07XG4gICAgICAgIG5vZGUuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBkYXRhO1xuICAgIH0pO1xufVxuXG5jb25zdCBfbG9jYWxTZXRGdW5jOiB7W2tleTogbnVtYmVyXTogKG5vZGU6IGNjLk5vZGUsIHByb3A6IGFueSkgPT4gdm9pZH0gPSB7fTtcbmZ1bmN0aW9uIF9yZWdpZXN0U2V0RnVuY3Rpb24oaWQ6IG51bWJlciwgZnVuYzogKG5vZGU6IGNjLk5vZGUsIHByb3A6IGFueSkgPT4gdm9pZCkge1xuICAgIGlmKF9sb2NhbFNldEZ1bmNbaWRdKSB7XG4gICAgICAgIGNjLndhcm4oXCJcIik7XG4gICAgfVxuICAgIF9sb2NhbFNldEZ1bmNbaWRdID0gZnVuYztcbn1cblxuX3JlZ2llc3RTZXRGdW5jdGlvbihQcm9wRW11bS5BY3RpdmUsIF9zZXRBY3RpdmUpO1xuX3JlZ2llc3RTZXRGdW5jdGlvbihQcm9wRW11bS5Qb3NpdGlvbiwgX3NldFBvc2l0aW9uKTtcbl9yZWdpZXN0U2V0RnVuY3Rpb24oUHJvcEVtdW0uQ29sb3IsIF9zZXRDb2xvcik7XG5fcmVnaWVzdFNldEZ1bmN0aW9uKFByb3BFbXVtLlNjYWxlLCBfc2V0U2FjbGUpO1xuX3JlZ2llc3RTZXRGdW5jdGlvbihQcm9wRW11bS5Sb3RhdGlvbiwgX3NldFJvdGF0aW9uKTtcbl9yZWdpZXN0U2V0RnVuY3Rpb24oUHJvcEVtdW0uT3BhY2l0eSwgX3NldE9wYWNpdHkpO1xuX3JlZ2llc3RTZXRGdW5jdGlvbihQcm9wRW11bS5TbGV3LCBfc2V0U2xldyk7XG5fcmVnaWVzdFNldEZ1bmN0aW9uKFByb3BFbXVtLlNpemUsIF9zZXRTaXplKTtcbl9yZWdpZXN0U2V0RnVuY3Rpb24oUHJvcEVtdW0uQW5jaG9yLCBfc2V0QW5jaG9yKTtcbl9yZWdpZXN0U2V0RnVuY3Rpb24oUHJvcEVtdW0uTGFiZWxfU3RyaW5nLCBfc2V0TGFiZWxTdHJpbmcpO1xuX3JlZ2llc3RTZXRGdW5jdGlvbihQcm9wRW11bS5TcHJpdGVfVGV4dHVyZSwgX3NldFNwcml0ZVRleHR1cmUpO1xuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/TexturePlus.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '58ad8KR/hRJi7EtoZ+PAyOU', 'TexturePlus');
// Script/Common/Components/TexturePlus.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var TextureAssembler_1 = require("../Assemblers/TextureAssembler");
var CommonUtils_1 = require("../Utils/CommonUtils");
var renderEngine = cc.renderer.renderEngine;
var TextureType;
(function (TextureType) {
    TextureType[TextureType["Cut"] = 0] = "Cut";
    TextureType[TextureType["Stretch"] = 1] = "Stretch"; // 拉伸, 暂未实现
})(TextureType || (TextureType = {}));
var _vec2_temp = new cc.Vec2();
var _mat4_temp = new cc.Mat4();
var _a = cc._decorator, ccclass = _a.ccclass, menu = _a.menu, executeInEditMode = _a.executeInEditMode, mixins = _a.mixins, property = _a.property;
var TexturePlus = /** @class */ (function (_super) {
    __extends(TexturePlus, _super);
    function TexturePlus() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._texture = null;
        // _type: TextureType = 0;
        // @property({type: cc.Enum(TextureType), serializable: true})
        // get type() {
        //     return this._type;
        // }
        // set type(val: TextureType) {
        //     this._type = val;
        //     this.setVertsDirty();
        // }
        _this._polygon = [];
        _this.srcBlendFactor = cc.macro.BlendFactor.SRC_ALPHA;
        _this.dstBlendFactor = cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;
        _this.editing = false;
        _this._assembler = null;
        return _this;
    }
    Object.defineProperty(TexturePlus.prototype, "texture", {
        get: function () {
            return this._texture;
        },
        set: function (val) {
            this._texture = val;
            var l = -val.width / 2, b = -val.height / 2, t = val.height / 2, r = val.width / 2;
            this.polygon = [cc.v2(l, b), cc.v2(r, b), cc.v2(r, t), cc.v2(l, t)];
            this.node.width = val.width;
            this.node.height = val.height;
            this._updateMaterial();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TexturePlus.prototype, "polygon", {
        get: function () {
            return this._polygon;
        },
        set: function (points) {
            this._polygon = points;
            this._updateVerts();
        },
        enumerable: false,
        configurable: true
    });
    TexturePlus.prototype.onLoad = function () {
        this.node['_hitTest'] = this._hitTest.bind(this);
    };
    TexturePlus.prototype.start = function () {
        var _this = this;
        this.node.on(cc.Node.EventType.TOUCH_START, function () {
            console.log("click texture plus");
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, function (e) {
            _this.node.x += e.getDeltaX();
            _this.node.y += e.getDeltaY();
        }, this);
    };
    TexturePlus.prototype._updateVerts = function () {
        this.setVertsDirty();
    };
    TexturePlus.prototype._updateMaterial = function () {
        var texture = this._texture;
        var material = this.getMaterial(0);
        if (material) {
            if (material.getDefine("USE_TEXTURE") !== undefined) {
                material.define("USE_TEXTURE", true);
            }
            material.setProperty("texture", texture);
        }
        this['__proto__']._updateBlendFunc.call(this);
        this.setVertsDirty();
    };
    TexturePlus.prototype._validateRender = function () {
    };
    TexturePlus.prototype._resetAssembler = function () {
        var assembler = this._assembler = new TextureAssembler_1.default();
        assembler.init(this);
        this._updateColor();
        this.setVertsDirty();
    };
    TexturePlus.prototype._hitTest = function (cameraPt) {
        var node = this.node;
        var size = node.getContentSize(), w = size.width, h = size.height, testPt = _vec2_temp;
        node['_updateWorldMatrix']();
        // If scale is 0, it can't be hit.
        if (!cc.Mat4.invert(_mat4_temp, node['_worldMatrix'])) {
            return false;
        }
        cc.Vec2.transformMat4(testPt, cameraPt, _mat4_temp);
        return CommonUtils_1.CommonUtils.isInPolygon(testPt, this.polygon);
    };
    TexturePlus.Type = TextureType;
    __decorate([
        property(cc.Texture2D)
    ], TexturePlus.prototype, "_texture", void 0);
    __decorate([
        property(cc.Texture2D)
    ], TexturePlus.prototype, "texture", null);
    __decorate([
        property({ type: [cc.Vec2], serializable: true })
    ], TexturePlus.prototype, "_polygon", void 0);
    __decorate([
        property({ type: [cc.Vec2], serializable: true })
    ], TexturePlus.prototype, "polygon", null);
    __decorate([
        property({ type: cc.Enum(cc.macro.BlendFactor), override: true })
    ], TexturePlus.prototype, "srcBlendFactor", void 0);
    __decorate([
        property({ type: cc.Enum(cc.macro.BlendFactor), override: true })
    ], TexturePlus.prototype, "dstBlendFactor", void 0);
    __decorate([
        property(cc.Boolean)
    ], TexturePlus.prototype, "editing", void 0);
    TexturePlus = __decorate([
        ccclass,
        executeInEditMode,
        menu('i18n:MAIN_MENU.component.ui/TexturePlus'),
        mixins(cc.BlendFunc)
    ], TexturePlus);
    return TexturePlus;
}(cc.RenderComponent));
exports.default = TexturePlus;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvVGV4dHVyZVBsdXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUVBQThEO0FBQzlELG9EQUFtRDtBQUVuRCxJQUFNLFlBQVksR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQztBQUU5QyxJQUFLLFdBR0o7QUFIRCxXQUFLLFdBQVc7SUFDWiwyQ0FBRyxDQUFBO0lBQ0gsbURBQU8sQ0FBQSxDQUFTLFdBQVc7QUFDL0IsQ0FBQyxFQUhJLFdBQVcsS0FBWCxXQUFXLFFBR2Y7QUFFRCxJQUFJLFVBQVUsR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUMvQixJQUFJLFVBQVUsR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUV6QixJQUFBLEtBQXVELEVBQUUsQ0FBQyxVQUFVLEVBQW5FLE9BQU8sYUFBQSxFQUFFLElBQUksVUFBQSxFQUFFLGlCQUFpQix1QkFBQSxFQUFFLE1BQU0sWUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQU0zRTtJQUF5QywrQkFBa0I7SUFBM0Q7UUFBQSxxRUEwR0M7UUF0R0csY0FBUSxHQUFpQixJQUFJLENBQUM7UUFhOUIsMEJBQTBCO1FBQzFCLDhEQUE4RDtRQUM5RCxlQUFlO1FBQ2YseUJBQXlCO1FBQ3pCLElBQUk7UUFDSiwrQkFBK0I7UUFDL0Isd0JBQXdCO1FBQ3hCLDRCQUE0QjtRQUM1QixJQUFJO1FBR0osY0FBUSxHQUFjLEVBQUUsQ0FBQztRQVd6QixvQkFBYyxHQUF5QixFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUM7UUFHdEUsb0JBQWMsR0FBeUIsRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUM7UUFHaEYsYUFBTyxHQUFZLEtBQUssQ0FBQztRQUV6QixnQkFBVSxHQUFpQixJQUFJ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QUFTLENBQUM7OENBR3RCO0lBb0JEO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUMsQ0FBQztpREFDdkI7SUFFekI7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBQyxDQUFDOzhDQUcvQztJQU9EO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFDLENBQUM7dURBQ007SUFHdEU7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQzt1REFDZ0I7SUFHaEY7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQztnREFDSTtJQTdDUixXQUFXO1FBSi9CLE9BQU87UUFDUCxpQkFBaUI7UUFDakIsSUFBSSxDQUFDLHlDQUF5QyxDQUFDO1FBQy9DLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDO09BQ0EsV0FBVyxDQTBHL0I7SUFBRCxrQkFBQztDQTFHRCxBQTBHQyxDQTFHd0MsRUFBRSxDQUFDLGVBQWUsR0EwRzFEO2tCQTFHb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUZXh0dXJlQXNzZW1ibGVyIGZyb20gXCIuLi9Bc3NlbWJsZXJzL1RleHR1cmVBc3NlbWJsZXJcIjtcbmltcG9ydCB7IENvbW1vblV0aWxzIH0gZnJvbSBcIi4uL1V0aWxzL0NvbW1vblV0aWxzXCI7XG5cbmNvbnN0IHJlbmRlckVuZ2luZSA9IGNjLnJlbmRlcmVyLnJlbmRlckVuZ2luZTtcblxuZW51bSBUZXh0dXJlVHlwZSB7XG4gICAgQ3V0LCAgICAgICAgICAgIC8vIOijgeWJqlxuICAgIFN0cmV0Y2ggICAgICAgICAvLyDmi4nkvLgsIOaaguacquWunueOsFxufVxuXG5sZXQgX3ZlYzJfdGVtcCA9IG5ldyBjYy5WZWMyKCk7XG5sZXQgX21hdDRfdGVtcCA9IG5ldyBjYy5NYXQ0KCk7XG5cbmNvbnN0IHtjY2NsYXNzLCBtZW51LCBleGVjdXRlSW5FZGl0TW9kZSwgbWl4aW5zLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuQGV4ZWN1dGVJbkVkaXRNb2RlXG5AbWVudSgnaTE4bjpNQUlOX01FTlUuY29tcG9uZW50LnVpL1RleHR1cmVQbHVzJylcbkBtaXhpbnMoY2MuQmxlbmRGdW5jKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZVBsdXMgZXh0ZW5kcyBjYy5SZW5kZXJDb21wb25lbnQge1xuICAgIHN0YXRpYyBUeXBlID0gVGV4dHVyZVR5cGU7XG4gICAgXG4gICAgQHByb3BlcnR5KGNjLlRleHR1cmUyRClcbiAgICBfdGV4dHVyZTogY2MuVGV4dHVyZTJEID0gbnVsbDtcbiAgICBAcHJvcGVydHkoY2MuVGV4dHVyZTJEKVxuICAgIGdldCB0ZXh0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICB9XG4gICAgc2V0IHRleHR1cmUodmFsOiBjYy5UZXh0dXJlMkQpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbDtcbiAgICAgICAgbGV0IGwgPSAtdmFsLndpZHRoLzIsIGIgPSAtdmFsLmhlaWdodC8yLCB0ID0gdmFsLmhlaWdodC8yLCByID0gdmFsLndpZHRoLzI7XG4gICAgICAgIHRoaXMucG9seWdvbiA9IFtjYy52MihsLCBiKSwgY2MudjIociwgYiksIGNjLnYyKHIsIHQpLCBjYy52MihsLCB0KV07XG4gICAgICAgIHRoaXMubm9kZS53aWR0aCA9IHZhbC53aWR0aDsgdGhpcy5ub2RlLmhlaWdodCA9IHZhbC5oZWlnaHQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1hdGVyaWFsKCk7XG4gICAgfVxuXG4gICAgLy8gX3R5cGU6IFRleHR1cmVUeXBlID0gMDtcbiAgICAvLyBAcHJvcGVydHkoe3R5cGU6IGNjLkVudW0oVGV4dHVyZVR5cGUpLCBzZXJpYWxpemFibGU6IHRydWV9KVxuICAgIC8vIGdldCB0eXBlKCkge1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICAvLyB9XG4gICAgLy8gc2V0IHR5cGUodmFsOiBUZXh0dXJlVHlwZSkge1xuICAgIC8vICAgICB0aGlzLl90eXBlID0gdmFsO1xuICAgIC8vICAgICB0aGlzLnNldFZlcnRzRGlydHkoKTtcbiAgICAvLyB9XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IFtjYy5WZWMyXSwgc2VyaWFsaXphYmxlOiB0cnVlfSlcbiAgICBfcG9seWdvbjogY2MuVmVjMltdID0gW107XG4gICAgQHByb3BlcnR5KHt0eXBlOiBbY2MuVmVjMl0sIHNlcmlhbGl6YWJsZTogdHJ1ZX0pXG4gICAgcHVibGljIGdldCBwb2x5Z29uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9seWdvbjtcbiAgICB9XG4gICAgcHVibGljIHNldCBwb2x5Z29uKHBvaW50czogY2MuVmVjMltdKSB7XG4gICAgICAgIHRoaXMuX3BvbHlnb24gPSBwb2ludHM7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVZlcnRzKCk7XG4gICAgfVxuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5FbnVtKGNjLm1hY3JvLkJsZW5kRmFjdG9yKSwgb3ZlcnJpZGU6IHRydWV9KVxuICAgIHNyY0JsZW5kRmFjdG9yOiBjYy5tYWNyby5CbGVuZEZhY3RvciA9IGNjLm1hY3JvLkJsZW5kRmFjdG9yLlNSQ19BTFBIQTtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuRW51bShjYy5tYWNyby5CbGVuZEZhY3RvciksIG92ZXJyaWRlOiB0cnVlfSlcbiAgICBkc3RCbGVuZEZhY3RvcjogY2MubWFjcm8uQmxlbmRGYWN0b3IgPSBjYy5tYWNyby5CbGVuZEZhY3Rvci5PTkVfTUlOVVNfU1JDX0FMUEhBO1xuXG4gICAgQHByb3BlcnR5KGNjLkJvb2xlYW4pXG4gICAgZWRpdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIFxuICAgIF9hc3NlbWJsZXI6IGNjLkFzc2VtYmxlciA9IG51bGw7XG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIHRoaXMubm9kZVsnX2hpdFRlc3QnXSA9IHRoaXMuX2hpdFRlc3QuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrIHRleHR1cmUgcGx1c1wiKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9NT1ZFLCAoZTogY2MuRXZlbnQuRXZlbnRUb3VjaCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub2RlLnggKz0gZS5nZXREZWx0YVgoKTtcbiAgICAgICAgICAgIHRoaXMubm9kZS55ICs9IGUuZ2V0RGVsdGFZKCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3VwZGF0ZVZlcnRzKCkge1xuICAgICAgICB0aGlzLnNldFZlcnRzRGlydHkoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgX3VwZGF0ZU1hdGVyaWFsKCkge1xuICAgICAgICBsZXQgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGxldCBtYXRlcmlhbCA9IHRoaXMuZ2V0TWF0ZXJpYWwoMCk7XG4gICAgICAgIGlmKG1hdGVyaWFsKSB7XG4gICAgICAgICAgICBpZihtYXRlcmlhbC5nZXREZWZpbmUoXCJVU0VfVEVYVFVSRVwiKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZGVmaW5lKFwiVVNFX1RFWFRVUkVcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXRlcmlhbC5zZXRQcm9wZXJ0eShcInRleHR1cmVcIiwgdGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1snX19wcm90b19fJ10uX3VwZGF0ZUJsZW5kRnVuYy5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFZlcnRzRGlydHkoKTsgICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBfdmFsaWRhdGVSZW5kZXIoKSB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBfcmVzZXRBc3NlbWJsZXIoKSB7XG4gICAgICAgIGxldCBhc3NlbWJsZXIgPSB0aGlzLl9hc3NlbWJsZXIgPSBuZXcgVGV4dHVyZUFzc2VtYmxlcigpO1xuICAgICAgICBhc3NlbWJsZXIuaW5pdCh0aGlzKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29sb3IoKTtcbiAgICAgICAgdGhpcy5zZXRWZXJ0c0RpcnR5KCk7XG4gICAgfVxuXG4gICAgX2hpdFRlc3QgKGNhbWVyYVB0OiBjYy5WZWMyKSB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5ub2RlO1xuICAgICAgICBsZXQgc2l6ZSA9IG5vZGUuZ2V0Q29udGVudFNpemUoKSxcbiAgICAgICAgICAgIHcgPSBzaXplLndpZHRoLFxuICAgICAgICAgICAgaCA9IHNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgdGVzdFB0ID0gX3ZlYzJfdGVtcDtcbiAgICAgICAgXG4gICAgICAgIG5vZGVbJ191cGRhdGVXb3JsZE1hdHJpeCddKCk7XG4gICAgICAgIC8vIElmIHNjYWxlIGlzIDAsIGl0IGNhbid0IGJlIGhpdC5cbiAgICAgICAgaWYgKCFjYy5NYXQ0LmludmVydChfbWF0NF90ZW1wLCBub2RlWydfd29ybGRNYXRyaXgnXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYy5WZWMyLnRyYW5zZm9ybU1hdDQodGVzdFB0LCBjYW1lcmFQdCwgX21hdDRfdGVtcCk7XG4gICAgICAgIHJldHVybiBDb21tb25VdGlscy5pc0luUG9seWdvbih0ZXN0UHQsIHRoaXMucG9seWdvbik7XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/ScrollViewHelper.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '90448z1fXJKVppxfCvCjY6W', 'ScrollViewHelper');
// Script/Common/Components/ScrollViewHelper.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ScrollViewHelper = exports.ScrollViewElementProxy = exports.ScrollViewElementProxyState = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
//help:
//add this to the ScrollView node
//add all data by addData function, that includes the layout of the data, we call it a "Proxy"
//set onFreeUI to your free handler, put the node in pool
//set onAllocUI to your alloc handler, instansiate the node, and refresh it.
//enjoy, all ui will have a lazy create 
//if you call scrollTo() function with no duration, you should call checkUI(), because scrollTo with no duration will not trigger "scrollEvents"
var ScrollViewElementProxyState;
(function (ScrollViewElementProxyState) {
    ScrollViewElementProxyState[ScrollViewElementProxyState["NoUI"] = 0] = "NoUI";
    ScrollViewElementProxyState[ScrollViewElementProxyState["HaveUI"] = 1] = "HaveUI";
})(ScrollViewElementProxyState = exports.ScrollViewElementProxyState || (exports.ScrollViewElementProxyState = {}));
var ScrollViewElementProxy = /** @class */ (function () {
    function ScrollViewElementProxy() {
        this.state = ScrollViewElementProxyState.NoUI;
    }
    return ScrollViewElementProxy;
}());
exports.ScrollViewElementProxy = ScrollViewElementProxy;
var ScrollViewHelper = /** @class */ (function (_super) {
    __extends(ScrollViewHelper, _super);
    function ScrollViewHelper() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.syncInterval = 0.05;
        _this._proxys = [];
        _this._syncCounter = 0;
        _this._lastCheckX = 0;
        return _this;
    }
    Object.defineProperty(ScrollViewHelper.prototype, "scrollView", {
        get: function () {
            return this._svCachedScrollView;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ScrollViewHelper.prototype, "datas", {
        get: function () {
            return this._proxys;
        },
        enumerable: false,
        configurable: true
    });
    ScrollViewHelper.prototype.clearData = function () {
        for (var _i = 0, _a = this._proxys; _i < _a.length; _i++) {
            var proxy = _a[_i];
            if (proxy.ui) {
                if (this.onFreeUI) {
                    this.onFreeUI(proxy);
                }
            }
        }
        this._proxys.length = 0;
    };
    ScrollViewHelper.prototype.addData = function (data) {
        this._initializeProxy(data);
        this._proxys.push(data);
    };
    ScrollViewHelper.prototype.setDebug = function (debug) {
        if (debug && !this._debugNode) {
            this._debugNode = (new cc.Node()).addComponent(cc.Graphics);
            this.scrollView.content.addChild(this._debugNode.node);
            this._debugNode.node.setPosition(cc.v2(0, 0));
        }
        else if (!debug && this._debugNode) {
            this._debugNode.node.removeFromParent();
            this._debugNode.node.destroy();
        }
        this._refreshDebug();
    };
    ScrollViewHelper.prototype.checkUI = function () {
        this._checkUIState();
        this._syncingUI = true;
    };
    ScrollViewHelper.prototype.setLoopHorizontal = function (loop) {
        if (loop != this._horizontalLoop) {
            if (loop) {
                for (var i = this._proxys.length - 1; i >= 0; i--) {
                    var target = this._proxys[i];
                    if (!target.horizontalLoop) {
                        //this is a original
                        var copyed = new ScrollViewElementProxy();
                        this._initializeProxy(copyed);
                        copyed.src = target.src;
                        copyed.region = new cc.Rect(target.region.x, target.region.y, target.region.width, target.region.height);
                        copyed.horizontalLoop = true;
                        copyed.verticalLoop = target.verticalLoop;
                        copyed.region.x += this.scrollView.content.width;
                        this._proxys.push(copyed);
                    }
                }
                this.scrollView.content.setContentSize(this.scrollView.content.width * 2, this.scrollView.content.height);
            }
            else {
                for (var i = this._proxys.length - 1; i >= 0; i--) {
                    var target = this._proxys[i];
                    if (target.horizontalLoop) {
                        if (target.ui) {
                            this.onFreeUI(target);
                            target.ui = null;
                            this._proxys.splice(i, 1);
                        }
                    }
                }
                this.scrollView.content.setContentSize(this.scrollView.content.width / 2, this.scrollView.content.height);
            }
            this._horizontalLoop = loop;
        }
    };
    ScrollViewHelper.prototype.onLoad = function () {
        this._bindScrollView(this.getComponent(cc.ScrollView));
    };
    ScrollViewHelper.prototype.update = function (dt) {
        if (this._syncingUI) {
            this._syncCounter += dt;
            if (this._syncCounter >= this.syncInterval) {
                this._syncCounter = 0;
                this._syncUIState(1);
            }
        }
    };
    ScrollViewHelper.prototype._initializeProxy = function (proxy) {
        proxy.horizontalLoop = false;
        proxy.src = proxy;
        proxy.state = ScrollViewElementProxyState.NoUI;
        proxy.ui = null;
        proxy.verticalLoop = false;
    };
    ScrollViewHelper.prototype._checkLoopHorizontal = function () {
        var offset = this.scrollView.getScrollOffset();
        var delta = offset.x - this._lastCheckX;
        if (Math.abs(delta) > 2) {
            this._lastCheckX = offset.x;
            var originalWidth = this.scrollView.content.width / 2;
            //check move whole content
            if (delta < 0 && offset.x < -originalWidth) {
                offset.x += originalWidth;
                this._lastCheckX = offset.x;
                offset.x = -offset.x;
                this.scrollView.scrollToOffset(offset);
            }
            else if (delta > 0 && offset.x > 0) {
                offset.x -= originalWidth;
                this._lastCheckX = offset.x;
                offset.x = -offset.x;
                this.scrollView.scrollToOffset(offset);
            }
        }
    };
    ScrollViewHelper.prototype._bindScrollView = function (view) {
        this._svCachedScrollView = this.getComponent(cc.ScrollView);
        var eventHandler = new cc.Component.EventHandler();
        eventHandler.target = this.node;
        eventHandler.component = "ScrollViewHelper";
        eventHandler.handler = "_onScroll";
        this._svCachedScrollView.scrollEvents.push(eventHandler);
        this._svCachedScrollView.node.on(cc.Node.EventType.SIZE_CHANGED, this._refreshViewportRect, this);
        this._svCachedScrollView.content.on(cc.Node.EventType.ANCHOR_CHANGED, this._refreshViewportRect, this);
        this._svCachedScrollView.content.on(cc.Node.EventType.SIZE_CHANGED, this._refreshViewportRect, this);
        this._refreshViewportRect();
    };
    ScrollViewHelper.prototype._refreshViewportRect = function () {
        this._rectCachedViewport = cc.rect();
        this._rectCachedViewport.size = this._svCachedScrollView.node.getContentSize();
        this._rectCachedViewport.origin = cc.v2(-this._svCachedScrollView.content.anchorX * this._svCachedScrollView.content.width, (1 - this._svCachedScrollView.content.anchorY) * this._svCachedScrollView.content.height - this._rectCachedViewport.size.height);
        this._checkUIState();
        this._syncingUI = true;
    };
    ScrollViewHelper.prototype._checkUIState = function () {
        var delta = this._svCachedScrollView.getScrollOffset();
        var viewWidth = this._rectCachedViewport.width;
        var viewHeight = this._rectCachedViewport.height;
        var viewX = -delta.x + this._rectCachedViewport.x;
        var viewY = -delta.y + this._rectCachedViewport.y;
        for (var _i = 0, _a = this._proxys; _i < _a.length; _i++) {
            var proxy = _a[_i];
            var rect = proxy.region;
            var x = rect.x;
            var y = rect.y;
            if (x > viewX - rect.width && x < viewX + viewWidth &&
                y > viewY - rect.height && y < viewY + viewHeight) {
                proxy.state = ScrollViewElementProxyState.HaveUI;
            }
            else {
                proxy.state = ScrollViewElementProxyState.NoUI;
            }
        }
    };
    ScrollViewHelper.prototype._syncUIState = function (maxAllocCount) {
        var changeCount = 0;
        for (var _i = 0, _a = this._proxys; _i < _a.length; _i++) {
            var proxy = _a[_i];
            if (proxy.state == ScrollViewElementProxyState.NoUI && proxy.ui) {
                this.onFreeUI(proxy);
                changeCount++;
                if (this._debugNode) {
                    cc.log("ScrollViewHelper._syncUIState ----> free ui");
                }
            }
        }
        for (var _b = 0, _c = this._proxys; _b < _c.length; _b++) {
            var proxy = _c[_b];
            if (proxy.state == ScrollViewElementProxyState.HaveUI && !proxy.ui) {
                var pooled = this.isUIPooled && this.isUIPooled(proxy);
                this.onAllocUI(proxy);
                changeCount++;
                if (!pooled) { //real alloc should be limited
                    maxAllocCount--;
                }
                if (this._debugNode) {
                    cc.log("ScrollViewHelper._syncUIState ----> alloc ui");
                }
            }
            if (maxAllocCount <= 0) {
                break;
            }
        }
        if (changeCount <= 0) {
            //everything is changed
            this._syncingUI = false;
        }
    };
    ScrollViewHelper.prototype._onScroll = function () {
        if (this._horizontalLoop) {
            this._checkLoopHorizontal();
        }
        this._checkUIState();
        this._syncingUI = true;
    };
    ScrollViewHelper.prototype._refreshDebug = function () {
        if (this._debugNode) {
            this._debugNode.clear();
            this._debugNode.fillColor = cc.color(255, 0, 0, 255);
            for (var i = 0; i < this._proxys.length; i++) {
                this._debugNode.fillRect(this._proxys[i].region.x, this._proxys[i].region.y, this._proxys[i].region.width, this._proxys[i].region.height);
            }
        }
    };
    __decorate([
        property()
    ], ScrollViewHelper.prototype, "syncInterval", void 0);
    ScrollViewHelper = __decorate([
        ccclass
    ], ScrollViewHelper);
    return ScrollViewHelper;
}(cc.Component));
exports.ScrollViewHelper = ScrollViewHelper;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvU2Nyb2xsVmlld0hlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsT0FBTztBQUNQLGlDQUFpQztBQUNqQyw4RkFBOEY7QUFDOUYseURBQXlEO0FBQ3pELDRFQUE0RTtBQUM1RSx3Q0FBd0M7QUFDeEMsZ0pBQWdKO0FBRWhKLElBQVksMkJBR1g7QUFIRCxXQUFZLDJCQUEyQjtJQUNuQyw2RUFBSSxDQUFBO0lBQ0osaUZBQU0sQ0FBQTtBQUNWLENBQUMsRUFIVywyQkFBMkIsR0FBM0IsbUNBQTJCLEtBQTNCLG1DQUEyQixRQUd0QztBQUVEO0lBQUE7UUFNVyxVQUFLLEdBQStCLDJCQUEyQixDQUFDLElBQUksQ0FBQztJQUNoRixDQUFDO0lBQUQsNkJBQUM7QUFBRCxDQVBBLEFBT0MsSUFBQTtBQVBZLHdEQUFzQjtBQVVuQztJQUFzQyxvQ0FBWTtJQUFsRDtRQUFBLHFFQWlPQztRQS9OVSxrQkFBWSxHQUFZLElBQUksQ0FBQztRQUM1QixhQUFPLEdBQThCLEVBQUUsQ0FBQztRQTBGeEMsa0JBQVksR0FBWSxDQUFDLENBQUM7UUFtQjFCLGlCQUFXLEdBQVUsQ0FBQyxDQUFDOztJQWlIbkMsQ0FBQztJQXBORyxzQkFBVyx3Q0FBVTthQUFyQjtZQUNJLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO1FBQ3BDLENBQUM7OztPQUFBO0lBRUQsc0JBQVcsbUNBQUs7YUFBaEI7WUFDSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDeEIsQ0FBQzs7O09BQUE7SUFFTSxvQ0FBUyxHQUFoQjtRQUNJLEtBQWlCLFVBQVksRUFBWixLQUFBLElBQUksQ0FBQyxPQUFPLEVBQVosY0FBWSxFQUFaLElBQVks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UUFDckIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDM0IsQ0FBQztJQUVPLHdDQUFhLEdBQXJCO1FBQ0ksSUFBRyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2hCLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNyRCxLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3pDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzdJO1NBQ0o7SUFDTCxDQUFDO0lBOU5EO1FBREMsUUFBUSxFQUFFOzBEQUN5QjtJQUYzQixnQkFBZ0I7UUFENUIsT0FBTztPQUNLLGdCQUFnQixDQWlPNUI7SUFBRCx1QkFBQztDQWpPRCxBQWlPQyxDQWpPcUMsRUFBRSxDQUFDLFNBQVMsR0FpT2pEO0FBak9ZLDRDQUFnQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG4vL2hlbHA6XG4vL2FkZCB0aGlzIHRvIHRoZSBTY3JvbGxWaWV3IG5vZGVcbi8vYWRkIGFsbCBkYXRhIGJ5IGFkZERhdGEgZnVuY3Rpb24sIHRoYXQgaW5jbHVkZXMgdGhlIGxheW91dCBvZiB0aGUgZGF0YSwgd2UgY2FsbCBpdCBhIFwiUHJveHlcIlxuLy9zZXQgb25GcmVlVUkgdG8geW91ciBmcmVlIGhhbmRsZXIsIHB1dCB0aGUgbm9kZSBpbiBwb29sXG4vL3NldCBvbkFsbG9jVUkgdG8geW91ciBhbGxvYyBoYW5kbGVyLCBpbnN0YW5zaWF0ZSB0aGUgbm9kZSwgYW5kIHJlZnJlc2ggaXQuXG4vL2Vuam95LCBhbGwgdWkgd2lsbCBoYXZlIGEgbGF6eSBjcmVhdGUgXG4vL2lmIHlvdSBjYWxsIHNjcm9sbFRvKCkgZnVuY3Rpb24gd2l0aCBubyBkdXJhdGlvbiwgeW91IHNob3VsZCBjYWxsIGNoZWNrVUkoKSwgYmVjYXVzZSBzY3JvbGxUbyB3aXRoIG5vIGR1cmF0aW9uIHdpbGwgbm90IHRyaWdnZXIgXCJzY3JvbGxFdmVudHNcIlxuXG5leHBvcnQgZW51bSBTY3JvbGxWaWV3RWxlbWVudFByb3h5U3RhdGUge1xuICAgIE5vVUksXG4gICAgSGF2ZVVJXG59XG5cbmV4cG9ydCBjbGFzcyBTY3JvbGxWaWV3RWxlbWVudFByb3h5IHtcbiAgICBwdWJsaWMgcmVnaW9uOmNjLlJlY3Q7XG4gICAgcHVibGljIHVpOmNjLk5vZGU7XG4gICAgcHVibGljIHNyYzpTY3JvbGxWaWV3RWxlbWVudFByb3h5O1xuICAgIHB1YmxpYyBob3Jpem9udGFsTG9vcDpib29sZWFuO1xuICAgIHB1YmxpYyB2ZXJ0aWNhbExvb3A6Ym9vbGVhbjtcbiAgICBwdWJsaWMgc3RhdGU6U2Nyb2xsVmlld0VsZW1lbnRQcm94eVN0YXRlID0gU2Nyb2xsVmlld0VsZW1lbnRQcm94eVN0YXRlLk5vVUk7XG59XG5cbkBjY2NsYXNzXG5leHBvcnQgY2xhc3MgU2Nyb2xsVmlld0hlbHBlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG4gICAgQHByb3BlcnR5KClcbiAgICBwdWJsaWMgc3luY0ludGVydmFsIDogbnVtYmVyID0gMC4wNTtcbiAgICBwcml2YXRlIF9wcm94eXMgOiBTY3JvbGxWaWV3RWxlbWVudFByb3h5W10gPSBbXTtcbiAgICBwcml2YXRlIF9zdkNhY2hlZFNjcm9sbFZpZXcgOiBjYy5TY3JvbGxWaWV3O1xuICAgIHByaXZhdGUgX3JlY3RDYWNoZWRWaWV3cG9ydCA6IGNjLlJlY3Q7XG4gICAgcHJpdmF0ZSBfZGVidWdOb2RlIDogY2MuR3JhcGhpY3M7XG4gICAgcHJpdmF0ZSBfaG9yaXpvbnRhbExvb3AgOiBib29sZWFuO1xuICAgIHByaXZhdGUgX3N5bmNpbmdVSSA6IGJvb2xlYW47XG4gICAgcHVibGljIG9uRnJlZVVJOihwcm94eTpTY3JvbGxWaWV3RWxlbWVudFByb3h5KSA9PiB2b2lkO1xuICAgIHB1YmxpYyBvbkFsbG9jVUk6KHByb3h5OlNjcm9sbFZpZXdFbGVtZW50UHJveHkpID0+IHZvaWQ7XG4gICAgcHVibGljIGlzVUlQb29sZWQ6KHByb3h5OlNjcm9sbFZpZXdFbGVtZW50UHJveHkpID0+IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgZ2V0IHNjcm9sbFZpZXcoKSA6IGNjLlNjcm9sbFZpZXcge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3ZDYWNoZWRTY3JvbGxWaWV3O1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ2V0IGRhdGFzKCkgOiBTY3JvbGxWaWV3RWxlbWVudFByb3h5W10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJveHlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbGVhckRhdGEoKSB7XG4gICAgICAgIGZvcihsZXQgcHJveHkgb2YgdGhpcy5fcHJveHlzKSB7XG4gICAgICAgICAgICBpZihwcm94eS51aSkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMub25GcmVlVUkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZyZWVVSShwcm94eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb3h5cy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGREYXRhKGRhdGE6U2Nyb2xsVmlld0VsZW1lbnRQcm94eSkge1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplUHJveHkoZGF0YSk7XG4gICAgICAgIHRoaXMuX3Byb3h5cy5wdXNoKGRhdGEpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXREZWJ1ZyhkZWJ1ZzpCb29sZWFuKSB7XG4gICAgICAgIGlmKGRlYnVnICYmICF0aGlzLl9kZWJ1Z05vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnTm9kZSA9IChuZXcgY2MuTm9kZSgpKS5hZGRDb21wb25lbnQoY2MuR3JhcGhpY3MpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQuYWRkQ2hpbGQodGhpcy5fZGVidWdOb2RlLm5vZGUpO1xuICAgICAgICAgICAgdGhpcy5fZGVidWdOb2RlLm5vZGUuc2V0UG9zaXRpb24oY2MudjIoMCwgMCkpO1xuICAgICAgICB9IGVsc2UgaWYoIWRlYnVnICYmIHRoaXMuX2RlYnVnTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fZGVidWdOb2RlLm5vZGUucmVtb3ZlRnJvbVBhcmVudCgpO1xuICAgICAgICAgICAgdGhpcy5fZGVidWdOb2RlLm5vZGUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlZnJlc2hEZWJ1ZygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjaGVja1VJKCkge1xuICAgICAgICB0aGlzLl9jaGVja1VJU3RhdGUoKTtcbiAgICAgICAgdGhpcy5fc3luY2luZ1VJID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TG9vcEhvcml6b250YWwobG9vcDpib29sZWFuKSB7XG4gICAgICAgIGlmKGxvb3AgIT0gdGhpcy5faG9yaXpvbnRhbExvb3ApIHtcbiAgICAgICAgICAgIGlmKGxvb3ApIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSB0aGlzLl9wcm94eXMubGVuZ3RoIC0gMTsgaSA+PSAwIDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLl9wcm94eXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmKCF0YXJnZXQuaG9yaXpvbnRhbExvb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29weWVkID0gbmV3IFNjcm9sbFZpZXdFbGVtZW50UHJveHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVQcm94eShjb3B5ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29weWVkLnNyYyA9IHRhcmdldC5zcmM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5ZWQucmVnaW9uID0gbmV3IGNjLlJlY3QodGFyZ2V0LnJlZ2lvbi54LCB0YXJnZXQucmVnaW9uLnksIHRhcmdldC5yZWdpb24ud2lkdGgsIHRhcmdldC5yZWdpb24uaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHllZC5ob3Jpem9udGFsTG9vcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5ZWQudmVydGljYWxMb29wID0gdGFyZ2V0LnZlcnRpY2FsTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHllZC5yZWdpb24ueCArPSB0aGlzLnNjcm9sbFZpZXcuY29udGVudC53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb3h5cy5wdXNoKGNvcHllZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQuc2V0Q29udGVudFNpemUodGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQud2lkdGggKiAyLCB0aGlzLnNjcm9sbFZpZXcuY29udGVudC5oZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSB0aGlzLl9wcm94eXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuX3Byb3h5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYodGFyZ2V0Lmhvcml6b250YWxMb29wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0YXJnZXQudWkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRnJlZVVJKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnVpID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm94eXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVmlldy5jb250ZW50LnNldENvbnRlbnRTaXplKHRoaXMuc2Nyb2xsVmlldy5jb250ZW50LndpZHRoIC8gMiwgdGhpcy5zY3JvbGxWaWV3LmNvbnRlbnQuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2hvcml6b250YWxMb29wID0gbG9vcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTG9hZCgpIHtcbiAgICAgICAgdGhpcy5fYmluZFNjcm9sbFZpZXcodGhpcy5nZXRDb21wb25lbnQoY2MuU2Nyb2xsVmlldykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3N5bmNDb3VudGVyIDogbnVtYmVyID0gMDtcbiAgICB1cGRhdGUoZHQ6bnVtYmVyKSB7XG4gICAgICAgIGlmKHRoaXMuX3N5bmNpbmdVSSkge1xuICAgICAgICAgICAgdGhpcy5fc3luY0NvdW50ZXIrPWR0O1xuICAgICAgICAgICAgaWYodGhpcy5fc3luY0NvdW50ZXIgPj0gdGhpcy5zeW5jSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zeW5jQ291bnRlciA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3luY1VJU3RhdGUoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9pbml0aWFsaXplUHJveHkocHJveHk6U2Nyb2xsVmlld0VsZW1lbnRQcm94eSkge1xuICAgICAgICBwcm94eS5ob3Jpem9udGFsTG9vcCA9IGZhbHNlO1xuICAgICAgICBwcm94eS5zcmMgPSBwcm94eTtcbiAgICAgICAgcHJveHkuc3RhdGUgPSBTY3JvbGxWaWV3RWxlbWVudFByb3h5U3RhdGUuTm9VSTtcbiAgICAgICAgcHJveHkudWkgPSBudWxsO1xuICAgICAgICBwcm94eS52ZXJ0aWNhbExvb3AgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9sYXN0Q2hlY2tYOm51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfY2hlY2tMb29wSG9yaXpvbnRhbCgpIHtcbiAgICAgICAgbGV0IG9mZnNldCA9IHRoaXMuc2Nyb2xsVmlldy5nZXRTY3JvbGxPZmZzZXQoKTtcbiAgICAgICAgbGV0IGRlbHRhID0gb2Zmc2V0LnggLSB0aGlzLl9sYXN0Q2hlY2tYO1xuICAgICAgICBpZihNYXRoLmFicyhkZWx0YSkgPiAyKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2hlY2tYID0gb2Zmc2V0Lng7XG4gICAgICAgICAgICBsZXQgb3JpZ2luYWxXaWR0aCA9IHRoaXMuc2Nyb2xsVmlldy5jb250ZW50LndpZHRoIC8gMjtcbiAgICAgICAgICAgIC8vY2hlY2sgbW92ZSB3aG9sZSBjb250ZW50XG4gICAgICAgICAgICBpZihkZWx0YSA8IDAgJiYgb2Zmc2V0LnggPCAtb3JpZ2luYWxXaWR0aCkge1xuICAgICAgICAgICAgICAgIG9mZnNldC54ICs9IG9yaWdpbmFsV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdENoZWNrWCA9IG9mZnNldC54O1xuICAgICAgICAgICAgICAgIG9mZnNldC54ID0gLW9mZnNldC54O1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVmlldy5zY3JvbGxUb09mZnNldChvZmZzZXQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGRlbHRhID4gMCAmJiBvZmZzZXQueCA+IDApIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQueCAtPSBvcmlnaW5hbFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RDaGVja1ggPSBvZmZzZXQueDtcbiAgICAgICAgICAgICAgICBvZmZzZXQueCA9IC1vZmZzZXQueDtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFZpZXcuc2Nyb2xsVG9PZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2JpbmRTY3JvbGxWaWV3KHZpZXc6Y2MuU2Nyb2xsVmlldykge1xuICAgICAgICB0aGlzLl9zdkNhY2hlZFNjcm9sbFZpZXcgPSB0aGlzLmdldENvbXBvbmVudChjYy5TY3JvbGxWaWV3KTtcbiAgICAgICAgbGV0IGV2ZW50SGFuZGxlciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XG4gICAgICAgIGV2ZW50SGFuZGxlci50YXJnZXQgPSB0aGlzLm5vZGU7XG4gICAgICAgIGV2ZW50SGFuZGxlci5jb21wb25lbnQgPSBcIlNjcm9sbFZpZXdIZWxwZXJcIjtcbiAgICAgICAgZXZlbnRIYW5kbGVyLmhhbmRsZXIgPSBcIl9vblNjcm9sbFwiO1xuICAgICAgICB0aGlzLl9zdkNhY2hlZFNjcm9sbFZpZXcuc2Nyb2xsRXZlbnRzLnB1c2goZXZlbnRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fc3ZDYWNoZWRTY3JvbGxWaWV3Lm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuU0laRV9DSEFOR0VELCB0aGlzLl9yZWZyZXNoVmlld3BvcnRSZWN0LCB0aGlzKTtcbiAgICAgICAgdGhpcy5fc3ZDYWNoZWRTY3JvbGxWaWV3LmNvbnRlbnQub24oY2MuTm9kZS5FdmVudFR5cGUuQU5DSE9SX0NIQU5HRUQsIHRoaXMuX3JlZnJlc2hWaWV3cG9ydFJlY3QsIHRoaXMpO1xuICAgICAgICB0aGlzLl9zdkNhY2hlZFNjcm9sbFZpZXcuY29udGVudC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5TSVpFX0NIQU5HRUQsIHRoaXMuX3JlZnJlc2hWaWV3cG9ydFJlY3QsIHRoaXMpO1xuICAgICAgICB0aGlzLl9yZWZyZXNoVmlld3BvcnRSZWN0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcmVmcmVzaFZpZXdwb3J0UmVjdCgpIHtcbiAgICAgICAgdGhpcy5fcmVjdENhY2hlZFZpZXdwb3J0ID0gY2MucmVjdCgpO1xuICAgICAgICB0aGlzLl9yZWN0Q2FjaGVkVmlld3BvcnQuc2l6ZSA9IHRoaXMuX3N2Q2FjaGVkU2Nyb2xsVmlldy5ub2RlLmdldENvbnRlbnRTaXplKCk7XG4gICAgICAgIHRoaXMuX3JlY3RDYWNoZWRWaWV3cG9ydC5vcmlnaW4gPSBjYy52MigtdGhpcy5fc3ZDYWNoZWRTY3JvbGxWaWV3LmNvbnRlbnQuYW5jaG9yWCAqIHRoaXMuX3N2Q2FjaGVkU2Nyb2xsVmlldy5jb250ZW50LndpZHRoLCBcbiAgICAgICAgICAgICgxIC0gdGhpcy5fc3ZDYWNoZWRTY3JvbGxWaWV3LmNvbnRlbnQuYW5jaG9yWSkgKiB0aGlzLl9zdkNhY2hlZFNjcm9sbFZpZXcuY29udGVudC5oZWlnaHQgLSB0aGlzLl9yZWN0Q2FjaGVkVmlld3BvcnQuc2l6ZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9jaGVja1VJU3RhdGUoKTtcbiAgICAgICAgdGhpcy5fc3luY2luZ1VJID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBfY2hlY2tVSVN0YXRlKCkge1xuICAgICAgICBsZXQgZGVsdGEgPSB0aGlzLl9zdkNhY2hlZFNjcm9sbFZpZXcuZ2V0U2Nyb2xsT2Zmc2V0KCk7XG4gICAgICAgIGxldCB2aWV3V2lkdGggPSB0aGlzLl9yZWN0Q2FjaGVkVmlld3BvcnQud2lkdGg7XG4gICAgICAgIGxldCB2aWV3SGVpZ2h0ID0gdGhpcy5fcmVjdENhY2hlZFZpZXdwb3J0LmhlaWdodDtcbiAgICAgICAgbGV0IHZpZXdYID0gLWRlbHRhLnggKyB0aGlzLl9yZWN0Q2FjaGVkVmlld3BvcnQueDtcbiAgICAgICAgbGV0IHZpZXdZID0gLWRlbHRhLnkgKyB0aGlzLl9yZWN0Q2FjaGVkVmlld3BvcnQueTtcbiAgICAgICAgZm9yKGxldCBwcm94eSBvZiB0aGlzLl9wcm94eXMpIHtcbiAgICAgICAgICAgIGxldCByZWN0ID0gcHJveHkucmVnaW9uO1xuICAgICAgICAgICAgbGV0IHggPSByZWN0Lng7XG4gICAgICAgICAgICBsZXQgeSA9IHJlY3QueTtcbiAgICAgICAgICAgIGlmKHggPiB2aWV3WCAtIHJlY3Qud2lkdGggJiYgeCA8IHZpZXdYICsgdmlld1dpZHRoICYmXG4gICAgICAgICAgICAgICAgeSA+IHZpZXdZIC0gcmVjdC5oZWlnaHQgJiYgeSA8IHZpZXdZICsgdmlld0hlaWdodCkge1xuICAgICAgICAgICAgICAgIHByb3h5LnN0YXRlID0gU2Nyb2xsVmlld0VsZW1lbnRQcm94eVN0YXRlLkhhdmVVSTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJveHkuc3RhdGUgPSBTY3JvbGxWaWV3RWxlbWVudFByb3h5U3RhdGUuTm9VSTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3N5bmNVSVN0YXRlKG1heEFsbG9jQ291bnQ6bnVtYmVyKSB7XG4gICAgICAgIGxldCBjaGFuZ2VDb3VudCA6IG51bWJlciA9IDA7XG4gICAgICAgIGZvcihsZXQgcHJveHkgb2YgdGhpcy5fcHJveHlzKSB7XG4gICAgICAgICAgICBpZihwcm94eS5zdGF0ZSA9PSBTY3JvbGxWaWV3RWxlbWVudFByb3h5U3RhdGUuTm9VSSAmJiBwcm94eS51aSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25GcmVlVUkocHJveHkpO1xuICAgICAgICAgICAgICAgIGNoYW5nZUNvdW50ICsrO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2RlYnVnTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYy5sb2coXCJTY3JvbGxWaWV3SGVscGVyLl9zeW5jVUlTdGF0ZSAtLS0tPiBmcmVlIHVpXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IobGV0IHByb3h5IG9mIHRoaXMuX3Byb3h5cykge1xuICAgICAgICAgICAgaWYocHJveHkuc3RhdGUgPT0gU2Nyb2xsVmlld0VsZW1lbnRQcm94eVN0YXRlLkhhdmVVSSAmJiAhcHJveHkudWkpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9vbGVkID0gdGhpcy5pc1VJUG9vbGVkICYmIHRoaXMuaXNVSVBvb2xlZChwcm94eSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkFsbG9jVUkocHJveHkpO1xuICAgICAgICAgICAgICAgIGNoYW5nZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgaWYoIXBvb2xlZCkgeyAgICAgICAgICAgICAgIC8vcmVhbCBhbGxvYyBzaG91bGQgYmUgbGltaXRlZFxuICAgICAgICAgICAgICAgICAgICBtYXhBbGxvY0NvdW50LS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHRoaXMuX2RlYnVnTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYy5sb2coXCJTY3JvbGxWaWV3SGVscGVyLl9zeW5jVUlTdGF0ZSAtLS0tPiBhbGxvYyB1aVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihtYXhBbGxvY0NvdW50IDw9IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihjaGFuZ2VDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICAvL2V2ZXJ5dGhpbmcgaXMgY2hhbmdlZFxuICAgICAgICAgICAgdGhpcy5fc3luY2luZ1VJID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9vblNjcm9sbCgpIHtcbiAgICAgICAgaWYodGhpcy5faG9yaXpvbnRhbExvb3ApIHtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrTG9vcEhvcml6b250YWwoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGVja1VJU3RhdGUoKTtcbiAgICAgICAgdGhpcy5fc3luY2luZ1VJID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9yZWZyZXNoRGVidWcoKSB7XG4gICAgICAgIGlmKHRoaXMuX2RlYnVnTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5fZGVidWdOb2RlLmNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1Z05vZGUuZmlsbENvbG9yID0gY2MuY29sb3IoMjU1LCAwLCAwLCAyNTUpO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuX3Byb3h5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnTm9kZS5maWxsUmVjdCh0aGlzLl9wcm94eXNbaV0ucmVnaW9uLngsIHRoaXMuX3Byb3h5c1tpXS5yZWdpb24ueSwgdGhpcy5fcHJveHlzW2ldLnJlZ2lvbi53aWR0aCwgdGhpcy5fcHJveHlzW2ldLnJlZ2lvbi5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/TouchPlus.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1c88eM+YFpH45yVr93vRF2l', 'TouchPlus');
// Script/Common/Components/TouchPlus.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TouchPlus = /** @class */ (function (_super) {
    __extends(TouchPlus, _super);
    function TouchPlus() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.offset = 15; // 误差值
        _this.isTouch = false;
        _this.isClick = true;
        return _this;
        // update (dt) {}
    }
    /** 添加点击事件和滑动事件 */
    TouchPlus.prototype.addEvent = function (click, slide) {
        this.clickEvent = click;
        this.slideEvent = slide;
    };
    // onLoad () {}
    TouchPlus.prototype.start = function () {
        this.node.on(cc.Node.EventType.TOUCH_START, this.touchStart, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);
        this.node.on(cc.Node.EventType.TOUCH_END, this.touchEnd, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.touchCancel, this);
    };
    TouchPlus.prototype.touchStart = function (e) {
        this.isTouch = true;
        this.startPosition = e.getLocation();
    };
    TouchPlus.prototype.touchMove = function (e) {
        if (!this.isTouch)
            return;
        var pos = e.getLocation();
        var len = pos.sub(this.startPosition).mag();
        if (len > this.offset) {
            this.isClick = false;
            // 触发滑动
            this.slideEvent && this.slideEvent(e);
        }
    };
    TouchPlus.prototype.touchEnd = function (e) {
        if (!this.isTouch)
            return;
        this.isTouch = false;
        this.isClick && this.clickEvent && this.clickEvent(e);
        this.isClick = true;
    };
    TouchPlus.prototype.touchCancel = function (e) {
        if (!this.isTouch)
            return;
        this.isTouch = false;
        this.isClick = true;
    };
    TouchPlus.prototype.onDestroy = function () {
        this.node.off(cc.Node.EventType.TOUCH_START, this.touchStart, this);
        this.node.off(cc.Node.EventType.TOUCH_MOVE, this.touchMove, this);
        this.node.off(cc.Node.EventType.TOUCH_END, this.touchEnd, this);
        this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.touchCancel, this);
    };
    TouchPlus = __decorate([
        ccclass
    ], TouchPlus);
    return TouchPlus;
}(cc.Component));
exports.default = TouchPlus;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvVG91Y2hQbHVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBZ0VDO1FBOURXLFlBQU0sR0FBSSxFQUFFLENBQUMsQ0FBTyxNQUFNO1FBRTFCLGFBQU8sR0FBRyxLQUFLLENBQUM7UUFFaEIsYUFBTyxHQUFHLElBQUksQ0FBQzs7UUF5RHZCLGlCQUFpQjtJQUNyQixDQUFDO0lBckRHLGtCQUFrQjtJQUNYLDRCQUFRLEdBQWYsVUFBZ0IsS0FBZSxFQUFFLEtBQXNDO1FBQ25FLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQzVCLENBQUM7SUFFRCxlQUFlO0lBRWYseUJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3pFLENBQUM7SUFHTyw4QkFBVSxHQUFsQixVQUFtQixDQUFzQjtRQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBQ08sNkJBQVMsR0FBakIsVUFBa0IsQ0FBc0I7UUFDcEMsSUFBRyxDQUFDLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBUTtRQUMxQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDMUIsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDNUMsSUFBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNsQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztZQUNyQixPQUFPO1lBQ1AsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3pDO0lBQ0wsQ0FBQztJQUNPLDRCQUFRLEdBQWhCLFVBQWlCLENBQXNCO1FBQ25DLElBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQVE7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFFckIsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFdEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDeEIsQ0FBQztJQUNPLCtCQUFXLEdBQW5CLFVBQW9CLENBQXNCO1FBQ3RDLElBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQVE7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFFckIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDeEIsQ0FBQztJQUVELDZCQUFTLEdBQVQ7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBN0RnQixTQUFTO1FBRDdCLE9BQU87T0FDYSxTQUFTLENBZ0U3QjtJQUFELGdCQUFDO0NBaEVELEFBZ0VDLENBaEVzQyxFQUFFLENBQUMsU0FBUyxHQWdFbEQ7a0JBaEVvQixTQUFTIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb3VjaFBsdXMgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgcHJpdmF0ZSBvZmZzZXQgID0gMTU7ICAgICAgIC8vIOivr+W3ruWAvFxuICAgIHByaXZhdGUgc3RhcnRQb3NpdGlvbjogY2MuVmVjMjtcbiAgICBwcml2YXRlIGlzVG91Y2ggPSBmYWxzZTtcblxuICAgIHByaXZhdGUgaXNDbGljayA9IHRydWU7XG5cbiAgICBwcml2YXRlIGNsaWNrRXZlbnQ6IEZ1bmN0aW9uO1xuICAgIHByaXZhdGUgc2xpZGVFdmVudDogKGU6IGNjLkV2ZW50LkV2ZW50VG91Y2gpID0+IGFueTtcblxuICAgIC8qKiDmt7vliqDngrnlh7vkuovku7blkozmu5Hliqjkuovku7YgKi9cbiAgICBwdWJsaWMgYWRkRXZlbnQoY2xpY2s6IEZ1bmN0aW9uLCBzbGlkZTogKGU6IGNjLkV2ZW50LkV2ZW50VG91Y2gpID0+IGFueSkge1xuICAgICAgICB0aGlzLmNsaWNrRXZlbnQgPSBjbGljaztcbiAgICAgICAgdGhpcy5zbGlkZUV2ZW50ID0gc2xpZGU7XG4gICAgfVxuXG4gICAgLy8gb25Mb2FkICgpIHt9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgdGhpcy50b3VjaFN0YXJ0LCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMudG91Y2hNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy50b3VjaEVuZCwgdGhpcyk7XG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsIHRoaXMudG91Y2hDYW5jZWwsIHRoaXMpO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSB0b3VjaFN0YXJ0KGU6IGNjLkV2ZW50LkV2ZW50VG91Y2gpIHtcbiAgICAgICAgdGhpcy5pc1RvdWNoID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gZS5nZXRMb2NhdGlvbigpO1xuICAgIH1cbiAgICBwcml2YXRlIHRvdWNoTW92ZShlOiBjYy5FdmVudC5FdmVudFRvdWNoKSB7XG4gICAgICAgIGlmKCF0aGlzLmlzVG91Y2gpIHJldHVybiA7XG4gICAgICAgIGxldCBwb3MgPSBlLmdldExvY2F0aW9uKCk7XG4gICAgICAgIGxldCBsZW4gPSBwb3Muc3ViKHRoaXMuc3RhcnRQb3NpdGlvbikubWFnKCk7XG4gICAgICAgIGlmKGxlbiA+IHRoaXMub2Zmc2V0KSB7XG4gICAgICAgICAgICB0aGlzLmlzQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIOinpuWPkea7keWKqFxuICAgICAgICAgICAgdGhpcy5zbGlkZUV2ZW50ICYmIHRoaXMuc2xpZGVFdmVudChlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHRvdWNoRW5kKGU6IGNjLkV2ZW50LkV2ZW50VG91Y2gpIHtcbiAgICAgICAgaWYoIXRoaXMuaXNUb3VjaCkgcmV0dXJuIDtcbiAgICAgICAgdGhpcy5pc1RvdWNoID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmlzQ2xpY2sgJiYgdGhpcy5jbGlja0V2ZW50ICYmIHRoaXMuY2xpY2tFdmVudChlKTtcblxuICAgICAgICB0aGlzLmlzQ2xpY2sgPSB0cnVlO1xuICAgIH1cbiAgICBwcml2YXRlIHRvdWNoQ2FuY2VsKGU6IGNjLkV2ZW50LkV2ZW50VG91Y2gpIHtcbiAgICAgICAgaWYoIXRoaXMuaXNUb3VjaCkgcmV0dXJuIDtcbiAgICAgICAgdGhpcy5pc1RvdWNoID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5pc0NsaWNrID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMudG91Y2hTdGFydCwgdGhpcyk7XG4gICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy50b3VjaE1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy50b3VjaEVuZCwgdGhpcyk7XG4gICAgICAgIHRoaXMubm9kZS5vZmYoY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfQ0FOQ0VMLCB0aGlzLnRvdWNoQ2FuY2VsLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/BatchComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd393a5ZdPJN0q6Ay73BaSB9', 'BatchComponent');
// Script/Common/Components/BatchComponent.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var BatchAssembler_1 = require("../Assemblers/BatchAssembler");
var TraversalMode;
(function (TraversalMode) {
    TraversalMode[TraversalMode["Default"] = 0] = "Default";
    TraversalMode[TraversalMode["SameName"] = 1] = "SameName";
})(TraversalMode || (TraversalMode = {}));
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var BantchComponent = /** @class */ (function (_super) {
    __extends(BantchComponent, _super);
    function BantchComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.mode = 0;
        return _this;
    }
    BantchComponent.prototype.onEnable = function () {
        _super.prototype.onEnable.call(this);
        if (!CC_NATIVERENDERER)
            this.node._renderFlag |= cc.RenderFlow.FLAG_POST_RENDER;
    };
    BantchComponent.prototype._resetAssembler = function () {
        this.setVertsDirty();
        var assembler = this._assembler = new BatchAssembler_1.default();
        assembler.init(this);
    };
    __decorate([
        property({ type: cc.Enum(TraversalMode), tooltip: "遍历模式: Default 默认的广度遍历, SameName 同名结点同批次" })
    ], BantchComponent.prototype, "mode", void 0);
    BantchComponent = __decorate([
        ccclass
    ], BantchComponent);
    return BantchComponent;
}(cc.RenderComponent));
exports.default = BantchComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvQmF0Y2hDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0RBQTBEO0FBRTFELElBQUssYUFJSjtBQUpELFdBQUssYUFBYTtJQUNkLHVEQUFPLENBQUE7SUFDUCx5REFBUSxDQUFBO0FBRVosQ0FBQyxFQUpJLGFBQWEsS0FBYixhQUFhLFFBSWpCO0FBRUssSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNkMsbUNBQWtCO0lBQS9EO1FBQUEscUVBZUM7UUFaRyxVQUFJLEdBQWtCLENBQUMsQ0FBQzs7SUFZNUIsQ0FBQztJQVZHLGtDQUFRLEdBQVI7UUFDSSxpQkFBTSxRQUFRLFdBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsaUJBQWlCO1lBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQztJQUNwRixDQUFDO0lBRUQseUNBQWUsR0FBZjtRQUNJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNyQixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksd0JBQWMsRUFBRSxDQUFDO1FBQ3ZELFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekIsQ0FBQztJQVhEO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsT0FBTyxFQUFFLHlDQUF5QyxFQUFDLENBQUM7aURBQ3JFO0lBSFAsZUFBZTtRQURuQyxPQUFPO09BQ2EsZUFBZSxDQWVuQztJQUFELHNCQUFDO0NBZkQsQUFlQyxDQWY0QyxFQUFFLENBQUMsZUFBZSxHQWU5RDtrQkFmb0IsZUFBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXRjaEFzc2VtYmxlciBmcm9tIFwiLi4vQXNzZW1ibGVycy9CYXRjaEFzc2VtYmxlclwiO1xuXG5lbnVtIFRyYXZlcnNhbE1vZGUge1xuICAgIERlZmF1bHQsXG4gICAgU2FtZU5hbWUsXG5cbn1cblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYW50Y2hDb21wb25lbnQgZXh0ZW5kcyBjYy5SZW5kZXJDb21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5FbnVtKFRyYXZlcnNhbE1vZGUpLCB0b29sdGlwOiBcIumBjeWOhuaooeW8jzogRGVmYXVsdCDpu5jorqTnmoTlub/luqbpgY3ljoYsIFNhbWVOYW1lIOWQjOWQjee7k+eCueWQjOaJueasoVwifSlcbiAgICBtb2RlOiBUcmF2ZXJzYWxNb2RlID0gMDtcblxuICAgIG9uRW5hYmxlKCkge1xuICAgICAgICBzdXBlci5vbkVuYWJsZSgpO1xuICAgICAgICBpZiAoIUNDX05BVElWRVJFTkRFUkVSKSB0aGlzLm5vZGUuX3JlbmRlckZsYWcgfD0gY2MuUmVuZGVyRmxvdy5GTEFHX1BPU1RfUkVOREVSOyAgICBcbiAgICB9XG5cbiAgICBfcmVzZXRBc3NlbWJsZXIoKSB7XG4gICAgICAgIHRoaXMuc2V0VmVydHNEaXJ0eSgpO1xuICAgICAgICBsZXQgYXNzZW1ibGVyID0gdGhpcy5fYXNzZW1ibGVyID0gbmV3IEJhdGNoQXNzZW1ibGVyKCk7XG4gICAgICAgIGFzc2VtYmxlci5pbml0KHRoaXMpO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/GameConfig.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f46b13WB51JHaffBN5ie56i', 'GameConfig');
// Script/Common/GameConfig.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    Object.defineProperty(GameConfig, "debugUserId", {
        get: function () {
            return this._debugUserId;
        },
        enumerable: false,
        configurable: true
    });
    GameConfig.gameId = '';
    //游戏版本
    GameConfig.version = '0.0.1';
    GameConfig._debugUserId = '';
    return GameConfig;
}());
exports.default = GameConfig;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0dhbWVDb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBVUEsQ0FBQztJQUhHLHNCQUFrQix5QkFBVzthQUE3QjtZQUNJLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztRQUM3QixDQUFDOzs7T0FBQTtJQVBhLGlCQUFNLEdBQUcsRUFBRSxDQUFDO0lBQzFCLE1BQU07SUFDaUIsa0JBQU8sR0FBRyxPQUFPLENBQUM7SUFFM0IsdUJBQVksR0FBRyxFQUFFLENBQUM7SUFJcEMsaUJBQUM7Q0FWRCxBQVVDLElBQUE7a0JBVm9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlnIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgZ2FtZUlkID0gJyc7XG4gICAgLy/muLjmiI/niYjmnKxcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHZlcnNpb24gPSAnMC4wLjEnO1xuXG4gICAgcHVibGljIHN0YXRpYyBfZGVidWdVc2VySWQgPSAnJztcbiAgICBwdWJsaWMgc3RhdGljIGdldCBkZWJ1Z1VzZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlYnVnVXNlcklkO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Light/Obstacle.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'eaa90oCwvRPFqm2RBIJWdZL', 'Obstacle');
// Script/Common/Light/Obstacle.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var QuadTree_1 = require("../Components/QuadTree");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Obstacle = /** @class */ (function (_super) {
    __extends(Obstacle, _super);
    function Obstacle() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._quadtree = null;
        _this._polygons = cc.js.createMap();
        return _this;
    }
    Obstacle.prototype.onLoad = function () {
        var size = cc.view.getVisibleSize();
        this._quadtree = new QuadTree_1.default({ x: 0, y: 0, width: size.width, height: size.height });
    };
    Obstacle.prototype.addPolygon = function (uid, points) {
        this._polygons[uid] = points;
        var bound = this._getBound(points);
        bound.uid = uid;
        this._quadtree.insert(bound);
    };
    Obstacle.prototype.removePolygon = function (uid) {
        // todo...
    };
    Obstacle.prototype.getPolygons = function (bound) {
        var bounds = this._quadtree.retrieve(bound);
        var polygons = [];
        for (var _i = 0, bounds_1 = bounds; _i < bounds_1.length; _i++) {
            var e = bounds_1[_i];
            polygons.push(this._polygons[e.uid]);
        }
        return polygons;
    };
    Obstacle.prototype._getBound = function (points) {
        var point = points[0];
        var xMin = point.x;
        var xMax = point.x;
        var yMin = point.y;
        var yMax = point.y;
        for (var i = 0; i < points.length; i++) {
            if (points[i].x < xMin)
                xMin = points[i].x;
            if (points[i].x > xMax)
                xMax = points[i].x;
            if (points[i].y < yMin)
                yMin = points[i].y;
            if (points[i].y > yMax)
                yMax = points[i].y;
        }
        return new QuadTree_1.Bound(xMin, yMin, xMax - xMin, yMax - yMin);
    };
    Obstacle.prototype.clear = function () {
        this._quadtree.clear();
        this._polygons = {};
    };
    Obstacle = __decorate([
        ccclass
    ], Obstacle);
    return Obstacle;
}(cc.Component));
exports.default = Obstacle;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0xpZ2h0L09ic3RhY2xlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1EQUF5RDtBQUVuRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDtRQUFBLHFFQW1EQztRQWpEVyxlQUFTLEdBQWEsSUFBSSxDQUFDO1FBQzNCLGVBQVMsR0FBK0IsRUFBRSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQzs7SUFnRHRFLENBQUM7SUE3Q0cseUJBQU0sR0FBTjtRQUNJLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDcEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGtCQUFRLENBQUMsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO0lBQ3hGLENBQUM7SUFFTSw2QkFBVSxHQUFqQixVQUFrQixHQUFXLEVBQUUsTUFBaUI7UUFDNUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7UUFDN0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU0sZ0NBQWEsR0FBcEIsVUFBcUIsR0FBVztRQUM1QixVQUFVO0lBQ2QsQ0FBQztJQUVNLDhCQUFXLEdBQWxCLFVBQW1CLEtBQVk7UUFDM0IsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUMsSUFBSSxRQUFRLEdBQWdCLEVBQUUsQ0FBQztRQUMvQixLQUFlLFVBQU0sRUFBTixpQkFBTSxFQUFOLG9CQUFNLEVBQU4sSUFBTSxFQUFFO1lBQW5CLElBQU0sQ0FBQyxlQUFBO1lBQ1AsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ3hDO1FBQ0QsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUVPLDRCQUFTLEdBQWpCLFVBQWtCLE1BQWlCO1FBQy9CLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25CLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDbkIsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNuQixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25CLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQy9CLElBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJO2dCQUFFLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFDLElBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJO2dCQUFFLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFDLElBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJO2dCQUFFLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFDLElBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJO2dCQUFFLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzdDO1FBQ0QsT0FBTyxJQUFJLGdCQUFLLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBSSxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRU0sd0JBQUssR0FBWjtRQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQWpEZ0IsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQW1ENUI7SUFBRCxlQUFDO0NBbkRELEFBbURDLENBbkRxQyxFQUFFLENBQUMsU0FBUyxHQW1EakQ7a0JBbkRvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFF1YWR0cmVlLCB7IEJvdW5kIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvUXVhZFRyZWVcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYnN0YWNsZSBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBwcml2YXRlIF9xdWFkdHJlZTogUXVhZHRyZWUgPSBudWxsO1xuICAgIHByaXZhdGUgX3BvbHlnb25zOiB7W2tleTogc3RyaW5nXTogY2MuVmVjMltdfSA9IGNjLmpzLmNyZWF0ZU1hcCgpO1xuXG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIGxldCBzaXplID0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpO1xuICAgICAgICB0aGlzLl9xdWFkdHJlZSA9IG5ldyBRdWFkdHJlZSh7eDogMCwgeTogMCwgd2lkdGg6IHNpemUud2lkdGgsIGhlaWdodDogc2l6ZS5oZWlnaHR9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkUG9seWdvbih1aWQ6IHN0cmluZywgcG9pbnRzOiBjYy5WZWMyW10pIHtcbiAgICAgICAgdGhpcy5fcG9seWdvbnNbdWlkXSA9IHBvaW50cztcbiAgICAgICAgbGV0IGJvdW5kID0gdGhpcy5fZ2V0Qm91bmQocG9pbnRzKTtcbiAgICAgICAgYm91bmQudWlkID0gdWlkO1xuICAgICAgICB0aGlzLl9xdWFkdHJlZS5pbnNlcnQoYm91bmQpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVQb2x5Z29uKHVpZDogc3RyaW5nKSB7XG4gICAgICAgIC8vIHRvZG8uLi5cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UG9seWdvbnMoYm91bmQ6IEJvdW5kKSB7XG4gICAgICAgIGxldCBib3VuZHMgPSB0aGlzLl9xdWFkdHJlZS5yZXRyaWV2ZShib3VuZCk7XG4gICAgICAgIGxldCBwb2x5Z29uczogY2MuVmVjMltdW10gPSBbXTtcbiAgICAgICAgZm9yKGNvbnN0IGUgb2YgYm91bmRzKSB7XG4gICAgICAgICAgICBwb2x5Z29ucy5wdXNoKHRoaXMuX3BvbHlnb25zW2UudWlkXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvbHlnb25zO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldEJvdW5kKHBvaW50czogY2MuVmVjMltdKSB7XG4gICAgICAgIGxldCBwb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgbGV0IHhNaW4gPSBwb2ludC54O1xuICAgICAgICBsZXQgeE1heCA9IHBvaW50Lng7XG4gICAgICAgIGxldCB5TWluID0gcG9pbnQueTtcbiAgICAgICAgbGV0IHlNYXggPSBwb2ludC55O1xuICAgICAgICBmb3IobGV0IGk9MDsgaTxwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHBvaW50c1tpXS54IDwgeE1pbikgeE1pbiA9IHBvaW50c1tpXS54O1xuICAgICAgICAgICAgaWYocG9pbnRzW2ldLnggPiB4TWF4KSB4TWF4ID0gcG9pbnRzW2ldLng7XG4gICAgICAgICAgICBpZihwb2ludHNbaV0ueSA8IHlNaW4pIHlNaW4gPSBwb2ludHNbaV0ueTtcbiAgICAgICAgICAgIGlmKHBvaW50c1tpXS55ID4geU1heCkgeU1heCA9IHBvaW50c1tpXS55O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQm91bmQoeE1pbiwgeU1pbiwgeE1heCAtIHhNaW4sIHlNYXggLSB5TWluKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX3F1YWR0cmVlLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3BvbHlnb25zID0ge307XG4gICAgfVxuXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Light/Light.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '68edfvWcX9CWav9zMp303o6', 'Light');
// Script/Common/Light/Light.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.LightType = void 0;
var QuadTree_1 = require("../Components/QuadTree");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LightType;
(function (LightType) {
    LightType[LightType["Round"] = 0] = "Round";
    LightType[LightType["Sector"] = 1] = "Sector";
})(LightType = exports.LightType || (exports.LightType = {}));
var LightBound = new QuadTree_1.Bound(0, 0, 0, 0);
var Light = /** @class */ (function (_super) {
    __extends(Light, _super);
    function Light() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /** 画笔 */
        _this.graphics = null;
        _this.lightType = 0;
        _this.canvasSize = null;
        _this.visiableSize = null;
        _this.radius = 200;
        _this.fade = 1;
        // graphics
        _this._material = null;
        return _this;
        // update (dt) {}
    }
    Light.prototype.onLoad = function () {
        this._material = this.graphics.getMaterial(0);
        this.canvasSize = cc.view.getCanvasSize();
        this.visiableSize = cc.view.getCanvasSize();
        this.node.setContentSize(this.canvasSize);
        this._material.setProperty("screen", cc.v2(this.canvasSize.width, this.canvasSize.height));
        var r = this.radius / this.canvasSize.width;
        this._material.setProperty("maxRadius", r);
    };
    Light.prototype.start = function () {
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
    };
    Light.prototype.onDestroy = function () {
        this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
    };
    Light.prototype.onTouchMove = function (e) {
        this.node.x += e.getDeltaX();
        this.node.y += e.getDeltaY();
    };
    Light.prototype.getBound = function () {
        var pos = this.node.getPosition();
        LightBound.x = pos.x - this.radius / 2;
        LightBound.y = pos.y - this.radius / 2;
        LightBound.width = LightBound.height = this.radius;
        return LightBound;
    };
    /** 绘制光 */
    Light.prototype.draw = function (intersections) {
        var lightPos = this.node.getPosition();
        this._doDraw(this.graphics, lightPos, intersections);
        this._material.setProperty("lightPos", cc.v2(lightPos.x / this.visiableSize.width, lightPos.y / this.visiableSize.height));
    };
    /** 绘制light */
    Light.prototype._doDraw = function (graphics, light, intersects) {
        graphics.clear();
        graphics.moveTo(intersects[0].x, intersects[0].y);
        for (var i = 1; i < intersects.length; i++) {
            var intersect = intersects[i];
            graphics.lineTo(intersect.x, intersect.y);
        }
        graphics.moveTo(intersects[0].x, intersects[0].y);
        graphics.fill();
        // for(let i=0; i<intersects.length; i++) {
        //     let intersect = intersects[i];
        //     graphics.moveTo(light.x, light.y);
        //     graphics.lineTo(intersect.x, intersect.y);
        //     graphics.stroke();
        // }
    };
    __decorate([
        property(cc.Graphics)
    ], Light.prototype, "graphics", void 0);
    __decorate([
        property({ type: cc.Enum(LightType) })
    ], Light.prototype, "lightType", void 0);
    Light = __decorate([
        ccclass
    ], Light);
    return Light;
}(cc.Component));
exports.default = Light;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0xpZ2h0L0xpZ2h0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBK0M7QUFHekMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBWSxTQUdYO0FBSEQsV0FBWSxTQUFTO0lBQ2pCLDJDQUFLLENBQUE7SUFDTCw2Q0FBTSxDQUFBO0FBQ1YsQ0FBQyxFQUhXLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBR3BCO0FBRUQsSUFBSSxVQUFVLEdBQUcsSUFBSSxnQkFBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBRXZDO0lBQW1DLHlCQUFZO0lBQS9DO1FBQUEscUVBbUZDO1FBbEZHLFNBQVM7UUFFVCxjQUFRLEdBQWdCLElBQUksQ0FBQztRQUU3QixlQUFTLEdBQWMsQ0FBQyxDQUFDO1FBR3pCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBQzNCLGtCQUFZLEdBQVksSUFBSSxDQUFDO1FBRTdCLFlBQU0sR0FBRyxHQUFHLENBQUM7UUFDYixVQUFJLEdBQUcsQ0FBQyxDQUFDO1FBRVQsV0FBVztRQUNILGVBQVMsR0FBZ0IsSUFBSSxDQUFDOztRQW1FdEMsaUJBQWlCO0lBQ3JCLENBQUM7SUFsRUcsc0JBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFOUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzFDLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUU1QyxJQUFJLENBQUMsSUFBSSxDQUFDLGNB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QUMsQ0FBQztTQUM3QztRQUNELFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFbEQsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1FBRWhCLDJDQUEyQztRQUMzQyxxQ0FBcUM7UUFDckMseUNBQXlDO1FBQ3pDLGlEQUFpRDtRQUNqRCx5QkFBeUI7UUFDekIsSUFBSTtJQUNSLENBQUM7SUE3RUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQzsyQ0FDTztJQUU3QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFDLENBQUM7NENBQ1o7SUFMUixLQUFLO1FBRHpCLE9BQU87T0FDYSxLQUFLLENBbUZ6QjtJQUFELFlBQUM7Q0FuRkQsQUFtRkMsQ0FuRmtDLEVBQUUsQ0FBQyxTQUFTLEdBbUY5QztrQkFuRm9CLEtBQUsiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3VuZCB9IGZyb20gXCIuLi9Db21wb25lbnRzL1F1YWRUcmVlXCI7XG5pbXBvcnQgeyBJbnRlcnNlY3Rpb24gfSBmcm9tIFwiLi9MaWdodFN0cnVjdFwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuZXhwb3J0IGVudW0gTGlnaHRUeXBlIHtcbiAgICBSb3VuZCwgICAgICAvLyDlnIblvaJcbiAgICBTZWN0b3IsICAgICAvLyDmiYflvaJcbn1cblxubGV0IExpZ2h0Qm91bmQgPSBuZXcgQm91bmQoMCwgMCwgMCwgMCk7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlnaHQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIC8qKiDnlLvnrJQgKi9cbiAgICBAcHJvcGVydHkoY2MuR3JhcGhpY3MpXG4gICAgZ3JhcGhpY3M6IGNjLkdyYXBoaWNzID0gbnVsbDtcbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkVudW0oTGlnaHRUeXBlKX0pXG4gICAgbGlnaHRUeXBlOiBMaWdodFR5cGUgPSAwO1xuXG5cbiAgICBjYW52YXNTaXplOiBjYy5TaXplID0gbnVsbDtcbiAgICB2aXNpYWJsZVNpemU6IGNjLlNpemUgPSBudWxsO1xuXG4gICAgcmFkaXVzID0gMjAwO1xuICAgIGZhZGUgPSAxO1xuXG4gICAgLy8gZ3JhcGhpY3NcbiAgICBwcml2YXRlIF9tYXRlcmlhbDogY2MuTWF0ZXJpYWwgPSBudWxsO1xuXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSB0aGlzLmdyYXBoaWNzLmdldE1hdGVyaWFsKDApO1xuICAgIFxuICAgICAgICB0aGlzLmNhbnZhc1NpemUgPSBjYy52aWV3LmdldENhbnZhc1NpemUoKTtcbiAgICAgICAgdGhpcy52aXNpYWJsZVNpemUgPSBjYy52aWV3LmdldENhbnZhc1NpemUoKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMubm9kZS5zZXRDb250ZW50U2l6ZSh0aGlzLmNhbnZhc1NpemUpO1xuXG4gICAgICAgIHRoaXMuX21hdGVyaWFsLnNldFByb3BlcnR5KFwic2NyZWVuXCIsIGNjLnYyKHRoaXMuY2FudmFzU2l6ZS53aWR0aCwgdGhpcy5jYW52YXNTaXplLmhlaWdodCkpO1xuXG5cbiAgICAgICAgbGV0IHIgPSB0aGlzLnJhZGl1cyAvIHRoaXMuY2FudmFzU2l6ZS53aWR0aDtcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc2V0UHJvcGVydHkoXCJtYXhSYWRpdXNcIiwgcik7XG4gICAgfVxuXG4gICAgXG4gICAgc3RhcnQgKCkge1xuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy5vblRvdWNoTW92ZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMub25Ub3VjaE1vdmUsIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Ub3VjaE1vdmUoZTogY2MuRXZlbnQuRXZlbnRUb3VjaCkge1xuICAgICAgICB0aGlzLm5vZGUueCArPSBlLmdldERlbHRhWCgpO1xuICAgICAgICB0aGlzLm5vZGUueSArPSBlLmdldERlbHRhWSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRCb3VuZCgpIHtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMubm9kZS5nZXRQb3NpdGlvbigpO1xuICAgICAgICBMaWdodEJvdW5kLnggPSBwb3MueC10aGlzLnJhZGl1cy8yOyBMaWdodEJvdW5kLnkgPSBwb3MueS10aGlzLnJhZGl1cy8yOyBcbiAgICAgICAgTGlnaHRCb3VuZC53aWR0aCA9IExpZ2h0Qm91bmQuaGVpZ2h0ID0gdGhpcy5yYWRpdXM7XG4gICAgICAgIHJldHVybiBMaWdodEJvdW5kO1xuICAgIH1cbiAgICBcblxuICAgIC8qKiDnu5jliLblhYkgKi9cbiAgICBwdWJsaWMgZHJhdyhpbnRlcnNlY3Rpb25zOiBJbnRlcnNlY3Rpb25bXSkge1xuICAgICAgICBsZXQgbGlnaHRQb3MgPSB0aGlzLm5vZGUuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5fZG9EcmF3KHRoaXMuZ3JhcGhpY3MsIGxpZ2h0UG9zLCBpbnRlcnNlY3Rpb25zKTtcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc2V0UHJvcGVydHkoXCJsaWdodFBvc1wiLCBjYy52MihsaWdodFBvcy54L3RoaXMudmlzaWFibGVTaXplLndpZHRoLCBsaWdodFBvcy55L3RoaXMudmlzaWFibGVTaXplLmhlaWdodCkpO1xuICAgIH1cblxuICAgIC8qKiDnu5jliLZsaWdodCAqL1xuICAgIHByaXZhdGUgX2RvRHJhdyhncmFwaGljczogY2MuR3JhcGhpY3MsIGxpZ2h0OiBjYy5WZWMyLCBpbnRlcnNlY3RzOiBJbnRlcnNlY3Rpb25bXSkge1xuICAgICAgICBcbiAgICAgICAgZ3JhcGhpY3MuY2xlYXIoKTtcbiAgICAgICAgZ3JhcGhpY3MubW92ZVRvKGludGVyc2VjdHNbMF0ueCwgaW50ZXJzZWN0c1swXS55KTtcbiAgICAgICAgZm9yKGxldCBpPTE7IGk8aW50ZXJzZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGludGVyc2VjdCA9IGludGVyc2VjdHNbaV07XG4gICAgICAgICAgICBncmFwaGljcy5saW5lVG8oaW50ZXJzZWN0LngsIGludGVyc2VjdC55KTtcbiAgICAgICAgfVxuICAgICAgICBncmFwaGljcy5tb3ZlVG8oaW50ZXJzZWN0c1swXS54LCBpbnRlcnNlY3RzWzBdLnkpO1xuICAgICAgICBcbiAgICAgICAgZ3JhcGhpY3MuZmlsbCgpO1xuXG4gICAgICAgIC8vIGZvcihsZXQgaT0wOyBpPGludGVyc2VjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gICAgIGxldCBpbnRlcnNlY3QgPSBpbnRlcnNlY3RzW2ldO1xuICAgICAgICAvLyAgICAgZ3JhcGhpY3MubW92ZVRvKGxpZ2h0LngsIGxpZ2h0LnkpO1xuICAgICAgICAvLyAgICAgZ3JhcGhpY3MubGluZVRvKGludGVyc2VjdC54LCBpbnRlcnNlY3QueSk7XG4gICAgICAgIC8vICAgICBncmFwaGljcy5zdHJva2UoKTtcbiAgICAgICAgLy8gfVxuICAgIH1cbiAgICAgICAgXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UIFunction_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2840dNdtrlLRZJzxqaCbxi3', 'UIFunction_Auto');
// Script/AutoScripts/UIFunction_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIFunction_Auto = /** @class */ (function (_super) {
    __extends(UIFunction_Auto, _super);
    function UIFunction_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Setting = null;
        _this.Skills = null;
        _this.ScrollHelper = null;
        return _this;
    }
    __decorate([
        property(ButtonPlus_1.default)
    ], UIFunction_Auto.prototype, "Setting", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIFunction_Auto.prototype, "Skills", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIFunction_Auto.prototype, "ScrollHelper", void 0);
    UIFunction_Auto = __decorate([
        ccclass
    ], UIFunction_Auto);
    return UIFunction_Auto;
}(cc.Component));
exports.default = UIFunction_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlGdW5jdGlvbl9BdXRvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLGdFQUEwRDtBQUVwRCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUE2QyxtQ0FBWTtJQUF6RDtRQUFBLHFFQVFDO1FBTkEsYUFBTyxHQUFlLElBQUksQ0FBQztRQUUzQixZQUFNLEdBQWUsSUFBSSxDQUFDO1FBRTFCLGtCQUFZLEdBQWUsSUFBSSxDQUFDOztJQUVqQyxDQUFDO0lBTkE7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQztvREFDTTtJQUUzQjtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDO21EQUNLO0lBRTFCO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7eURBQ1c7SUFOWixlQUFlO1FBRG5DLE9BQU87T0FDYSxlQUFlLENBUW5DO0lBQUQsc0JBQUM7Q0FSRCxBQVFDLENBUjRDLEVBQUUsQ0FBQyxTQUFTLEdBUXhEO2tCQVJvQixlQUFlIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgQnV0dG9uUGx1cyBmcm9tIFwiLi8uLi9Db21tb24vQ29tcG9uZW50cy9CdXR0b25QbHVzXCJcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlGdW5jdGlvbl9BdXRvIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdFNldHRpbmc6IEJ1dHRvblBsdXMgPSBudWxsO1xuXHRAcHJvcGVydHkoQnV0dG9uUGx1cylcblx0U2tpbGxzOiBCdXR0b25QbHVzID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdFNjcm9sbEhlbHBlcjogQnV0dG9uUGx1cyA9IG51bGw7XG4gXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/SpinePlus.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '30062r80kNGeKSQLxsTnRWf', 'SpinePlus');
// Script/Common/Components/SpinePlus.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executeInEditMode = _a.executeInEditMode, menu = _a.menu, help = _a.help, inspector = _a.inspector;
var SpinePlus = /** @class */ (function (_super) {
    __extends(SpinePlus, _super);
    function SpinePlus() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.paused = false;
        return _this;
    }
    // onLoad () {}
    SpinePlus.prototype.start = function () {
    };
    SpinePlus.prototype.update = function (dt) {
        if (!CC_EDITOR) {
            _super.prototype.update.call(this, dt);
            return;
        }
        if (this.paused)
            return;
        //@ts-ignore
        cc.engine._animatingInEditMode = 1;
        //@ts-ignore
        cc.engine.animatingInEditMode = 1;
        //@ts-ignore
        dt *= this.timeScale * sp.timeScale;
        // @ts-ignore
        this._updateRealtime(dt);
    };
    __decorate([
        property({ override: true, visible: true })
    ], SpinePlus.prototype, "paused", void 0);
    SpinePlus = __decorate([
        ccclass,
        menu('i18n:MAIN_MENU.component.ui/SpinePlus'),
        executeInEditMode,
        help('app://docs/html/components/spine.html'),
        inspector('packages://custom-inspector/inspector/spine.js')
    ], SpinePlus);
    return SpinePlus;
}(sp.Skeleton));
exports.default = SpinePlus;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvU3BpbmVQbHVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNNLElBQUEsS0FBZ0UsRUFBRSxDQUFDLFVBQVUsRUFBNUUsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFBLEVBQUUsaUJBQWlCLHVCQUFBLEVBQUUsSUFBSSxVQUFBLEVBQUUsSUFBSSxVQUFBLEVBQUUsU0FBUyxlQUFpQixDQUFDO0FBTXBGO0lBQXVDLDZCQUFXO0lBQWxEO1FBQUEscUVBMkJDO1FBeEJHLFlBQU0sR0FBRyxLQUFLLENBQUM7O0lBd0JuQixDQUFDO0lBckJHLGVBQWU7SUFFZix5QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVELDBCQUFNLEdBQU4sVUFBUSxFQUFVO1FBQ2QsSUFBRyxDQUFDLFNBQVMsRUFBRTtZQUNYLGlCQUFNLE1BQU0sWUFBQyxFQUFFLENBQUMsQ0FBQztZQUNqQixPQUFRO1NBQ1g7UUFDRCxJQUFJLElBQUksQ0FBQyxNQUFNO1lBQUUsT0FBTztRQUN4QixZQUFZO1FBQ1osRUFBRSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsR0FBRyxDQUFDLENBQUM7UUFDbkMsWUFBWTtRQUNaLEVBQUUsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLFlBQVk7UUFDWixFQUFFLElBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDO1FBQ3BDLGFBQWE7UUFDYixJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUF2QkQ7UUFEQyxRQUFRLENBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUMsQ0FBQzs2Q0FDM0I7SUFIRSxTQUFTO1FBTDdCLE9BQU87UUFDUCxJQUFJLENBQUMsdUNBQXVDLENBQUM7UUFDN0MsaUJBQWlCO1FBQ2pCLElBQUksQ0FBQyx1Q0FBdUMsQ0FBQztRQUM3QyxTQUFTLENBQUMsZ0RBQWdELENBQUM7T0FDdkMsU0FBUyxDQTJCN0I7SUFBRCxnQkFBQztDQTNCRCxBQTJCQyxDQTNCc0MsRUFBRSxDQUFDLFFBQVEsR0EyQmpEO2tCQTNCb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LCBleGVjdXRlSW5FZGl0TW9kZSwgbWVudSwgaGVscCwgaW5zcGVjdG9yfSA9IGNjLl9kZWNvcmF0b3I7XG5AY2NjbGFzc1xuQG1lbnUoJ2kxOG46TUFJTl9NRU5VLmNvbXBvbmVudC51aS9TcGluZVBsdXMnKVxuQGV4ZWN1dGVJbkVkaXRNb2RlXG5AaGVscCgnYXBwOi8vZG9jcy9odG1sL2NvbXBvbmVudHMvc3BpbmUuaHRtbCcpXG5AaW5zcGVjdG9yKCdwYWNrYWdlczovL2N1c3RvbS1pbnNwZWN0b3IvaW5zcGVjdG9yL3NwaW5lLmpzJylcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwaW5lUGx1cyBleHRlbmRzIHNwLlNrZWxldG9uIHtcblxuICAgIEBwcm9wZXJ0eSh7b3ZlcnJpZGU6IHRydWUsIHZpc2libGU6IHRydWV9KVxuICAgIHBhdXNlZCA9IGZhbHNlO1xuXG5cbiAgICAvLyBvbkxvYWQgKCkge31cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgdXBkYXRlIChkdDogbnVtYmVyKSB7XG4gICAgICAgIGlmKCFDQ19FRElUT1IpIHtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZShkdCk7XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkgcmV0dXJuO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgY2MuZW5naW5lLl9hbmltYXRpbmdJbkVkaXRNb2RlID0gMTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGNjLmVuZ2luZS5hbmltYXRpbmdJbkVkaXRNb2RlID0gMTtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGR0ICo9IHRoaXMudGltZVNjYWxlICogc3AudGltZVNjYWxlO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuX3VwZGF0ZVJlYWx0aW1lKGR0KTtcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/Shake.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '50dd1CK5CZDxKf4hgecFu92', 'Shake');
// Script/Common/Components/Shake.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Shake = /** @class */ (function (_super) {
    __extends(Shake, _super);
    function Shake() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._initial_x = 0;
        _this._initial_y = 0;
        _this._strength_x = 0;
        _this._strength_y = 0;
        return _this;
    }
    Shake_1 = Shake;
    /**
     *  创建抖动动画
     * @param {number} duration     动画持续时长
     * @param {number} strength_x   抖动幅度： x方向
     * @param {number} strength_y   抖动幅度： y方向
     * @returns {Shake}
     */
    Shake.create = function (duration, strength_x, strength_y) {
        var act = new Shake_1();
        act.initWithDuration(duration, strength_x, strength_y);
        return act;
    };
    Shake.prototype.initWithDuration = function (duration, strength_x, strength_y) {
        cc.ActionInterval.prototype['initWithDuration'].apply(this, arguments);
        this._strength_x = strength_x;
        this._strength_y = strength_y;
        return true;
    };
    Shake.prototype.fgRangeRand = function (min, max) {
        var rnd = Math.random();
        return rnd * (max - min) + min;
    };
    Shake.prototype.update = function (time) {
        var randx = this.fgRangeRand(-this._strength_x, this._strength_x);
        var randy = this.fgRangeRand(-this._strength_y, this._strength_y);
        this.getTarget().setPosition(randx + this._initial_x, randy + this._initial_y);
    };
    Shake.prototype.startWithTarget = function (target) {
        cc.ActionInterval.prototype['startWithTarget'].apply(this, arguments);
        this._initial_x = target.x;
        this._initial_y = target.y;
    };
    Shake.prototype.stop = function () {
        this.getTarget().setPosition(new cc.Vec2(this._initial_x, this._initial_y));
        cc.ActionInterval.prototype['stop'].apply(this);
    };
    var Shake_1;
    Shake = Shake_1 = __decorate([
        ccclass
    ], Shake);
    return Shake;
}(cc.ActionInterval));
exports.default = Shake;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvU2hha2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBbUMseUJBQWlCO0lBQXBEO1FBQUEscUVBaURDO1FBOUNXLGdCQUFVLEdBQVksQ0FBQyxDQUFDO1FBQ3hCLGdCQUFVLEdBQVksQ0FBQyxDQUFDO1FBQ3hCLGlCQUFXLEdBQVcsQ0FBQyxDQUFDO1FBQ3hCLGlCQUFXLEdBQVcsQ0FBQyxDQUFDOztJQTJDcEMsQ0FBQztjQWpEb0IsS0FBSztJQVF0Qjs7Ozs7O09BTUc7SUFDVyxZQUFNLEdBQXBCLFVBQXFCLFFBQWUsRUFBQyxVQUFpQixFQUFDLFVBQWlCO1FBQ3BFLElBQUksR0FBRyxHQUFTLElBQUksT0FBSyxFQUFFLENBQUM7UUFDNUIsR0FBRyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDdkQsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRU0sZ0NBQWdCLEdBQXZCLFVBQXdCLFFBQWUsRUFBQyxVQUFpQixFQUFDLFVBQWlCO1FBQ3ZFLEVBQUUsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBQyxTQUFTLENBQUMsQ0FBQztRQUN0RSxJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztRQUM5QixJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztRQUM5QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sMkJBQVcsR0FBbEIsVUFBbUIsR0FBVSxFQUFDLEdBQVU7UUFDcEMsSUFBSSxHQUFHLEdBQVUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQy9CLE9BQU8sR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUNuQyxDQUFDO0lBRU0sc0JBQU0sR0FBYixVQUFjLElBQVc7UUFDckIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2pFLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbEYsQ0FBQztJQUVNLCtCQUFlLEdBQXRCLFVBQXVCLE1BQWM7UUFDakMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLG9CQUFJLEdBQVg7UUFDSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQzNFLEVBQUUsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwRCxDQUFDOztJQWhEZ0IsS0FBSztRQUR6QixPQUFPO09BQ2EsS0FBSyxDQWlEekI7SUFBRCxZQUFDO0NBakRELEFBaURDLENBakRrQyxFQUFFLENBQUMsY0FBYyxHQWlEbkQ7a0JBakRvQixLQUFLIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG4gXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hha2UgZXh0ZW5kcyBjYy5BY3Rpb25JbnRlcnZhbFxue1xuIFxuICAgIHByaXZhdGUgX2luaXRpYWxfeCA6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbF95IDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9zdHJlbmd0aF94OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3N0cmVuZ3RoX3k6IG51bWJlciA9IDA7XG4gXG4gICAgLyoqXG4gICAgICogIOWIm+W7uuaKluWKqOWKqOeUu1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiAgICAg5Yqo55S75oyB57ut5pe26ZW/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoX3ggICDmipbliqjluYXluqbvvJogeOaWueWQkVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJlbmd0aF95ICAg5oqW5Yqo5bmF5bqm77yaIHnmlrnlkJFcbiAgICAgKiBAcmV0dXJucyB7U2hha2V9XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoZHVyYXRpb246bnVtYmVyLHN0cmVuZ3RoX3g6bnVtYmVyLHN0cmVuZ3RoX3k6bnVtYmVyKTogU2hha2Uge1xuICAgICAgICBsZXQgYWN0OlNoYWtlID0gbmV3IFNoYWtlKCk7XG4gICAgICAgIGFjdC5pbml0V2l0aER1cmF0aW9uKGR1cmF0aW9uLCBzdHJlbmd0aF94LCBzdHJlbmd0aF95KTtcbiAgICAgICAgcmV0dXJuIGFjdDtcbiAgICB9XG4gXG4gICAgcHVibGljIGluaXRXaXRoRHVyYXRpb24oZHVyYXRpb246bnVtYmVyLHN0cmVuZ3RoX3g6bnVtYmVyLHN0cmVuZ3RoX3k6bnVtYmVyKSB7XG4gICAgICAgIGNjLkFjdGlvbkludGVydmFsLnByb3RvdHlwZVsnaW5pdFdpdGhEdXJhdGlvbiddLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fc3RyZW5ndGhfeCA9IHN0cmVuZ3RoX3g7XG4gICAgICAgIHRoaXMuX3N0cmVuZ3RoX3kgPSBzdHJlbmd0aF95O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gXG4gICAgcHVibGljIGZnUmFuZ2VSYW5kKG1pbjpudW1iZXIsbWF4Om51bWJlcikge1xuICAgICAgICBsZXQgcm5kOm51bWJlciA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIHJldHVybiBybmQgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICB9XG4gXG4gICAgcHVibGljIHVwZGF0ZSh0aW1lOm51bWJlcikge1xuICAgICAgICBsZXQgcmFuZHggPSB0aGlzLmZnUmFuZ2VSYW5kKC10aGlzLl9zdHJlbmd0aF94LHRoaXMuX3N0cmVuZ3RoX3gpO1xuICAgICAgICBsZXQgcmFuZHkgPSB0aGlzLmZnUmFuZ2VSYW5kKC10aGlzLl9zdHJlbmd0aF95LHRoaXMuX3N0cmVuZ3RoX3kpO1xuICAgICAgICB0aGlzLmdldFRhcmdldCgpLnNldFBvc2l0aW9uKHJhbmR4ICsgdGhpcy5faW5pdGlhbF94LHJhbmR5ICsgdGhpcy5faW5pdGlhbF95KTtcbiAgICB9XG4gXG4gICAgcHVibGljIHN0YXJ0V2l0aFRhcmdldCh0YXJnZXQ6Y2MuTm9kZSkge1xuICAgICAgICBjYy5BY3Rpb25JbnRlcnZhbC5wcm90b3R5cGVbJ3N0YXJ0V2l0aFRhcmdldCddLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbF94ID0gdGFyZ2V0Lng7XG4gICAgICAgIHRoaXMuX2luaXRpYWxfeSA9IHRhcmdldC55O1xuICAgIH1cbiBcbiAgICBwdWJsaWMgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5nZXRUYXJnZXQoKS5zZXRQb3NpdGlvbihuZXcgY2MuVmVjMih0aGlzLl9pbml0aWFsX3gsdGhpcy5faW5pdGlhbF95KSk7XG4gICAgICAgIGNjLkFjdGlvbkludGVydmFsLnByb3RvdHlwZVsnc3RvcCddLmFwcGx5KHRoaXMpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UINavigator_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '27e91DCYAREr6jZLIjA5zmw', 'UINavigator_Auto');
// Script/AutoScripts/UINavigator_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UINavigator_Auto = /** @class */ (function (_super) {
    __extends(UINavigator_Auto, _super);
    function UINavigator_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Scroll = null;
        return _this;
    }
    __decorate([
        property(cc.ScrollView)
    ], UINavigator_Auto.prototype, "Scroll", void 0);
    UINavigator_Auto = __decorate([
        ccclass
    ], UINavigator_Auto);
    return UINavigator_Auto;
}(cc.Component));
exports.default = UINavigator_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlOYXZpZ2F0b3JfQXV0by50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUE4QyxvQ0FBWTtJQUExRDtRQUFBLHFFQUlDO1FBRkEsWUFBTSxHQUFrQixJQUFJLENBQUM7O0lBRTlCLENBQUM7SUFGQTtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDO29EQUNLO0lBRlQsZ0JBQWdCO1FBRHBDLE9BQU87T0FDYSxnQkFBZ0IsQ0FJcEM7SUFBRCx1QkFBQztDQUpELEFBSUMsQ0FKNkMsRUFBRSxDQUFDLFNBQVMsR0FJekQ7a0JBSm9CLGdCQUFnQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSU5hdmlnYXRvcl9BdXRvIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblx0QHByb3BlcnR5KGNjLlNjcm9sbFZpZXcpXG5cdFNjcm9sbDogY2MuU2Nyb2xsVmlldyA9IG51bGw7XG4gXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/AutoScripts/UIHome_Auto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '234c2u0kZdBeKPEjpbkt22t', 'UIHome_Auto');
// Script/AutoScripts/UIHome_Auto.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var ButtonPlus_1 = require("./../Common/Components/ButtonPlus");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIHome_Auto = /** @class */ (function (_super) {
    __extends(UIHome_Auto, _super);
    function UIHome_Auto() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.Logo = null;
        _this.Start = null;
        _this.About = null;
        _this.Back = null;
        return _this;
    }
    __decorate([
        property(cc.Node)
    ], UIHome_Auto.prototype, "Logo", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIHome_Auto.prototype, "Start", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIHome_Auto.prototype, "About", void 0);
    __decorate([
        property(ButtonPlus_1.default)
    ], UIHome_Auto.prototype, "Back", void 0);
    UIHome_Auto = __decorate([
        ccclass
    ], UIHome_Auto);
    return UIHome_Auto;
}(cc.Component));
exports.default = UIHome_Auto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQXV0b1NjcmlwdHMvVUlIb21lX0F1dG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsZ0VBQTBEO0FBRXBELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRTFDO0lBQXlDLCtCQUFZO0lBQXJEO1FBQUEscUVBVUM7UUFSQSxVQUFJLEdBQVksSUFBSSxDQUFDO1FBRXJCLFdBQUssR0FBZSxJQUFJLENBQUM7UUFFekIsV0FBSyxHQUFlLElBQUksQ0FBQztRQUV6QixVQUFJLEdBQWUsSUFBSSxDQUFDOztJQUV6QixDQUFDO0lBUkE7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs2Q0FDRztJQUVyQjtRQURDLFFBQVEsQ0FBQyxvQkFBVSxDQUFDOzhDQUNJO0lBRXpCO1FBREMsUUFBUSxDQUFDLG9CQUFVLENBQUM7OENBQ0k7SUFFekI7UUFEQyxRQUFRLENBQUMsb0JBQVUsQ0FBQzs2Q0FDRztJQVJKLFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0FVL0I7SUFBRCxrQkFBQztDQVZELEFBVUMsQ0FWd0MsRUFBRSxDQUFDLFNBQVMsR0FVcEQ7a0JBVm9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBCdXR0b25QbHVzIGZyb20gXCIuLy4uL0NvbW1vbi9Db21wb25lbnRzL0J1dHRvblBsdXNcIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSUhvbWVfQXV0byBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cdEBwcm9wZXJ0eShjYy5Ob2RlKVxuXHRMb2dvOiBjYy5Ob2RlID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdFN0YXJ0OiBCdXR0b25QbHVzID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdEFib3V0OiBCdXR0b25QbHVzID0gbnVsbDtcblx0QHByb3BlcnR5KEJ1dHRvblBsdXMpXG5cdEJhY2s6IEJ1dHRvblBsdXMgPSBudWxsO1xuIFxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/DebugWindowUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '84e75b8tBhNjY7KyBAgOsH/', 'DebugWindowUtils');
// Script/Common/Utils/DebugWindowUtils.ts

"use strict";
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
Object.defineProperty(exports, "__esModule", { value: true });
function hookCtor(func) {
    return function () {
        var params = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            params[_i] = arguments[_i];
        }
        var result = func.call.apply(func, __spreadArrays([this], params)) || this;
        func['___ins'] = result;
        return result;
    };
}
var DebugWindowUtil = /** @class */ (function () {
    function DebugWindowUtil() {
    }
    DebugWindowUtil.getModuleName = function (modules) {
        if (typeof modules !== 'string') {
            return modules;
        }
        return modules.split('/').pop().split('.')[0];
    };
    DebugWindowUtil.init = function () {
        var require = typeof __modular !== 'undefined' ? __modular : {};
        if (!require || !require.modules) {
            return;
        }
        var installedModules = require.modules;
        var allExports = {};
        function addExports(k, obj, modName) {
            var name = k;
            if (obj && obj.name) {
                name = obj.name;
            }
            if (allExports[k]) {
                return addExports(k + modName, obj, modName);
            }
            var wraped = obj;
            // if(obj.prototype && Object.keys(obj).length > 1 && !wraped.__origin){
            //     wraped = hookCtor(obj);
            //     wraped.__origin = obj;
            //     Object.setPrototypeOf(wraped, obj);
            // }
            allExports[name] = wraped;
            return wraped;
        }
        for (var k in installedModules) {
            var module = installedModules[k];
            var file = module.file;
            var exports = module.module ? module.module.exports : {};
            var modName = this.getModuleName(file);
            for (var k_1 in exports) {
                if (k_1 === '__esModule') {
                    continue;
                }
                else if (k_1 === 'default') {
                    exports[k_1] = addExports(modName, exports[k_1], modName);
                    if (!exports[modName]) {
                        exports[modName] = exports[k_1];
                    }
                }
                else {
                    exports[k_1] = addExports(k_1, exports[k_1], modName);
                }
            }
            window[modName + "_mod"] = exports;
        }
        for (var k in allExports) {
            if (window[k]) {
                continue;
            }
            window[k] = allExports[k];
        }
    };
    return DebugWindowUtil;
}());
exports.default = DebugWindowUtil;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL0RlYnVnV2luZG93VXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsU0FBUyxRQUFRLENBQUMsSUFBYztJQUM1QixPQUFPO1FBQVUsZ0JBQVM7YUFBVCxVQUFTLEVBQVQscUJBQVMsRUFBVCxJQUFTO1lBQVQsMkJBQVM7O1FBQ3RCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLE9BQVQsSUFBSSxrQkFBTSxJQUFJLEdBQUssTUFBTSxNQUFLLElBQUksQ0FBQztRQUNoRCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ3hCLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUMsQ0FBQztBQUNOLENBQUM7QUFDRDtJQUFBO0lBeURBLENBQUM7SUF4RGtCLDZCQUFhLEdBQTVCLFVBQTZCLE9BQWU7UUFDeEMsSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUU7WUFDN0IsT0FBTyxPQUFPLENBQUM7U0FDbEI7UUFDRCxPQUFPLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFDYSxvQkFBSSxHQUFsQjtRQUNJLElBQU0sT0FBTyxHQUFHLE9BQU8sU0FBUyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDbEUsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7WUFDOUIsT0FBTztTQUNWO1FBQ0QsSUFBTSxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQ3pDLElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNwQixTQUFTLFVBQVUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLE9BQU87WUFDL0IsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQ2IsSUFBRyxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksRUFBRTtnQkFDaEIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7YUFDbkI7WUFDRCxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDZixPQUFPLFVBQVUsQ0FBQyxDQUFDLEdBQUcsT0FBTyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQzthQUNoRDtZQUNELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUNqQix3RUFBd0U7WUFDeEUsOEJBQThCO1lBQzlCLDZCQUE2QjtZQUM3QiwwQ0FBMEM7WUFDMUMsSUFBSTtZQUNKLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUM7WUFDMUIsT0FBTyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUVELEtBQUssSUFBSSxDQUFDLElBQUksZ0JBQWdCLEVBQUU7WUFDNUIsSUFBTSxNQUFNLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkMsSUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztZQUN6QixJQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzNELElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekMsS0FBSyxJQUFJLEdBQUMsSUFBSSxPQUFPLEVBQUU7Z0JBQ25CLElBQUksR0FBQyxLQUFLLFlBQVksRUFBRTtvQkFDcEIsU0FBUztpQkFDWjtxQkFBTSxJQUFJLEdBQUMsS0FBSyxTQUFTLEVBQUU7b0JBQ3hCLE9BQU8sQ0FBQyxHQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztvQkFDdEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTt3QkFDbkIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFDLENBQUMsQ0FBQztxQkFDakM7aUJBQ0o7cUJBQU07b0JBQ0gsT0FBTyxDQUFDLEdBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxHQUFDLEVBQUUsT0FBTyxDQUFDLEdBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2lCQUNuRDthQUNKO1lBRUQsTUFBTSxDQUFJLE9BQU8sU0FBTSxDQUFDLEdBQUcsT0FBTyxDQUFDO1NBQ3RDO1FBQ0QsS0FBSyxJQUFJLENBQUMsSUFBSSxVQUFVLEVBQUU7WUFDdEIsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQUUsU0FBUzthQUFFO1lBQzVCLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDN0I7SUFDTCxDQUFDO0lBQ0wsc0JBQUM7QUFBRCxDQXpEQSxBQXlEQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZGVjbGFyZSBjb25zdCBfX21vZHVsYXI7XG5cbmZ1bmN0aW9uIGhvb2tDdG9yKGZ1bmM6IEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5wYXJhbXMpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZ1bmMuY2FsbCh0aGlzLCAuLi5wYXJhbXMpIHx8IHRoaXM7XG4gICAgICAgIGZ1bmNbJ19fX2lucyddID0gcmVzdWx0O1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWJ1Z1dpbmRvd1V0aWwge1xuICAgIHByaXZhdGUgc3RhdGljIGdldE1vZHVsZU5hbWUobW9kdWxlczogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbW9kdWxlcyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2R1bGVzLnNwbGl0KCcvJykucG9wKCkuc3BsaXQoJy4nKVswXTtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBpbml0KCkge1xuICAgICAgICBjb25zdCByZXF1aXJlID0gdHlwZW9mIF9fbW9kdWxhciAhPT0gJ3VuZGVmaW5lZCcgPyBfX21vZHVsYXIgOiB7fTtcbiAgICAgICAgaWYgKCFyZXF1aXJlIHx8ICFyZXF1aXJlLm1vZHVsZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnN0YWxsZWRNb2R1bGVzID0gcmVxdWlyZS5tb2R1bGVzO1xuICAgICAgICBsZXQgYWxsRXhwb3J0cyA9IHt9O1xuICAgICAgICBmdW5jdGlvbiBhZGRFeHBvcnRzKGssIG9iaiwgbW9kTmFtZSkge1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBrO1xuICAgICAgICAgICAgaWYob2JqICYmIG9iai5uYW1lKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IG9iai5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFsbEV4cG9ydHNba10pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkRXhwb3J0cyhrICsgbW9kTmFtZSwgb2JqLCBtb2ROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB3cmFwZWQgPSBvYmo7XG4gICAgICAgICAgICAvLyBpZihvYmoucHJvdG90eXBlICYmIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID4gMSAmJiAhd3JhcGVkLl9fb3JpZ2luKXtcbiAgICAgICAgICAgIC8vICAgICB3cmFwZWQgPSBob29rQ3RvcihvYmopO1xuICAgICAgICAgICAgLy8gICAgIHdyYXBlZC5fX29yaWdpbiA9IG9iajtcbiAgICAgICAgICAgIC8vICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yod3JhcGVkLCBvYmopO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgYWxsRXhwb3J0c1tuYW1lXSA9IHdyYXBlZDtcbiAgICAgICAgICAgIHJldHVybiB3cmFwZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBrIGluIGluc3RhbGxlZE1vZHVsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNba107XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gbW9kdWxlLmZpbGU7XG4gICAgICAgICAgICBjb25zdCBleHBvcnRzID0gbW9kdWxlLm1vZHVsZSA/IG1vZHVsZS5tb2R1bGUuZXhwb3J0cyA6IHt9O1xuICAgICAgICAgICAgY29uc3QgbW9kTmFtZSA9IHRoaXMuZ2V0TW9kdWxlTmFtZShmaWxlKTtcbiAgICAgICAgICAgIGZvciAobGV0IGsgaW4gZXhwb3J0cykge1xuICAgICAgICAgICAgICAgIGlmIChrID09PSAnX19lc01vZHVsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0c1trXSA9IGFkZEV4cG9ydHMobW9kTmFtZSwgZXhwb3J0c1trXSwgbW9kTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXhwb3J0c1ttb2ROYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0c1ttb2ROYW1lXSA9IGV4cG9ydHNba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBleHBvcnRzW2tdID0gYWRkRXhwb3J0cyhrLCBleHBvcnRzW2tdLCBtb2ROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdpbmRvd1tgJHttb2ROYW1lfV9tb2RgXSA9IGV4cG9ydHM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgayBpbiBhbGxFeHBvcnRzKSB7XG4gICAgICAgICAgICBpZiAod2luZG93W2tdKSB7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICB3aW5kb3dba10gPSBhbGxFeHBvcnRzW2tdO1xuICAgICAgICB9XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Components/PropSelector.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '95cf9sVxtJHbIz3btfe766G', 'PropSelector');
// Script/Common/Components/PropSelector.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PropEmum = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, executeInEditMode = _a.executeInEditMode, menu = _a.menu, property = _a.property;
var PropEmum;
(function (PropEmum) {
    PropEmum[PropEmum["Active"] = 0] = "Active";
    PropEmum[PropEmum["Position"] = 1] = "Position";
    PropEmum[PropEmum["Rotation"] = 2] = "Rotation";
    PropEmum[PropEmum["Scale"] = 3] = "Scale";
    PropEmum[PropEmum["Anchor"] = 4] = "Anchor";
    PropEmum[PropEmum["Size"] = 5] = "Size";
    PropEmum[PropEmum["Color"] = 6] = "Color";
    PropEmum[PropEmum["Opacity"] = 7] = "Opacity";
    PropEmum[PropEmum["Slew"] = 8] = "Slew";
    PropEmum[PropEmum["Label_String"] = 9] = "Label_String";
    PropEmum[PropEmum["Sprite_Texture"] = 10] = "Sprite_Texture";
})(PropEmum = exports.PropEmum || (exports.PropEmum = {}));
cc['PropEmum'] = PropEmum;
var ControllerId = cc.Enum({});
var PropSelector = /** @class */ (function (_super) {
    __extends(PropSelector, _super);
    function PropSelector() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ctrlId = 0;
        // 被控制的属性
        _this.props = [];
        return _this;
        // update (dt) {} 
    }
    __decorate([
        property({ type: ControllerId, tooltip: "控制器的名称" })
    ], PropSelector.prototype, "ctrlId", void 0);
    __decorate([
        property({ type: [cc.Enum(PropEmum)], tooltip: "被控制的属性" })
    ], PropSelector.prototype, "props", void 0);
    PropSelector = __decorate([
        ccclass,
        menu('i18n:状态控制/PropSelector'),
        executeInEditMode
    ], PropSelector);
    return PropSelector;
}(cc.Component));
exports.default = PropSelector;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0NvbXBvbmVudHMvUHJvcFNlbGVjdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQStDLEVBQUUsQ0FBQyxVQUFVLEVBQTNELE9BQU8sYUFBQSxFQUFFLGlCQUFpQix1QkFBQSxFQUFFLElBQUksVUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUVuRSxJQUFZLFFBYVg7QUFiRCxXQUFZLFFBQVE7SUFDaEIsMkNBQU0sQ0FBQTtJQUNOLCtDQUFRLENBQUE7SUFDUiwrQ0FBUSxDQUFBO0lBQ1IseUNBQUssQ0FBQTtJQUNMLDJDQUFNLENBQUE7SUFDTix1Q0FBSSxDQUFBO0lBQ0oseUNBQUssQ0FBQTtJQUNMLDZDQUFPLENBQUE7SUFDUCx1Q0FBSSxDQUFBO0lBRUosdURBQVksQ0FBQTtJQUNaLDREQUFjLENBQUE7QUFDbEIsQ0FBQyxFQWJXLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBYW5CO0FBRUQsRUFBRSxDQUFDLFVBQVUsQ0FBQyxHQUFHLFFBQVEsQ0FBQztBQUUxQixJQUFNLFlBQVksR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBS2pDO0lBQTBDLGdDQUFZO0lBQXREO1FBQUEscUVBU0M7UUFORyxZQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsU0FBUztRQUVULFdBQUssR0FBZSxFQUFFLENBQUM7O1FBRXZCLGtCQUFrQjtJQUN0QixDQUFDO0lBTkc7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUMsQ0FBQztnREFDdkM7SUFHWDtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFDLENBQUM7K0NBQ2xDO0lBTk4sWUFBWTtRQUhoQyxPQUFPO1FBQ1AsSUFBSSxDQUFDLHdCQUF3QixDQUFDO1FBQzlCLGlCQUFpQjtPQUNHLFlBQVksQ0FTaEM7SUFBRCxtQkFBQztDQVRELEFBU0MsQ0FUeUMsRUFBRSxDQUFDLFNBQVMsR0FTckQ7a0JBVG9CLFlBQVkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7Y2NjbGFzcywgZXhlY3V0ZUluRWRpdE1vZGUsIG1lbnUsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbmV4cG9ydCBlbnVtIFByb3BFbXVtIHtcbiAgICBBY3RpdmUsXG4gICAgUG9zaXRpb24sXG4gICAgUm90YXRpb24sXG4gICAgU2NhbGUsXG4gICAgQW5jaG9yLFxuICAgIFNpemUsXG4gICAgQ29sb3IsXG4gICAgT3BhY2l0eSxcbiAgICBTbGV3LFxuXG4gICAgTGFiZWxfU3RyaW5nLFxuICAgIFNwcml0ZV9UZXh0dXJlLFxufVxuXG5jY1snUHJvcEVtdW0nXSA9IFByb3BFbXVtO1xuXG5jb25zdCBDb250cm9sbGVySWQgPSBjYy5FbnVtKHt9KTtcblxuQGNjY2xhc3NcbkBtZW51KCdpMThuOueKtuaAgeaOp+WIti9Qcm9wU2VsZWN0b3InKVxuQGV4ZWN1dGVJbkVkaXRNb2RlXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wU2VsZWN0b3IgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIFxuICAgIEBwcm9wZXJ0eSh7dHlwZTogQ29udHJvbGxlcklkLCB0b29sdGlwOiBcIuaOp+WItuWZqOeahOWQjeensFwifSlcbiAgICBjdHJsSWQgPSAwO1xuICAgIC8vIOiiq+aOp+WItueahOWxnuaAp1xuICAgIEBwcm9wZXJ0eSh7dHlwZTogW2NjLkVudW0oUHJvcEVtdW0pXSwgdG9vbHRpcDogXCLooqvmjqfliLbnmoTlsZ7mgKdcIn0pICAgICAgICAgICAgICAgXG4gICAgcHJvcHM6IFByb3BFbXVtW10gPSBbXTsgICAgXG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fSBcbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/EnumUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c0967gbR3dMcbkSIeGpt59T', 'EnumUtils');
// Script/Common/Utils/EnumUtils.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EnumUtils = void 0;
var EnumUtils = /** @class */ (function () {
    function EnumUtils() {
    }
    EnumUtils.getNamesAndValues = function (e) {
        return this.getNames(e).map(function (_name) { return { name: _name, value: e[_name] }; });
    };
    EnumUtils.getNames = function (e) {
        return this.getObjectValues(e).filter(function (v) { return typeof v === "string"; });
    };
    EnumUtils.getValues = function (e) {
        return this.getObjectValues(e).filter(function (v) { return typeof v === "number"; });
    };
    EnumUtils.getObjectValues = function (e) {
        return Object.keys(e).map(function (k) { return e[k]; });
    };
    return EnumUtils;
}());
exports.EnumUtils = EnumUtils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL0VudW1VdGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBZ0JBLENBQUM7SUFmVSwyQkFBaUIsR0FBeEIsVUFBeUIsQ0FBTTtRQUMzQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUEsS0FBSyxJQUFNLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pHLENBQUM7SUFFTSxrQkFBUSxHQUFmLFVBQWdCLENBQU07UUFDbEIsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLE9BQU8sQ0FBQyxLQUFLLFFBQVEsRUFBckIsQ0FBcUIsQ0FBYSxDQUFDO0lBQ2xGLENBQUM7SUFFTSxtQkFBUyxHQUFoQixVQUFpQixDQUFNO1FBQ25CLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxPQUFPLENBQUMsS0FBSyxRQUFRLEVBQXJCLENBQXFCLENBQWEsQ0FBQztJQUNsRixDQUFDO0lBRWMseUJBQWUsR0FBOUIsVUFBK0IsQ0FBTTtRQUNqQyxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFKLENBQUksQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFDTCxnQkFBQztBQUFELENBaEJBLEFBZ0JDLElBQUE7QUFoQlksOEJBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRW51bVV0aWxzIHtcbiAgICBzdGF0aWMgZ2V0TmFtZXNBbmRWYWx1ZXMoZTogYW55KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5hbWVzKGUpLm1hcChfbmFtZSA9PiB7IHJldHVybiB7IG5hbWU6IF9uYW1lLCB2YWx1ZTogZVtfbmFtZV0gYXMgbnVtYmVyIH07IH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXROYW1lcyhlOiBhbnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2JqZWN0VmFsdWVzKGUpLmZpbHRlcih2ID0+IHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSBhcyBzdHJpbmdbXTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VmFsdWVzKGU6IGFueSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPYmplY3RWYWx1ZXMoZSkuZmlsdGVyKHYgPT4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIpIGFzIG51bWJlcltdO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldE9iamVjdFZhbHVlcyhlOiBhbnkpOiAobnVtYmVyIHwgc3RyaW5nKVtdIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChrID0+IGVba10pO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/LRUCache.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2516dDnewNJ2I/vyZM6Z9rJ', 'LRUCache');
// Script/Common/Utils/LRUCache.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LRUCache = void 0;
var Pool_1 = require("./Pool");
var LRUNode = /** @class */ (function () {
    function LRUNode(value, next) {
        this.value = value;
        this.next = next;
    }
    LRUNode.prototype.use = function (value, next) {
        this.value = value;
        this.next = next;
    };
    LRUNode.prototype.free = function () {
        this.value = '';
        this.next = null;
    };
    return LRUNode;
}());
/**
 * @author honmono
 * @description 为UIManager写的 lru cache控制.
 */
var LRUCache = /** @class */ (function () {
    function LRUCache(maxSize) {
        this.nodePool = new Pool_1.Pool(function () {
            return new LRUNode('', null);
        }, 3);
        this.maxSize = maxSize;
        this.head = new LRUNode('head', null);
        this.size = 0;
    }
    LRUCache.prototype.remove = function (value) {
        var node = this.has(value);
        node && this.removeNode(node);
    };
    LRUCache.prototype.put = function (value) {
        if (this.size <= 0) {
            this.last = this.nodePool.alloc(value, null);
            this.last.prev = this.head;
            this.head.next = this.last;
            this.size = 1;
            return;
        }
        var node = this.has(value);
        if (!node) { // 不存在, 直接加到最前面
            node = this.nodePool.alloc(value, null);
            this.addHead(node);
            return;
        }
        // 存在, 把这个node放在最前面
        if (this.last == node) { // 如果当前node就是last, 那么更换last
            this.last = node.prev;
        }
        this.removeNode(node);
        this.addHead(node);
    };
    LRUCache.prototype.needDelete = function () {
        return this.size > this.maxSize;
    };
    LRUCache.prototype.deleteLastNode = function () {
        var value = this.last.value;
        this.removeNode(this.last);
        this.nodePool.free(this.last);
        this.last = this.last.prev;
        return value;
    };
    LRUCache.prototype.removeNode = function (node) {
        node.prev.next = node.next;
        if (node.next) {
            node.next.prev = node.prev;
        }
        this.size--;
    };
    /** 向头部插入一个node */
    LRUCache.prototype.addHead = function (node) {
        node.next = this.head.next;
        if (node.next) {
            node.next.prev = node;
        }
        this.head.next = node;
        node.prev = this.head;
        this.size++;
    };
    LRUCache.prototype.has = function (value) {
        var next = this.head.next;
        while (next) {
            if (next.value == value) {
                return next;
            }
            next = next.next;
        }
        return null;
    };
    LRUCache.prototype.toString = function () {
        var str = '';
        var next = this.head.next;
        while (next) {
            str += next.value + " ";
            next = next.next;
        }
        return str;
    };
    return LRUCache;
}());
exports.LRUCache = LRUCache;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL0xSVUNhY2hlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUFxQztBQUVyQztJQUlJLGlCQUFZLEtBQWEsRUFBRSxJQUFhO1FBQ3BDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxxQkFBRyxHQUFILFVBQUksS0FBYSxFQUFFLElBQWE7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELHNCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0lBQ0wsY0FBQztBQUFELENBbEJBLEFBa0JDLElBQUE7QUFHRDs7O0dBR0c7QUFDSDtJQVVJLGtCQUFZLE9BQWU7UUFIbkIsYUFBUSxHQUFrQixJQUFJLFdBQUksQ0FBVTtZQUNoRCxPQUFPLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBRU0seUJBQU0sR0FBYixVQUFjLEtBQWE7UUFDdkIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixJQUFJLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJ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RCxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztTQUNwQjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSwyQkFBUSxHQUFmO1FBQ0ksSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDMUIsT0FBTSxJQUFJLEVBQUU7WUFDUixHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7WUFDeEIsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7U0FDcEI7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0E5RkEsQUE4RkMsSUFBQTtBQTlGWSw0QkFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElQb29sLCBQb29sIH0gZnJvbSBcIi4vUG9vbFwiO1xuXG5jbGFzcyBMUlVOb2RlIGltcGxlbWVudHMgSVBvb2wge1xuICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgcHJldjogTFJVTm9kZTsgICAgICAgICAgLy8g5YmN6Z2i55qEXG4gICAgbmV4dDogTFJVTm9kZTsgICAgICAgICAgLy8g5ZCO6Z2i55qEXG4gICAgY29uc3RydWN0b3IodmFsdWU6IHN0cmluZywgbmV4dDogTFJVTm9kZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgfVxuXG4gICAgdXNlKHZhbHVlOiBzdHJpbmcsIG5leHQ6IExSVU5vZGUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgIH1cblxuICAgIGZyZWUoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSAnJztcbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBAYXV0aG9yIGhvbm1vbm9cbiAqIEBkZXNjcmlwdGlvbiDkuLpVSU1hbmFnZXLlhpnnmoQgbHJ1IGNhY2hl5o6n5Yi2LlxuICovXG5leHBvcnQgY2xhc3MgTFJVQ2FjaGUge1xuICAgIHB1YmxpYyBtYXhTaXplOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIGhlYWQ6IExSVU5vZGU7XG4gICAgcHJpdmF0ZSBsYXN0OiBMUlVOb2RlO1xuICAgIHByaXZhdGUgc2l6ZTogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSBub2RlUG9vbDogUG9vbDxMUlVOb2RlPiA9IG5ldyBQb29sPExSVU5vZGU+KCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBMUlVOb2RlKCcnLCBudWxsKTtcbiAgICB9LCAzKTtcbiAgICBjb25zdHJ1Y3RvcihtYXhTaXplOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5tYXhTaXplID0gbWF4U2l6ZTtcbiAgICAgICAgdGhpcy5oZWFkID0gbmV3IExSVU5vZGUoJ2hlYWQnLCBudWxsKTtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmhhcyh2YWx1ZSk7XG4gICAgICAgIG5vZGUgJiYgdGhpcy5yZW1vdmVOb2RlKG5vZGUpO1xuICAgIH1cbiAgICAgICAgXG4gICAgcHVibGljIHB1dCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmKHRoaXMuc2l6ZSA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSB0aGlzLm5vZGVQb29sLmFsbG9jKHZhbHVlLCBudWxsKTtcbiAgICAgICAgICAgIHRoaXMubGFzdC5wcmV2ID0gdGhpcy5oZWFkO1xuICAgICAgICAgICAgdGhpcy5oZWFkLm5leHQgPSB0aGlzLmxhc3Q7XG4gICAgICAgICAgICB0aGlzLnNpemUgPSAxO1xuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuaGFzKHZhbHVlKTtcbiAgICAgICAgaWYoIW5vZGUpIHsgICAgIC8vIOS4jeWtmOWcqCwg55u05o6l5Yqg5Yiw5pyA5YmN6Z2iXG4gICAgICAgICAgICBub2RlID0gdGhpcy5ub2RlUG9vbC5hbGxvYyh2YWx1ZSwgbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmFkZEhlYWQobm9kZSk7XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG4gICAgICAgIC8vIOWtmOWcqCwg5oqK6L+Z5Liqbm9kZeaUvuWcqOacgOWJjemdolxuICAgICAgICBpZih0aGlzLmxhc3QgPT0gbm9kZSkgeyAvLyDlpoLmnpzlvZPliY1ub2Rl5bCx5pivbGFzdCwg6YKj5LmI5pu05o2ibGFzdFxuICAgICAgICAgICAgdGhpcy5sYXN0ID0gbm9kZS5wcmV2O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlTm9kZShub2RlKTtcbiAgICAgICAgdGhpcy5hZGRIZWFkKG5vZGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBuZWVkRGVsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplID4gdGhpcy5tYXhTaXplO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWxldGVMYXN0Tm9kZSgpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5sYXN0LnZhbHVlO1xuICAgICAgICB0aGlzLnJlbW92ZU5vZGUodGhpcy5sYXN0KTtcbiAgICAgICAgdGhpcy5ub2RlUG9vbC5mcmVlKHRoaXMubGFzdCk7XG4gICAgICAgIHRoaXMubGFzdCA9IHRoaXMubGFzdC5wcmV2O1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVOb2RlKG5vZGU6IExSVU5vZGUpIHtcbiAgICAgICAgbm9kZS5wcmV2Lm5leHQgPSBub2RlLm5leHQ7XG4gICAgICAgIGlmKG5vZGUubmV4dCkge1xuICAgICAgICAgICAgbm9kZS5uZXh0LnByZXYgPSBub2RlLnByZXY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaXplIC0tO1xuICAgIH1cblxuICAgIC8qKiDlkJHlpLTpg6jmj5LlhaXkuIDkuKpub2RlICovXG4gICAgcHJpdmF0ZSBhZGRIZWFkKG5vZGU6IExSVU5vZGUpIHtcbiAgICAgICAgbm9kZS5uZXh0ID0gdGhpcy5oZWFkLm5leHQ7XG4gICAgICAgIGlmKG5vZGUubmV4dCkge1xuICAgICAgICAgICAgbm9kZS5uZXh0LnByZXYgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGVhZC5uZXh0ID0gbm9kZTtcbiAgICAgICAgbm9kZS5wcmV2ID0gdGhpcy5oZWFkO1xuICAgICAgICB0aGlzLnNpemUgKys7XG4gICAgfVxuXG4gICAgcHVibGljIGhhcyh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBuZXh0ID0gdGhpcy5oZWFkLm5leHQ7XG4gICAgICAgIHdoaWxlKG5leHQpIHtcbiAgICAgICAgICAgIGlmKG5leHQudmFsdWUgPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgc3RyID0gJyc7XG4gICAgICAgIGxldCBuZXh0ID0gdGhpcy5oZWFkLm5leHQ7XG4gICAgICAgIHdoaWxlKG5leHQpIHtcbiAgICAgICAgICAgIHN0ciArPSBuZXh0LnZhbHVlICsgXCIgXCI7XG4gICAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/GlobalHelper.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '97861Bw45RARLIDvaYH8CIV', 'GlobalHelper');
// Script/Common/Utils/GlobalHelper.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GlobalHelper = /** @class */ (function () {
    function GlobalHelper() {
    }
    GlobalHelper.Register = function (name, inst) {
        GlobalHelper[name] = inst;
    };
    GlobalHelper.Get = function (name) {
        return GlobalHelper._globalMap[name] ? GlobalHelper._globalMap[name] : undefined;
    };
    GlobalHelper._globalMap = {};
    return GlobalHelper;
}());
exports.default = GlobalHelper;
window["GlobalHelper"] = GlobalHelper;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL0dsb2JhbEhlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUFRQSxDQUFDO0lBTmlCLHFCQUFRLEdBQXRCLFVBQXVCLElBQVksRUFBRSxJQUFTO1FBQzFDLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDOUIsQ0FBQztJQUNhLGdCQUFHLEdBQWpCLFVBQXFCLElBQVk7UUFDN0IsT0FBTyxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDMUYsQ0FBQztJQU5jLHVCQUFVLEdBQXlCLEVBQUUsQ0FBQztJQU96RCxtQkFBQztDQVJELEFBUUMsSUFBQTtrQkFSb0IsWUFBWTtBQVVqQyxNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsWUFBWSxDQUFDIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2xvYmFsSGVscGVyIHtcbiAgICBwcml2YXRlIHN0YXRpYyBfZ2xvYmFsTWFwOiB7IFtrOiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuICAgIHB1YmxpYyBzdGF0aWMgUmVnaXN0ZXIobmFtZTogc3RyaW5nLCBpbnN0OiBhbnkpIHtcbiAgICAgICAgR2xvYmFsSGVscGVyW25hbWVdID0gaW5zdDtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBHZXQ8VD4obmFtZTogc3RyaW5nKTogVCB7XG4gICAgICAgIHJldHVybiBHbG9iYWxIZWxwZXIuX2dsb2JhbE1hcFtuYW1lXSA/IEdsb2JhbEhlbHBlci5fZ2xvYmFsTWFwW25hbWVdIGFzIFQgOiB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG53aW5kb3dbXCJHbG9iYWxIZWxwZXJcIl0gPSBHbG9iYWxIZWxwZXI7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/Measure.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '88f3djvTDJHMY+UnVZdcrvg', 'Measure');
// Script/Common/Utils/Measure.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.measure = void 0;
var measure = function (target, propertyKey, descriptor) {
    var originalMethod = descriptor.value;
    descriptor.value = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var start = performance.now();
        var result = originalMethod.apply(this, args);
        var finish = performance.now();
        console.log(propertyKey + " Execution time: " + (finish - start).toFixed(2) + " milliseconds");
        return result;
    };
    return descriptor;
};
exports.measure = measure;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL01lYXN1cmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU8sSUFBTSxPQUFPLEdBQUcsVUFDckIsTUFBYyxFQUNkLFdBQW1CLEVBQ25CLFVBQThCO0lBRTlCLElBQU0sY0FBYyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUM7SUFFeEMsVUFBVSxDQUFDLEtBQUssR0FBRztRQUFVLGNBQU87YUFBUCxVQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPO1lBQVAseUJBQU87O1FBQ2xDLElBQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNoQyxJQUFNLE1BQU0sR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRCxJQUFNLE1BQU0sR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDakMsT0FBTyxDQUFDLEdBQUcsQ0FBSSxXQUFXLHlCQUFvQixDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGtCQUFlLENBQUMsQ0FBQztRQUMxRixPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDLENBQUM7SUFFRixPQUFPLFVBQVUsQ0FBQztBQUNwQixDQUFDLENBQUM7QUFoQlcsUUFBQSxPQUFPLFdBZ0JsQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBtZWFzdXJlID0gKFxuICB0YXJnZXQ6IE9iamVjdCxcbiAgcHJvcGVydHlLZXk6IHN0cmluZyxcbiAgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yXG4pID0+IHtcbiAgY29uc3Qgb3JpZ2luYWxNZXRob2QgPSBkZXNjcmlwdG9yLnZhbHVlO1xuXG4gIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgcmVzdWx0ID0gb3JpZ2luYWxNZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgY29uc3QgZmluaXNoID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc29sZS5sb2coYCR7cHJvcGVydHlLZXl9IEV4ZWN1dGlvbiB0aW1lOiAkeyhmaW5pc2ggLSBzdGFydCkudG9GaXhlZCgyKX0gbWlsbGlzZWNvbmRzYCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICByZXR1cm4gZGVzY3JpcHRvcjtcbn07Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/DrawingBoard.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '54b2dNYr/FCsJ51TWLTWJoT', 'DrawingBoard');
// Script/Common/Utils/DrawingBoard.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * 画板：
 * 可使用任意颜色绘制矩形，三角形，圆，直线，并统计每种颜色的像素个数;
 * 擦除图案时，设置画板的颜色为透明色再进行绘制即可;
 * 使用的坐标系为原点在左上角，X轴向右为正，Y轴向下为正。
 */
var DrawingBoard = /** @class */ (function () {
    /**
     * 可对每个像素点绘制的画板，画板使用的坐标系原点为左下角，X轴向右为正，Y轴向上为正
     * @param width     画板宽度
     * @param height    画板高度
     * @param data      指定画板初始内容，参数为记录颜色分量的一维数组，不传入参数时，画板中全部像素为透明
     */
    function DrawingBoard(width, height, data) {
        this.init(width, height, data);
    }
    Object.defineProperty(DrawingBoard.prototype, "width", {
        /**画板宽度 */
        get: function () { return this._witdh; },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DrawingBoard.prototype, "height", {
        /**画板高度 */
        get: function () { return this._height; },
        enumerable: false,
        configurable: true
    });
    /**
     * 对画板进行初始化，会清空已绘制的所有内容
     * @param width     画板宽度
     * @param height    画板高度
     * @param data      指定画板初始内容，参数为记录颜色分量的一维数组，不传入参数时，画板内容为全部透明的矩形
     */
    DrawingBoard.prototype.init = function (width, height, data) {
        this.tempColor = this.tempR = this.tempG = this.tempB = this.tempA = 0;
        this.curColor = 0;
        this._witdh = Math.round(width);
        this._height = Math.round(height);
        this.initPointColor();
        this.initPixelColor();
        this.initLineData();
        if (!!data) {
            this.setData(data);
        }
    };
    DrawingBoard.prototype.initPointColor = function () {
        if (!this.pointColor) {
            this.pointColor = [];
        }
        for (var x = 0; x < this.width; ++x) {
            if (!this.pointColor[x]) {
                this.pointColor[x] = [];
            }
            for (var y = 0; y < this.height; ++y) {
                this.pointColor[x][y] = 0;
            }
        }
        this.colorCount = {};
        this.colorCount[0] = this.width * this.height;
    };
    DrawingBoard.prototype.initPixelColor = function () {
        this.buffer = new ArrayBuffer(this.width * this.height * 4);
        this.pixelColor = new Uint8Array(this.buffer);
        this.pixelColor.fill(0);
    };
    /**重置画板，画板的宽高不变，但会清空已绘制的所有内容，恢复至透明状态 */
    DrawingBoard.prototype.reset = function () {
        this.resetPointColor();
        this.resetPixelColor();
    };
    DrawingBoard.prototype.resetPointColor = function () {
        for (var x = this.width - 1; x >= 0; --x) {
            for (var y = this.height - 1; y >= 0; --y) {
                this.pointColor[x][y] = 0;
            }
        }
        for (var key in this.colorCount) {
            this.colorCount[key] = 0;
        }
    };
    DrawingBoard.prototype.resetPixelColor = function () {
        this.pixelColor.fill(0);
    };
    /**
     * 传入图像的像素数据，直接设置画板的内容，图像尺寸必须与画板一致，若需要重新设置画板大小，请使用 init() 函数
     * @param data 记录各像素颜色分量的一维数组
     */
    DrawingBoard.prototype.setData = function (data) {
        var pixelData = new Uint8Array(data);
        if (pixelData.length != this.width * this.height * 4) {
            console.warn("画板设置数据失败，数据长度与画板大小不一致。");
            // return;
            pixelData = pixelData.subarray(0, this.width * this.height * 4);
        }
        this.setPixelColorByRGBA(pixelData);
        this.setPointColorByRGBA(pixelData);
    };
    /**
     * 记录各像素颜色分量
     * @param data 颜色分量一维数组
     */
    DrawingBoard.prototype.setPixelColorByRGBA = function (data) {
        this.pixelColor.set(data);
    };
    /**
     * 按像素点的坐标记录像素点的颜色值
     * @param data 颜色分量一维数组
     */
    DrawingBoard.prototype.setPointColorByRGBA = function (data) {
        this.colorCount = {};
        for (var y = 0; y < this.height; ++y) {
            var i = y * this.width * 4;
            for (var x = 0; x < this.width; ++x) {
                var color = this.convertToNumber(data[i++], data[i++], data[i++], data[i++]);
                this.pointColor[x][y] = color;
                if (!this.colorCount[color]) {
                    this.colorCount[color] = 1;
                }
                else {
                    this.colorCount[color] += 1;
                }
            }
        }
    };
    /**
     * 获取画板中的数据
     * @param data 用于接收数据的数组
     * @returns {number[]} 返回存储各像素点颜色分量的一维数组
     */
    DrawingBoard.prototype.copyData = function (data) {
        if (undefined === data) {
            data = [];
        }
        for (var i = 0, count = this.pixelColor.length; i < count; ++i) {
            data[i] = this.pixelColor[i];
        }
        return data;
    };
    /**
     * 获取画板中记录每个像素的颜色分量的数据
     * @returns 将直接返回画板内部的数组；注：若使用者需要对该数据进行修改，请使用 copyData 方法获取，以免影响画板的像素个数计数功能
     */
    DrawingBoard.prototype.getData = function () {
        return this.pixelColor;
    };
    /**获取画板内部使用的内存块，若仅需要获取像素数据，不进一步处理，使用 getData 即可 */
    DrawingBoard.prototype.getBuffer = function () {
        return this.buffer;
    };
    /**
     * 获取指定颜色的像素的个数
     * @param r 颜色的r分量
     * @param g 颜色的g分量
     * @param b 颜色的b分量
     * @param a 颜色透明度，默认为255
     */
    DrawingBoard.prototype.getColorCount = function (r, g, b, a) {
        if (a === void 0) { a = 255; }
        var c = this.convertToNumber(r, g, b, a);
        return this.colorCount[c];
    };
    /**
     * 设置画板绘制图案使使用的颜色
     * @param r 包含RGBA分量的颜色对象，或者颜色的r分量
     * @param g 颜色的g分量
     * @param b 颜色的b分量
     * @param a 颜色透明度，默认为255
     */
    DrawingBoard.prototype.setColor = function (r, g, b, a) {
        if (a === void 0) { a = 255; }
        this.curColor = this.convertToNumber(r, g, b, a);
        if (!this.colorCount[this.curColor]) {
            this.colorCount[this.curColor] = 0;
        }
        this.tempColor = this.curColor;
        this.tempR = r;
        this.tempG = g;
        this.tempB = b;
        this.tempA = a;
    };
    /**清空所有已绘制的内容 */
    DrawingBoard.prototype.clear = function () {
        this.reset();
    };
    DrawingBoard.prototype.initLineData = function () {
        this.previousLineEndPos = new Vec2();
        this.previousLineEndPosT = new Vec2();
        this.previousLineEndPosB = new Vec2();
        this.previousLineCircleEnd = true;
        this.previousLineWidth = 1;
    };
    /**
     * 移动画笔到指定的位置，调用 lineTo 函数时将使用该点作为直线的起点
     * @param x     坐标X
     * @param y     坐标Y
     */
    DrawingBoard.prototype.moveTo = function (x, y) {
        x = Math.round(x);
        y = Math.round(y);
        this.previousLineEndPos.set(x, y);
        this.previousLineEndPosT.set(x, y);
        this.previousLineEndPosB.set(x, y);
    };
    /**
     * 设置线宽
     */
    DrawingBoard.prototype.setLineWidth = function (w) {
        this.previousLineWidth = w;
    };
    /**
     * 设置线段端点样式
     * @param b 线段端点是否为圆形
     */
    DrawingBoard.prototype.setLineCircleEnd = function (b) {
        this.previousLineCircleEnd = b;
    };
    /**
     * 绘制直线，使用默认的颜色、线宽和线段端点样式
     * @param x1        起点坐标X
     * @param y1        起点坐标Y
     * @param x2        终点坐标X
     * @param y2        终点坐标Y
     */
    DrawingBoard.prototype.line = function (x1, y1, x2, y2) {
        x1 = Math.round(x1);
        x2 = Math.round(x2);
        y1 = Math.round(y1);
        y2 = Math.round(y2);
        if (x1 == x2 && y1 == y2)
            return;
        var width = this.previousLineWidth;
        var circleEnd = this.previousLineCircleEnd;
        this.previousLineEndPos.set(x2, y2);
        var offsetX = 0;
        var offsetY = 0;
        var rateK = 1;
        if (x1 == x2) {
            offsetX = Math.round(width * 0.5);
        }
        else if (y1 == y2) {
            offsetY = Math.round(width * 0.5);
        }
        else {
            var k = (y2 - y1) / (x2 - x1);
            rateK = Math.sqrt(k * k + 1);
            offsetY = width * 0.5 / rateK;
            offsetX = Math.round(offsetY * k);
            offsetY = Math.round(offsetY);
        }
        this.previousLineEndPosT.set(x2 - offsetX, y2 + offsetY);
        this.previousLineEndPosB.set(x2 + offsetX, y2 - offsetY);
        var p1 = new Vec2(x1, y1);
        var p2 = new Vec2(x2, y2);
        if (x1 > x2) {
            p1.x = x2;
            p1.y = y2;
            p2.x = x1;
            p2.y = y1;
        }
        this._drawLine(p1, p2, width, offsetX, offsetY, rateK);
        if (circleEnd) {
            this._drawCircle(x1, y1, width * 0.5);
            this._drawCircle(x2, y2, width * 0.5);
        }
    };
    /**
     * 绘制到指定坐标的直线，起点为上一次绘制的直线的终点，使用默认的颜色、宽度和线段端点样式
     * @param x     终点坐标X
     * @param y     终点坐标Y
     */
    DrawingBoard.prototype.lineTo = function (x, y) {
        x = Math.round(x);
        y = Math.round(y);
        if (this.previousLineEndPos.x == x && this.previousLineEndPos.y == y)
            return;
        var width = this.previousLineWidth;
        var circleEnd = this.previousLineCircleEnd;
        var x1 = this.previousLineEndPos.x;
        var y1 = this.previousLineEndPos.y;
        var x2 = x;
        var y2 = y;
        if (x1 > x2) {
            x1 = x2;
            y1 = y2;
            x2 = this.previousLineEndPos.x;
            y2 = this.previousLineEndPos.y;
        }
        var offsetX = 0;
        var offsetY = 0;
        var rateK = 1;
        if (x1 == x2) {
            offsetX = Math.round(width * 0.5);
        }
        else if (y1 == y2) {
            offsetY = Math.round(width * 0.5);
        }
        else {
            var k = (y2 - y1) / (x2 - x1);
            rateK = Math.sqrt(k * k + 1);
            offsetY = width * 0.5 / rateK;
            offsetX = Math.round(offsetY * k);
            offsetY = Math.round(offsetY);
        }
        if (!circleEnd) {
            if (this.previousLineEndPos.x != this.previousLineEndPosT.x
                || this.previousLineEndPos.y != this.previousLineEndPosT.y) {
                var p1 = new Vec2(this.previousLineEndPos.x - offsetX, this.previousLineEndPos.y + offsetY);
                var p2 = new Vec2(this.previousLineEndPos.x + offsetX, this.previousLineEndPos.y - offsetY);
                this._drawTriangle([p1, p2, this.previousLineEndPosT]);
                this._drawTriangle([p1, p2, this.previousLineEndPosB]);
            }
        }
        else {
            this._drawCircle(x1, y1, width * 0.5);
            this._drawCircle(x2, y2, width * 0.5);
        }
        this._drawLine(new Vec2(x1, y1), new Vec2(x2, y2), width, offsetX, offsetY, rateK);
        this.previousLineEndPos.set(x, y);
        this.previousLineEndPosT.set(x - offsetX, y + offsetY);
        this.previousLineEndPosB.set(x + offsetX, y - offsetY);
    };
    /**
     * 绘制直线，不包含线段端点样式
     * @param p1        线段起点坐标
     * @param p2        线段终点坐标
     * @param width     线段宽度
     * @param color     线段颜色
     */
    DrawingBoard.prototype._drawLine = function (p1, p2, width, offsetX, offsetY, slopeRate) {
        if (p1.y == p2.y) {
            //水平直线
            var x = p1.x < p2.x ? p1.x : p2.x;
            this._drawRect(new Vec2(x, Math.round(p1.y - width * 0.5)), Math.abs(p1.x - p2.x), width);
        }
        else if (p1.x == p2.x) {
            //垂直直线
            var y = p1.y < p2.y ? p1.y : p2.y;
            this._drawRect(new Vec2(Math.round(p1.x - width * 0.5), y), width, Math.abs(p1.y - p2.y));
        }
        else {
            //倾斜直线
            var inverseK = (p1.x - p2.x) / (p1.y - p2.y);
            var p1t = new Vec2(p1.x - offsetX, p1.y + offsetY);
            var p1b = new Vec2(p1.x + offsetX, p1.y - offsetY);
            var p2t = new Vec2(p2.x - offsetX, p2.y + offsetY);
            var p2b = new Vec2(p2.x + offsetX, p2.y - offsetY);
            var p1c = new Vec2();
            var p2c = new Vec2();
            var height = Math.round(width * slopeRate);
            if (p2.y > p1.y) {
                if (p1b.x < p2t.x) {
                    p1c.x = p1b.x;
                    p1c.y = p1b.y + height;
                    p2c.x = p2t.x;
                    p2c.y = p2t.y - height;
                    this._drawVerticalTriangle(p1c, p1b, p1t);
                    this._drawParallelogram(p1b, p2c, height);
                    this._drawVerticalTriangle(p2t, p2c, p2b);
                }
                else {
                    p1c.x = p1b.x;
                    p1c.y = Math.round(p2t.y - (p1c.x - p2t.x) * inverseK);
                    p2c.x = p2t.x;
                    p2c.y = Math.round(p1b.y + (p1b.x - p2c.x) * inverseK);
                    this._drawVerticalTriangle(p2t, p2c, p1t);
                    this._drawParallelogram(p2c, p1b, p2t.y - p2c.y);
                    this._drawVerticalTriangle(p1c, p1b, p2b);
                }
            }
            else {
                if (p1t.x < p2b.x) {
                    p1c.x = p1t.x;
                    p1c.y = p1t.y - height;
                    p2c.x = p2b.x;
                    p2c.y = p2b.y + height;
                    this._drawVerticalTriangle(p1t, p1c, p1b);
                    this._drawParallelogram(p1c, p2b, height);
                    this._drawVerticalTriangle(p2c, p2b, p2t);
                }
                else {
                    p1c.x = p1t.x;
                    p1c.y = Math.round(p2b.y - (p1c.x - p2b.x) * inverseK);
                    p2c.x = p2b.x;
                    p2c.y = Math.round(p1t.y + (p1t.x - p2c.x) * inverseK);
                    this._drawVerticalTriangle(p2c, p2b, p1b);
                    this._drawParallelogram(p2b, p1c, p1t.y - p1c.y);
                    this._drawVerticalTriangle(p1t, p1c, p2t);
                }
            }
        }
    };
    /**
     * 绘制矩形
     * @param x     矩形左下角的坐标X
     * @param y     矩形左下角的坐标Y
     * @param w     矩形宽度
     * @param h     矩形高度
     */
    DrawingBoard.prototype.rect = function (x, y, w, h) {
        this._drawRect(new Vec2(x, y), w, h);
    };
    /**
     * 绘制矩形
     * @param p         矩形左下顶点的坐标
     * @param w         矩形宽度
     * @param h         矩形高度
     * @param color     矩形填充的颜色
     */
    DrawingBoard.prototype._drawRect = function (p, w, h) {
        var minX = this.clampX(p.x);
        var maxX = this.clampX(p.x + w);
        var minY = this.clampY(p.y);
        var maxY = this.clampY(p.y + h);
        // for (let x = minX; x <= maxX; ++x) {
        //     for (let y = minY; y <= maxY; ++y) {
        //         this._drawPixel(x, y);
        //     }
        // }
        for (var y = minY; y <= maxY; ++y) {
            this._drawRowPixel(minX, maxX, y);
        }
    };
    /**
     * 绘制平行四边形，平行四边形的左右两边与Y轴平行
     * @param p1        左下顶点坐标
     * @param p2        右下顶点坐标
     * @param height    垂直边高度
     * @param color     颜色
     */
    DrawingBoard.prototype._drawParallelogram = function (p1, p2, height) {
        if (p1.x == p2.x)
            return;
        var k = (p2.y - p1.y) / (p2.x - p1.x);
        var minX = this._minX(p1.x);
        var maxX = this._maxX(p2.x);
        for (var x = minX; x <= maxX; ++x) {
            var minY = p1.y + Math.round((x - p1.x) * k);
            var maxY = minY + height;
            minY = this._minY(minY);
            maxY = this._maxY(maxY);
            this._drawColPixel(minY, maxY, x);
            // for (let y = minY; y <= maxY; ++y) {
            //     this._drawPixel(x, y);
            // }
        }
    };
    /**
     * 绘制三角形
     * @param x1    顶点1坐标X
     * @param y1    顶点1坐标Y
     * @param x2    顶点2坐标X
     * @param y2    顶点2坐标Y
     * @param x3    顶点3坐标X
     * @param y3    顶点3坐标Y
     */
    DrawingBoard.prototype.triangle = function (x1, y1, x2, y2, x3, y3) {
        var pList = [];
        pList.push(new Vec2(x1, y1));
        pList.push(new Vec2(x2, y2));
        pList.push(new Vec2(x3, y3));
        this._drawTriangle(pList);
    };
    /**
     * 绘制任意三角形
     * @param p1    顶点坐标
     * @param p2
     * @param p3
     * @param color 填充颜色
     */
    DrawingBoard.prototype._drawTriangle = function (pList) {
        pList.sort(function (a, b) {
            return a.x - b.x;
        });
        var p1 = pList[0];
        var p2 = pList[1];
        var p3 = pList[2];
        if (p1.x == p2.x) {
            if (p1.x == p3.x)
                return;
            if (p1.y < p2.y) {
                p1 = pList[1];
                p2 = pList[0];
            }
            this._drawVerticalTriangle(p1, p2, p3);
            return;
        }
        var k = (p3.y - p1.y) / (p3.x - p1.x);
        var p4 = new Vec2(p2.x, Math.round(p1.y + (p2.x - p1.x) * k));
        if (p4.y == p2.y)
            return;
        if (p4.y < p2.y) {
            this._drawVerticalTriangle(p2, p4, p1);
            this._drawVerticalTriangle(p2, p4, p3);
        }
        else {
            this._drawVerticalTriangle(p4, p2, p1);
            this._drawVerticalTriangle(p4, p2, p3);
        }
    };
    /**
     * 绘制一条边与Y轴平行的三角形
     * @param p1    三角形垂直边的 上 顶点坐标
     * @param p2    三角形垂直边的 下 顶点坐标
     * @param p3    三角形 左侧或右侧 顶点坐标
     * @param color 要绘制的颜色
     */
    DrawingBoard.prototype._drawVerticalTriangle = function (p1, p2, p3) {
        if (p3.x == p1.x)
            return;
        var k1 = (p3.y - p1.y) / (p3.x - p1.x);
        var k2 = (p3.y - p2.y) / (p3.x - p2.x);
        var maxX = p3.x, minX = p1.x;
        if (maxX < minX) {
            maxX = p1.x;
            minX = p3.x;
        }
        minX = this._minX(minX);
        maxX = this._maxX(maxX);
        for (var x = minX; x <= maxX; ++x) {
            var maxY = this.clampY(Math.round(p1.y + (x - p1.x) * k1));
            var minY = this.clampY(Math.round(p2.y + (x - p2.x) * k2));
            this._drawColPixel(minY, maxY, x);
            // for (let y = minY; y <= maxY; ++y) {
            //     this._drawPixel(x, y);
            // }
        }
    };
    /**
    * 绘制一个圆
    * @param x         圆心坐标x
    * @param y         圆心坐标y
    * @param radius    圆的半径
    */
    DrawingBoard.prototype.circle = function (x, y, radius) {
        x = Math.round(x);
        y = Math.round(y);
        this._drawCircle(x, y, radius);
    };
    DrawingBoard.prototype._drawCircle = function (x, y, radius) {
        radius = Math.round(radius);
        if (radius == 0)
            return;
        //三角形的斜边的平方
        var dis = radius * radius;
        // let minX = this._minX(x - radius);
        // let maxX = this._maxX(x + radius);
        // for (let i = minX; i <= maxX; ++i) {
        //     let r = x - i;
        //     r = Math.round(Math.sqrt(dis - r * r));
        //     let minY = this._minY(y - r);
        //     let maxY = this._maxY(y + r);
        //     for (let j = minY; j <= maxY; ++j) {
        //         this._drawPixel(i, j);
        //     }
        // }
        var minY = this.clampY(y - radius);
        var maxY = this.clampY(y + radius);
        for (var j = minY; j <= maxY; ++j) {
            var r = j - y;
            r = Math.round(Math.sqrt(dis - r * r));
            var minX = this.clampX(x - r);
            var maxX = this.clampX(x + r);
            this._drawRowPixel(minX, maxX, j);
        }
    };
    DrawingBoard.prototype._minX = function (x) {
        return x >= 0 ? x : 0;
    };
    DrawingBoard.prototype._maxX = function (x) {
        return x < this.width ? x : this.width - 1;
    };
    DrawingBoard.prototype._minY = function (y) {
        return y >= 0 ? y : 0;
    };
    DrawingBoard.prototype._maxY = function (y) {
        return y < this.height ? y : this.height - 1;
    };
    DrawingBoard.prototype.clampX = function (x) {
        if (x < 0)
            return 0;
        if (x >= this.width)
            return this.width - 1;
        return x;
    };
    DrawingBoard.prototype.clampY = function (y) {
        if (y < 0)
            return 0;
        if (y >= this.height)
            return this.height - 1;
        return y;
    };
    /**绘制一个像素点的颜色 */
    DrawingBoard.prototype._drawPixel = function (x, y) {
        if (this.pointColor[x][y] == this.tempColor)
            return;
        var index = (y * this.width + x) * 4;
        this.pixelColor[index] = this.tempR;
        this.pixelColor[index + 1] = this.tempG;
        this.pixelColor[index + 2] = this.tempB;
        this.pixelColor[index + 3] = this.tempA;
        var c = this.pointColor[x][y];
        this.colorCount[c]--;
        this.colorCount[this.tempColor]++;
        this.pointColor[x][y] = this.tempColor;
    };
    /**
     * 连续绘制一行中的像素点
     * @param startX    起点X坐标
     * @param endX      终点X坐标
     * @param y         Y坐标
     */
    DrawingBoard.prototype._drawRowPixel = function (startX, endX, y) {
        var index = (y * this.width + startX) * 4;
        for (var x = startX; x <= endX; ++x) {
            if (this.pointColor[x][y] != this.tempColor) {
                this.pixelColor[index] = this.tempR;
                this.pixelColor[index + 1] = this.tempG;
                this.pixelColor[index + 2] = this.tempB;
                this.pixelColor[index + 3] = this.tempA;
                var c = this.pointColor[x][y];
                this.colorCount[c]--;
                this.colorCount[this.tempColor]++;
                this.pointColor[x][y] = this.tempColor;
            }
            index += 4;
        }
    };
    /**
     * 连续绘制一列中的像素点
     * @param startY    起点Y坐标
     * @param endY      终点Y坐标
     * @param x         X坐标
     */
    DrawingBoard.prototype._drawColPixel = function (startY, endY, x) {
        var index = (startY * this.width + x) * 4;
        for (var y = startY; y <= endY; ++y) {
            if (this.pointColor[x][y] != this.tempColor) {
                this.pixelColor[index] = this.tempR;
                this.pixelColor[index + 1] = this.tempG;
                this.pixelColor[index + 2] = this.tempB;
                this.pixelColor[index + 3] = this.tempA;
                var c = this.pointColor[x][y];
                this.colorCount[c]--;
                this.colorCount[this.tempColor]++;
                this.pointColor[x][y] = this.tempColor;
            }
            index += this.width * 4;
        }
    };
    /**
     * 将RGBA颜色分量转换为一个数值表示的颜色，颜色分量为0~255之间的值
     * @param r
     * @param g
     * @param b
     * @param a
     */
    DrawingBoard.prototype.convertToNumber = function (r, g, b, a) {
        if (a === void 0) { a = 255; }
        return ((r & 0xfe) << 23) | (g << 16) | (b << 8) | a;
    };
    /**将十六进制的颜色转换为RGBA分量表示的颜色 */
    DrawingBoard.prototype.convertToRGBA = function (color) {
        return {
            r: (color & 0xef000000) >> 23,
            g: (color & 0x00ff0000) >> 16,
            b: (color & 0x0000ff00) >> 8,
            a: (color & 0x000000ff),
        };
    };
    return DrawingBoard;
}());
exports.default = DrawingBoard;
var Vec2 = /** @class */ (function () {
    function Vec2(x, y) {
        if (x === void 0) { x = 0; }
        if (y === void 0) { y = 0; }
        this.x = x;
        this.y = y;
    }
    Vec2.prototype.set = function (p, y) {
        if (typeof p === "number") {
            this.x = p;
            this.y = y;
        }
        else {
            this.x = p.x;
            this.y = p.y;
        }
    };
    return Vec2;
}());

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL0RyYXdpbmdCb2FyZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7OztHQUtHO0FBQ0g7SUEyQkk7Ozs7O09BS0c7SUFDSCxzQkFBbUIsS0FBYSxFQUFFLE1BQWMsRUFBRSxJQUFrQjtRQUNoRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQWhDRCxzQkFBVywrQkFBSztRQURoQixVQUFVO2FBQ1YsY0FBNkIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzs7O09BQUE7SUFHbEQsc0JBQVcsZ0NBQU07UUFEakIsVUFBVTthQUNWLGNBQThCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBOEJwRDs7Ozs7T0FLRztJQUNJLDJCQUFJLEdBQVgsVUFBWSxLQUFhLEVBQUUsTUFBYyxFQUFFLElBQWtCO1FBQ3pELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUU7WUFDUixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3RCO0lBQ0wsQ0FBQztJQUNPLHFDQUFjLEdBQXRCO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDbEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7U0FDeEI7UUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsRUFBRTtZQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDckIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7YUFDM0I7WUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsRUFBRTtnQkFDbEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDN0I7U0FDSjtRQUNELElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ2xELENBQUM7SUFDTyxxQ0FBYyxHQUF0QjtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCx1Q0FBdUM7SUFDaEMsNEJBQUssR0FBWjtRQUNJLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUNPLHNDQUFlLEdBQXZCO1FBQ0ksS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ3RDLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRTtnQkFDdkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDN0I7U0FDSjtRQUNELEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUM3QixJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUM1QjtJQUNMLENBQUM7SUFDTyxzQ0FBZSxHQUF2QjtRQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRDs7O09BR0c7SUFDSSw4QkFBTyxHQUFkLFVBQWUsSUFBaUI7UUFDNUIsSUFBSSxTQUFTLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsSUFBSSxTQUFTLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDbEQsT0FBTyxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1lBQ3ZDLFVBQVU7WUFDVixTQUFTLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ25FO1FBQ0QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBQ0Q7OztPQUdHO0lBQ0ssMENBQW1CLEdBQTNCLFVBQTRCLElBQWdCO1FBQ3hDLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFDRDs7O09BR0c7SUFDSywwQ0FBbUIsR0FBM0IsVUFBNEIsSUFBZ0I7UUFDeEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDckIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDbEMsSUFBSSxDQUFDLEdBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFBO1lBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxFQUFFO2dCQUNqQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzdFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO2dCQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDekIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQzlCO3FCQUFNO29CQUNILElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMvQjthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLCtCQUFRLEdBQWYsVUFBZ0IsSUFBZTtRQUMzQixJQUFJLFNBQVMsS0FBSyxJQUFJLEVBQUU7WUFDcEIsSUFBSSxHQUFHLEVBQUUsQ0FBQztTQUNiO1FBQ0QsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDNUQsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0Q7OztPQUdHO0lBQ0ksOEJBQU8sR0FBZDtRQUNJLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBQ0Qsa0RBQWtEO0lBQzNDLGdDQUFTLEdBQWhCO1FBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFDRDs7Ozs7O09BTUc7SUFDSSxvQ0FBYSxHQUFwQixVQUFxQixDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFlO1FBQWYsa0JBQUEsRUFBQSxPQUFlO1FBQ2pFLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekMsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFDRDs7Ozs7O09BTUc7SUFDSSwrQkFBUSxHQUFmLFVBQWdCLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQWU7UUFBZixrQkFBQSxFQUFBLE9BQWU7UUFDNUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNqQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDdEM7UUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDbkIsQ0FBQztJQUNELGdCQUFnQjtJQUNULDRCQUFLLEdBQVo7UUFDSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQVdPLG1DQUFZLEdBQXBCO1FBQ0ksSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQztRQUNsQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFDRDs7OztPQUlHO0lBQ0ksNkJBQU0sR0FBYixVQUFjLENBQVMsRUFBRSxDQUFTO1FBQzlCLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDRDs7T0FFRztJQUNJLG1DQUFZLEdBQW5CLFVBQW9CLENBQVM7UUFDekIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBQ0Q7OztPQUdHO0lBQ0ksdUNBQWdCLEdBQXZCLFVBQXdCLENBQVU7UUFDOUIsSUFBSSxDQUFDLHFCQUFxQixHQUFHLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0ksMkJBQUksR0FBWCxVQUFZLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7UUFDdEQsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEIsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEIsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEIsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEIsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO1lBQUUsT0FBTztRQUNqQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFDbkMsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDO1FBQzNDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3BDLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQztRQUNoQixJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFDaEIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO1lBQ1YsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1NBQ3JDO2FBQU0sSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO1lBQ2pCLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQztTQUNyQzthQUFNO1lBQ0gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFDOUIsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUM3QixPQUFPLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUM7WUFDOUIsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ2pDO1FBQ0QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsT0FBTyxFQUFFLEVBQUUsR0FBRyxPQUFPLENBQUMsQ0FBQztRQUN6RCxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxPQUFPLEVBQUUsRUFBRSxHQUFHLE9BQU8sQ0FBQyxDQUFDO1FBRXpELElBQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMxQixJQUFJLEVBQUUsR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDMUIsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFO1lBQ1QsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDVixFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNWLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ1YsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7U0FDYjtRQUNELElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN2RCxJQUFJLFNBQVMsRUFBRTtZQUNYLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQztTQUN6QztJQUNMLENBQUM7SUFDRDs7OztPQUlHO0lBQ0ksNkJBQU0sR0FBYixVQUFjLENBQVMsRUFBRSxDQUFTO1FBQzlCLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDO1lBQUUsT0FBTztRQUM3RSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFDbkMsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDO1FBQzNDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7UUFDbkMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztRQUNuQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUU7WUFDVCxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ1IsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNSLEVBQUUsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO1lBQy9CLEVBQUUsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQztRQUNoQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZCxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDVixPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUM7U0FDckM7YUFBTSxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDakIsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1NBQ3JDO2FBQU07WUFDSCxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztZQUM5QixLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzdCLE9BQU8sR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQztZQUM5QixPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbEMsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDakM7UUFDRCxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ1osSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO21CQUNwRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEVBQUU7Z0JBQzVELElBQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsT0FBTyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7Z0JBQzVGLElBQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsT0FBTyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7Z0JBQzVGLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZELElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7YUFDMUQ7U0FDSjthQUFNO1lBQ0gsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQztZQUN0QyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRW5GLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLE9BQU8sRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBQ0Q7Ozs7OztPQU1HO0lBQ0ssZ0NBQVMsR0FBakIsVUFBa0IsRUFBUSxFQUFFLEVBQVEsRUFBRSxLQUFhLEVBQUUsT0FBZSxFQUFFLE9BQWUsRUFBRSxTQUFpQjtRQUNwRyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNkLE1BQU07WUFDTixJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDbEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDN0Y7YUFBTSxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNyQixNQUFNO1lBQ04sSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzdGO2FBQU07WUFDSCxNQUFNO1lBQ04sSUFBSSxRQUFRLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdDLElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7WUFDbkQsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQztZQUNuRCxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDO1lBQ25ELElBQUksR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7WUFDbkQsSUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNyQixJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ3JCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDO1lBQzNDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFO2dCQUNiLElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFO29CQUNmLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDZCxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDO29CQUN2QixHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ2QsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQztvQkFDdkIsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQzFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUMxQyxJQUFJLENBQUMscUJBQXFCLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztpQkFDN0M7cUJBQU07b0JBQ0gsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNkLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7b0JBQ3ZELEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDZCxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDO29CQUN2RCxJQUFJLENBQUMscUJBQXFCLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztvQkFDMUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ2pELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2lCQUM3QzthQUNKO2lCQUFNO2dCQUNILElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFO29CQUNmLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDZCxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDO29CQUN2QixHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ2QsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQztvQkFDdkIsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQzFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUMxQyxJQUFJLENBQUMscUJBQXFCLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztpQkFDN0M7cUJBQU07b0JBQ0gsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNkLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7b0JBQ3ZELEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDZCxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDO29CQUN2RCxJQUFJLENBQUMscUJBQXFCLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztvQkFDMUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ2pELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2lCQUM3QzthQUNKO1NBRUo7SUFDTCxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0ksMkJBQUksR0FBWCxVQUFZLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7UUFDbEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFDRDs7Ozs7O09BTUc7SUFDSyxnQ0FBUyxHQUFqQixVQUFrQixDQUFPLEVBQUUsQ0FBUyxFQUFFLENBQVM7UUFDM0MsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNoQyx1Q0FBdUM7UUFDdkMsMkNBQTJDO1FBQzNDLGlDQUFpQztRQUNqQyxRQUFRO1FBQ1IsSUFBSTtRQUNKLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3JDO0lBQ0wsQ0FBQztJQUNEOzs7Ozs7T0FNRztJQUNLLHlDQUFrQixHQUExQixVQUEyQixFQUFRLEVBQUUsRUFBUSxFQUFFLE1BQWM7UUFDekQsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1lBQUUsT0FBTztRQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRTtZQUMvQixJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzdDLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxNQUFNLENBQUM7WUFDekIsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDeEIsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLHVDQUF1QztZQUN2Qyw2QkFBNkI7WUFDN0IsSUFBSTtTQUNQO0lBQ0wsQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ0ksK0JBQVEsR0FBZixVQUFnQixFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7UUFDbEYsSUFBSSxLQUFLLEdBQVcsRUFBRSxDQUFDO1FBQ3ZCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0IsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM3QixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUNEOzs7Ozs7T0FNRztJQUNLLG9DQUFhLEdBQXJCLFVBQXNCLEtBQWE7UUFDL0IsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDO1lBQ1osT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckIsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEIsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNkLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztnQkFBRSxPQUFPO1lBQ3pCLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFO2dCQUNiLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2QsRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNqQjtZQUNELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZDLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLEVBQUUsR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUQsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1lBQUUsT0FBTztRQUN6QixJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNiLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQzFDO2FBQU07WUFDSCxJQUFJLENBQUMscUJBQXFCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMscUJBQXFCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUMxQztJQUNMLENBQUM7SUFDRDs7Ozs7O09BTUc7SUFDSyw0Q0FBcUIsR0FBN0IsVUFBOEIsRUFBUSxFQUFFLEVBQVEsRUFBRSxFQUFRO1FBQ3RELElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUFFLE9BQU87UUFDekIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QyxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksSUFBSSxHQUFHLElBQUksRUFBRTtZQUNiLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1osSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDZjtRQUNELElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hCLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDL0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDM0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDM0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLHVDQUF1QztZQUN2Qyw2QkFBNkI7WUFDN0IsSUFBSTtTQUNQO0lBQ0wsQ0FBQztJQUVEOzs7OztNQUtFO0lBQ0ssNkJBQU0sR0FBYixVQUFjLENBQVMsRUFBRSxDQUFTLEVBQUUsTUFBYztRQUM5QyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUNPLGtDQUFXLEdBQW5CLFVBQW9CLENBQVMsRUFBRSxDQUFTLEVBQUUsTUFBYztRQUNwRCxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1QixJQUFJLE1BQU0sSUFBSSxDQUFDO1lBQUUsT0FBTztRQUN4QixXQUFXO1FBQ1gsSUFBSSxHQUFHLEdBQUcsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUMxQixxQ0FBcUM7UUFDckMscUNBQXFDO1FBQ3JDLHVDQUF1QztRQUN2QyxxQkFBcUI7UUFDckIsOENBQThDO1FBQzlDLG9DQUFvQztRQUNwQyxvQ0FBb0M7UUFDcEMsMkNBQTJDO1FBQzNDLGlDQUFpQztRQUNqQyxRQUFRO1FBQ1IsSUFBSTtRQUNKLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO1FBQ25DLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO1FBQ25DLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNkLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzlCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNyQztJQUNMLENBQUM7SUFFTyw0QkFBSyxHQUFiLFVBQWMsQ0FBUztRQUNuQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFDTyw0QkFBSyxHQUFiLFVBQWMsQ0FBUztRQUNuQixPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDTyw0QkFBSyxHQUFiLFVBQWMsQ0FBUztRQUNuQixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFDTyw0QkFBSyxHQUFiLFVBQWMsQ0FBUztRQUNuQixPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFDTyw2QkFBTSxHQUFkLFVBQWUsQ0FBUztRQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDO1lBQUUsT0FBTyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQzNDLE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUNPLDZCQUFNLEdBQWQsVUFBZSxDQUFTO1FBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUM7WUFBRSxPQUFPLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTTtZQUFFLE9BQU8sSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDN0MsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBQ0QsZ0JBQWdCO0lBQ1IsaUNBQVUsR0FBbEIsVUFBbUIsQ0FBUyxFQUFFLENBQVM7UUFDbkMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTO1lBQUUsT0FBTztRQUNwRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDcEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN4QyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDeEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztRQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDM0MsQ0FBQztJQUNEOzs7OztPQUtHO0lBQ0ssb0NBQWEsR0FBckIsVUFBc0IsTUFBYyxFQUFFLElBQVksRUFBRSxDQUFTO1FBQ3pELElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLEtBQUssSUFBSSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDakMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ3pDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFDcEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFDeEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFDeEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFDeEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUNyQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO2dCQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7YUFDMUM7WUFDRCxLQUFLLElBQUksQ0FBQyxDQUFDO1NBQ2Q7SUFDTCxDQUFDO0lBQ0Q7Ozs7O09BS0c7SUFDSyxvQ0FBYSxHQUFyQixVQUFzQixNQUFjLEVBQUUsSUFBWSxFQUFFLENBQVM7UUFDekQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsS0FBSyxJQUFJLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRTtZQUNqQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDekMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUNwQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUN4QyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUN4QyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUN4QyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ3JCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUM7Z0JBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUMxQztZQUNELEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztTQUMzQjtJQUNMLENBQUM7SUFDRDs7Ozs7O09BTUc7SUFDSyxzQ0FBZSxHQUF2QixVQUF3QixDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFlO1FBQWYsa0JBQUEsRUFBQSxPQUFlO1FBQ3BFLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNELDRCQUE0QjtJQUNwQixvQ0FBYSxHQUFyQixVQUFzQixLQUFhO1FBQy9CLE9BQU87WUFDSCxDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLElBQUksRUFBRTtZQUM3QixDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLElBQUksRUFBRTtZQUM3QixDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztZQUM1QixDQUFDLEVBQUUsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDO1NBQzFCLENBQUM7SUFDTixDQUFDO0lBQ0wsbUJBQUM7QUFBRCxDQWhxQkEsQUFncUJDLElBQUE7O0FBQ0Q7SUFHSSxjQUFZLENBQWEsRUFBRSxDQUFhO1FBQTVCLGtCQUFBLEVBQUEsS0FBYTtRQUFFLGtCQUFBLEVBQUEsS0FBYTtRQUNwQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQUNNLGtCQUFHLEdBQVYsVUFBVyxDQUFnQixFQUFFLENBQVU7UUFDbkMsSUFBSSxPQUFPLENBQUMsS0FBSyxRQUFRLEVBQUU7WUFDdkIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNkO2FBQU07WUFDSCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDYixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEI7SUFDTCxDQUFDO0lBQ0wsV0FBQztBQUFELENBaEJBLEFBZ0JDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOeUu+adv++8mlxuICog5Y+v5L2/55So5Lu75oSP6aKc6Imy57uY5Yi255+p5b2i77yM5LiJ6KeS5b2i77yM5ZyG77yM55u057q/77yM5bm257uf6K6h5q+P56eN6aKc6Imy55qE5YOP57Sg5Liq5pWwO1xuICog5pOm6Zmk5Zu+5qGI5pe277yM6K6+572u55S75p2/55qE6aKc6Imy5Li66YCP5piO6Imy5YaN6L+b6KGM57uY5Yi25Y2z5Y+vO1xuICog5L2/55So55qE5Z2Q5qCH57O75Li65Y6f54K55Zyo5bem5LiK6KeS77yMWOi9tOWQkeWPs+S4uuato++8jFnovbTlkJHkuIvkuLrmraPjgIJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhd2luZ0JvYXJkIHtcbiAgICBwcml2YXRlIF93aXRkaDogbnVtYmVyO1xuICAgIC8qKueUu+adv+WuveW6piAqL1xuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3dpdGRoOyB9XG4gICAgcHJpdmF0ZSBfaGVpZ2h0OiBudW1iZXI7XG4gICAgLyoq55S75p2/6auY5bqmICovXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX2hlaWdodDsgfVxuXG4gICAgLyoq6K6w5b2V5q+P5Liq5YOP57Sg54K555qE6aKc6Imy5YC855qE5pWw57uE77yM6aKc6Imy5YC855So5Y2B5YWt6L+b5Yi26KGo56S677yMUkdCQeagvOW8jyAqL1xuICAgIHByaXZhdGUgcG9pbnRDb2xvcjogbnVtYmVyW11bXTtcbiAgICAvKirlrZjlgqjlg4/ntKDmlbDmja7nmoTlhoXlrZjlnZcgKi9cbiAgICBwcml2YXRlIGJ1ZmZlcjogQXJyYXlCdWZmZXI7XG4gICAgLyoq6aKc6Imy5YiG6YeP5LiA57u05pWw57uE77yM5L6b5riy5p+T5L2/55SoICovXG4gICAgcHJpdmF0ZSBwaXhlbENvbG9yOiBVaW50OEFycmF5O1xuICAgIC8qKuiusOW9leWQhOenjeminOiJsueahOWDj+e0oOeahOaVsOmHjyAqL1xuICAgIHByaXZhdGUgY29sb3JDb3VudDogeyBba2V5OiBudW1iZXJdOiBudW1iZXIgfTtcblxuICAgIC8qKuiusOW9leacgOi/keS4gOasoee7mOWItuWDj+e0oOeahOminOiJsijljYHlha3ov5vliLbpopzoibLlgLwp77yM6LCD55So57uY5Yi25Ye95pWw5LiU5pyq5oyH5a6a6aKc6Imy5YC85pe277yM5bCG5L2/55So6K+l5YC8ICovXG4gICAgcHJpdmF0ZSBjdXJDb2xvcjogbnVtYmVyO1xuXG4gICAgLyoq5Li05pe25a2Y5YKo55qE6aKc6Imy5YC8ICovXG4gICAgcHJpdmF0ZSB0ZW1wQ29sb3I6IG51bWJlcjtcbiAgICBwcml2YXRlIHRlbXBSOiBudW1iZXI7XG4gICAgcHJpdmF0ZSB0ZW1wRzogbnVtYmVyO1xuICAgIHByaXZhdGUgdGVtcEI6IG51bWJlcjtcbiAgICBwcml2YXRlIHRlbXBBOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiDlj6/lr7nmr4/kuKrlg4/ntKDngrnnu5jliLbnmoTnlLvmnb/vvIznlLvmnb/kvb/nlKjnmoTlnZDmoIfns7vljp/ngrnkuLrlt6bkuIvop5LvvIxY6L205ZCR5Y+z5Li65q2j77yMWei9tOWQkeS4iuS4uuato1xuICAgICAqIEBwYXJhbSB3aWR0aCAgICAg55S75p2/5a695bqmXG4gICAgICogQHBhcmFtIGhlaWdodCAgICDnlLvmnb/pq5jluqZcbiAgICAgKiBAcGFyYW0gZGF0YSAgICAgIOaMh+WumueUu+adv+WIneWni+WGheWuue+8jOWPguaVsOS4uuiusOW9leminOiJsuWIhumHj+eahOS4gOe7tOaVsOe7hO+8jOS4jeS8oOWFpeWPguaVsOaXtu+8jOeUu+adv+S4reWFqOmDqOWDj+e0oOS4uumAj+aYjlxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgZGF0YT86IEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHRoaXMuaW5pdCh3aWR0aCwgaGVpZ2h0LCBkYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5a+555S75p2/6L+b6KGM5Yid5aeL5YyW77yM5Lya5riF56m65bey57uY5Yi255qE5omA5pyJ5YaF5a65XG4gICAgICogQHBhcmFtIHdpZHRoICAgICDnlLvmnb/lrr3luqZcbiAgICAgKiBAcGFyYW0gaGVpZ2h0ICAgIOeUu+adv+mrmOW6plxuICAgICAqIEBwYXJhbSBkYXRhICAgICAg5oyH5a6a55S75p2/5Yid5aeL5YaF5a6577yM5Y+C5pWw5Li66K6w5b2V6aKc6Imy5YiG6YeP55qE5LiA57u05pWw57uE77yM5LiN5Lyg5YWl5Y+C5pWw5pe277yM55S75p2/5YaF5a655Li65YWo6YOo6YCP5piO55qE55+p5b2iXG4gICAgICovXG4gICAgcHVibGljIGluaXQod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGRhdGE/OiBBcnJheUJ1ZmZlcikge1xuICAgICAgICB0aGlzLnRlbXBDb2xvciA9IHRoaXMudGVtcFIgPSB0aGlzLnRlbXBHID0gdGhpcy50ZW1wQiA9IHRoaXMudGVtcEEgPSAwO1xuICAgICAgICB0aGlzLmN1ckNvbG9yID0gMDtcbiAgICAgICAgdGhpcy5fd2l0ZGggPSBNYXRoLnJvdW5kKHdpZHRoKTtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuICAgICAgICB0aGlzLmluaXRQb2ludENvbG9yKCk7XG4gICAgICAgIHRoaXMuaW5pdFBpeGVsQ29sb3IoKTtcbiAgICAgICAgdGhpcy5pbml0TGluZURhdGEoKTtcbiAgICAgICAgaWYgKCEhZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgaW5pdFBvaW50Q29sb3IoKSB7XG4gICAgICAgIGlmICghdGhpcy5wb2ludENvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLnBvaW50Q29sb3IgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7ICsreCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBvaW50Q29sb3JbeF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50Q29sb3JbeF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7ICsreSkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRDb2xvclt4XVt5XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvckNvdW50ID0ge307XG4gICAgICAgIHRoaXMuY29sb3JDb3VudFswXSA9IHRoaXMud2lkdGggKiB0aGlzLmhlaWdodDtcbiAgICB9XG4gICAgcHJpdmF0ZSBpbml0UGl4ZWxDb2xvcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0ICogNCk7XG4gICAgICAgIHRoaXMucGl4ZWxDb2xvciA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKTtcbiAgICAgICAgdGhpcy5waXhlbENvbG9yLmZpbGwoMCk7XG4gICAgfVxuXG4gICAgLyoq6YeN572u55S75p2/77yM55S75p2/55qE5a696auY5LiN5Y+Y77yM5L2G5Lya5riF56m65bey57uY5Yi255qE5omA5pyJ5YaF5a6577yM5oGi5aSN6Iez6YCP5piO54q25oCBICovXG4gICAgcHVibGljIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnJlc2V0UG9pbnRDb2xvcigpO1xuICAgICAgICB0aGlzLnJlc2V0UGl4ZWxDb2xvcigpO1xuICAgIH1cbiAgICBwcml2YXRlIHJlc2V0UG9pbnRDb2xvcigpIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IHRoaXMud2lkdGggLSAxOyB4ID49IDA7IC0teCkge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IHRoaXMuaGVpZ2h0IC0gMTsgeSA+PSAwOyAtLXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50Q29sb3JbeF1beV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmNvbG9yQ291bnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JDb3VudFtrZXldID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcml2YXRlIHJlc2V0UGl4ZWxDb2xvcigpIHtcbiAgICAgICAgdGhpcy5waXhlbENvbG9yLmZpbGwoMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Lyg5YWl5Zu+5YOP55qE5YOP57Sg5pWw5o2u77yM55u05o6l6K6+572u55S75p2/55qE5YaF5a6577yM5Zu+5YOP5bC65a+45b+F6aG75LiO55S75p2/5LiA6Ie077yM6Iul6ZyA6KaB6YeN5paw6K6+572u55S75p2/5aSn5bCP77yM6K+35L2/55SoIGluaXQoKSDlh73mlbBcbiAgICAgKiBAcGFyYW0gZGF0YSDorrDlvZXlkITlg4/ntKDpopzoibLliIbph4/nmoTkuIDnu7TmlbDnu4RcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0RGF0YShkYXRhOiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBsZXQgcGl4ZWxEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgICAgIGlmIChwaXhlbERhdGEubGVuZ3RoICE9IHRoaXMud2lkdGggKiB0aGlzLmhlaWdodCAqIDQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIueUu+adv+iuvue9ruaVsOaNruWksei0pe+8jOaVsOaNrumVv+W6puS4jueUu+adv+Wkp+Wwj+S4jeS4gOiHtOOAglwiKTtcbiAgICAgICAgICAgIC8vIHJldHVybjtcbiAgICAgICAgICAgIHBpeGVsRGF0YSA9IHBpeGVsRGF0YS5zdWJhcnJheSgwLCB0aGlzLndpZHRoICogdGhpcy5oZWlnaHQgKiA0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFBpeGVsQ29sb3JCeVJHQkEocGl4ZWxEYXRhKTtcbiAgICAgICAgdGhpcy5zZXRQb2ludENvbG9yQnlSR0JBKHBpeGVsRGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOiusOW9leWQhOWDj+e0oOminOiJsuWIhumHj1xuICAgICAqIEBwYXJhbSBkYXRhIOminOiJsuWIhumHj+S4gOe7tOaVsOe7hFxuICAgICAqL1xuICAgIHByaXZhdGUgc2V0UGl4ZWxDb2xvckJ5UkdCQShkYXRhOiBVaW50OEFycmF5KSB7XG4gICAgICAgIHRoaXMucGl4ZWxDb2xvci5zZXQoZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOaMieWDj+e0oOeCueeahOWdkOagh+iusOW9leWDj+e0oOeCueeahOminOiJsuWAvFxuICAgICAqIEBwYXJhbSBkYXRhIOminOiJsuWIhumHj+S4gOe7tOaVsOe7hFxuICAgICAqL1xuICAgIHByaXZhdGUgc2V0UG9pbnRDb2xvckJ5UkdCQShkYXRhOiBVaW50OEFycmF5KSB7XG4gICAgICAgIHRoaXMuY29sb3JDb3VudCA9IHt9O1xuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuaGVpZ2h0OyArK3kpIHtcbiAgICAgICAgICAgIGxldCBpPXkgKiB0aGlzLndpZHRoICogNFxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyArK3gpIHtcbiAgICAgICAgICAgICAgICBsZXQgY29sb3IgPSB0aGlzLmNvbnZlcnRUb051bWJlcihkYXRhW2krK10sIGRhdGFbaSsrXSwgZGF0YVtpKytdLCBkYXRhW2krK10pO1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRDb2xvclt4XVt5XSA9IGNvbG9yO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb2xvckNvdW50W2NvbG9yXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yQ291bnRbY29sb3JdID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yQ291bnRbY29sb3JdICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6I635Y+W55S75p2/5Lit55qE5pWw5o2uXG4gICAgICogQHBhcmFtIGRhdGEg55So5LqO5o6l5pS25pWw5o2u55qE5pWw57uEXG4gICAgICogQHJldHVybnMge251bWJlcltdfSDov5Tlm57lrZjlgqjlkITlg4/ntKDngrnpopzoibLliIbph4/nmoTkuIDnu7TmlbDnu4RcbiAgICAgKi9cbiAgICBwdWJsaWMgY29weURhdGEoZGF0YT86IG51bWJlcltdKTogbnVtYmVyW10ge1xuICAgICAgICBpZiAodW5kZWZpbmVkID09PSBkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGhpcy5waXhlbENvbG9yLmxlbmd0aDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSB0aGlzLnBpeGVsQ29sb3JbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOiOt+WPlueUu+adv+S4reiusOW9leavj+S4quWDj+e0oOeahOminOiJsuWIhumHj+eahOaVsOaNrlxuICAgICAqIEByZXR1cm5zIOWwhuebtOaOpei/lOWbnueUu+adv+WGhemDqOeahOaVsOe7hO+8m+azqO+8muiLpeS9v+eUqOiAhemcgOimgeWvueivpeaVsOaNrui/m+ihjOS/ruaUue+8jOivt+S9v+eUqCBjb3B5RGF0YSDmlrnms5Xojrflj5bvvIzku6XlhY3lvbHlk43nlLvmnb/nmoTlg4/ntKDkuKrmlbDorqHmlbDlip/og71cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RGF0YSgpOiBVaW50OEFycmF5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGl4ZWxDb2xvcjtcbiAgICB9XG4gICAgLyoq6I635Y+W55S75p2/5YaF6YOo5L2/55So55qE5YaF5a2Y5Z2X77yM6Iul5LuF6ZyA6KaB6I635Y+W5YOP57Sg5pWw5o2u77yM5LiN6L+b5LiA5q2l5aSE55CG77yM5L2/55SoIGdldERhdGEg5Y2z5Y+vICovXG4gICAgcHVibGljIGdldEJ1ZmZlcigpOiBBcnJheUJ1ZmZlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICog6I635Y+W5oyH5a6a6aKc6Imy55qE5YOP57Sg55qE5Liq5pWwXG4gICAgICogQHBhcmFtIHIg6aKc6Imy55qEcuWIhumHj1xuICAgICAqIEBwYXJhbSBnIOminOiJsueahGfliIbph49cbiAgICAgKiBAcGFyYW0gYiDpopzoibLnmoRi5YiG6YePXG4gICAgICogQHBhcmFtIGEg6aKc6Imy6YCP5piO5bqm77yM6buY6K6k5Li6MjU1XG4gICAgICovXG4gICAgcHVibGljIGdldENvbG9yQ291bnQocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgYTogbnVtYmVyID0gMjU1KSB7XG4gICAgICAgIGxldCBjID0gdGhpcy5jb252ZXJ0VG9OdW1iZXIociwgZywgYiwgYSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbG9yQ291bnRbY107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOiuvue9rueUu+adv+e7mOWItuWbvuahiOS9v+S9v+eUqOeahOminOiJslxuICAgICAqIEBwYXJhbSByIOWMheWQq1JHQkHliIbph4/nmoTpopzoibLlr7nosaHvvIzmiJbogIXpopzoibLnmoRy5YiG6YePXG4gICAgICogQHBhcmFtIGcg6aKc6Imy55qEZ+WIhumHj1xuICAgICAqIEBwYXJhbSBiIOminOiJsueahGLliIbph49cbiAgICAgKiBAcGFyYW0gYSDpopzoibLpgI/mmI7luqbvvIzpu5jorqTkuLoyNTVcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0Q29sb3IocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgYTogbnVtYmVyID0gMjU1KSB7XG4gICAgICAgIHRoaXMuY3VyQ29sb3IgPSB0aGlzLmNvbnZlcnRUb051bWJlcihyLCBnLCBiLCBhKTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbG9yQ291bnRbdGhpcy5jdXJDb2xvcl0pIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JDb3VudFt0aGlzLmN1ckNvbG9yXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wQ29sb3IgPSB0aGlzLmN1ckNvbG9yO1xuICAgICAgICB0aGlzLnRlbXBSID0gcjtcbiAgICAgICAgdGhpcy50ZW1wRyA9IGc7XG4gICAgICAgIHRoaXMudGVtcEIgPSBiO1xuICAgICAgICB0aGlzLnRlbXBBID0gYTtcbiAgICB9XG4gICAgLyoq5riF56m65omA5pyJ5bey57uY5Yi255qE5YaF5a65ICovXG4gICAgcHVibGljIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLy/nm7Tnur9cbiAgICAvKirkuIrkuIDmrKHnu5jliLbnmoTnm7Tnur/nmoTnu4jngrkgKi9cbiAgICBwcml2YXRlIHByZXZpb3VzTGluZUVuZFBvczogVmVjMjtcbiAgICBwcml2YXRlIHByZXZpb3VzTGluZUVuZFBvc1Q6IFZlYzI7XG4gICAgcHJpdmF0ZSBwcmV2aW91c0xpbmVFbmRQb3NCOiBWZWMyO1xuICAgIC8qKuS4iuS4gOasoee7mOWItueahOebtOe6v+eahOerr+eCueagt+W8jyAqL1xuICAgIHByaXZhdGUgcHJldmlvdXNMaW5lQ2lyY2xlRW5kOiBib29sZWFuO1xuICAgIC8qKuS4iuS4gOasoee7mOWItueahOebtOe6v+eahOWuveW6piAqL1xuICAgIHByaXZhdGUgcHJldmlvdXNMaW5lV2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIGluaXRMaW5lRGF0YSgpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c0xpbmVFbmRQb3MgPSBuZXcgVmVjMigpO1xuICAgICAgICB0aGlzLnByZXZpb3VzTGluZUVuZFBvc1QgPSBuZXcgVmVjMigpO1xuICAgICAgICB0aGlzLnByZXZpb3VzTGluZUVuZFBvc0IgPSBuZXcgVmVjMigpO1xuICAgICAgICB0aGlzLnByZXZpb3VzTGluZUNpcmNsZUVuZCA9IHRydWU7XG4gICAgICAgIHRoaXMucHJldmlvdXNMaW5lV2lkdGggPSAxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDnp7vliqjnlLvnrJTliLDmjIflrprnmoTkvY3nva7vvIzosIPnlKggbGluZVRvIOWHveaVsOaXtuWwhuS9v+eUqOivpeeCueS9nOS4uuebtOe6v+eahOi1t+eCuVxuICAgICAqIEBwYXJhbSB4ICAgICDlnZDmoIdYXG4gICAgICogQHBhcmFtIHkgICAgIOWdkOagh1lcbiAgICAgKi9cbiAgICBwdWJsaWMgbW92ZVRvKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgICB5ID0gTWF0aC5yb3VuZCh5KTtcbiAgICAgICAgdGhpcy5wcmV2aW91c0xpbmVFbmRQb3Muc2V0KHgsIHkpO1xuICAgICAgICB0aGlzLnByZXZpb3VzTGluZUVuZFBvc1Quc2V0KHgsIHkpO1xuICAgICAgICB0aGlzLnByZXZpb3VzTGluZUVuZFBvc0Iuc2V0KHgsIHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDorr7nva7nur/lrr1cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0TGluZVdpZHRoKHc6IG51bWJlcikge1xuICAgICAgICB0aGlzLnByZXZpb3VzTGluZVdpZHRoID0gdztcbiAgICB9XG4gICAgLyoqXG4gICAgICog6K6+572u57q/5q6156uv54K55qC35byPXG4gICAgICogQHBhcmFtIGIg57q/5q6156uv54K55piv5ZCm5Li65ZyG5b2iXG4gICAgICovXG4gICAgcHVibGljIHNldExpbmVDaXJjbGVFbmQoYjogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnByZXZpb3VzTGluZUNpcmNsZUVuZCA9IGI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog57uY5Yi255u057q/77yM5L2/55So6buY6K6k55qE6aKc6Imy44CB57q/5a695ZKM57q/5q6156uv54K55qC35byPXG4gICAgICogQHBhcmFtIHgxICAgICAgICDotbfngrnlnZDmoIdYXG4gICAgICogQHBhcmFtIHkxICAgICAgICDotbfngrnlnZDmoIdZXG4gICAgICogQHBhcmFtIHgyICAgICAgICDnu4jngrnlnZDmoIdYXG4gICAgICogQHBhcmFtIHkyICAgICAgICDnu4jngrnlnZDmoIdZXG4gICAgICovXG4gICAgcHVibGljIGxpbmUoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcikge1xuICAgICAgICB4MSA9IE1hdGgucm91bmQoeDEpO1xuICAgICAgICB4MiA9IE1hdGgucm91bmQoeDIpO1xuICAgICAgICB5MSA9IE1hdGgucm91bmQoeTEpO1xuICAgICAgICB5MiA9IE1hdGgucm91bmQoeTIpO1xuICAgICAgICBpZiAoeDEgPT0geDIgJiYgeTEgPT0geTIpIHJldHVybjtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5wcmV2aW91c0xpbmVXaWR0aDtcbiAgICAgICAgbGV0IGNpcmNsZUVuZCA9IHRoaXMucHJldmlvdXNMaW5lQ2lyY2xlRW5kO1xuICAgICAgICB0aGlzLnByZXZpb3VzTGluZUVuZFBvcy5zZXQoeDIsIHkyKTtcbiAgICAgICAgbGV0IG9mZnNldFggPSAwO1xuICAgICAgICBsZXQgb2Zmc2V0WSA9IDA7XG4gICAgICAgIGxldCByYXRlSyA9IDE7XG4gICAgICAgIGlmICh4MSA9PSB4Mikge1xuICAgICAgICAgICAgb2Zmc2V0WCA9IE1hdGgucm91bmQod2lkdGggKiAwLjUpO1xuICAgICAgICB9IGVsc2UgaWYgKHkxID09IHkyKSB7XG4gICAgICAgICAgICBvZmZzZXRZID0gTWF0aC5yb3VuZCh3aWR0aCAqIDAuNSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgayA9ICh5MiAtIHkxKSAvICh4MiAtIHgxKTtcbiAgICAgICAgICAgIHJhdGVLID0gTWF0aC5zcXJ0KGsgKiBrICsgMSk7XG4gICAgICAgICAgICBvZmZzZXRZID0gd2lkdGggKiAwLjUgLyByYXRlSztcbiAgICAgICAgICAgIG9mZnNldFggPSBNYXRoLnJvdW5kKG9mZnNldFkgKiBrKTtcbiAgICAgICAgICAgIG9mZnNldFkgPSBNYXRoLnJvdW5kKG9mZnNldFkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJldmlvdXNMaW5lRW5kUG9zVC5zZXQoeDIgLSBvZmZzZXRYLCB5MiArIG9mZnNldFkpO1xuICAgICAgICB0aGlzLnByZXZpb3VzTGluZUVuZFBvc0Iuc2V0KHgyICsgb2Zmc2V0WCwgeTIgLSBvZmZzZXRZKTtcblxuICAgICAgICBsZXQgcDEgPSBuZXcgVmVjMih4MSwgeTEpO1xuICAgICAgICBsZXQgcDIgPSBuZXcgVmVjMih4MiwgeTIpO1xuICAgICAgICBpZiAoeDEgPiB4Mikge1xuICAgICAgICAgICAgcDEueCA9IHgyO1xuICAgICAgICAgICAgcDEueSA9IHkyO1xuICAgICAgICAgICAgcDIueCA9IHgxO1xuICAgICAgICAgICAgcDIueSA9IHkxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYXdMaW5lKHAxLCBwMiwgd2lkdGgsIG9mZnNldFgsIG9mZnNldFksIHJhdGVLKTtcbiAgICAgICAgaWYgKGNpcmNsZUVuZCkge1xuICAgICAgICAgICAgdGhpcy5fZHJhd0NpcmNsZSh4MSwgeTEsIHdpZHRoICogMC41KTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDaXJjbGUoeDIsIHkyLCB3aWR0aCAqIDAuNSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog57uY5Yi25Yiw5oyH5a6a5Z2Q5qCH55qE55u057q/77yM6LW354K55Li65LiK5LiA5qyh57uY5Yi255qE55u057q/55qE57uI54K577yM5L2/55So6buY6K6k55qE6aKc6Imy44CB5a695bqm5ZKM57q/5q6156uv54K55qC35byPXG4gICAgICogQHBhcmFtIHggICAgIOe7iOeCueWdkOagh1hcbiAgICAgKiBAcGFyYW0geSAgICAg57uI54K55Z2Q5qCHWVxuICAgICAqL1xuICAgIHB1YmxpYyBsaW5lVG8oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgICAgIHkgPSBNYXRoLnJvdW5kKHkpO1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91c0xpbmVFbmRQb3MueCA9PSB4ICYmIHRoaXMucHJldmlvdXNMaW5lRW5kUG9zLnkgPT0geSkgcmV0dXJuO1xuICAgICAgICBsZXQgd2lkdGggPSB0aGlzLnByZXZpb3VzTGluZVdpZHRoO1xuICAgICAgICBsZXQgY2lyY2xlRW5kID0gdGhpcy5wcmV2aW91c0xpbmVDaXJjbGVFbmQ7XG4gICAgICAgIGxldCB4MSA9IHRoaXMucHJldmlvdXNMaW5lRW5kUG9zLng7XG4gICAgICAgIGxldCB5MSA9IHRoaXMucHJldmlvdXNMaW5lRW5kUG9zLnk7XG4gICAgICAgIGxldCB4MiA9IHg7XG4gICAgICAgIGxldCB5MiA9IHk7XG4gICAgICAgIGlmICh4MSA+IHgyKSB7XG4gICAgICAgICAgICB4MSA9IHgyO1xuICAgICAgICAgICAgeTEgPSB5MjtcbiAgICAgICAgICAgIHgyID0gdGhpcy5wcmV2aW91c0xpbmVFbmRQb3MueDtcbiAgICAgICAgICAgIHkyID0gdGhpcy5wcmV2aW91c0xpbmVFbmRQb3MueTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2Zmc2V0WCA9IDA7XG4gICAgICAgIGxldCBvZmZzZXRZID0gMDtcbiAgICAgICAgbGV0IHJhdGVLID0gMTtcbiAgICAgICAgaWYgKHgxID09IHgyKSB7XG4gICAgICAgICAgICBvZmZzZXRYID0gTWF0aC5yb3VuZCh3aWR0aCAqIDAuNSk7XG4gICAgICAgIH0gZWxzZSBpZiAoeTEgPT0geTIpIHtcbiAgICAgICAgICAgIG9mZnNldFkgPSBNYXRoLnJvdW5kKHdpZHRoICogMC41KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBrID0gKHkyIC0geTEpIC8gKHgyIC0geDEpO1xuICAgICAgICAgICAgcmF0ZUsgPSBNYXRoLnNxcnQoayAqIGsgKyAxKTtcbiAgICAgICAgICAgIG9mZnNldFkgPSB3aWR0aCAqIDAuNSAvIHJhdGVLO1xuICAgICAgICAgICAgb2Zmc2V0WCA9IE1hdGgucm91bmQob2Zmc2V0WSAqIGspO1xuICAgICAgICAgICAgb2Zmc2V0WSA9IE1hdGgucm91bmQob2Zmc2V0WSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaXJjbGVFbmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzTGluZUVuZFBvcy54ICE9IHRoaXMucHJldmlvdXNMaW5lRW5kUG9zVC54XG4gICAgICAgICAgICAgICAgfHwgdGhpcy5wcmV2aW91c0xpbmVFbmRQb3MueSAhPSB0aGlzLnByZXZpb3VzTGluZUVuZFBvc1QueSkge1xuICAgICAgICAgICAgICAgIGxldCBwMSA9IG5ldyBWZWMyKHRoaXMucHJldmlvdXNMaW5lRW5kUG9zLnggLSBvZmZzZXRYLCB0aGlzLnByZXZpb3VzTGluZUVuZFBvcy55ICsgb2Zmc2V0WSk7XG4gICAgICAgICAgICAgICAgbGV0IHAyID0gbmV3IFZlYzIodGhpcy5wcmV2aW91c0xpbmVFbmRQb3MueCArIG9mZnNldFgsIHRoaXMucHJldmlvdXNMaW5lRW5kUG9zLnkgLSBvZmZzZXRZKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmF3VHJpYW5nbGUoW3AxLCBwMiwgdGhpcy5wcmV2aW91c0xpbmVFbmRQb3NUXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhd1RyaWFuZ2xlKFtwMSwgcDIsIHRoaXMucHJldmlvdXNMaW5lRW5kUG9zQl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZHJhd0NpcmNsZSh4MSwgeTEsIHdpZHRoICogMC41KTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdDaXJjbGUoeDIsIHkyLCB3aWR0aCAqIDAuNSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZHJhd0xpbmUobmV3IFZlYzIoeDEsIHkxKSwgbmV3IFZlYzIoeDIsIHkyKSwgd2lkdGgsIG9mZnNldFgsIG9mZnNldFksIHJhdGVLKTtcblxuICAgICAgICB0aGlzLnByZXZpb3VzTGluZUVuZFBvcy5zZXQoeCwgeSk7XG4gICAgICAgIHRoaXMucHJldmlvdXNMaW5lRW5kUG9zVC5zZXQoeCAtIG9mZnNldFgsIHkgKyBvZmZzZXRZKTtcbiAgICAgICAgdGhpcy5wcmV2aW91c0xpbmVFbmRQb3NCLnNldCh4ICsgb2Zmc2V0WCwgeSAtIG9mZnNldFkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDnu5jliLbnm7Tnur/vvIzkuI3ljIXlkKvnur/mrrXnq6/ngrnmoLflvI9cbiAgICAgKiBAcGFyYW0gcDEgICAgICAgIOe6v+autei1t+eCueWdkOagh1xuICAgICAqIEBwYXJhbSBwMiAgICAgICAg57q/5q6157uI54K55Z2Q5qCHXG4gICAgICogQHBhcmFtIHdpZHRoICAgICDnur/mrrXlrr3luqZcbiAgICAgKiBAcGFyYW0gY29sb3IgICAgIOe6v+auteminOiJslxuICAgICAqL1xuICAgIHByaXZhdGUgX2RyYXdMaW5lKHAxOiBWZWMyLCBwMjogVmVjMiwgd2lkdGg6IG51bWJlciwgb2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIsIHNsb3BlUmF0ZTogbnVtYmVyKSB7XG4gICAgICAgIGlmIChwMS55ID09IHAyLnkpIHtcbiAgICAgICAgICAgIC8v5rC05bmz55u057q/XG4gICAgICAgICAgICBsZXQgeCA9IHAxLnggPCBwMi54ID8gcDEueCA6IHAyLng7XG4gICAgICAgICAgICB0aGlzLl9kcmF3UmVjdChuZXcgVmVjMih4LCBNYXRoLnJvdW5kKHAxLnkgLSB3aWR0aCAqIDAuNSkpLCBNYXRoLmFicyhwMS54IC0gcDIueCksIHdpZHRoKTtcbiAgICAgICAgfSBlbHNlIGlmIChwMS54ID09IHAyLngpIHtcbiAgICAgICAgICAgIC8v5Z6C55u055u057q/XG4gICAgICAgICAgICBsZXQgeSA9IHAxLnkgPCBwMi55ID8gcDEueSA6IHAyLnk7XG4gICAgICAgICAgICB0aGlzLl9kcmF3UmVjdChuZXcgVmVjMihNYXRoLnJvdW5kKHAxLnggLSB3aWR0aCAqIDAuNSksIHkpLCB3aWR0aCwgTWF0aC5hYnMocDEueSAtIHAyLnkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8v5YC+5pac55u057q/XG4gICAgICAgICAgICBsZXQgaW52ZXJzZUsgPSAocDEueCAtIHAyLngpIC8gKHAxLnkgLSBwMi55KTtcbiAgICAgICAgICAgIGxldCBwMXQgPSBuZXcgVmVjMihwMS54IC0gb2Zmc2V0WCwgcDEueSArIG9mZnNldFkpO1xuICAgICAgICAgICAgbGV0IHAxYiA9IG5ldyBWZWMyKHAxLnggKyBvZmZzZXRYLCBwMS55IC0gb2Zmc2V0WSk7XG4gICAgICAgICAgICBsZXQgcDJ0ID0gbmV3IFZlYzIocDIueCAtIG9mZnNldFgsIHAyLnkgKyBvZmZzZXRZKTtcbiAgICAgICAgICAgIGxldCBwMmIgPSBuZXcgVmVjMihwMi54ICsgb2Zmc2V0WCwgcDIueSAtIG9mZnNldFkpO1xuICAgICAgICAgICAgbGV0IHAxYyA9IG5ldyBWZWMyKCk7XG4gICAgICAgICAgICBsZXQgcDJjID0gbmV3IFZlYzIoKTtcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSBNYXRoLnJvdW5kKHdpZHRoICogc2xvcGVSYXRlKTtcbiAgICAgICAgICAgIGlmIChwMi55ID4gcDEueSkge1xuICAgICAgICAgICAgICAgIGlmIChwMWIueCA8IHAydC54KSB7XG4gICAgICAgICAgICAgICAgICAgIHAxYy54ID0gcDFiLng7XG4gICAgICAgICAgICAgICAgICAgIHAxYy55ID0gcDFiLnkgKyBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHAyYy54ID0gcDJ0Lng7XG4gICAgICAgICAgICAgICAgICAgIHAyYy55ID0gcDJ0LnkgLSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdWZXJ0aWNhbFRyaWFuZ2xlKHAxYywgcDFiLCBwMXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3UGFyYWxsZWxvZ3JhbShwMWIsIHAyYywgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd1ZlcnRpY2FsVHJpYW5nbGUocDJ0LCBwMmMsIHAyYik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcDFjLnggPSBwMWIueDtcbiAgICAgICAgICAgICAgICAgICAgcDFjLnkgPSBNYXRoLnJvdW5kKHAydC55IC0gKHAxYy54IC0gcDJ0LngpICogaW52ZXJzZUspO1xuICAgICAgICAgICAgICAgICAgICBwMmMueCA9IHAydC54O1xuICAgICAgICAgICAgICAgICAgICBwMmMueSA9IE1hdGgucm91bmQocDFiLnkgKyAocDFiLnggLSBwMmMueCkgKiBpbnZlcnNlSyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdWZXJ0aWNhbFRyaWFuZ2xlKHAydCwgcDJjLCBwMXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3UGFyYWxsZWxvZ3JhbShwMmMsIHAxYiwgcDJ0LnkgLSBwMmMueSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdWZXJ0aWNhbFRyaWFuZ2xlKHAxYywgcDFiLCBwMmIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHAxdC54IDwgcDJiLngpIHtcbiAgICAgICAgICAgICAgICAgICAgcDFjLnggPSBwMXQueDtcbiAgICAgICAgICAgICAgICAgICAgcDFjLnkgPSBwMXQueSAtIGhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgcDJjLnggPSBwMmIueDtcbiAgICAgICAgICAgICAgICAgICAgcDJjLnkgPSBwMmIueSArIGhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd1ZlcnRpY2FsVHJpYW5nbGUocDF0LCBwMWMsIHAxYik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdQYXJhbGxlbG9ncmFtKHAxYywgcDJiLCBoZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3VmVydGljYWxUcmlhbmdsZShwMmMsIHAyYiwgcDJ0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwMWMueCA9IHAxdC54O1xuICAgICAgICAgICAgICAgICAgICBwMWMueSA9IE1hdGgucm91bmQocDJiLnkgLSAocDFjLnggLSBwMmIueCkgKiBpbnZlcnNlSyk7XG4gICAgICAgICAgICAgICAgICAgIHAyYy54ID0gcDJiLng7XG4gICAgICAgICAgICAgICAgICAgIHAyYy55ID0gTWF0aC5yb3VuZChwMXQueSArIChwMXQueCAtIHAyYy54KSAqIGludmVyc2VLKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd1ZlcnRpY2FsVHJpYW5nbGUocDJjLCBwMmIsIHAxYik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdQYXJhbGxlbG9ncmFtKHAyYiwgcDFjLCBwMXQueSAtIHAxYy55KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd1ZlcnRpY2FsVHJpYW5nbGUocDF0LCBwMWMsIHAydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnu5jliLbnn6nlvaJcbiAgICAgKiBAcGFyYW0geCAgICAg55+p5b2i5bem5LiL6KeS55qE5Z2Q5qCHWFxuICAgICAqIEBwYXJhbSB5ICAgICDnn6nlvaLlt6bkuIvop5LnmoTlnZDmoIdZXG4gICAgICogQHBhcmFtIHcgICAgIOefqeW9ouWuveW6plxuICAgICAqIEBwYXJhbSBoICAgICDnn6nlvaLpq5jluqZcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVjdCh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fZHJhd1JlY3QobmV3IFZlYzIoeCwgeSksIHcsIGgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDnu5jliLbnn6nlvaJcbiAgICAgKiBAcGFyYW0gcCAgICAgICAgIOefqeW9ouW3puS4i+mhtueCueeahOWdkOagh1xuICAgICAqIEBwYXJhbSB3ICAgICAgICAg55+p5b2i5a695bqmXG4gICAgICogQHBhcmFtIGggICAgICAgICDnn6nlvaLpq5jluqZcbiAgICAgKiBAcGFyYW0gY29sb3IgICAgIOefqeW9ouWhq+WFheeahOminOiJslxuICAgICAqL1xuICAgIHByaXZhdGUgX2RyYXdSZWN0KHA6IFZlYzIsIHc6IG51bWJlciwgaDogbnVtYmVyKSB7XG4gICAgICAgIGxldCBtaW5YID0gdGhpcy5jbGFtcFgocC54KTtcbiAgICAgICAgbGV0IG1heFggPSB0aGlzLmNsYW1wWChwLnggKyB3KTtcbiAgICAgICAgbGV0IG1pblkgPSB0aGlzLmNsYW1wWShwLnkpO1xuICAgICAgICBsZXQgbWF4WSA9IHRoaXMuY2xhbXBZKHAueSArIGgpO1xuICAgICAgICAvLyBmb3IgKGxldCB4ID0gbWluWDsgeCA8PSBtYXhYOyArK3gpIHtcbiAgICAgICAgLy8gICAgIGZvciAobGV0IHkgPSBtaW5ZOyB5IDw9IG1heFk7ICsreSkge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuX2RyYXdQaXhlbCh4LCB5KTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuICAgICAgICBmb3IgKGxldCB5ID0gbWluWTsgeSA8PSBtYXhZOyArK3kpIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdSb3dQaXhlbChtaW5YLCBtYXhYLCB5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDnu5jliLblubPooYzlm5vovrnlvaLvvIzlubPooYzlm5vovrnlvaLnmoTlt6blj7PkuKTovrnkuI5Z6L205bmz6KGMXG4gICAgICogQHBhcmFtIHAxICAgICAgICDlt6bkuIvpobbngrnlnZDmoIdcbiAgICAgKiBAcGFyYW0gcDIgICAgICAgIOWPs+S4i+mhtueCueWdkOagh1xuICAgICAqIEBwYXJhbSBoZWlnaHQgICAg5Z6C55u06L656auY5bqmXG4gICAgICogQHBhcmFtIGNvbG9yICAgICDpopzoibJcbiAgICAgKi9cbiAgICBwcml2YXRlIF9kcmF3UGFyYWxsZWxvZ3JhbShwMTogVmVjMiwgcDI6IFZlYzIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIGlmIChwMS54ID09IHAyLngpIHJldHVybjtcbiAgICAgICAgbGV0IGsgPSAocDIueSAtIHAxLnkpIC8gKHAyLnggLSBwMS54KTtcbiAgICAgICAgbGV0IG1pblggPSB0aGlzLl9taW5YKHAxLngpO1xuICAgICAgICBsZXQgbWF4WCA9IHRoaXMuX21heFgocDIueCk7XG4gICAgICAgIGZvciAobGV0IHggPSBtaW5YOyB4IDw9IG1heFg7ICsreCkge1xuICAgICAgICAgICAgbGV0IG1pblkgPSBwMS55ICsgTWF0aC5yb3VuZCgoeCAtIHAxLngpICogayk7XG4gICAgICAgICAgICBsZXQgbWF4WSA9IG1pblkgKyBoZWlnaHQ7XG4gICAgICAgICAgICBtaW5ZID0gdGhpcy5fbWluWShtaW5ZKTtcbiAgICAgICAgICAgIG1heFkgPSB0aGlzLl9tYXhZKG1heFkpO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0NvbFBpeGVsKG1pblksIG1heFksIHgpO1xuICAgICAgICAgICAgLy8gZm9yIChsZXQgeSA9IG1pblk7IHkgPD0gbWF4WTsgKyt5KSB7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5fZHJhd1BpeGVsKHgsIHkpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog57uY5Yi25LiJ6KeS5b2iXG4gICAgICogQHBhcmFtIHgxICAgIOmhtueCuTHlnZDmoIdYXG4gICAgICogQHBhcmFtIHkxICAgIOmhtueCuTHlnZDmoIdZXG4gICAgICogQHBhcmFtIHgyICAgIOmhtueCuTLlnZDmoIdYXG4gICAgICogQHBhcmFtIHkyICAgIOmhtueCuTLlnZDmoIdZXG4gICAgICogQHBhcmFtIHgzICAgIOmhtueCuTPlnZDmoIdYXG4gICAgICogQHBhcmFtIHkzICAgIOmhtueCuTPlnZDmoIdZXG4gICAgICovXG4gICAgcHVibGljIHRyaWFuZ2xlKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIHgzOiBudW1iZXIsIHkzOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IHBMaXN0OiBWZWMyW10gPSBbXTtcbiAgICAgICAgcExpc3QucHVzaChuZXcgVmVjMih4MSwgeTEpKTtcbiAgICAgICAgcExpc3QucHVzaChuZXcgVmVjMih4MiwgeTIpKTtcbiAgICAgICAgcExpc3QucHVzaChuZXcgVmVjMih4MywgeTMpKTtcbiAgICAgICAgdGhpcy5fZHJhd1RyaWFuZ2xlKHBMaXN0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog57uY5Yi25Lu75oSP5LiJ6KeS5b2iXG4gICAgICogQHBhcmFtIHAxICAgIOmhtueCueWdkOagh1xuICAgICAqIEBwYXJhbSBwMiBcbiAgICAgKiBAcGFyYW0gcDMgXG4gICAgICogQHBhcmFtIGNvbG9yIOWhq+WFheminOiJslxuICAgICAqL1xuICAgIHByaXZhdGUgX2RyYXdUcmlhbmdsZShwTGlzdDogVmVjMltdKSB7XG4gICAgICAgIHBMaXN0LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhLnggLSBiLng7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgcDEgPSBwTGlzdFswXTtcbiAgICAgICAgbGV0IHAyID0gcExpc3RbMV07XG4gICAgICAgIGxldCBwMyA9IHBMaXN0WzJdO1xuICAgICAgICBpZiAocDEueCA9PSBwMi54KSB7XG4gICAgICAgICAgICBpZiAocDEueCA9PSBwMy54KSByZXR1cm47XG4gICAgICAgICAgICBpZiAocDEueSA8IHAyLnkpIHtcbiAgICAgICAgICAgICAgICBwMSA9IHBMaXN0WzFdO1xuICAgICAgICAgICAgICAgIHAyID0gcExpc3RbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kcmF3VmVydGljYWxUcmlhbmdsZShwMSwgcDIsIHAzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgayA9IChwMy55IC0gcDEueSkgLyAocDMueCAtIHAxLngpO1xuICAgICAgICBsZXQgcDQgPSBuZXcgVmVjMihwMi54LCBNYXRoLnJvdW5kKHAxLnkgKyAocDIueCAtIHAxLngpICogaykpO1xuICAgICAgICBpZiAocDQueSA9PSBwMi55KSByZXR1cm47XG4gICAgICAgIGlmIChwNC55IDwgcDIueSkge1xuICAgICAgICAgICAgdGhpcy5fZHJhd1ZlcnRpY2FsVHJpYW5nbGUocDIsIHA0LCBwMSk7XG4gICAgICAgICAgICB0aGlzLl9kcmF3VmVydGljYWxUcmlhbmdsZShwMiwgcDQsIHAzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdWZXJ0aWNhbFRyaWFuZ2xlKHA0LCBwMiwgcDEpO1xuICAgICAgICAgICAgdGhpcy5fZHJhd1ZlcnRpY2FsVHJpYW5nbGUocDQsIHAyLCBwMyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog57uY5Yi25LiA5p2h6L655LiOWei9tOW5s+ihjOeahOS4ieinkuW9olxuICAgICAqIEBwYXJhbSBwMSAgICDkuInop5LlvaLlnoLnm7TovrnnmoQg5LiKIOmhtueCueWdkOagh1xuICAgICAqIEBwYXJhbSBwMiAgICDkuInop5LlvaLlnoLnm7TovrnnmoQg5LiLIOmhtueCueWdkOagh1xuICAgICAqIEBwYXJhbSBwMyAgICDkuInop5LlvaIg5bem5L6n5oiW5Y+z5L6nIOmhtueCueWdkOagh1xuICAgICAqIEBwYXJhbSBjb2xvciDopoHnu5jliLbnmoTpopzoibJcbiAgICAgKi9cbiAgICBwcml2YXRlIF9kcmF3VmVydGljYWxUcmlhbmdsZShwMTogVmVjMiwgcDI6IFZlYzIsIHAzOiBWZWMyKSB7XG4gICAgICAgIGlmIChwMy54ID09IHAxLngpIHJldHVybjtcbiAgICAgICAgbGV0IGsxID0gKHAzLnkgLSBwMS55KSAvIChwMy54IC0gcDEueCk7XG4gICAgICAgIGxldCBrMiA9IChwMy55IC0gcDIueSkgLyAocDMueCAtIHAyLngpO1xuICAgICAgICBsZXQgbWF4WCA9IHAzLngsIG1pblggPSBwMS54O1xuICAgICAgICBpZiAobWF4WCA8IG1pblgpIHtcbiAgICAgICAgICAgIG1heFggPSBwMS54O1xuICAgICAgICAgICAgbWluWCA9IHAzLng7XG4gICAgICAgIH1cbiAgICAgICAgbWluWCA9IHRoaXMuX21pblgobWluWCk7XG4gICAgICAgIG1heFggPSB0aGlzLl9tYXhYKG1heFgpO1xuICAgICAgICBmb3IgKGxldCB4ID0gbWluWDsgeCA8PSBtYXhYOyArK3gpIHtcbiAgICAgICAgICAgIGxldCBtYXhZID0gdGhpcy5jbGFtcFkoTWF0aC5yb3VuZChwMS55ICsgKHggLSBwMS54KSAqIGsxKSk7XG4gICAgICAgICAgICBsZXQgbWluWSA9IHRoaXMuY2xhbXBZKE1hdGgucm91bmQocDIueSArICh4IC0gcDIueCkgKiBrMikpO1xuICAgICAgICAgICAgdGhpcy5fZHJhd0NvbFBpeGVsKG1pblksIG1heFksIHgpO1xuICAgICAgICAgICAgLy8gZm9yIChsZXQgeSA9IG1pblk7IHkgPD0gbWF4WTsgKyt5KSB7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5fZHJhd1BpeGVsKHgsIHkpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiDnu5jliLbkuIDkuKrlnIZcbiAgICAqIEBwYXJhbSB4ICAgICAgICAg5ZyG5b+D5Z2Q5qCHeFxuICAgICogQHBhcmFtIHkgICAgICAgICDlnIblv4PlnZDmoId5XG4gICAgKiBAcGFyYW0gcmFkaXVzICAgIOWchueahOWNiuW+hFxuICAgICovXG4gICAgcHVibGljIGNpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIpIHtcbiAgICAgICAgeCA9IE1hdGgucm91bmQoeCk7XG4gICAgICAgIHkgPSBNYXRoLnJvdW5kKHkpO1xuICAgICAgICB0aGlzLl9kcmF3Q2lyY2xlKHgsIHksIHJhZGl1cyk7XG4gICAgfVxuICAgIHByaXZhdGUgX2RyYXdDaXJjbGUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyKSB7XG4gICAgICAgIHJhZGl1cyA9IE1hdGgucm91bmQocmFkaXVzKTtcbiAgICAgICAgaWYgKHJhZGl1cyA9PSAwKSByZXR1cm47XG4gICAgICAgIC8v5LiJ6KeS5b2i55qE5pac6L6555qE5bmz5pa5XG4gICAgICAgIGxldCBkaXMgPSByYWRpdXMgKiByYWRpdXM7XG4gICAgICAgIC8vIGxldCBtaW5YID0gdGhpcy5fbWluWCh4IC0gcmFkaXVzKTtcbiAgICAgICAgLy8gbGV0IG1heFggPSB0aGlzLl9tYXhYKHggKyByYWRpdXMpO1xuICAgICAgICAvLyBmb3IgKGxldCBpID0gbWluWDsgaSA8PSBtYXhYOyArK2kpIHtcbiAgICAgICAgLy8gICAgIGxldCByID0geCAtIGk7XG4gICAgICAgIC8vICAgICByID0gTWF0aC5yb3VuZChNYXRoLnNxcnQoZGlzIC0gciAqIHIpKTtcbiAgICAgICAgLy8gICAgIGxldCBtaW5ZID0gdGhpcy5fbWluWSh5IC0gcik7XG4gICAgICAgIC8vICAgICBsZXQgbWF4WSA9IHRoaXMuX21heFkoeSArIHIpO1xuICAgICAgICAvLyAgICAgZm9yIChsZXQgaiA9IG1pblk7IGogPD0gbWF4WTsgKytqKSB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5fZHJhd1BpeGVsKGksIGopO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG4gICAgICAgIGxldCBtaW5ZID0gdGhpcy5jbGFtcFkoeSAtIHJhZGl1cyk7XG4gICAgICAgIGxldCBtYXhZID0gdGhpcy5jbGFtcFkoeSArIHJhZGl1cyk7XG4gICAgICAgIGZvciAobGV0IGogPSBtaW5ZOyBqIDw9IG1heFk7ICsraikge1xuICAgICAgICAgICAgbGV0IHIgPSBqIC0geTtcbiAgICAgICAgICAgIHIgPSBNYXRoLnJvdW5kKE1hdGguc3FydChkaXMgLSByICogcikpO1xuICAgICAgICAgICAgbGV0IG1pblggPSB0aGlzLmNsYW1wWCh4IC0gcik7XG4gICAgICAgICAgICBsZXQgbWF4WCA9IHRoaXMuY2xhbXBYKHggKyByKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdSb3dQaXhlbChtaW5YLCBtYXhYLCBqKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX21pblgoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHggPj0gMCA/IHggOiAwO1xuICAgIH1cbiAgICBwcml2YXRlIF9tYXhYKHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB4IDwgdGhpcy53aWR0aCA/IHggOiB0aGlzLndpZHRoIC0gMTtcbiAgICB9XG4gICAgcHJpdmF0ZSBfbWluWSh5OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4geSA+PSAwID8geSA6IDA7XG4gICAgfVxuICAgIHByaXZhdGUgX21heFkoeTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHkgPCB0aGlzLmhlaWdodCA/IHkgOiB0aGlzLmhlaWdodCAtIDE7XG4gICAgfVxuICAgIHByaXZhdGUgY2xhbXBYKHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh4IDwgMCkgcmV0dXJuIDA7XG4gICAgICAgIGlmICh4ID49IHRoaXMud2lkdGgpIHJldHVybiB0aGlzLndpZHRoIC0gMTtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICAgIHByaXZhdGUgY2xhbXBZKHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh5IDwgMCkgcmV0dXJuIDA7XG4gICAgICAgIGlmICh5ID49IHRoaXMuaGVpZ2h0KSByZXR1cm4gdGhpcy5oZWlnaHQgLSAxO1xuICAgICAgICByZXR1cm4geTtcbiAgICB9XG4gICAgLyoq57uY5Yi25LiA5Liq5YOP57Sg54K555qE6aKc6ImyICovXG4gICAgcHJpdmF0ZSBfZHJhd1BpeGVsKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnBvaW50Q29sb3JbeF1beV0gPT0gdGhpcy50ZW1wQ29sb3IpIHJldHVybjtcbiAgICAgICAgbGV0IGluZGV4ID0gKHkgKiB0aGlzLndpZHRoICsgeCkgKiA0O1xuICAgICAgICB0aGlzLnBpeGVsQ29sb3JbaW5kZXhdID0gdGhpcy50ZW1wUjtcbiAgICAgICAgdGhpcy5waXhlbENvbG9yW2luZGV4ICsgMV0gPSB0aGlzLnRlbXBHO1xuICAgICAgICB0aGlzLnBpeGVsQ29sb3JbaW5kZXggKyAyXSA9IHRoaXMudGVtcEI7XG4gICAgICAgIHRoaXMucGl4ZWxDb2xvcltpbmRleCArIDNdID0gdGhpcy50ZW1wQTtcbiAgICAgICAgbGV0IGMgPSB0aGlzLnBvaW50Q29sb3JbeF1beV07XG4gICAgICAgIHRoaXMuY29sb3JDb3VudFtjXS0tO1xuICAgICAgICB0aGlzLmNvbG9yQ291bnRbdGhpcy50ZW1wQ29sb3JdKys7XG4gICAgICAgIHRoaXMucG9pbnRDb2xvclt4XVt5XSA9IHRoaXMudGVtcENvbG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDov57nu63nu5jliLbkuIDooYzkuK3nmoTlg4/ntKDngrlcbiAgICAgKiBAcGFyYW0gc3RhcnRYICAgIOi1t+eCuVjlnZDmoIdcbiAgICAgKiBAcGFyYW0gZW5kWCAgICAgIOe7iOeCuVjlnZDmoIdcbiAgICAgKiBAcGFyYW0geSAgICAgICAgIFnlnZDmoIdcbiAgICAgKi9cbiAgICBwcml2YXRlIF9kcmF3Um93UGl4ZWwoc3RhcnRYOiBudW1iZXIsIGVuZFg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGxldCBpbmRleCA9ICh5ICogdGhpcy53aWR0aCArIHN0YXJ0WCkgKiA0O1xuICAgICAgICBmb3IgKGxldCB4ID0gc3RhcnRYOyB4IDw9IGVuZFg7ICsreCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRDb2xvclt4XVt5XSAhPSB0aGlzLnRlbXBDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxDb2xvcltpbmRleF0gPSB0aGlzLnRlbXBSO1xuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxDb2xvcltpbmRleCArIDFdID0gdGhpcy50ZW1wRztcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGVsQ29sb3JbaW5kZXggKyAyXSA9IHRoaXMudGVtcEI7XG4gICAgICAgICAgICAgICAgdGhpcy5waXhlbENvbG9yW2luZGV4ICsgM10gPSB0aGlzLnRlbXBBO1xuICAgICAgICAgICAgICAgIGxldCBjID0gdGhpcy5wb2ludENvbG9yW3hdW3ldO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JDb3VudFtjXS0tO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JDb3VudFt0aGlzLnRlbXBDb2xvcl0rKztcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50Q29sb3JbeF1beV0gPSB0aGlzLnRlbXBDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4ICs9IDQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICog6L+e57ut57uY5Yi25LiA5YiX5Lit55qE5YOP57Sg54K5XG4gICAgICogQHBhcmFtIHN0YXJ0WSAgICDotbfngrlZ5Z2Q5qCHXG4gICAgICogQHBhcmFtIGVuZFkgICAgICDnu4jngrlZ5Z2Q5qCHXG4gICAgICogQHBhcmFtIHggICAgICAgICBY5Z2Q5qCHXG4gICAgICovXG4gICAgcHJpdmF0ZSBfZHJhd0NvbFBpeGVsKHN0YXJ0WTogbnVtYmVyLCBlbmRZOiBudW1iZXIsIHg6IG51bWJlcikge1xuICAgICAgICBsZXQgaW5kZXggPSAoc3RhcnRZICogdGhpcy53aWR0aCArIHgpICogNDtcbiAgICAgICAgZm9yIChsZXQgeSA9IHN0YXJ0WTsgeSA8PSBlbmRZOyArK3kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvaW50Q29sb3JbeF1beV0gIT0gdGhpcy50ZW1wQ29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGVsQ29sb3JbaW5kZXhdID0gdGhpcy50ZW1wUjtcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGVsQ29sb3JbaW5kZXggKyAxXSA9IHRoaXMudGVtcEc7XG4gICAgICAgICAgICAgICAgdGhpcy5waXhlbENvbG9yW2luZGV4ICsgMl0gPSB0aGlzLnRlbXBCO1xuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxDb2xvcltpbmRleCArIDNdID0gdGhpcy50ZW1wQTtcbiAgICAgICAgICAgICAgICBsZXQgYyA9IHRoaXMucG9pbnRDb2xvclt4XVt5XTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yQ291bnRbY10tLTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yQ291bnRbdGhpcy50ZW1wQ29sb3JdKys7XG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludENvbG9yW3hdW3ldID0gdGhpcy50ZW1wQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCArPSB0aGlzLndpZHRoICogNDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDlsIZSR0JB6aKc6Imy5YiG6YeP6L2s5o2i5Li65LiA5Liq5pWw5YC86KGo56S655qE6aKc6Imy77yM6aKc6Imy5YiG6YeP5Li6MH4yNTXkuYvpl7TnmoTlgLxcbiAgICAgKiBAcGFyYW0gciBcbiAgICAgKiBAcGFyYW0gZyBcbiAgICAgKiBAcGFyYW0gYiBcbiAgICAgKiBAcGFyYW0gYSBcbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnZlcnRUb051bWJlcihyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBhOiBudW1iZXIgPSAyNTUpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKChyICYgMHhmZSkgPDwgMjMpIHwgKGcgPDwgMTYpIHwgKGIgPDwgOCkgfCBhO1xuICAgIH1cbiAgICAvKirlsIbljYHlha3ov5vliLbnmoTpopzoibLovazmjaLkuLpSR0JB5YiG6YeP6KGo56S655qE6aKc6ImyICovXG4gICAgcHJpdmF0ZSBjb252ZXJ0VG9SR0JBKGNvbG9yOiBudW1iZXIpOiB7IHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlciB9IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IChjb2xvciAmIDB4ZWYwMDAwMDApID4+IDIzLFxuICAgICAgICAgICAgZzogKGNvbG9yICYgMHgwMGZmMDAwMCkgPj4gMTYsXG4gICAgICAgICAgICBiOiAoY29sb3IgJiAweDAwMDBmZjAwKSA+PiA4LFxuICAgICAgICAgICAgYTogKGNvbG9yICYgMHgwMDAwMDBmZiksXG4gICAgICAgIH07XG4gICAgfVxufVxuY2xhc3MgVmVjMiB7XG4gICAgcHVibGljIHg6IG51bWJlcjtcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDApIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG4gICAgcHVibGljIHNldChwOiBudW1iZXIgfCBWZWMyLCB5PzogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhpcy54ID0gcDtcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnggPSBwLng7XG4gICAgICAgICAgICB0aGlzLnkgPSBwLnk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/Pool.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '284d8zxqTdJtYjT+CGS5XDE', 'Pool');
// Script/Common/Utils/Pool.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Pool = void 0;
var Pool = /** @class */ (function () {
    function Pool(fn, size) {
        this._fn = fn;
        this._idx = size - 1;
        this._frees = new Array(size);
        for (var i = 0; i < size; i++) {
            this._frees[i] = fn();
        }
    }
    Object.defineProperty(Pool.prototype, "freeCount", {
        get: function () {
            return this._frees.length;
        },
        enumerable: false,
        configurable: true
    });
    Pool.prototype.alloc = function () {
        var params = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            params[_i] = arguments[_i];
        }
        if (this._idx < 0) {
            this._expand(Math.round(this._frees.length * 1.2) + 1);
        }
        var obj = this._frees[this._idx];
        this._frees.splice(this._idx);
        --this._idx;
        obj.use && obj.use.apply(obj, params);
        return obj;
    };
    Pool.prototype.free = function (obj) {
        ++this._idx;
        obj.free && obj.free();
        this._frees[this._idx] = obj;
    };
    Pool.prototype.clear = function (fn) {
        for (var i = 0; i < this._idx; i++) {
            fn && fn(this._frees[i]);
        }
        this._frees.splice(0);
        this._idx = -1;
    };
    Pool.prototype._expand = function (size) {
        var old = this._frees;
        this._frees = new Array(size);
        var len = size - old.length;
        for (var i = 0; i < len; i++) {
            this._frees[i] = this._fn();
        }
        for (var i = len, j = 0; i < size; ++i, ++j) {
            this._frees[i] = old[j];
        }
        this._idx += len;
    };
    return Pool;
}());
exports.Pool = Pool;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL1Bvb2wudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUE7SUFTSSxjQUFZLEVBQVcsRUFBRSxJQUFZO1FBQ2pDLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUksSUFBSSxDQUFDLENBQUM7UUFFakMsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN0QixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDO1NBQ3pCO0lBQ0wsQ0FBQztJQVpELHNCQUFXLDJCQUFTO2FBQXBCO1lBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM5QixDQUFDOzs7T0FBQTtJQVlNLG9CQUFLLEdBQVo7UUFBYSxnQkFBYzthQUFkLFVBQWMsRUFBZCxxQkFBYyxFQUFkLElBQWM7WUFBZCwyQkFBYzs7UUFDdkIsSUFBRyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRTtZQUNkLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMxRDtRQUNELElBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QixFQUFFLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFWixHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLE9BQVAsR0FBRyxFQUFRLE1BQU0sQ0FBQyxDQUFDO1FBQzlCLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVNLG1CQUFJLEdBQVgsVUFBWSxHQUFNO1FBQ2QsRUFBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2IsR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQ2pDLENBQUM7SUFFTSxvQkFBSyxHQUFaLFVBQWEsRUFBb0I7UUFDN0IsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDM0IsRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDNUI7UUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFHTyxzQkFBTyxHQUFmLFVBQWdCLElBQVk7UUFDeEIsSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN4QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTlCLElBQU0sR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQzlCLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDckIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7U0FDL0I7UUFFRCxLQUFJLElBQUksQ0FBQyxHQUFDLEdBQUcsRUFBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDM0I7UUFFRCxJQUFJLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQztJQUNyQixDQUFDO0lBQ0wsV0FBQztBQUFELENBN0RBLEFBNkRDLElBQUE7QUE3RFksb0JBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIElQb29sIHtcbiAgICB1c2U/KC4uLnBhcmFtczogYW55KTogYW55O1xuICAgIGZyZWU/KCk6IGFueTtcbn1cbmV4cG9ydCBjbGFzcyBQb29sPFQgZXh0ZW5kcyBJUG9vbD4ge1xuICAgIHByaXZhdGUgX2ZuOiAoKSA9PiBUO1xuICAgIHByaXZhdGUgX2lkeDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2ZyZWVzOiBUW107XG5cbiAgICBwdWJsaWMgZ2V0IGZyZWVDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZyZWVzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihmbjogKCkgPT4gVCwgc2l6ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2ZuID0gZm47XG4gICAgICAgIHRoaXMuX2lkeCA9IHNpemUgLSAxO1xuICAgICAgICB0aGlzLl9mcmVlcyA9IG5ldyBBcnJheTxUPihzaXplKTtcblxuICAgICAgICBmb3IobGV0IGk9MDsgaTxzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyZWVzW2ldID0gZm4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhbGxvYyguLi5wYXJhbXM6IGFueSk6IFQge1xuICAgICAgICBpZih0aGlzLl9pZHggPCAwKSB7XG4gICAgICAgICAgICB0aGlzLl9leHBhbmQoTWF0aC5yb3VuZCh0aGlzLl9mcmVlcy5sZW5ndGggKiAxLjIpICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5fZnJlZXNbdGhpcy5faWR4XTtcbiAgICAgICAgdGhpcy5fZnJlZXMuc3BsaWNlKHRoaXMuX2lkeCk7XG4gICAgICAgIC0tdGhpcy5faWR4O1xuXG4gICAgICAgIG9iai51c2UgJiYgb2JqLnVzZSguLi5wYXJhbXMpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIHB1YmxpYyBmcmVlKG9iajogVCkge1xuICAgICAgICArKyB0aGlzLl9pZHg7XG4gICAgICAgIG9iai5mcmVlICYmIG9iai5mcmVlKCk7XG4gICAgICAgIHRoaXMuX2ZyZWVzW3RoaXMuX2lkeF0gPSBvYmo7XG4gICAgfVxuXG4gICAgcHVibGljIGNsZWFyKGZuOiAob2JqOiBUKSA9PiB2b2lkKSB7XG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMuX2lkeDsgaSsrKSB7XG4gICAgICAgICAgICBmbiAmJiBmbih0aGlzLl9mcmVlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJlZXMuc3BsaWNlKDApO1xuICAgICAgICB0aGlzLl9pZHggPSAtMTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgX2V4cGFuZChzaXplOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3Qgb2xkID0gdGhpcy5fZnJlZXM7XG4gICAgICAgIHRoaXMuX2ZyZWVzID0gbmV3IEFycmF5KHNpemUpO1xuXG4gICAgICAgIGNvbnN0IGxlbiA9IHNpemUgLSBvbGQubGVuZ3RoO1xuICAgICAgICBmb3IobGV0IGk9MDsgaTxsZW47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fZnJlZXNbaV0gPSB0aGlzLl9mbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yKGxldCBpPWxlbixqPTA7IGk8c2l6ZTsgKytpLCArK2opIHtcbiAgICAgICAgICAgIHRoaXMuX2ZyZWVzW2ldID0gb2xkW2pdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faWR4ICs9IGxlbjtcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Light/LightUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cd1b9xWLxVAN7fJCCK/oCfF', 'LightUtils');
// Script/Common/Light/LightUtils.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LightUtils = /** @class */ (function () {
    function LightUtils() {
    }
    /** 获得所有射线与多边形的交点 */
    LightUtils.getIntersections = function (light, polygons) {
        var rayStart = light;
        var rayEnds = this.getRayEnds(polygons); // 
        var intersects = [];
        for (var _i = 0, rayEnds_1 = rayEnds; _i < rayEnds_1.length; _i++) {
            var rayEnd = rayEnds_1[_i];
            // 这里需要对rayend 进行一次分散, 因为在与多边形交点判断时, 需要判断光线在交点周围的情况
            var l = this.getNormal(rayEnd.sub(rayStart));
            for (var i = -1; i <= 1; i++) {
                var tmpRayEnd = rayEnd.add(l.mul(i * 0.001));
                var intersect = this.getIntersection(polygons, rayStart, tmpRayEnd);
                if (!intersect)
                    continue;
                // 计算角度 用来对交点进行排序
                intersect.angle = Math.atan2(tmpRayEnd.y - rayStart.y, tmpRayEnd.x - rayStart.x);
                intersects.push(intersect);
            }
        }
        intersects = intersects.sort(function (a, b) {
            return a.angle - b.angle; // 升序
        });
        return intersects;
    };
    /** 求垂直向量 */
    LightUtils.getNormal = function (line) {
        var l = line.normalize();
        var tmp = l.x;
        l.x = l.y;
        l.y = -tmp;
        return l;
    };
    /** 获得射线 */
    LightUtils.getRayEnds = function (polygons) {
        var rayEnds = [];
        for (var i = 0; i < polygons.length; i++) {
            var seg = polygons[i];
            for (var j = 0; j < seg.length; j++) {
                rayEnds.push(seg[j]);
            }
        }
        return rayEnds;
    };
    /** 获得射线和多边形们最近交点, 有很大的优化空间, 比如建立一个按角度划分的四叉树, 减少遍历次数 */
    LightUtils.getIntersection = function (polygons, rayStart, rayEnd) {
        var closestIntersect = null; // 交点
        for (var i = 0; i < polygons.length; i++) {
            var seg = polygons[i];
            for (var j = 0; j < seg.length; j++) {
                var intersect = this._doGetIntersection(rayStart, rayEnd, seg[j], j === seg.length - 1 ? seg[0] : seg[j + 1]);
                if (!intersect)
                    continue;
                if (!closestIntersect || intersect.len < closestIntersect.len) {
                    closestIntersect = intersect;
                }
            }
        }
        return closestIntersect;
    };
    /** 通过角度剔除交点, 角度是逆时针方向 */
    LightUtils.getIntersectionByAngle = function (startAngle, angleRange, light, polygons) {
        var endAngle = startAngle + angleRange;
        startAngle *= 0.017453;
        endAngle *= 0.017453;
        // 本质就是以light为原点搭建坐标系
        var rayEnd1 = cc.v2(Math.cos(startAngle), Math.sin(startAngle)).add(light);
        var rayEnd2 = cc.v2(Math.cos(endAngle), Math.sin(endAngle)).add(light);
        // 算交点
        var intersect1 = this.getIntersection(polygons, light, rayEnd1);
        intersect1.angle = startAngle;
        var intersect2 = this.getIntersection(polygons, light, rayEnd2);
        intersect2.angle = endAngle;
        // 获得所有交点
        var intersects = this.getIntersections(light, polygons);
        // 剔除角度外的交点, 这里可以优化, 因为intersects是有序的, 可以使用二分法查找
        // 二分法, 已优化
        var start = this.binarySearchIntersects(intersects, startAngle, true);
        var end = this.binarySearchIntersects(intersects, endAngle, false);
        intersects = intersects.slice(start, end + 1);
        intersects.unshift({ x: light.x, y: light.y, len: 0 }, intersect1);
        intersects.push(intersect2);
        return intersects;
    };
    LightUtils.binarySearchIntersects = function (arr, angle, findFlag) {
        if (findFlag === void 0) { findFlag = false; }
        var start = 0, end = arr.length - 1;
        while (end - start > 1) {
            var idx = Math.floor((start + end) / 2);
            if (angle < arr[idx].angle) {
                end = idx;
            }
            else if (angle > arr[idx].angle) {
                start = idx;
            }
            else {
                return idx;
            }
        }
        // 没有找到对应的值
        return findFlag ? end : start;
    };
    /** 寻找射线和线段的交点 */
    LightUtils._doGetIntersection = function (ray1, ray2, seg1, seg2) {
        var r_px = ray1.x;
        var r_py = ray1.y;
        var r_dx = ray2.x - ray1.x;
        var r_dy = ray2.y - ray1.y;
        var s_px = seg1.x;
        var s_py = seg1.y;
        var s_dx = seg2.x - seg1.x;
        var s_dy = seg2.y - seg1.y;
        // 射线长度
        var r_mag = r_dx * r_dx + r_dy * r_dy;
        // 线段长度
        var s_mag = s_dx * s_dx + s_dy * s_dy;
        // 两向量方向相同, return
        if (r_dx / r_mag == s_dx / s_mag && r_dy / r_mag == s_dy / s_mag)
            return null;
        var T2 = (r_dx * (s_py - r_py) + r_dy * (r_px - s_px)) / (s_dx * r_dy - s_dy * r_dx);
        var T1 = (s_px + s_dx * T2 - r_px) / r_dx;
        // Must be within parametic whatevers for RAY/SEGMENT
        if (T1 < 0)
            return null;
        if (T2 < 0 || T2 > 1)
            return null;
        // Return the POINT OF INTERSECTION
        return {
            x: r_px + r_dx * T1,
            y: r_py + r_dy * T1,
            len: T1
        };
    };
    return LightUtils;
}());
exports.default = LightUtils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL0xpZ2h0L0xpZ2h0VXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtJQUFBO0lBK0lBLENBQUM7SUE3SUcsb0JBQW9CO0lBQ04sMkJBQWdCLEdBQTlCLFVBQStCLEtBQWMsRUFBRSxRQUFxQjtRQUNoRSxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDckIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFZLEdBQUc7UUFDdkQsSUFBSSxVQUFVLEdBQW1CLEVBQUUsQ0FBQztRQUNwQyxLQUFvQixVQUFPLEVBQVAsbUJBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU8sRUFBRTtZQUF6QixJQUFNLE1BQU0sZ0JBQUE7WUFDWixtREFBbUQ7WUFFbkQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUE7WUFDNUMsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNyQixJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQzdDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxTQUFTLENBQUMsQ0FBQztnQkFDcEUsSUFBRyxDQUFDLFNBQVM7b0JBQUUsU0FBUztnQkFDeEIsaUJBQWlCO2dCQUVqQixTQUFTLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqRixVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQzlCO1NBQ0o7UUFDRCxVQUFVLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFTLENBQUMsRUFBQyxDQUFDO1lBQ3JDLE9BQU8sQ0FBQyxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSztRQUNqQyxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sVUFBVSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxZQUFZO0lBQ0csb0JBQVMsR0FBeEIsVUFBeUIsSUFBYTtRQUNsQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDekIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7UUFDckMsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsV0FBVztJQUNJLHFCQUFVLEdBQXpCLFVBQTBCLFFBQXFCO1FBQzNDLElBQUksT0FBTyxHQUFjLEVBQUUsQ0FBQztRQUM1QixLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQyxJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEIsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVCLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDeEI7U0FDSjtRQUNELE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7SUFFRCx1REFBdUQ7SUFDeEMsMEJBQWUsR0FBOUIsVUFBK0IsUUFBcUIsRUFBRSxRQUFpQixFQUFFLE1BQWU7UUFDcEYsSUFBSSxnQkFBZ0IsR0FBaUIsSUFBSSxDQUFDLENBQUUsS0FBSztRQUNqRCxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQyxJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEIsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVCLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssR0FBRyxDQUFDLE1BQU0sR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxRyxJQUFHLENBQUMsU0FBUztvQkFBRSxTQUFTO2dCQUN4QixJQUFHLENBQUMsZ0JBQWdCLElBQUksU0FBUyxDQUFDLEdBQUcsR0FBRyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUU7b0JBQzFELGdCQUFnQixHQUFHLFNBQVMsQ0FBQztpQkFDaEM7YUFDSjtTQUNKO1FBQ0QsT0FBTyxnQkFBZ0IsQ0FBQztJQUM1QixDQUFDO0lBRUQseUJBQXlCO0lBQ1gsaUNBQXNCLEdBQXBDLFVBQXFDLFVBQWtCLEVBQUUsVUFBa0IsRUFBRSxLQUFjLEVBQUUsUUFBcUI7UUFDOUcsSUFBSSxRQUFRLEdBQUcsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUN2QyxVQUFVLElBQUksUUFBUSxDQUFDO1FBQ3ZCLFFBQVEsSUFBSSxRQUFRLENBQUM7UUFDckIscUJBQXFCO1FBQ3JCLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNFLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXZFLE1BQU07UUFDTixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDaEUsVUFBVSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUM7UUFDOUIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2hFLFVBQVUsQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDO1FBRTVCLFNBQVM7UUFDVCxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3hELGdEQUFnRDtRQUNoRCxXQUFXO1FBQ1gsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFVBQVUsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEUsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbkUsVUFBVSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEdBQUcsR0FBQyxDQUFDLENBQUMsQ0FBQztRQUU1QyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBQyxFQUFFLFVBQVUsQ0FBQyxDQUFBO1FBQy9ELFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFNUIsT0FBTyxVQUFVLENBQUM7SUFDdEIsQ0FBQztJQUdjLGlDQUFzQixHQUFyQyxVQUFzQyxHQUFtQixFQUFFLEtBQWEsRUFBRSxRQUFnQjtRQUFoQix5QkFBQSxFQUFBLGdCQUFnQjtRQUN0RixJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDO1FBQ2xDLE9BQU0sR0FBRyxHQUFDLEtBQUssR0FBRyxDQUFDLEVBQUM7WUFDaEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN4QyxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFO2dCQUN4QixHQUFHLEdBQUcsR0FBRyxDQUFDO2FBQ2I7aUJBQU0sSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRTtnQkFDNUIsS0FBSyxHQUFHLEdBQUcsQ0FBQTthQUNqQjtpQkFBTTtnQkFDSCxPQUFPLEdBQUcsQ0FBQzthQUNkO1NBQ0o7UUFDRCxXQUFXO1FBQ1gsT0FBTyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxpQkFBaUI7SUFDRiw2QkFBa0IsR0FBakMsVUFBa0MsSUFBYSxFQUFFLElBQWEsRUFBRSxJQUFhLEVBQUUsSUFBYTtRQUN4RixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDbEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUUzQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDbEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUUzQixPQUFPO1FBQ1AsSUFBSSxLQUFLLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3RDLE9BQU87UUFDUCxJQUFJLEtBQUssR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUM7UUFDdEMsa0JBQWtCO1FBQ2xCLElBQUcsSUFBSSxHQUFHLEtBQUssSUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksR0FBRyxLQUFLLElBQUksSUFBSSxHQUFHLEtBQUs7WUFBRSxPQUFPLElBQUksQ0FBQztRQUU3RSxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ3JGLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBRTFDLHFEQUFxRDtRQUNyRCxJQUFHLEVBQUUsR0FBRyxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDdkIsSUFBRyxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFHakMsbUNBQW1DO1FBQ25DLE9BQU87WUFDSCxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFO1lBQ25CLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUU7WUFDbkIsR0FBRyxFQUFFLEVBQUU7U0FDVixDQUFDO0lBQ04sQ0FBQztJQUNMLGlCQUFDO0FBQUQsQ0EvSUEsQUErSUMsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludGVyc2VjdGlvbiB9IGZyb20gXCIuL0xpZ2h0U3RydWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpZ2h0VXRpbHMge1xuXG4gICAgLyoqIOiOt+W+l+aJgOacieWwhOe6v+S4juWkmui+ueW9oueahOS6pOeCuSAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW50ZXJzZWN0aW9ucyhsaWdodDogY2MuVmVjMiwgcG9seWdvbnM6IGNjLlZlYzJbXVtdKSB7XG4gICAgICAgIGxldCByYXlTdGFydCA9IGxpZ2h0O1xuICAgICAgICBsZXQgcmF5RW5kcyA9IHRoaXMuZ2V0UmF5RW5kcyhwb2x5Z29ucyk7ICAgICAgICAgICAgLy8gXG4gICAgICAgIGxldCBpbnRlcnNlY3RzOiBJbnRlcnNlY3Rpb25bXSA9IFtdO1xuICAgICAgICBmb3IoY29uc3QgcmF5RW5kIG9mIHJheUVuZHMpIHtcbiAgICAgICAgICAgIC8vIOi/memHjOmcgOimgeWvuXJheWVuZCDov5vooYzkuIDmrKHliIbmlaMsIOWboOS4uuWcqOS4juWkmui+ueW9ouS6pOeCueWIpOaWreaXtiwg6ZyA6KaB5Yik5pat5YWJ57q/5Zyo5Lqk54K55ZGo5Zu055qE5oOF5Ya1XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBsID0gdGhpcy5nZXROb3JtYWwocmF5RW5kLnN1YihyYXlTdGFydCkpXG4gICAgICAgICAgICBmb3IobGV0IGk9LTE7IGk8PTE7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCB0bXBSYXlFbmQgPSByYXlFbmQuYWRkKGwubXVsKGkgKiAwLjAwMSkpO1xuICAgICAgICAgICAgICAgIGxldCBpbnRlcnNlY3QgPSB0aGlzLmdldEludGVyc2VjdGlvbihwb2x5Z29ucywgcmF5U3RhcnQsIHRtcFJheUVuZCk7XG4gICAgICAgICAgICAgICAgaWYoIWludGVyc2VjdCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8g6K6h566X6KeS5bqmIOeUqOadpeWvueS6pOeCuei/m+ihjOaOkuW6j1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGludGVyc2VjdC5hbmdsZSA9IE1hdGguYXRhbjIodG1wUmF5RW5kLnkgLSByYXlTdGFydC55LCB0bXBSYXlFbmQueCAtIHJheVN0YXJ0LngpO1xuICAgICAgICAgICAgICAgIGludGVyc2VjdHMucHVzaChpbnRlcnNlY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGludGVyc2VjdHMgPSBpbnRlcnNlY3RzLnNvcnQoZnVuY3Rpb24oYSxiKXtcbiAgICAgICAgICAgIHJldHVybiBhLmFuZ2xlLWIuYW5nbGU7IC8vIOWNh+W6j1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gaW50ZXJzZWN0cztcbiAgICB9XG5cbiAgICAvKiog5rGC5Z6C55u05ZCR6YePICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0Tm9ybWFsKGxpbmU6IGNjLlZlYzIpIHtcbiAgICAgICAgbGV0IGwgPSBsaW5lLm5vcm1hbGl6ZSgpO1xuICAgICAgICBsZXQgdG1wID0gbC54OyBsLnggPSBsLnk7IGwueSA9IC10bXA7XG4gICAgICAgIHJldHVybiBsO1xuICAgIH1cblxuICAgIC8qKiDojrflvpflsITnur8gKi9cbiAgICBwcml2YXRlIHN0YXRpYyBnZXRSYXlFbmRzKHBvbHlnb25zOiBjYy5WZWMyW11bXSkge1xuICAgICAgICBsZXQgcmF5RW5kczogY2MuVmVjMltdID0gW107XG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHBvbHlnb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc2VnID0gcG9seWdvbnNbaV07XG4gICAgICAgICAgICBmb3IobGV0IGo9MDsgajxzZWcubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICByYXlFbmRzLnB1c2goc2VnW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmF5RW5kcztcbiAgICB9XG5cbiAgICAvKiog6I635b6X5bCE57q/5ZKM5aSa6L655b2i5Lus5pyA6L+R5Lqk54K5LCDmnInlvojlpKfnmoTkvJjljJbnqbrpl7QsIOavlOWmguW7uueri+S4gOS4quaMieinkuW6puWIkuWIhueahOWbm+WPieagkSwg5YeP5bCR6YGN5Y6G5qyh5pWwICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW50ZXJzZWN0aW9uKHBvbHlnb25zOiBjYy5WZWMyW11bXSwgcmF5U3RhcnQ6IGNjLlZlYzIsIHJheUVuZDogY2MuVmVjMikge1xuICAgICAgICBsZXQgY2xvc2VzdEludGVyc2VjdDogSW50ZXJzZWN0aW9uID0gbnVsbDsgIC8vIOS6pOeCuVxuICAgICAgICBmb3IobGV0IGk9MDsgaTxwb2x5Z29ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNlZyA9IHBvbHlnb25zW2ldO1xuICAgICAgICAgICAgZm9yKGxldCBqPTA7IGo8c2VnLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGludGVyc2VjdCA9IHRoaXMuX2RvR2V0SW50ZXJzZWN0aW9uKHJheVN0YXJ0LCByYXlFbmQsIHNlZ1tqXSwgaiA9PT0gc2VnLmxlbmd0aC0xID8gc2VnWzBdIDogc2VnW2orMV0pO1xuICAgICAgICAgICAgICAgIGlmKCFpbnRlcnNlY3QpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmKCFjbG9zZXN0SW50ZXJzZWN0IHx8IGludGVyc2VjdC5sZW4gPCBjbG9zZXN0SW50ZXJzZWN0Lmxlbikge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZXN0SW50ZXJzZWN0ID0gaW50ZXJzZWN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvc2VzdEludGVyc2VjdDtcbiAgICB9XG5cbiAgICAvKiog6YCa6L+H6KeS5bqm5YmU6Zmk5Lqk54K5LCDop5LluqbmmK/pgIbml7bpkojmlrnlkJEgKi9cbiAgICBwdWJsaWMgc3RhdGljIGdldEludGVyc2VjdGlvbkJ5QW5nbGUoc3RhcnRBbmdsZTogbnVtYmVyLCBhbmdsZVJhbmdlOiBudW1iZXIsIGxpZ2h0OiBjYy5WZWMyLCBwb2x5Z29uczogY2MuVmVjMltdW10pIHtcbiAgICAgICAgbGV0IGVuZEFuZ2xlID0gc3RhcnRBbmdsZSArIGFuZ2xlUmFuZ2U7XG4gICAgICAgIHN0YXJ0QW5nbGUgKj0gMC4wMTc0NTM7XG4gICAgICAgIGVuZEFuZ2xlICo9IDAuMDE3NDUzO1xuICAgICAgICAvLyDmnKzotKjlsLHmmK/ku6VsaWdodOS4uuWOn+eCueaQreW7uuWdkOagh+ezu1xuICAgICAgICBsZXQgcmF5RW5kMSA9IGNjLnYyKE1hdGguY29zKHN0YXJ0QW5nbGUpLCBNYXRoLnNpbihzdGFydEFuZ2xlKSkuYWRkKGxpZ2h0KTtcbiAgICAgICAgbGV0IHJheUVuZDIgPSBjYy52MihNYXRoLmNvcyhlbmRBbmdsZSksIE1hdGguc2luKGVuZEFuZ2xlKSkuYWRkKGxpZ2h0KTtcblxuICAgICAgICAvLyDnrpfkuqTngrlcbiAgICAgICAgbGV0IGludGVyc2VjdDEgPSB0aGlzLmdldEludGVyc2VjdGlvbihwb2x5Z29ucywgbGlnaHQsIHJheUVuZDEpO1xuICAgICAgICBpbnRlcnNlY3QxLmFuZ2xlID0gc3RhcnRBbmdsZTtcbiAgICAgICAgbGV0IGludGVyc2VjdDIgPSB0aGlzLmdldEludGVyc2VjdGlvbihwb2x5Z29ucywgbGlnaHQsIHJheUVuZDIpO1xuICAgICAgICBpbnRlcnNlY3QyLmFuZ2xlID0gZW5kQW5nbGU7XG5cbiAgICAgICAgLy8g6I635b6X5omA5pyJ5Lqk54K5XG4gICAgICAgIGxldCBpbnRlcnNlY3RzID0gdGhpcy5nZXRJbnRlcnNlY3Rpb25zKGxpZ2h0LCBwb2x5Z29ucyk7XG4gICAgICAgIC8vIOWJlOmZpOinkuW6puWklueahOS6pOeCuSwg6L+Z6YeM5Y+v5Lul5LyY5YyWLCDlm6DkuLppbnRlcnNlY3Rz5piv5pyJ5bqP55qELCDlj6/ku6Xkvb/nlKjkuozliIbms5Xmn6Xmib5cbiAgICAgICAgLy8g5LqM5YiG5rOVLCDlt7LkvJjljJZcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5iaW5hcnlTZWFyY2hJbnRlcnNlY3RzKGludGVyc2VjdHMsIHN0YXJ0QW5nbGUsIHRydWUpO1xuICAgICAgICBsZXQgZW5kID0gdGhpcy5iaW5hcnlTZWFyY2hJbnRlcnNlY3RzKGludGVyc2VjdHMsIGVuZEFuZ2xlLCBmYWxzZSk7XG4gICAgICAgIGludGVyc2VjdHMgPSBpbnRlcnNlY3RzLnNsaWNlKHN0YXJ0LCBlbmQrMSk7XG5cbiAgICAgICAgaW50ZXJzZWN0cy51bnNoaWZ0KHt4OmxpZ2h0LngsIHk6IGxpZ2h0LnksIGxlbjogMH0sIGludGVyc2VjdDEpXG4gICAgICAgIGludGVyc2VjdHMucHVzaChpbnRlcnNlY3QyKTtcblxuICAgICAgICByZXR1cm4gaW50ZXJzZWN0cztcbiAgICB9XG5cblxuICAgIHByaXZhdGUgc3RhdGljIGJpbmFyeVNlYXJjaEludGVyc2VjdHMoYXJyOiBJbnRlcnNlY3Rpb25bXSwgYW5nbGU6IG51bWJlciwgZmluZEZsYWcgPSBmYWxzZSkge1xuICAgICAgICBsZXQgc3RhcnQgPSAwLCBlbmQgPSBhcnIubGVuZ3RoLTE7XG4gICAgICAgIHdoaWxlKGVuZC1zdGFydCA+IDEpe1xuICAgICAgICAgICAgbGV0IGlkeCA9IE1hdGguZmxvb3IoKHN0YXJ0ICsgZW5kKSAvIDIpO1xuICAgICAgICAgICAgaWYgKGFuZ2xlIDwgYXJyW2lkeF0uYW5nbGUpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpZHg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFuZ2xlID4gYXJyW2lkeF0uYW5nbGUpIHtcbiAgICAgICAgICAgICAgICAgICBzdGFydCA9IGlkeFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIOayoeacieaJvuWIsOWvueW6lOeahOWAvFxuICAgICAgICByZXR1cm4gZmluZEZsYWcgPyBlbmQgOiBzdGFydDtcbiAgICB9XG5cbiAgICAvKiog5a+75om+5bCE57q/5ZKM57q/5q6155qE5Lqk54K5ICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2RvR2V0SW50ZXJzZWN0aW9uKHJheTE6IGNjLlZlYzIsIHJheTI6IGNjLlZlYzIsIHNlZzE6IGNjLlZlYzIsIHNlZzI6IGNjLlZlYzIpIHtcbiAgICAgICAgbGV0IHJfcHggPSByYXkxLng7XG4gICAgICAgIGxldCByX3B5ID0gcmF5MS55O1xuICAgICAgICBsZXQgcl9keCA9IHJheTIueCAtIHJheTEueDtcbiAgICAgICAgbGV0IHJfZHkgPSByYXkyLnkgLSByYXkxLnk7XG5cbiAgICAgICAgbGV0IHNfcHggPSBzZWcxLng7XG4gICAgICAgIGxldCBzX3B5ID0gc2VnMS55O1xuICAgICAgICBsZXQgc19keCA9IHNlZzIueCAtIHNlZzEueDtcbiAgICAgICAgbGV0IHNfZHkgPSBzZWcyLnkgLSBzZWcxLnk7XG5cbiAgICAgICAgLy8g5bCE57q/6ZW/5bqmXG4gICAgICAgIGxldCByX21hZyA9IHJfZHggKiByX2R4ICsgcl9keSAqIHJfZHk7XG4gICAgICAgIC8vIOe6v+autemVv+W6plxuICAgICAgICBsZXQgc19tYWcgPSBzX2R4ICogc19keCArIHNfZHkgKiBzX2R5O1xuICAgICAgICAvLyDkuKTlkJHph4/mlrnlkJHnm7jlkIwsIHJldHVyblxuICAgICAgICBpZihyX2R4IC8gcl9tYWcgPT0gc19keCAvIHNfbWFnICYmIHJfZHkgLyByX21hZyA9PSBzX2R5IC8gc19tYWcpIHJldHVybiBudWxsO1xuXG4gICAgICAgIGxldCBUMiA9IChyX2R4ICogKHNfcHkgLSByX3B5KSArIHJfZHkgKiAocl9weCAtIHNfcHgpKSAvIChzX2R4ICogcl9keSAtIHNfZHkgKiByX2R4KTtcbiAgICAgICAgbGV0IFQxID0gKHNfcHggKyBzX2R4ICogVDIgLSByX3B4KSAvIHJfZHg7XG5cbiAgICAgICAgLy8gTXVzdCBiZSB3aXRoaW4gcGFyYW1ldGljIHdoYXRldmVycyBmb3IgUkFZL1NFR01FTlRcbiAgICAgICAgaWYoVDEgPCAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYoVDIgPCAwIHx8IFQyID4gMSkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgICAgIFxuICAgICAgICAvLyBSZXR1cm4gdGhlIFBPSU5UIE9GIElOVEVSU0VDVElPTlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcl9weCArIHJfZHggKiBUMSxcbiAgICAgICAgICAgIHk6IHJfcHkgKyByX2R5ICogVDEsXG4gICAgICAgICAgICBsZW46IFQxXG4gICAgICAgIH07XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/PolygonUtil.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '97fd0nhC4FP37VI4oHddHl0', 'PolygonUtil');
// Script/Common/Utils/PolygonUtil.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PolygonUtil = void 0;
var PolygonUtil = /** @class */ (function () {
    function PolygonUtil() {
    }
    /**
     *
     * @param l0
     * @param l1
     * @param polygon 逆时针
     * @param useDichotomy
     */
    PolygonUtil.splitPolygonByLine = function (l0, l1, polygon, useDichotomy) {
        if (useDichotomy === void 0) { useDichotomy = false; }
        var result = [];
        for (var i = polygon.length - 1; i >= 0; i--) {
            var p0 = polygon[i], p1 = i == 0 ? polygon[polygon.length - 1] : polygon[i - 1];
            var _a = this.lineCrossPoint(p0, p1, l0, l1), n = _a[0], p = _a[1];
            if (n == -1)
                continue;
            polygon.splice(i, -1, p);
            result.push(i + 1);
        }
        return result;
    };
    //求两条线段的交点
    //返回值：[n,p] n:0相交，1在共有点，-1不相交  p:交点
    PolygonUtil.lineCrossPoint = function (p1, p2, q1, q2) {
        var a = p1, b = p2, c = q1, d = q2;
        var s1, s2, s3, s4;
        var d1, d2, d3, d4;
        var p = new cc.Vec2(0, 0);
        d1 = this.dblcmp(s1 = this.ab_cross_ac(a, b, c), 0);
        d2 = this.dblcmp(s2 = this.ab_cross_ac(a, b, d), 0);
        d3 = this.dblcmp(s3 = this.ab_cross_ac(c, d, a), 0);
        d4 = this.dblcmp(s4 = this.ab_cross_ac(c, d, b), 0);
        //如果规范相交则求交点
        if ((d1 ^ d2) == -2 && (d3 ^ d4) == -2) {
            p.x = (c.x * s2 - d.x * s1) / (s2 - s1);
            p.y = (c.y * s2 - d.y * s1) / (s2 - s1);
            return [0, p];
        }
        //如果不规范相交
        if (d1 == 0 && this.point_on_line(c, a, b) <= 0) {
            p = c;
            return [1, p];
        }
        if (d2 == 0 && this.point_on_line(d, a, b) <= 0) {
            p = d;
            return [1, p];
        }
        if (d3 == 0 && this.point_on_line(a, c, d) <= 0) {
            p = a;
            return [1, p];
        }
        if (d4 == 0 && this.point_on_line(b, c, d) <= 0) {
            p = b;
            return [1, p];
        }
        //如果不相交
        return [-1, null];
    };
    //两条线段是否跨立
    //即非平行
    PolygonUtil.isLineSegmentCross = function (P1, P2, Q1, Q2) {
        if (((Q1.x - P1.x) * (Q1.y - Q2.y) - (Q1.y - P1.y) * (Q1.x - Q2.x)) * ((Q1.x - P2.x) * (Q1.y - Q2.y) - (Q1.y - P2.y) * (Q1.x - Q2.x)) < 0 ||
            ((P1.x - Q1.x) * (P1.y - P2.y) - (P1.y - Q1.y) * (P1.x - P2.x)) * ((P1.x - Q2.x) * (P1.y - P2.y) - (P1.y - Q2.y) * (P1.x - P2.x)) < 0) {
            return true;
        }
        return false;
    };
    //求a点是不是在线段上，>0不在，=0与端点重合，<0在。
    PolygonUtil.point_on_line = function (a, p1, p2) {
        return this.dblcmp(this.dot(p1.x - a.x, p1.y - a.y, p2.x - a.x, p2.y - a.y), 0);
    };
    //点发出的右射线和线段的关系
    // 返回值: -1:不相交, 0:相交, 1:点在线段上
    PolygonUtil.rayPointToLine = function (point, linePA, linePB) {
        // 定义最小和最大的X Y轴值  
        var minX = Math.min(linePA.x, linePB.x);
        var maxX = Math.max(linePA.x, linePB.x);
        var minY = Math.min(linePA.y, linePB.y);
        var maxY = Math.max(linePA.y, linePB.y);
        // 射线与边无交点的其他情况  
        if (point.y < minY || point.y > maxY || point.x > maxX) {
            return -1;
        }
        // 剩下的情况, 计算射线与边所在的直线的交点的横坐标  
        var x0 = linePA.x + ((linePB.x - linePA.x) / (linePB.y - linePA.y)) * (point.y - linePA.y);
        if (x0 > point.x) {
            return 0;
        }
        if (x0 == point.x) {
            return 1;
        }
        return -1;
    };
    //点和多边形的关系
    //返回值: -1:在多边形外部, 0:在多边形内部, 1:在多边形边线内, 2:跟多边形某个顶点重合
    PolygonUtil.relationPointToPolygon = function (point, polygon) {
        var count = 0;
        for (var i = 0; i < polygon.length; ++i) {
            if (polygon[i].equals(point)) {
                return 2;
            }
            var pa = polygon[i];
            var pb = polygon[0];
            if (i < polygon.length - 1) {
                pb = polygon[i + 1];
            }
            var re = this.rayPointToLine(point, pa, pb);
            if (re == 1) {
                return 1;
            }
            if (re == 0) {
                count++;
            }
        }
        if (count % 2 == 0) {
            return -1;
        }
        return 0;
    };
    //线段对多边形进行切割
    //返回多边形数组
    //如果没有被切割，返回空数组
    PolygonUtil.lineCutPolygon = function (pa, pb, polygon) {
        var ret = [];
        var points = [];
        var pointIndex = [];
        //将所有的点以及交点组成一个点序列
        for (var i = 0; i < polygon.length; ++i) {
            points.push(polygon[i]);
            var a = polygon[i];
            var b = polygon[0];
            if (i < polygon.length - 1)
                b = polygon[i + 1];
            var c = this.lineCrossPoint(pa, pb, a, b);
            if (c[0] == 0) {
                pointIndex.push(points.length);
                points.push(c[1]);
            }
            else if (c[0] > 0) {
                if (c[1].equals(a)) {
                    pointIndex.push(points.length - 1);
                }
                else {
                    pointIndex.push(points.length);
                }
            }
        }
        if (pointIndex.length > 1) {
            //准备从第一个交点开始拆，先弄清楚第一个交点是由外穿内，还是内穿外
            var cp0 = points[pointIndex[0]];
            var cp1 = points[pointIndex[1]];
            var r = this.relationPointToPolygon(new cc.Vec2((cp0.x + cp1.x) / 2, (cp0.y + cp1.y) / 2), polygon);
            var inPolygon = r >= 0;
            // if(pointIndex.length > 2 && cc.pDistance(cp0,cp1) > cc.pDistance(cp0,points[pointIndex[pointIndex.length-1]])) {
            if (pointIndex.length > 2 && cp0.sub(cp1).mag() > cp0.sub(points[pointIndex[pointIndex.length - 1]]).mag()) {
                cp1 = points[pointIndex[pointIndex.length - 1]];
                r = this.relationPointToPolygon(new cc.Vec2((cp0.x + cp1.x) / 2, (cp0.y + cp1.y) / 2), polygon);
                inPolygon = r < 0;
            }
            var firstInPolygon = inPolygon; //起始点是从外面穿到里面
            var index = 0;
            var startIndex = pointIndex[index];
            var oldPoints = [];
            var newPoints = [];
            var count = 0;
            oldPoints.push(points[startIndex]);
            if (inPolygon) {
                newPoints.push(points[startIndex]);
            }
            index++;
            count++;
            startIndex++;
            while (count < points.length) {
                if (startIndex == points.length)
                    startIndex = 0;
                var p = points[startIndex];
                if (index >= 0 && startIndex == pointIndex[index]) {
                    //又是一个交点
                    index++;
                    if (index >= pointIndex.length)
                        index = 0;
                    if (inPolygon) {
                        //原来是在多边形内部
                        //产生了新的多边形
                        newPoints.push(p);
                        ret.push(newPoints);
                        newPoints = [];
                    }
                    else {
                        //开始新的多边形
                        newPoints = [];
                        newPoints.push(p);
                    }
                    oldPoints.push(p);
                    inPolygon = !inPolygon;
                }
                else {
                    //普通的点
                    if (inPolygon) {
                        newPoints.push(p);
                    }
                    else {
                        oldPoints.push(p);
                    }
                }
                startIndex++;
                count++;
            }
            if (inPolygon) {
                if (!firstInPolygon && newPoints.length > 1) {
                    //如果起始点是从里面穿出去，到这里跟起始点形成闭包
                    newPoints.push(points[pointIndex[0]]);
                    ret.push(newPoints);
                }
                else {
                    //结束了，但是现在的状态是穿在多边形内部
                    //把newPoints里面的回复到主多边形中
                    for (var i = 0; i < newPoints.length; ++i) {
                        oldPoints.push(newPoints[i]);
                    }
                }
            }
            ret.push(oldPoints);
        }
        return ret;
    };
    PolygonUtil.ab_cross_ac = function (a, b, c) {
        return this.cross(b.x - a.x, b.y - a.y, c.x - a.x, c.y - a.y);
    };
    PolygonUtil.dot = function (x1, y1, x2, y2) {
        return x1 * x2 + y1 * y2;
    };
    PolygonUtil.cross = function (x1, y1, x2, y2) {
        return x1 * y2 - x2 * y1;
    };
    PolygonUtil.dblcmp = function (a, b) {
        if (Math.abs(a - b) <= 0.000001)
            return 0;
        if (a > b)
            return 1;
        else
            return -1;
    };
    return PolygonUtil;
}());
exports.PolygonUtil = PolygonUtil;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL1BvbHlnb25VdGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUF5U0EsQ0FBQztJQXhTRzs7Ozs7O09BTUc7SUFDVyw4QkFBa0IsR0FBaEMsVUFBaUMsRUFBVyxFQUFFLEVBQVcsRUFBRSxPQUFrQixFQUFFLFlBQW9CO1FBQXBCLDZCQUFBLEVBQUEsb0JBQW9CO1FBQy9GLElBQUksTUFBTSxHQUFhLEVBQUUsQ0FBQztRQUMxQixLQUFJLElBQUksQ0FBQyxHQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFFLENBQUMsSUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUNuQixFQUFFLEdBQUcsQ0FBQyxJQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakQsSUFBQSxLQUFTLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQTNDLENBQUMsUUFBQSxFQUFFLENBQUMsUUFBdUMsQ0FBQztZQUNqRCxJQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQUUsU0FBUztZQUNyQixPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQztTQUNwQjtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFDRCxVQUFVO0lBQ1YsbUNBQW1DO0lBQ3JCLDBCQUFjLEdBQTVCLFVBQTZCLEVBQVUsRUFBQyxFQUFVLEVBQUMsRUFBVSxFQUFDLEVBQVU7UUFDcEUsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFDLENBQUMsR0FBRyxFQUFFLEVBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hDLElBQUksRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxDQUFDO1FBQ2hCLElBQUksRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxHQUFXLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakMsRUFBRSxHQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxFQUFFLEdBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdDLEVBQUUsR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0MsRUFBRSxHQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUU3QyxZQUFZO1FBQ1osSUFBSSxDQUFDLEVBQUUsR0FBQyxFQUFFLENBQUMsSUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxFQUFFLENBQUMsSUFBRSxDQUFDLENBQUMsRUFDOUI7WUFDSSxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsR0FBQyxDQUFDLEVBQUUsR0FBQyxFQUFFLENBQUMsQ0FBQztZQUM1QixDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsR0FBQyxDQUFDLEVBQUUsR0FBQyxFQUFFLENBQUMsQ0FBQztZQUM1QixPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hCO1FBRUQsU0FBUztRQUNULElBQUksRUFBRSxJQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLElBQUUsQ0FBQyxFQUN6QztZQUNJLENBQUMsR0FBQyxDQUFDLENBQUM7WUFDSixPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hCO1FBQ0QsSUFBSSxFQUFFLElBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsSUFBRSxDQUFDLEVBQ3pDO1lBQ0ksQ0FBQyxHQUFDLENBQUMsQ0FBQztZQUNKLE9BQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEI7UUFDRCxJQUFJLEVBQUUsSUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxJQUFFLENBQUMsRUFDekM7WUFDSSxDQUFDLEdBQUMsQ0FBQyxDQUFDO1lBQ0osT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUNoQjtRQUNELElBQUksRUFBRSxJQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLElBQUUsQ0FBQyxFQUN6QztZQUNJLENBQUMsR0FBQyxDQUFDLENBQUM7WUFDSixPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hCO1FBQ0wsT0FBTztRQUNILE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBQ0QsVUFBVTtJQUNWLE1BQU07SUFDUSw4QkFBa0IsR0FBaEMsVUFBaUMsRUFBVSxFQUFDLEVBQVUsRUFBQyxFQUFVLEVBQUMsRUFBVTtRQUV4RSxJQUNJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBRSxFQUFFLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7WUFDMUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUU5RztZQUNJLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsOEJBQThCO0lBQ2hCLHlCQUFhLEdBQTNCLFVBQTRCLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRTtRQUUvQixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxFQUFFLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBQ0QsZUFBZTtJQUNmLDZCQUE2QjtJQUNmLDBCQUFjLEdBQTVCLFVBQTZCLEtBQWEsRUFBQyxNQUFjLEVBQUMsTUFBYztRQUNwRSxrQkFBa0I7UUFDbEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV2QyxpQkFBaUI7UUFDakIsSUFBSSxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRTtZQUNwRCxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQ2I7UUFFRCw4QkFBOEI7UUFDOUIsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0YsSUFBRyxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFDZjtZQUNJLE9BQU8sQ0FBQyxDQUFDO1NBQ1o7UUFDRCxJQUFHLEVBQUUsSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUNoQjtZQUNJLE9BQU8sQ0FBQyxDQUFDO1NBQ1o7UUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ2QsQ0FBQztJQUVELFVBQVU7SUFDVixtREFBbUQ7SUFDckMsa0NBQXNCLEdBQXBDLFVBQXFDLEtBQWEsRUFBQyxPQUFpQjtRQUVoRSxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZCxLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDLEdBQUMsT0FBTyxDQUFDLE1BQU0sRUFBQyxFQUFFLENBQUMsRUFDbEM7WUFDSSxJQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQzNCO2dCQUNJLE9BQU8sQ0FBQyxDQUFDO2FBQ1o7WUFFRCxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEIsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLElBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEdBQUUsQ0FBQyxFQUN4QjtnQkFDSSxFQUFFLEdBQUcsT0FBTyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQzthQUNyQjtZQUVELElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztZQUMxQyxJQUFHLEVBQUUsSUFBSSxDQUFDLEVBQ1Y7Z0JBQ0ksT0FBTyxDQUFDLENBQUM7YUFDWjtZQUNELElBQUcsRUFBRSxJQUFJLENBQUMsRUFDVjtnQkFDSSxLQUFLLEVBQUUsQ0FBQzthQUNYO1NBQ0o7UUFDRCxJQUFHLEtBQUssR0FBRSxDQUFDLElBQUksQ0FBQyxFQUNoQjtZQUNJLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDYjtRQUNELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUVELFlBQVk7SUFDWixTQUFTO0lBQ1QsZUFBZTtJQUNELDBCQUFjLEdBQTVCLFVBQTZCLEVBQVUsRUFBQyxFQUFVLEVBQUMsT0FBaUI7UUFDaEUsSUFBSSxHQUFHLEdBQW9CLEVBQUUsQ0FBQztRQUU5QixJQUFJLE1BQU0sR0FBYSxFQUFFLENBQUM7UUFDMUIsSUFBSSxVQUFVLEdBQVksRUFBRSxDQUFDO1FBRTdCLGtCQUFrQjtRQUNsQixLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDLEdBQUMsT0FBTyxDQUFDLE1BQU0sRUFBQyxFQUFFLENBQUMsRUFDbEM7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXhCLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuQixJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sR0FBRSxDQUFDO2dCQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTNDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkMsSUFBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFDO2dCQUNULFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMvQixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQVksQ0FBQyxDQUFDO2FBQ2hDO2lCQUNJLElBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFDaEI7Z0JBQ0ksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUM5QjtvQkFDSSxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ3BDO3FCQUVEO29CQUNJLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUNsQzthQUNKO1NBQ0o7UUFDRCxJQUFHLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUN4QjtZQUNJLGtDQUFrQztZQUNsQyxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWhDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBQyxPQUFPLENBQUMsQ0FBQztZQUM1RixJQUFJLFNBQVMsR0FBVyxDQUFDLElBQUcsQ0FBQyxDQUFDO1lBRTlCLG1IQUFtSDtZQUNuSCxJQUFHLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO2dCQUNyRyxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzlDLENBQUMsR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEVBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ3hGLFNBQVMsR0FBRyxDQUFDLEdBQUUsQ0FBQyxDQUFDO2FBQ3BCO1lBRUQsSUFBSSxjQUFjLEdBQUcsU0FBUyxDQUFDLENBQUEsYUFBYTtZQUU1QyxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDZCxJQUFJLFVBQVUsR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkMsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDO1lBQ25CLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQztZQUNuQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7WUFFZCxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1lBQ25DLElBQUcsU0FBUyxFQUNaO2dCQUNJLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7YUFDdEM7WUFFRCxLQUFLLEVBQUUsQ0FBQztZQUNSLEtBQUssRUFBRSxDQUFDO1lBQ1IsVUFBVSxFQUFFLENBQUM7WUFFYixPQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsTUFBTSxFQUMzQjtnQkFDSSxJQUFHLFVBQVUsSUFBSSxNQUFNLENBQUMsTUFBTTtvQkFBRSxVQUFVLEdBQUcsQ0FBQyxDQUFDO2dCQUMvQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzNCLElBQUcsS0FBSyxJQUFJLENBQUMsSUFBSSxVQUFVLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUNoRDtvQkFDSSxRQUFRO29CQUNSLEtBQUssRUFBRSxDQUFDO29CQUNSLElBQUcsS0FBSyxJQUFJLFVBQVUsQ0FBQyxNQUFNO3dCQUFFLEtBQUssR0FBRyxDQUFDLENBQUM7b0JBQ3pDLElBQUcsU0FBUyxFQUFDO3dCQUNULFdBQVc7d0JBQ1gsVUFBVTt3QkFDVixTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNsQixHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUNwQixTQUFTLEdBQUcsRUFBRSxDQUFDO3FCQUNsQjt5QkFFRDt3QkFDSSxTQUFTO3dCQUNULFNBQVMsR0FBRyxFQUFFLENBQUM7d0JBQ2YsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDckI7b0JBQ0QsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDbEIsU0FBUyxHQUFHLENBQUMsU0FBUyxDQUFDO2lCQUMxQjtxQkFFRDtvQkFDSSxNQUFNO29CQUNOLElBQUcsU0FBUyxFQUNaO3dCQUNJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ3JCO3lCQUVEO3dCQUNJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ3JCO2lCQUNKO2dCQUNELFVBQVUsRUFBRSxDQUFDO2dCQUNiLEtBQUssRUFBRSxDQUFDO2FBQ1g7WUFDRCxJQUFHLFNBQVMsRUFDWjtnQkFDSSxJQUFHLENBQUMsY0FBYyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUMxQztvQkFDSSwwQkFBMEI7b0JBQzFCLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3RDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7aUJBQ3ZCO3FCQUVEO29CQUNJLHFCQUFxQjtvQkFDckIsdUJBQXVCO29CQUN2QixLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDLEdBQUMsU0FBUyxDQUFDLE1BQU0sRUFBQyxFQUFFLENBQUMsRUFDcEM7d0JBQ0ksU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDaEM7aUJBQ0o7YUFFSjtZQUVELEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDdkI7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFHYyx1QkFBVyxHQUExQixVQUEyQixDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7UUFFNUIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFDYyxlQUFHLEdBQWxCLFVBQW1CLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUU7UUFDMUIsT0FBTyxFQUFFLEdBQUMsRUFBRSxHQUFDLEVBQUUsR0FBQyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUNjLGlCQUFLLEdBQXBCLFVBQXFCLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUU7UUFDNUIsT0FBTyxFQUFFLEdBQUMsRUFBRSxHQUFHLEVBQUUsR0FBQyxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUNjLGtCQUFNLEdBQXJCLFVBQXNCLENBQVEsRUFBQyxDQUFRO1FBRW5DLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLElBQUUsUUFBUTtZQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxHQUFDLENBQUM7WUFBRSxPQUFPLENBQUMsQ0FBQzs7WUFDYixPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFDTCxrQkFBQztBQUFELENBelNBLEFBeVNDLElBQUE7QUF6U1ksa0NBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUG9seWdvblV0aWwge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBsMCBcbiAgICAgKiBAcGFyYW0gbDEgXG4gICAgICogQHBhcmFtIHBvbHlnb24g6YCG5pe26ZKIXG4gICAgICogQHBhcmFtIHVzZURpY2hvdG9teSBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHNwbGl0UG9seWdvbkJ5TGluZShsMDogY2MuVmVjMiwgbDE6IGNjLlZlYzIsIHBvbHlnb246IGNjLlZlYzJbXSwgdXNlRGljaG90b215ID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdDogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPXBvbHlnb24ubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHAwID0gcG9seWdvbltpXSwgXG4gICAgICAgICAgICBwMSA9IGk9PTAgPyBwb2x5Z29uW3BvbHlnb24ubGVuZ3RoLTFdIDogcG9seWdvbltpLTFdO1xuICAgICAgICAgICAgbGV0IFtuLCBwXSA9IHRoaXMubGluZUNyb3NzUG9pbnQocDAsIHAxLCBsMCwgbDEpO1xuICAgICAgICAgICAgaWYobiA9PSAtMSkgY29udGludWU7XG4gICAgICAgICAgICBwb2x5Z29uLnNwbGljZShpLCAtMSwgcCk7XG4gICAgICAgICAgICByZXN1bHQucHVzaChpKzEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8v5rGC5Lik5p2h57q/5q6155qE5Lqk54K5XG4gICAgLy/ov5Tlm57lgLzvvJpbbixwXSBuOjDnm7jkuqTvvIwx5Zyo5YWx5pyJ54K577yMLTHkuI3nm7jkuqQgIHA65Lqk54K5XG4gICAgcHVibGljIHN0YXRpYyBsaW5lQ3Jvc3NQb2ludChwMTpjYy5WZWMyLHAyOmNjLlZlYzIscTE6Y2MuVmVjMixxMjpjYy5WZWMyKTogW251bWJlciwgY2MuVmVjMl17XG4gICAgICAgIGxldCBhID0gcDEsYiA9IHAyLGMgPSBxMSxkID0gcTI7XG4gICAgICAgIGxldCBzMSxzMixzMyxzNDtcbiAgICAgICAgbGV0IGQxLGQyLGQzLGQ0O1xuICAgICAgICBsZXQgcDpjYy5WZWMyID0gbmV3IGNjLlZlYzIoMCwwKTtcbiAgICAgICAgZDE9dGhpcy5kYmxjbXAoczE9dGhpcy5hYl9jcm9zc19hYyhhLGIsYyksMCk7XG4gICAgICAgIGQyPXRoaXMuZGJsY21wKHMyPXRoaXMuYWJfY3Jvc3NfYWMoYSxiLGQpLDApO1xuICAgICAgICBkMz10aGlzLmRibGNtcChzMz10aGlzLmFiX2Nyb3NzX2FjKGMsZCxhKSwwKTtcbiAgICAgICAgZDQ9dGhpcy5kYmxjbXAoczQ9dGhpcy5hYl9jcm9zc19hYyhjLGQsYiksMCk7XG4gICAgXG4gICAgICAgIC8v5aaC5p6c6KeE6IyD55u45Lqk5YiZ5rGC5Lqk54K5XG4gICAgICAgIGlmICgoZDFeZDIpPT0tMiAmJiAoZDNeZDQpPT0tMilcbiAgICAgICAge1xuICAgICAgICAgICAgcC54PShjLngqczItZC54KnMxKS8oczItczEpO1xuICAgICAgICAgICAgcC55PShjLnkqczItZC55KnMxKS8oczItczEpO1xuICAgICAgICAgICAgcmV0dXJuIFswLHBdO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8v5aaC5p6c5LiN6KeE6IyD55u45LqkXG4gICAgICAgIGlmIChkMT09MCAmJiB0aGlzLnBvaW50X29uX2xpbmUoYyxhLGIpPD0wKVxuICAgICAgICB7XG4gICAgICAgICAgICBwPWM7XG4gICAgICAgICAgICByZXR1cm4gWzEscF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGQyPT0wICYmIHRoaXMucG9pbnRfb25fbGluZShkLGEsYik8PTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHA9ZDtcbiAgICAgICAgICAgIHJldHVybiBbMSxwXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZDM9PTAgJiYgdGhpcy5wb2ludF9vbl9saW5lKGEsYyxkKTw9MClcbiAgICAgICAge1xuICAgICAgICAgICAgcD1hO1xuICAgICAgICAgICAgcmV0dXJuIFsxLHBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkND09MCAmJiB0aGlzLnBvaW50X29uX2xpbmUoYixjLGQpPD0wKVxuICAgICAgICB7XG4gICAgICAgICAgICBwPWI7XG4gICAgICAgICAgICByZXR1cm4gWzEscF07XG4gICAgICAgIH1cbiAgICAvL+WmguaenOS4jeebuOS6pFxuICAgICAgICByZXR1cm4gWy0xLG51bGxdO1xuICAgIH1cbiAgICAvL+S4pOadoee6v+auteaYr+WQpui3qOeri1xuICAgIC8v5Y2z6Z2e5bmz6KGMXG4gICAgcHVibGljIHN0YXRpYyBpc0xpbmVTZWdtZW50Q3Jvc3MoUDE6Y2MuVmVjMixQMjpjYy5WZWMyLFExOmNjLlZlYzIsUTI6Y2MuVmVjMilcbiAgICB7XG4gICAgICAgIGlmKFxuICAgICAgICAgICAgKChRMS54LVAxLngpKihRMS55LVEyLnkpLShRMS55LVAxLnkpKiggUTEueC1RMi54KSkgKiAoKFExLngtUDIueCkqKFExLnktUTIueSktKFExLnktUDIueSkqKFExLngtUTIueCkpIDwgMCB8fFxuICAgICAgICAgICAgKChQMS54LVExLngpKihQMS55LVAyLnkpLShQMS55LVExLnkpKihQMS54LVAyLngpKSAqICgoUDEueC1RMi54KSooUDEueS1QMi55KS0oUDEueS1RMi55KSooIFAxLngtUDIueCkpIDwgMFxuICAgICAgICApIFxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuIFxuICAgIC8v5rGCYeeCueaYr+S4jeaYr+WcqOe6v+auteS4iu+8jD4w5LiN5Zyo77yMPTDkuI7nq6/ngrnph43lkIjvvIw8MOWcqOOAglxuICAgIHB1YmxpYyBzdGF0aWMgcG9pbnRfb25fbGluZShhLHAxLHAyKSBcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRibGNtcCh0aGlzLmRvdChwMS54LWEueCxwMS55LWEueSxwMi54LWEueCxwMi55LWEueSksMCk7XG4gICAgfVxuICAgIC8v54K55Y+R5Ye655qE5Y+z5bCE57q/5ZKM57q/5q6155qE5YWz57O7XG4gICAgLy8g6L+U5Zue5YC8OiAtMTrkuI3nm7jkuqQsIDA655u45LqkLCAxOueCueWcqOe6v+auteS4ilxuICAgIHB1YmxpYyBzdGF0aWMgcmF5UG9pbnRUb0xpbmUocG9pbnQ6Y2MuVmVjMixsaW5lUEE6Y2MuVmVjMixsaW5lUEI6Y2MuVmVjMil7XG4gICAgICAgIC8vIOWumuS5ieacgOWwj+WSjOacgOWkp+eahFggWei9tOWAvCAgXG4gICAgICAgIGxldCBtaW5YID0gTWF0aC5taW4obGluZVBBLngsbGluZVBCLngpO1xuICAgICAgICBsZXQgbWF4WCA9IE1hdGgubWF4KGxpbmVQQS54LGxpbmVQQi54KTtcbiAgICAgICAgbGV0IG1pblkgPSBNYXRoLm1pbihsaW5lUEEueSxsaW5lUEIueSk7XG4gICAgICAgIGxldCBtYXhZID0gTWF0aC5tYXgobGluZVBBLnksbGluZVBCLnkpOyAgXG4gXG4gICAgICAgIC8vIOWwhOe6v+S4jui+ueaXoOS6pOeCueeahOWFtuS7luaDheWGtSAgXG4gICAgICAgIGlmIChwb2ludC55IDwgbWluWSB8fCBwb2ludC55ID4gbWF4WSB8fCBwb2ludC54ID4gbWF4WCkgeyAgXG4gICAgICAgICAgICByZXR1cm4gLTE7ICBcbiAgICAgICAgfSAgXG4gXG4gICAgICAgIC8vIOWJqeS4i+eahOaDheWGtSwg6K6h566X5bCE57q/5LiO6L655omA5Zyo55qE55u057q/55qE5Lqk54K555qE5qiq5Z2Q5qCHICBcbiAgICAgICAgbGV0IHgwID0gbGluZVBBLnggKyAoKGxpbmVQQi54IC0gbGluZVBBLngpIC8gKGxpbmVQQi55IC0gbGluZVBBLnkpKSAqIChwb2ludC55IC0gbGluZVBBLnkpOyAgXG4gICAgICAgIGlmKHgwID4gcG9pbnQueClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYoeDAgPT0gcG9pbnQueClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiBcbiAgICAvL+eCueWSjOWkmui+ueW9oueahOWFs+ezu1xuICAgIC8v6L+U5Zue5YC8OiAtMTrlnKjlpJrovrnlvaLlpJbpg6gsIDA65Zyo5aSa6L655b2i5YaF6YOoLCAxOuWcqOWkmui+ueW9oui+uee6v+WGhSwgMjrot5/lpJrovrnlvaLmn5DkuKrpobbngrnph43lkIhcbiAgICBwdWJsaWMgc3RhdGljIHJlbGF0aW9uUG9pbnRUb1BvbHlnb24ocG9pbnQ6Y2MuVmVjMixwb2x5Z29uOmNjLlZlYzJbXSlcbiAgICB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7aTxwb2x5Z29uLmxlbmd0aDsrK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKHBvbHlnb25baV0uZXF1YWxzKHBvaW50KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgIH1cbiBcbiAgICAgICAgICAgIGxldCBwYSA9IHBvbHlnb25baV07XG4gICAgICAgICAgICBsZXQgcGIgPSBwb2x5Z29uWzBdO1xuICAgICAgICAgICAgaWYoaSA8IHBvbHlnb24ubGVuZ3RoIC0xKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBiID0gcG9seWdvbltpKzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgcmUgPSB0aGlzLnJheVBvaW50VG9MaW5lKHBvaW50LHBhLHBiKTtcbiAgICAgICAgICAgIGlmKHJlID09IDEpIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYocmUgPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGNvdW50ICUyID09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSBcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuIFxuICAgIC8v57q/5q615a+55aSa6L655b2i6L+b6KGM5YiH5YmyXG4gICAgLy/ov5Tlm57lpJrovrnlvaLmlbDnu4RcbiAgICAvL+WmguaenOayoeacieiiq+WIh+WJsu+8jOi/lOWbnuepuuaVsOe7hFxuICAgIHB1YmxpYyBzdGF0aWMgbGluZUN1dFBvbHlnb24ocGE6Y2MuVmVjMixwYjpjYy5WZWMyLHBvbHlnb246Y2MuVmVjMltdKXtcbiAgICAgICAgbGV0IHJldDpBcnJheTxjYy5WZWMyW10+ID0gW107XG4gXG4gICAgICAgIGxldCBwb2ludHM6Y2MuVmVjMltdID0gW107XG4gICAgICAgIGxldCBwb2ludEluZGV4Om51bWJlcltdID0gW107XG4gXG4gICAgICAgIC8v5bCG5omA5pyJ55qE54K55Lul5Y+K5Lqk54K557uE5oiQ5LiA5Liq54K55bqP5YiXXG4gICAgICAgIGZvcihsZXQgaSA9IDA7aTxwb2x5Z29uLmxlbmd0aDsrK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvbHlnb25baV0pO1xuIFxuICAgICAgICAgICAgbGV0IGEgPSBwb2x5Z29uW2ldO1xuICAgICAgICAgICAgbGV0IGIgPSBwb2x5Z29uWzBdO1xuICAgICAgICAgICAgaWYoaSA8IHBvbHlnb24ubGVuZ3RoIC0xKSBiID0gcG9seWdvbltpKzFdO1xuIFxuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLmxpbmVDcm9zc1BvaW50KHBhLHBiLGEsYik7XG4gICAgICAgICAgICBpZihjWzBdID09IDApe1xuICAgICAgICAgICAgICAgIHBvaW50SW5kZXgucHVzaChwb2ludHMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChjWzFdIGFzIGNjLlZlYzIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihjWzBdID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZigoY1sxXSBhcyBjYy5WZWMyKS5lcXVhbHMoYSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwb2ludEluZGV4LnB1c2gocG9pbnRzLmxlbmd0aC0xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRJbmRleC5wdXNoKHBvaW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihwb2ludEluZGV4Lmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8v5YeG5aSH5LuO56ys5LiA5Liq5Lqk54K55byA5aeL5ouG77yM5YWI5byE5riF5qWa56ys5LiA5Liq5Lqk54K55piv55Sx5aSW56m/5YaF77yM6L+Y5piv5YaF56m/5aSWXG4gICAgICAgICAgICBsZXQgY3AwID0gcG9pbnRzW3BvaW50SW5kZXhbMF1dO1xuICAgICAgICAgICAgbGV0IGNwMSA9IHBvaW50c1twb2ludEluZGV4WzFdXTtcbiBcbiAgICAgICAgICAgIGxldCByID0gdGhpcy5yZWxhdGlvblBvaW50VG9Qb2x5Z29uKG5ldyBjYy5WZWMyKChjcDAueCArIGNwMS54KS8yLChjcDAueStjcDEueSkvMikscG9seWdvbik7XG4gICAgICAgICAgICBsZXQgaW5Qb2x5Z29uOmJvb2xlYW4gPSByID49MDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gaWYocG9pbnRJbmRleC5sZW5ndGggPiAyICYmIGNjLnBEaXN0YW5jZShjcDAsY3AxKSA+IGNjLnBEaXN0YW5jZShjcDAscG9pbnRzW3BvaW50SW5kZXhbcG9pbnRJbmRleC5sZW5ndGgtMV1dKSkge1xuICAgICAgICAgICAgaWYocG9pbnRJbmRleC5sZW5ndGggPiAyICYmIGNwMC5zdWIoY3AxKS5tYWcoKSA+IGNwMC5zdWIocG9pbnRzW3BvaW50SW5kZXhbcG9pbnRJbmRleC5sZW5ndGgtMV1dKS5tYWcoKSkge1xuICAgICAgICAgICAgICAgIGNwMSA9IHBvaW50c1twb2ludEluZGV4W3BvaW50SW5kZXgubGVuZ3RoLTFdXTtcbiAgICAgICAgICAgICAgICByID0gdGhpcy5yZWxhdGlvblBvaW50VG9Qb2x5Z29uKG5ldyBjYy5WZWMyKChjcDAueCArIGNwMS54KS8yLChjcDAueStjcDEueSkvMikscG9seWdvbik7XG4gICAgICAgICAgICAgICAgaW5Qb2x5Z29uID0gciA8MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGZpcnN0SW5Qb2x5Z29uID0gaW5Qb2x5Z29uOy8v6LW35aeL54K55piv5LuO5aSW6Z2i56m/5Yiw6YeM6Z2iXG4gXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBwb2ludEluZGV4W2luZGV4XTtcbiAgICAgICAgICAgIGxldCBvbGRQb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGxldCBuZXdQb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gXG4gICAgICAgICAgICBvbGRQb2ludHMucHVzaChwb2ludHNbc3RhcnRJbmRleF0pO1xuICAgICAgICAgICAgaWYoaW5Qb2x5Z29uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5ld1BvaW50cy5wdXNoKHBvaW50c1tzdGFydEluZGV4XSk7XG4gICAgICAgICAgICB9XG4gXG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIHN0YXJ0SW5kZXgrKztcbiBcbiAgICAgICAgICAgIHdoaWxlKGNvdW50IDwgcG9pbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZihzdGFydEluZGV4ID09IHBvaW50cy5sZW5ndGgpIHN0YXJ0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGxldCBwID0gcG9pbnRzW3N0YXJ0SW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmKGluZGV4ID49IDAgJiYgc3RhcnRJbmRleCA9PSBwb2ludEluZGV4W2luZGV4XSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8v5Y+I5piv5LiA5Liq5Lqk54K5XG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID49IHBvaW50SW5kZXgubGVuZ3RoKSBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmKGluUG9seWdvbil7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL+WOn+adpeaYr+WcqOWkmui+ueW9ouWGhemDqFxuICAgICAgICAgICAgICAgICAgICAgICAgLy/kuqfnlJ/kuobmlrDnmoTlpJrovrnlvaJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BvaW50cy5wdXNoKHApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2gobmV3UG9pbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BvaW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/lvIDlp4vmlrDnmoTlpJrovrnlvaJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BvaW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb2xkUG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIGluUG9seWdvbiA9ICFpblBvbHlnb247XG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvL+aZrumAmueahOeCuVxuICAgICAgICAgICAgICAgICAgICBpZihpblBvbHlnb24pXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BvaW50cy5wdXNoKHApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2xkUG9pbnRzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihpblBvbHlnb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYoIWZpcnN0SW5Qb2x5Z29uICYmIG5ld1BvaW50cy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzotbflp4vngrnmmK/ku47ph4zpnaLnqb/lh7rljrvvvIzliLDov5nph4zot5/otbflp4vngrnlvaLmiJDpl63ljIVcbiAgICAgICAgICAgICAgICAgICAgbmV3UG9pbnRzLnB1c2gocG9pbnRzW3BvaW50SW5kZXhbMF1dKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2gobmV3UG9pbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy/nu5PmnZ/kuobvvIzkvYbmmK/njrDlnKjnmoTnirbmgIHmmK/nqb/lnKjlpJrovrnlvaLlhoXpg6hcbiAgICAgICAgICAgICAgICAgICAgLy/miopuZXdQb2ludHPph4zpnaLnmoTlm57lpI3liLDkuLvlpJrovrnlvaLkuK1cbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDtpPG5ld1BvaW50cy5sZW5ndGg7KytpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRQb2ludHMucHVzaChuZXdQb2ludHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuIFxuICAgICAgICAgICAgcmV0LnB1c2gob2xkUG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiBcbiAgICBcbiAgICBwcml2YXRlIHN0YXRpYyBhYl9jcm9zc19hYyhhLGIsYykgLy9hYuS4jmFj55qE5Y+J56evXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jcm9zcyhiLngtYS54LGIueS1hLnksYy54LWEueCxjLnktYS55KTtcbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgZG90KHgxLHkxLHgyLHkyKXtcbiAgICAgICAgcmV0dXJuIHgxKngyK3kxKnkyO1xuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBjcm9zcyh4MSx5MSx4Mix5Mil7XG4gICAgICAgIHJldHVybiB4MSp5MiAtIHgyKnkxO1xuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBkYmxjbXAoYTpudW1iZXIsYjpudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoTWF0aC5hYnMoYS1iKTw9MC4wMDAwMDEpIHJldHVybiAwO1xuICAgICAgICBpZiAoYT5iKSByZXR1cm4gMTtcbiAgICAgICAgZWxzZSByZXR1cm4gLTE7XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/MatchUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ce2a5iLaMdGPJK3POfEqDgZ', 'MatchUtils');
// Script/Common/Utils/MatchUtils.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MathUtils = void 0;
/**
 * 数学计算工具类
 */
var MathUtils = /** @class */ (function () {
    function MathUtils() {
    }
    MathUtils.clamp = function (a, b, x) {
        if (a > b) {
            var t = a;
            a = b;
            b = t;
        }
        if (x < a)
            return a;
        if (x > b)
            return b;
        return x;
    };
    /**
     * 弧度制转换为角度值
     * @param radian 弧度制
     * @returns {number}
     */
    MathUtils.getAngle = function (radian) {
        return 180 * radian / Math.PI;
    };
    /**
     * 角度值转换为弧度制
     * @param angle
     */
    MathUtils.getRadian = function (angle) {
        return angle / 180 * Math.PI;
    };
    /**
     * 获取两点间弧度
     * @param p1X
     * @param p1Y
     * @param p2X
     * @param p2Y
     * @returns {number}
     */
    MathUtils.getRadian2 = function (p1X, p1Y, p2X, p2Y) {
        var xdis = p2X - p1X;
        var ydis = p2Y - p1Y;
        return Math.atan2(ydis, xdis);
    };
    /**
     * 获取两点间距离
     * @param p1X
     * @param p1Y
     * @param p2X
     * @param p2Y
     * @returns {number}
     */
    MathUtils.getDistance = function (p1X, p1Y, p2X, p2Y) {
        var disX = p2X - p1X;
        var disY = p2Y - p1Y;
        var disQ = disX * disX + disY * disY;
        return Math.sqrt(disQ);
    };
    MathUtils.toFixedStr = function (value, fixCount) {
        return value.toFixed(fixCount).replace(/\.?0*$/, '');
    };
    MathUtils.toPercentStr = function (value, fixCount) {
        return this.toFixedStr(value * 100, fixCount) + "%";
    };
    MathUtils.toFixedWan = function (value) {
        var wanFix = 100000;
        var wanFloat = wanFix / 10;
        var v = Math.floor(value / wanFloat) * wanFloat;
        return value > wanFix ? MathUtils.toFixedStr(v / wanFix * 10, 1) + "\u4E07" : value.toString();
    };
    //value = ceil(e*(a*(level^d) + b*(level) + c))
    MathUtils.getFinalValueBasedOnParams = function (level, paramList, needCeil) {
        if (paramList.length < 5) {
            return 0;
        }
        var ret = paramList[4] * (paramList[0] * Math.pow(level, paramList[3]) + paramList[1] * level + paramList[2]);
        if (needCeil) {
            ret = Math.ceil(ret);
        }
        return ret;
    };
    /**
    * 获取一个区间的随机数
    * @param $from 最小值
    * @param $end 最大值
    * @returns {number}
    */
    MathUtils.limit = function ($from, $end) {
        $from = Math.min($from, $end);
        $end = Math.max($from, $end);
        var range = $end - $from;
        return $from + Math.random() * range;
    };
    /**
     * 获取一个区间的随机数(帧数)
     * @param $from 最小值
     * @param $end 最大值
     * @returns {number}
     */
    MathUtils.limitInteger = function ($from, $end) {
        return Math.round(MathUtils.limit($from, $end));
    };
    /**
     * 在一个数组中随机获取一个元素
     * @param arr 数组
     * @returns {any} 随机出来的结果
     */
    MathUtils.randomArray = function (arr) {
        var index = Math.floor(Math.random() * arr.length);
        return arr[index];
    };
    return MathUtils;
}());
exports.MathUtils = MathUtils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL01hdGNoVXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0dBRUc7QUFDSDtJQUFBO0lBcUhBLENBQUM7SUFuSGlCLGVBQUssR0FBbkIsVUFBb0IsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTO1FBQy9DLElBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNOLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNWLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDTixDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ1Q7UUFDRCxJQUFHLENBQUMsR0FBRyxDQUFDO1lBQUUsT0FBTyxDQUFDLENBQUM7UUFDbkIsSUFBRyxDQUFDLEdBQUcsQ0FBQztZQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ25CLE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUNEOzs7O09BSUc7SUFDVyxrQkFBUSxHQUF0QixVQUF1QixNQUFjO1FBQ2pDLE9BQU8sR0FBRyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFFRDs7O09BR0c7SUFDVyxtQkFBUyxHQUF2QixVQUF3QixLQUFhO1FBQ2pDLE9BQU8sS0FBSyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ1csb0JBQVUsR0FBeEIsVUFBeUIsR0FBVyxFQUFFLEdBQVcsRUFBRSxHQUFXLEVBQUUsR0FBVztRQUN2RSxJQUFJLElBQUksR0FBVyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQzdCLElBQUksSUFBSSxHQUFXLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDN0IsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNXLHFCQUFXLEdBQXpCLFVBQTBCLEdBQVcs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TUFBTSxDQUFDLENBQUM7UUFDM0QsT0FBTyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUNMLGdCQUFDO0FBQUQsQ0FySEEsQUFxSEMsSUFBQTtBQXJIWSw4QkFBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5pWw5a2m6K6h566X5bel5YW357G7XG4gKi9cbmV4cG9ydCBjbGFzcyBNYXRoVXRpbHMge1xuXG4gICAgcHVibGljIHN0YXRpYyBjbGFtcChhOiBudW1iZXIsIGI6IG51bWJlciwgeDogbnVtYmVyKSB7ICAgICAgICBcbiAgICAgICAgaWYoYSA+IGIpIHtcbiAgICAgICAgICAgIGxldCB0ID0gYTtcbiAgICAgICAgICAgIGEgPSBiO1xuICAgICAgICAgICAgYiA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYoeCA8IGEpIHJldHVybiBhO1xuICAgICAgICBpZih4ID4gYikgcmV0dXJuIGI7XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDlvKfluqbliLbovazmjaLkuLrop5LluqblgLxcbiAgICAgKiBAcGFyYW0gcmFkaWFuIOW8p+W6puWItlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBnZXRBbmdsZShyYWRpYW46IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAxODAgKiByYWRpYW4gLyBNYXRoLlBJO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOinkuW6puWAvOi9rOaNouS4uuW8p+W6puWItlxuICAgICAqIEBwYXJhbSBhbmdsZVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0UmFkaWFuKGFuZ2xlOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gYW5nbGUgLyAxODAgKiBNYXRoLlBJO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiOt+WPluS4pOeCuemXtOW8p+W6plxuICAgICAqIEBwYXJhbSBwMVhcbiAgICAgKiBAcGFyYW0gcDFZXG4gICAgICogQHBhcmFtIHAyWFxuICAgICAqIEBwYXJhbSBwMllcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0UmFkaWFuMihwMVg6IG51bWJlciwgcDFZOiBudW1iZXIsIHAyWDogbnVtYmVyLCBwMlk6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHZhciB4ZGlzOiBudW1iZXIgPSBwMlggLSBwMVg7XG4gICAgICAgIHZhciB5ZGlzOiBudW1iZXIgPSBwMlkgLSBwMVk7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHlkaXMsIHhkaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiOt+WPluS4pOeCuemXtOi3neemu1xuICAgICAqIEBwYXJhbSBwMVhcbiAgICAgKiBAcGFyYW0gcDFZXG4gICAgICogQHBhcmFtIHAyWFxuICAgICAqIEBwYXJhbSBwMllcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0RGlzdGFuY2UocDFYOiBudW1iZXIsIHAxWTogbnVtYmVyLCBwMlg6IG51bWJlciwgcDJZOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICB2YXIgZGlzWDogbnVtYmVyID0gcDJYIC0gcDFYO1xuICAgICAgICB2YXIgZGlzWTogbnVtYmVyID0gcDJZIC0gcDFZO1xuICAgICAgICB2YXIgZGlzUTogbnVtYmVyID0gZGlzWCAqIGRpc1ggKyBkaXNZICogZGlzWTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkaXNRKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHRvRml4ZWRTdHIodmFsdWU6IG51bWJlciwgZml4Q291bnQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50b0ZpeGVkKGZpeENvdW50KS5yZXBsYWNlKC9cXC4/MCokLywgJycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgdG9QZXJjZW50U3RyKHZhbHVlOiBudW1iZXIsIGZpeENvdW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy50b0ZpeGVkU3RyKHZhbHVlICogMTAwLCBmaXhDb3VudCkgKyBcIiVcIjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHRvRml4ZWRXYW4odmFsdWU6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHdhbkZpeCA9IDEwMDAwMDtcbiAgICAgICAgbGV0IHdhbkZsb2F0ID0gd2FuRml4IC8gMTA7XG4gICAgICAgIHZhciB2ID0gTWF0aC5mbG9vcih2YWx1ZSAvIHdhbkZsb2F0KSAqIHdhbkZsb2F0O1xuICAgICAgICByZXR1cm4gdmFsdWUgPiB3YW5GaXggPyBgJHtNYXRoVXRpbHMudG9GaXhlZFN0cih2IC8gd2FuRml4ICogMTAsIDEpfeS4h2AgOiB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIC8vdmFsdWUgPSBjZWlsKGUqKGEqKGxldmVsXmQpICsgYioobGV2ZWwpICsgYykpXG4gICAgcHVibGljIHN0YXRpYyBnZXRGaW5hbFZhbHVlQmFzZWRPblBhcmFtcyhsZXZlbDogbnVtYmVyLCBwYXJhbUxpc3Q6IEFycmF5PG51bWJlcj4sIG5lZWRDZWlsPzogYm9vbGVhbik6IG51bWJlciB7XG4gICAgICAgIGlmIChwYXJhbUxpc3QubGVuZ3RoIDwgNSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJldCA9IHBhcmFtTGlzdFs0XSAqIChwYXJhbUxpc3RbMF0gKiBNYXRoLnBvdyhsZXZlbCwgcGFyYW1MaXN0WzNdKSArIHBhcmFtTGlzdFsxXSAqIGxldmVsICsgcGFyYW1MaXN0WzJdKTtcbiAgICAgICAgaWYgKG5lZWRDZWlsKSB7XG4gICAgICAgICAgICByZXQgPSBNYXRoLmNlaWwocmV0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICog6I635Y+W5LiA5Liq5Yy66Ze055qE6ZqP5py65pWwXG4gICAgKiBAcGFyYW0gJGZyb20g5pyA5bCP5YC8XG4gICAgKiBAcGFyYW0gJGVuZCDmnIDlpKflgLxcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGxpbWl0KCRmcm9tOiBudW1iZXIsICRlbmQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgICRmcm9tID0gTWF0aC5taW4oJGZyb20sICRlbmQpO1xuICAgICAgICAkZW5kID0gTWF0aC5tYXgoJGZyb20sICRlbmQpO1xuICAgICAgICB2YXIgcmFuZ2U6IG51bWJlciA9ICRlbmQgLSAkZnJvbTtcbiAgICAgICAgcmV0dXJuICRmcm9tICsgTWF0aC5yYW5kb20oKSAqIHJhbmdlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiOt+WPluS4gOS4quWMuumXtOeahOmaj+acuuaVsCjluKfmlbApXG4gICAgICogQHBhcmFtICRmcm9tIOacgOWwj+WAvFxuICAgICAqIEBwYXJhbSAkZW5kIOacgOWkp+WAvFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBsaW1pdEludGVnZXIoJGZyb206IG51bWJlciwgJGVuZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aFV0aWxzLmxpbWl0KCRmcm9tLCAkZW5kKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Zyo5LiA5Liq5pWw57uE5Lit6ZqP5py66I635Y+W5LiA5Liq5YWD57SgXG4gICAgICogQHBhcmFtIGFyciDmlbDnu4RcbiAgICAgKiBAcmV0dXJucyB7YW55fSDpmo/mnLrlh7rmnaXnmoTnu5PmnpxcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHJhbmRvbUFycmF5PFQ+KGFycjogQXJyYXk8VD4pOiBUIHtcbiAgICAgICAgdmFyIGluZGV4OiBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnIubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGFycltpbmRleF07XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/PriorityQueue.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f2318nn5GJChLoRevUhhLkg', 'PriorityQueue');
// Script/Common/Utils/PriorityQueue.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PriorityElement = void 0;
/**
 * @author denglang
 * 优先队列
 */
var PriorityElement = /** @class */ (function () {
    function PriorityElement(data, priority) {
        this.data = data;
        this.priority = priority;
    }
    return PriorityElement;
}());
exports.PriorityElement = PriorityElement;
var PriorityQueue = /** @class */ (function () {
    function PriorityQueue() {
        this.queue = new Array(32);
        this._size = 0;
    }
    Object.defineProperty(PriorityQueue.prototype, "size", {
        get: function () {
            return this._size;
        },
        enumerable: false,
        configurable: true
    });
    /** 是否有这个元素 */
    PriorityQueue.prototype.hasElement = function (t) {
        for (var _i = 0, _a = this.queue; _i < _a.length; _i++) {
            var e = _a[_i];
            if (e.data === t) {
                return true;
            }
        }
        return false;
    };
    /** 入队 */
    PriorityQueue.prototype.enqueue = function (e, priority) {
        if (priority === void 0) { priority = 0; }
        if (this._size > this.queue.length) {
            this._expand();
        }
        this.queue[this._size++] = new PriorityElement(e, priority);
        this.upAdjust();
    };
    /** 出队 */
    PriorityQueue.prototype.dequeue = function () {
        if (this._size <= 0)
            return null;
        var head = this.queue[0];
        this.queue[0] = this.queue[--this._size];
        this.downAdjust();
        return head.data;
    };
    PriorityQueue.prototype.clear = function () {
        this.queue = [];
        this._size = 0;
    };
    /** 上调, 入队时判断入队元素优先级 */
    PriorityQueue.prototype.upAdjust = function () {
        var childIndex = this._size - 1;
        var parentIndex = Math.floor(childIndex / 2);
        var tmp = this.queue[childIndex];
        while (childIndex > 0 && tmp.priority > this.queue[parentIndex].priority) {
            this.queue[childIndex] = this.queue[parentIndex];
            childIndex = parentIndex;
            parentIndex = Math.floor(parentIndex / 2);
        }
        this.queue[childIndex] = tmp;
    };
    /** 出队 */
    PriorityQueue.prototype.downAdjust = function () {
        var parentIndex = 0;
        var tmp = this.queue[parentIndex];
        var childIndex = 1;
        while (childIndex < this._size) {
            if (childIndex + 1 < this._size && this.queue[childIndex + 1].priority > this.queue[childIndex].priority) {
                childIndex++;
            }
            if (tmp.priority >= this.queue[childIndex].priority) {
                break;
            }
            this.queue[parentIndex] = this.queue[childIndex];
            parentIndex = childIndex;
            childIndex = 2 * childIndex + 1;
        }
        this.queue[parentIndex] = tmp;
    };
    /** 扩列 */
    PriorityQueue.prototype._expand = function () {
        var newSize = Math.round(this.queue.length * 1.2) + 1;
        var oldQueue = this.queue;
        this.queue = new Array(newSize);
        for (var i = 0; i < oldQueue.length; i++) {
            this.queue[i] = oldQueue[i];
        }
    };
    PriorityQueue.prototype.toString = function () {
        var s = '';
        for (var i = 0; i < this._size; i++) {
            var data = this.queue[i].data;
            if (data.toString) {
                s += data.toString();
            }
            else {
                s += typeof data === "object" ? JSON.stringify(data) : data;
            }
        }
        return s;
    };
    return PriorityQueue;
}());
exports.default = PriorityQueue;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL1ByaW9yaXR5UXVldWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztHQUdHO0FBQ0g7SUFJSSx5QkFBWSxJQUFPLEVBQUUsUUFBZ0I7UUFDakMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDN0IsQ0FBQztJQUNMLHNCQUFDO0FBQUQsQ0FSQSxBQVFDLElBQUE7QUFSWSwwQ0FBZTtBQVU1QjtJQVFJO1FBUFEsVUFBSyxHQUE4QixJQUFJLEtBQUssQ0FBcUIsRUFBRSxDQUFDLENBQUM7UUFDckUsVUFBSyxHQUFXLENBQUMsQ0FBQztJQU8xQixDQUFDO0lBTEQsc0JBQVcsK0JBQUk7YUFBZjtZQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN0QixDQUFDOzs7T0FBQTtJQUtELGNBQWM7SUFDUCxrQ0FBVSxHQUFqQixVQUFrQixDQUFJO1FBQ2xCLEtBQWUsVUFBVSxFQUFWLEtBQUEsSUFBSSxDQUFDLEtBQUssRUFBVixjQUFVLEVBQVYsSUFBVSxFQUFFO1lBQXZCLElBQU0sQ0FBQyxTQUFBO1lBQ1AsSUFBRyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtnQkFDYixPQUFPLElBQUksQ0FBQzthQUNmO1NBQ0o7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsU0FBUztJQUNGLCtCQUFPLEdBQWQsVUFBZSxDQUFJLEVBQUUsUUFBb0I7UUFBcEIseUJBQUEsRUFBQSxZQUFvQjtRQUNyQyxJQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDL0IsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ2xCO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxJQUFJ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LElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNoQyxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUMvQjtJQUNMLENBQUM7SUFFTSxnQ0FBUSxHQUFmO1FBQ0ksSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ1gsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDOUIsSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNkLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7YUFDeEI7aUJBQUs7Z0JBQ0YsQ0FBQyxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO2FBQy9EO1NBQ0o7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUFDTCxvQkFBQztBQUFELENBbEdBLEFBa0dDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBhdXRob3IgZGVuZ2xhbmdcbiAqIOS8mOWFiOmYn+WIl1xuICovXG5leHBvcnQgY2xhc3MgUHJpb3JpdHlFbGVtZW50PFQ+IHtcbiAgICBwdWJsaWMgZGF0YTogVDtcbiAgICBwdWJsaWMgcHJpb3JpdHk6IG51bWJlcjtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBULCBwcmlvcml0eTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByaW9yaXR5UXVldWU8VD4ge1xuICAgIHByaXZhdGUgcXVldWU6IEFycmF5PFByaW9yaXR5RWxlbWVudDxUPj4gPSBuZXcgQXJyYXk8UHJpb3JpdHlFbGVtZW50PFQ+PigzMik7XG4gICAgcHJpdmF0ZSBfc2l6ZTogbnVtYmVyID0gMDtcblxuICAgIHB1YmxpYyBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgLyoqIOaYr+WQpuaciei/meS4quWFg+e0oCAqL1xuICAgIHB1YmxpYyBoYXNFbGVtZW50KHQ6IFQpIHtcbiAgICAgICAgZm9yKGNvbnN0IGUgb2YgdGhpcy5xdWV1ZSkge1xuICAgICAgICAgICAgaWYoZS5kYXRhID09PSB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKiDlhaXpmJ8gKi9cbiAgICBwdWJsaWMgZW5xdWV1ZShlOiBULCBwcmlvcml0eTogbnVtYmVyID0gMCkge1xuICAgICAgICBpZih0aGlzLl9zaXplID4gdGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucXVldWVbdGhpcy5fc2l6ZSsrXSA9IG5ldyBQcmlvcml0eUVsZW1lbnQoZSwgcHJpb3JpdHkpO1xuICAgICAgICB0aGlzLnVwQWRqdXN0KCk7XG4gICAgfVxuXG4gICAgLyoqIOWHuumYnyAqL1xuICAgIHB1YmxpYyBkZXF1ZXVlKCkge1xuICAgICAgICBpZih0aGlzLl9zaXplIDw9IDApIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBoZWFkID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgICAgdGhpcy5xdWV1ZVswXSA9IHRoaXMucXVldWVbLS10aGlzLl9zaXplXTtcbiAgICAgICAgdGhpcy5kb3duQWRqdXN0KCk7XG4gICAgICAgIHJldHVybiBoZWFkLmRhdGE7XG4gICAgfVxuXG4gICAgcHVibGljIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgIH1cbiAgICAvKiog5LiK6LCDLCDlhaXpmJ/ml7bliKTmlq3lhaXpmJ/lhYPntKDkvJjlhYjnuqcgKi9cbiAgICBwcml2YXRlIHVwQWRqdXN0KCkge1xuICAgICAgICBsZXQgY2hpbGRJbmRleCA9IHRoaXMuX3NpemUgLSAxO1xuICAgICAgICBsZXQgcGFyZW50SW5kZXggPSBNYXRoLmZsb29yKGNoaWxkSW5kZXgvMik7XG4gICAgICAgIGxldCB0bXAgPSB0aGlzLnF1ZXVlW2NoaWxkSW5kZXhdXG5cbiAgICAgICAgd2hpbGUoY2hpbGRJbmRleCA+IDAgJiYgdG1wLnByaW9yaXR5ID4gdGhpcy5xdWV1ZVtwYXJlbnRJbmRleF0ucHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleF0gPSB0aGlzLnF1ZXVlW3BhcmVudEluZGV4XTtcbiAgICAgICAgICAgIGNoaWxkSW5kZXggPSBwYXJlbnRJbmRleDtcbiAgICAgICAgICAgIHBhcmVudEluZGV4ID0gTWF0aC5mbG9vcihwYXJlbnRJbmRleC8yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleF0gPSB0bXA7XG4gICAgfVxuICAgIC8qKiDlh7rpmJ8gKi9cbiAgICBwcml2YXRlIGRvd25BZGp1c3QoKSB7XG4gICAgICAgIGxldCBwYXJlbnRJbmRleCA9IDA7XG4gICAgICAgIGxldCB0bXAgPSB0aGlzLnF1ZXVlW3BhcmVudEluZGV4XTtcbiAgICAgICAgbGV0IGNoaWxkSW5kZXggPSAxO1xuICAgICAgICB3aGlsZShjaGlsZEluZGV4IDwgdGhpcy5fc2l6ZSkge1xuICAgICAgICAgICAgaWYoY2hpbGRJbmRleCArIDEgPCB0aGlzLl9zaXplICYmIHRoaXMucXVldWVbY2hpbGRJbmRleCsxXS5wcmlvcml0eSA+IHRoaXMucXVldWVbY2hpbGRJbmRleF0ucHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBjaGlsZEluZGV4ICsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodG1wLnByaW9yaXR5ID49IHRoaXMucXVldWVbY2hpbGRJbmRleF0ucHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5xdWV1ZVtwYXJlbnRJbmRleF0gPSB0aGlzLnF1ZXVlW2NoaWxkSW5kZXhdO1xuICAgICAgICAgICAgcGFyZW50SW5kZXggPSBjaGlsZEluZGV4O1xuICAgICAgICAgICAgY2hpbGRJbmRleCA9IDIgKiBjaGlsZEluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlW3BhcmVudEluZGV4XSA9IHRtcDtcbiAgICB9XG4gICAgLyoqIOaJqeWIlyAqL1xuICAgIHByaXZhdGUgX2V4cGFuZCgpIHtcbiAgICAgICAgbGV0IG5ld1NpemUgPSBNYXRoLnJvdW5kKHRoaXMucXVldWUubGVuZ3RoICogMS4yKSArIDE7XG4gICAgICAgIGNvbnN0IG9sZFF1ZXVlID0gdGhpcy5xdWV1ZTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG5ldyBBcnJheShuZXdTaXplKTtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8b2xkUXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVbaV0gPSBvbGRRdWV1ZVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHMgPSAnJztcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5fc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMucXVldWVbaV0uZGF0YTtcbiAgICAgICAgICAgIGlmKGRhdGEudG9TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBzICs9IGRhdGEudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICBzICs9IHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/TaskMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a001c6UsFtNA5aXLrNhEDJy', 'TaskMgr');
// Script/Common/Utils/TaskMgr.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Command = exports.CommandType = void 0;
var PriorityQueue_1 = require("./PriorityQueue");
/**
 * author: denglang
 * desc: 一个命令队列，
 */
var CommandType;
(function (CommandType) {
    // 自定义命令类型
})(CommandType = exports.CommandType || (exports.CommandType = {}));
var Command = /** @class */ (function () {
    function Command() {
    }
    return Command;
}());
exports.Command = Command;
/** 命令队列 */
var TaskMgr = /** @class */ (function () {
    function TaskMgr() {
        this._cmdMap = cc.js.createMap();
        this._debugHistory = [];
        this._debug = false;
    }
    Object.defineProperty(TaskMgr, "inst", {
        get: function () {
            if (!this._instance) {
                this._instance = new TaskMgr();
            }
            return this._instance;
        },
        enumerable: false,
        configurable: true
    });
    TaskMgr.prototype.setDebug = function (debug) {
        if (debug === void 0) { debug = true; }
        this._debug = debug;
    };
    /**
     * @param command 命令
     * @param pIdx 优先级 数值越大优先级越高  默认是0
     */
    TaskMgr.prototype.pushCommand = function (key, command, pIdx) {
        if (pIdx === void 0) { pIdx = 0; }
        if (this._debug) {
            this._debugHistory.push(command);
        }
        var cmdQueue = this._cmdMap[key];
        if (!cmdQueue) {
            cmdQueue = this._cmdMap[key] = new PriorityQueue_1.default();
        }
        cmdQueue.enqueue(command, pIdx);
    };
    /** 获得一个命令 */
    TaskMgr.prototype.popCommand = function (key) {
        var cmdQueue = this._cmdMap[key];
        if (!cmdQueue)
            return null;
        return cmdQueue.dequeue();
    };
    /** 是否有这个命令 */
    TaskMgr.prototype.hasCommand = function (ele, key) {
        if (key) {
            var cmdQueue = this._cmdMap[key];
            return cmdQueue.hasElement(ele);
        }
        for (var key_1 in this._cmdMap) {
            if (this._cmdMap[key_1].hasElement(ele))
                return true;
        }
        return false;
    };
    TaskMgr._instance = null;
    return TaskMgr;
}());
exports.default = TaskMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL1Rhc2tNZ3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaURBQTRDO0FBRTVDOzs7R0FHRztBQUNILElBQVksV0FFWDtBQUZELFdBQVksV0FBVztJQUNuQixVQUFVO0FBQ2QsQ0FBQyxFQUZXLFdBQVcsR0FBWCxtQkFBVyxLQUFYLG1CQUFXLFFBRXRCO0FBQ0Q7SUFBQTtJQUdBLENBQUM7SUFBRCxjQUFDO0FBQUQsQ0FIQSxBQUdDLElBQUE7QUFIWSwwQkFBTztBQUtwQixXQUFXO0FBQ1g7SUFBQTtRQVVZLFlBQU8sR0FBMkMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNwRSxrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFFbkMsV0FBTSxHQUFHLEtBQUssQ0FBQztJQXNDM0IsQ0FBQztJQWhERyxzQkFBa0IsZUFBSTthQUF0QjtZQUNJLElBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUNoQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7YUFDbEM7WUFDRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDMUIsQ0FBQzs7O09BQUE7SUFNTSwwQkFBUSxHQUFmLFVBQWdCLEtBQVk7UUFBWixzQkFBQSxFQUFBLFlBQVk7UUFDeEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVEOzs7T0FHRztJQUNJLDZCQUFXLEdBQWxCLFVBQW1CLEdBQVcsRUFBRSxPQUFnQixFQUFFLElBQWdCO1FBQWhCLHFCQUFBLEVBQUEsUUFBZ0I7UUFDOUQsSUFBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1osSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDcEM7UUFDRCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLElBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDVixRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLHVCQUFhLEVBQVcsQ0FBQztTQUMvRDtRQUNELFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxhQUFhO0lBQ04sNEJBQVUsR0FBakIsVUFBa0IsR0FBVztRQUN6QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLElBQUcsQ0FBQyxRQUFRO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDMUIsT0FBTyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUVELGNBQWM7SUFDUCw0QkFBVSxHQUFqQixVQUFrQixHQUFZLEVBQUUsR0FBWTtRQUN4QyxJQUFHLEdBQUcsRUFBRTtZQUNKLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDakMsT0FBTyxRQUFRLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ25DO1FBQ0QsS0FBSSxJQUFJLEtBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ3pCLElBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFHLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDO2dCQUFFLE9BQU8sSUFBSSxDQUFDO1NBQ3JEO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQWhEYyxpQkFBUyxHQUFZLElBQUksQ0FBQztJQWlEN0MsY0FBQztDQW5ERCxBQW1EQyxJQUFBO2tCQW5Eb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcmlvcml0eVF1ZXVlIGZyb20gXCIuL1ByaW9yaXR5UXVldWVcIjtcblxuLyoqXG4gKiBhdXRob3I6IGRlbmdsYW5nXG4gKiBkZXNjOiDkuIDkuKrlkb3ku6TpmJ/liJfvvIwgXG4gKi9cbmV4cG9ydCBlbnVtIENvbW1hbmRUeXBlIHtcbiAgICAvLyDoh6rlrprkuYnlkb3ku6Tnsbvlnotcbn1cbmV4cG9ydCBjbGFzcyBDb21tYW5kIHtcbiAgICB0eXBlOiBDb21tYW5kVHlwZTtcbiAgICBkYXRhOiBhbnk7XG59XG5cbi8qKiDlkb3ku6TpmJ/liJcgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2tNZ3Ige1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBUYXNrTWdyID0gbnVsbDtcbiAgICBwdWJsaWMgc3RhdGljIGdldCBpbnN0KCkge1xuICAgICAgICBpZighdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IFRhc2tNZ3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY21kTWFwOiB7W2tleTpzdHJpbmddOiBQcmlvcml0eVF1ZXVlPENvbW1hbmQ+fSA9IGNjLmpzLmNyZWF0ZU1hcCgpOyBcbiAgICBwcml2YXRlIF9kZWJ1Z0hpc3Rvcnk6IEFycmF5PENvbW1hbmQ+ID0gW107XG5cbiAgICBwcml2YXRlIF9kZWJ1ZyA9IGZhbHNlO1xuICAgIHB1YmxpYyBzZXREZWJ1ZyhkZWJ1ZyA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fZGVidWcgPSBkZWJ1ZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29tbWFuZCDlkb3ku6RcbiAgICAgKiBAcGFyYW0gcElkeCDkvJjlhYjnuqcg5pWw5YC86LaK5aSn5LyY5YWI57qn6LaK6auYICDpu5jorqTmmK8wXG4gICAgICovXG4gICAgcHVibGljIHB1c2hDb21tYW5kKGtleTogc3RyaW5nLCBjb21tYW5kOiBDb21tYW5kLCBwSWR4OiBudW1iZXIgPSAwKSB7XG4gICAgICAgIGlmKHRoaXMuX2RlYnVnKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1Z0hpc3RvcnkucHVzaChjb21tYW5kKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY21kUXVldWUgPSB0aGlzLl9jbWRNYXBba2V5XTtcbiAgICAgICAgaWYoIWNtZFF1ZXVlKSB7XG4gICAgICAgICAgICBjbWRRdWV1ZSA9IHRoaXMuX2NtZE1hcFtrZXldID0gbmV3IFByaW9yaXR5UXVldWU8Q29tbWFuZD4oKTtcbiAgICAgICAgfVxuICAgICAgICBjbWRRdWV1ZS5lbnF1ZXVlKGNvbW1hbmQsIHBJZHgpO1xuICAgIH1cblxuICAgIC8qKiDojrflvpfkuIDkuKrlkb3ku6QgKi9cbiAgICBwdWJsaWMgcG9wQ29tbWFuZChrZXk6IHN0cmluZykge1xuICAgICAgICBsZXQgY21kUXVldWUgPSB0aGlzLl9jbWRNYXBba2V5XTtcbiAgICAgICAgaWYoIWNtZFF1ZXVlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGNtZFF1ZXVlLmRlcXVldWUoKTtcbiAgICB9XG5cbiAgICAvKiog5piv5ZCm5pyJ6L+Z5Liq5ZG95LukICovXG4gICAgcHVibGljIGhhc0NvbW1hbmQoZWxlOiBDb21tYW5kLCBrZXk/OiBzdHJpbmcpIHtcbiAgICAgICAgaWYoa2V5KSB7XG4gICAgICAgICAgICBsZXQgY21kUXVldWUgPSB0aGlzLl9jbWRNYXBba2V5XTtcbiAgICAgICAgICAgIHJldHVybiBjbWRRdWV1ZS5oYXNFbGVtZW50KGVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGxldCBrZXkgaW4gdGhpcy5fY21kTWFwKSB7XG4gICAgICAgICAgICBpZih0aGlzLl9jbWRNYXBba2V5XS5oYXNFbGVtZW50KGVsZSkpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/Queue.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '146d9Q6AJVLm5Z5V9zs9sHL', 'Queue');
// Script/Common/Utils/Queue.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Queue = /** @class */ (function () {
    function Queue() {
        this.count = 0;
        this.lowestCount = 0;
        this.items = {};
    }
    Queue.prototype.enqueue = function (element) {
        this.items[this.count] = element;
        this.count++;
    };
    Queue.prototype.dequeue = function () {
        if (this.isEmpty()) {
            return undefined;
        }
        var result = this.items[this.lowestCount];
        delete this.items[this.lowestCount];
        this.lowestCount++;
        return result;
    };
    Queue.prototype.peek = function () {
        if (this.isEmpty()) {
            return undefined;
        }
        return this.items[this.lowestCount];
    };
    Queue.prototype.isEmpty = function () {
        return this.size() === 0;
    };
    Queue.prototype.clear = function () {
        this.items = {};
        this.count = 0;
        this.lowestCount = 0;
    };
    Queue.prototype.size = function () {
        return this.count - this.lowestCount;
    };
    Queue.prototype.toString = function () {
        if (this.isEmpty()) {
            return '';
        }
        var objString = "" + this.items[this.lowestCount];
        for (var i = this.lowestCount + 1; i < this.count; i++) {
            objString = objString + "," + this.items[i];
        }
        return objString;
    };
    return Queue;
}());
exports.default = Queue;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL1F1ZXVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7SUFLSTtRQUNFLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVELHVCQUFPLEdBQVAsVUFBUSxPQUFVO1FBQ2hCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLE9BQU8sQ0FBQztRQUNqQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDZixDQUFDO0lBRUQsdUJBQU8sR0FBUDtRQUNFLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ2xCLE9BQU8sU0FBUyxDQUFDO1NBQ2xCO1FBQ0QsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDNUMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVELG9CQUFJLEdBQUo7UUFDRSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUNsQixPQUFPLFNBQVMsQ0FBQztTQUNsQjtRQUNELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELHVCQUFPLEdBQVA7UUFDRSxPQUFPLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELHFCQUFLLEdBQUw7UUFDRSxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxvQkFBSSxHQUFKO1FBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDdkMsQ0FBQztJQUVELHdCQUFRLEdBQVI7UUFDRSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUNsQixPQUFPLEVBQUUsQ0FBQztTQUNYO1FBQ0QsSUFBSSxTQUFTLEdBQUcsS0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUcsQ0FBQztRQUNsRCxLQUFLLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3RELFNBQVMsR0FBTSxTQUFTLFNBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUcsQ0FBQztTQUM3QztRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFDSCxZQUFDO0FBQUQsQ0F6REYsQUF5REcsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXVlPFQ+IHtcbiAgICBwcml2YXRlIGNvdW50OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBsb3dlc3RDb3VudDogbnVtYmVyO1xuICAgIHByaXZhdGUgaXRlbXM6IGFueTtcbiAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgIHRoaXMubG93ZXN0Q291bnQgPSAwO1xuICAgICAgdGhpcy5pdGVtcyA9IHt9O1xuICAgIH1cbiAgXG4gICAgZW5xdWV1ZShlbGVtZW50OiBUKSB7XG4gICAgICB0aGlzLml0ZW1zW3RoaXMuY291bnRdID0gZWxlbWVudDtcbiAgICAgIHRoaXMuY291bnQrKztcbiAgICB9XG4gIFxuICAgIGRlcXVldWUoKSB7XG4gICAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuaXRlbXNbdGhpcy5sb3dlc3RDb3VudF07XG4gICAgICBkZWxldGUgdGhpcy5pdGVtc1t0aGlzLmxvd2VzdENvdW50XTtcbiAgICAgIHRoaXMubG93ZXN0Q291bnQrKztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICBcbiAgICBwZWVrKCkge1xuICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5pdGVtc1t0aGlzLmxvd2VzdENvdW50XTtcbiAgICB9XG4gIFxuICAgIGlzRW1wdHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaXplKCkgPT09IDA7XG4gICAgfVxuICBcbiAgICBjbGVhcigpIHtcbiAgICAgIHRoaXMuaXRlbXMgPSB7fTtcbiAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgdGhpcy5sb3dlc3RDb3VudCA9IDA7XG4gICAgfVxuICBcbiAgICBzaXplKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY291bnQgLSB0aGlzLmxvd2VzdENvdW50O1xuICAgIH1cbiAgXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgbGV0IG9ialN0cmluZyA9IGAke3RoaXMuaXRlbXNbdGhpcy5sb3dlc3RDb3VudF19YDtcbiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmxvd2VzdENvdW50ICsgMTsgaSA8IHRoaXMuY291bnQ7IGkrKykge1xuICAgICAgICBvYmpTdHJpbmcgPSBgJHtvYmpTdHJpbmd9LCR7dGhpcy5pdGVtc1tpXX1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialN0cmluZztcbiAgICB9XG4gIH0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/Dungeon.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '363928pIAdEs76ndgV1E6km', 'Dungeon');
// Script/Common/Utils/Dungeon.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Dungeon = exports.GridType = void 0;
var MatchUtils_1 = require("./MatchUtils");
var GridType;
(function (GridType) {
    GridType[GridType["None"] = 0] = "None";
    GridType[GridType["Floor"] = 1] = "Floor";
    GridType[GridType["Wall"] = 2] = "Wall";
    GridType[GridType["OpenDoor"] = 3] = "OpenDoor";
    GridType[GridType["CloseDoor"] = 4] = "CloseDoor";
})(GridType = exports.GridType || (exports.GridType = {}));
var DirType;
(function (DirType) {
    DirType[DirType["None"] = 0] = "None";
    DirType[DirType["Left"] = 1] = "Left";
    DirType[DirType["Right"] = 2] = "Right";
    DirType[DirType["Up"] = 3] = "Up";
    DirType[DirType["Down"] = 4] = "Down";
    DirType[DirType["All"] = 5] = "All";
})(DirType || (DirType = {}));
var ALL_DIR_TYPES = [DirType.Left, DirType.Right, DirType.Up, DirType.Down];
var Dungeon = /** @class */ (function () {
    function Dungeon(width, height) {
        this.numRoomTries = 50; // 尝试生成房间的数量
        this.extraConnectorChance = 20; // 房间和走廊连接机会
        this.roomExtraSize = 0;
        this.windingPercent = 50;
        this.width = 51; // 地图的宽
        this.height = 51; // 地图的高
        this.rooms = []; // 房间
        this.map = []; // 原点是左下角
        this.regions = []; // 区间
        this.currentRegion = 0;
        this.width = width;
        this.height = height;
        for (var i = 0; i < width * height; i++) {
            this.map[i] = GridType.None;
            this.regions[i] = 0;
        }
    }
    Dungeon.prototype.generate = function () {
        this.initMap();
        this.addRooms();
        this.fillMaze();
        this.connectRegions();
        this.removeDeadEnds();
        return this.map;
    };
    Dungeon.prototype.initMap = function () {
        for (var i = 0; i < this.width * this.height; i++) {
            this.map[i] = GridType.Wall;
            this.regions[i] = 0;
        }
    };
    Dungeon.prototype.addRooms = function () {
        for (var i = 0; i < this.numRoomTries; i++) {
            var size = MatchUtils_1.MathUtils.limitInteger(1, 3 + this.roomExtraSize) * 2 + 1; // 是一个奇数
            var rectangularity = MatchUtils_1.MathUtils.limitInteger(0, 1 + Math.floor(size / 2)) * 2; // 控制矩形宽高比
            var w = size, h = size;
            if (0 === MatchUtils_1.MathUtils.limitInteger(0, 1))
                w += rectangularity;
            else
                h += rectangularity;
            var x = MatchUtils_1.MathUtils.limitInteger(0, Math.floor((this.width - w) / 2)) * 2 + 1;
            var y = MatchUtils_1.MathUtils.limitInteger(0, Math.floor((this.height - h) / 2)) * 2 + 1;
            var room = new cc.Rect(x, y, w, h); // 生成一个房间矩形
            // 检查矩形是否符合规则 -> 即是否有重叠
            var overlaps = false;
            for (var _i = 0, _a = this.rooms; _i < _a.length; _i++) {
                var r = _a[_i];
                if (room.intersects(r)) {
                    overlaps = true;
                    break;
                }
            }
            if (overlaps) { // 有重叠, 放弃该房间
                continue;
            }
            this.currentRegion++;
            this._initRoomGrid(room);
            this.rooms.push(room);
        }
    };
    Dungeon.prototype._initRoomGrid = function (room) {
        var tmpVec2 = cc.v2(0, 0);
        for (var i = room.x; i < room.width + room.x; i++) {
            for (var j = room.y; j < room.height + room.y; j++) {
                tmpVec2.x = i;
                tmpVec2.y = j;
                this.carveGrid(tmpVec2, GridType.Floor);
            }
        }
    };
    /** 填充迷宫 */
    Dungeon.prototype.fillMaze = function () {
        for (var y = 1; y < this.height; y += 2) {
            for (var x = 1; x < this.width; x += 2) {
                var grid = cc.v2(x, y);
                if (this.getGridType(grid) !== GridType.Wall)
                    continue;
                this._growMaze(grid);
            }
        }
    };
    Dungeon.prototype._growMaze = function (start) {
        var cells = [];
        var lastDir = DirType.None;
        this.currentRegion++;
        this.carveGrid(start, GridType.Floor);
        cells.push(start);
        while (cells !== null && cells.length !== 0) {
            var cell = cells[cells.length - 1];
            var unmadeCells = [];
            for (var _i = 0, ALL_DIR_TYPES_1 = ALL_DIR_TYPES; _i < ALL_DIR_TYPES_1.length; _i++) {
                var dir_1 = ALL_DIR_TYPES_1[_i];
                if (this.canCarve(cell, dir_1))
                    unmadeCells.push(dir_1);
            }
            if (unmadeCells.length <= 0) {
                cells.pop();
                lastDir = DirType.None;
                continue;
            }
            // 当前grid有可以扩展的方向
            var dir = DirType.None;
            if (unmadeCells.indexOf(lastDir) !== -1 && MatchUtils_1.MathUtils.limitInteger(0, 100) > this.windingPercent) {
                dir = lastDir;
            }
            else {
                dir = MatchUtils_1.MathUtils.randomArray(unmadeCells);
            }
            this.carveGrid(cell.add(this.getDirGridOffset(dir)), GridType.Floor);
            this.carveGrid(cell.add(this.getDirGridOffset(dir).mul(2)), GridType.Floor);
            cells.push(cell.add(this.getDirGridOffset(dir).mul(2)));
            lastDir = dir;
        }
    };
    Dungeon.prototype.connectRegions = function () {
        var _this = this;
        var connectorRegions = {};
        var tmpVec2 = cc.v2(0, 0);
        for (var i = 1; i < this.width - 1; i++) {
            for (var j = 1; j < this.height - 1; j++) {
                tmpVec2.x = i;
                tmpVec2.y = j;
                if (this.getGridType(tmpVec2) !== GridType.Wall)
                    continue;
                var regions = [];
                for (var _i = 0, ALL_DIR_TYPES_2 = ALL_DIR_TYPES; _i < ALL_DIR_TYPES_2.length; _i++) {
                    var dir = ALL_DIR_TYPES_2[_i];
                    var grid = tmpVec2.add(this.getDirGridOffset(dir));
                    var region = this.regions[grid.y * this.width + grid.x];
                    if (region !== 0 && regions.indexOf(region) == -1)
                        regions.push(region);
                }
                if (regions.length < 2)
                    continue;
                connectorRegions[j * this.width + i] = regions;
            }
        }
        var connectors = [];
        var keys = Object.keys(connectorRegions);
        for (var _a = 0, keys_1 = keys; _a < keys_1.length; _a++) {
            var key = keys_1[_a];
            connectors.push(this.getGridByIdx(parseInt(key)));
        }
        var merged = {};
        var openRegions = new Set();
        for (var i = 0; i <= this.currentRegion; i++) {
            merged[i] = i;
            openRegions.add(i);
        }
        var count = 0;
        var _loop_1 = function () {
            count++;
            var connector = MatchUtils_1.MathUtils.randomArray(connectors);
            this_1.addJunction(connector);
            var regions = connectorRegions[connector.y * this_1.width + connector.x].map(function (v) { return merged[v]; });
            var dest = regions[0];
            regions.shift();
            var sources = regions;
            for (var i = 0; i <= this_1.currentRegion; i++) {
                if (sources.indexOf(merged[i]) !== -1) {
                    merged[i] = dest;
                }
            }
            for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {
                var s = sources_1[_i];
                if (openRegions.has(s))
                    openRegions.delete(s);
            }
            connectors.filter(function (v) { return !_this.isRemove(merged, connectorRegions, connector, v); });
        };
        var this_1 = this;
        while (openRegions.size > 1 && count < 50) {
            _loop_1();
        }
    };
    Dungeon.prototype.addJunction = function (grid) {
        if (MatchUtils_1.MathUtils.limitInteger(0, 4)) {
            this.setGridType(grid, MatchUtils_1.MathUtils.limitInteger(0, 3) ? GridType.OpenDoor : GridType.Floor);
        }
        else {
            this.setGridType(grid, GridType.CloseDoor);
        }
    };
    Dungeon.prototype.isRemove = function (merged, connectRegions, connector, grid) {
        if (connector.sub(grid).len() < 2)
            return true;
        var regions = connectRegions[grid.y * this.width + grid.x].map(function (v) { return merged[v]; });
        var set = new Set(regions);
        if (set.size > 1)
            return false;
        // if(MathUtils.limitInteger(0, this.extraConnectorChance)) this.addJunction(grid);
        return true;
    };
    Dungeon.prototype.removeDeadEnds = function () {
        var done = false;
        var tmpVec2 = cc.v2(0, 0);
        var count = 0;
        while (!done && count < 500) {
            count++;
            done = true;
            for (var i = 1; i < this.width - 1; i++) {
                for (var j = 1; j < this.height - 1; j++) {
                    tmpVec2.x = i;
                    tmpVec2.y = j;
                    if (this.getGridType(tmpVec2) === GridType.Wall)
                        continue;
                    var exists = 0;
                    for (var _i = 0, ALL_DIR_TYPES_3 = ALL_DIR_TYPES; _i < ALL_DIR_TYPES_3.length; _i++) {
                        var dir = ALL_DIR_TYPES_3[_i];
                        var grid = tmpVec2.add(this.getDirGridOffset(dir));
                        if (this.map[grid.y * this.width + grid.x] !== GridType.Wall)
                            exists++;
                    }
                    if (exists !== 1)
                        continue;
                    done = false;
                    this.regions[j * this.height + i] = 0;
                    this.map[j * this.height + i] = GridType.Wall;
                }
            }
        }
    };
    Dungeon.prototype.instanceMap = function () {
    };
    Dungeon.prototype.getGridByIdx = function (idx) {
        var y = Math.floor(idx / this.width);
        var x = idx - y * this.width;
        return cc.v2(x, y);
    };
    /** 雕刻一个格子 */
    Dungeon.prototype.carveGrid = function (grid, type) {
        if (!this.checkGrid(grid))
            return;
        this.setGridType(grid, type);
        this.regions[grid.y * this.width + grid.x] = this.currentRegion;
    };
    Dungeon.prototype.setGridType = function (grid, type) {
        this.map[grid.y * this.width + grid.x] = type;
    };
    Dungeon.prototype.checkGrid = function (grid) {
        if (grid.x <= 0 || grid.x >= this.width - 1 || grid.y <= 0 || grid.y >= this.height - 1) {
            console.log(" set grid type error: ", grid);
            return false;
        }
        return true;
    };
    Dungeon.prototype.getGridType = function (grid) {
        return this.map[grid.y * this.width + grid.x];
    };
    Dungeon.prototype.canCarve = function (grid, dir) {
        var dirGrid = this.getDirGridOffset(dir);
        var nextGrid = grid.add(dirGrid.mul(3));
        if (nextGrid.x < 0 || nextGrid.x >= this.width || nextGrid.y < 0 || nextGrid.y >= this.height) {
            return false;
        }
        nextGrid = grid.add(dirGrid.mul(2));
        return this.getGridType(nextGrid) === GridType.Wall;
    };
    Dungeon.prototype.getDirGridOffset = function (dir) {
        var dirGrid = cc.v2(0, 0);
        switch (dir) {
            case DirType.Left:
                dirGrid.x = -1;
                break;
            case DirType.Right:
                dirGrid.x = 1;
                break;
            case DirType.Up:
                dirGrid.y = 1;
                break;
            case DirType.Down:
                dirGrid.y = -1;
                break;
        }
        return dirGrid;
    };
    return Dungeon;
}());
exports.Dungeon = Dungeon;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL0R1bmdlb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQXlDO0FBRXpDLElBQVksUUFNWDtBQU5ELFdBQVksUUFBUTtJQUNoQix1Q0FBSSxDQUFBO0lBQ0oseUNBQUssQ0FBQTtJQUNMLHVDQUFJLENBQUE7SUFDSiwrQ0FBUSxDQUFBO0lBQ1IsaURBQVMsQ0FBQTtBQUNiLENBQUMsRUFOVyxRQUFRLEdBQVIsZ0JBQVEsS0FBUixnQkFBUSxRQU1uQjtBQUVELElBQUssT0FPSjtBQVBELFdBQUssT0FBTztJQUNSLHFDQUFJLENBQUE7SUFDSixxQ0FBSSxDQUFBO0lBQ0osdUNBQUssQ0FBQTtJQUNMLGlDQUFFLENBQUE7SUFDRixxQ0FBSSxDQUFBO0lBQ0osbUNBQUcsQ0FBQTtBQUNQLENBQUMsRUFQSSxPQUFPLEtBQVAsT0FBTyxRQU9YO0FBRUQsSUFBTSxhQUFhLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFFOUU7SUFhSSxpQkFBWSxLQUFhLEVBQUUsTUFBYztRQVp6QyxpQkFBWSxHQUFHLEVBQUUsQ0FBQyxDQUFzQixZQUFZO1FBQ3BELHlCQUFvQixHQUFHLEVBQUUsQ0FBQyxDQUFjLFlBQVk7UUFDcEQsa0JBQWEsR0FBRyxDQUFDLENBQUM7UUFDbEIsbUJBQWMsR0FBRyxFQUFFLENBQUM7UUFDcEIsVUFBSyxHQUFHLEVBQUUsQ0FBQyxDQUE2QixPQUFPO1FBQy9DLFdBQU0sR0FBRyxFQUFFLENBQUMsQ0FBNEIsT0FBTztRQUUvQyxVQUFLLEdBQWEsRUFBRSxDQUFDLENBQW1CLEtBQUs7UUFDN0MsUUFBRyxHQUFhLEVBQUUsQ0FBQyxDQUFxQixTQUFTO1FBQ2pELFlBQU8sR0FBYSxFQUFFLENBQUMsQ0FBc0IsS0FBSztRQUNsRCxrQkFBYSxHQUFHLENBQUMsQ0FBQztRQUdkLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxLQUFLLEdBQUcsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2hDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztZQUM1QixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFFTSwwQkFBUSxHQUFmO1FBQ0ksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2YsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUNwQixDQUFDO0lBRU0seUJBQU8sR0FBZDtRQUNJLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDMUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO1lBQzVCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3ZCO0lBQ0wsQ0FBQztJQUNNLDBCQUFRLEdBQWY7UUFDSSxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNuQyxJQUFJLElBQUksR0FBRyxzQkFBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQVMsUUFBUTtZQUNwRixJQUFJLGNBQWMsR0FBRyxzQkFBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUcsVUFBVTtZQUN0RixJQUFJLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQztZQUN2QixJQUFHLENBQUMsS0FBSyxzQkFBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUFFLENBQUMsSUFBSSxjQUFjLENBQUM7O2dCQUN0RCxDQUFDLElBQUksY0FBYyxDQUFDO1lBRXpCLElBQUksQ0FBQyxHQUFHLHNCQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDeEUsSUFBSSxDQUFDLEdBQUcsc0JBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUV6RSxJQUFJLElBQUksR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBeUMsV0FBVztZQUN2Rix1QkFBdUI7WUFDdkIsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3JCLEtBQWEsVUFBVSxFQUFWLEtBQUEsSUFBSSxDQUFDLEtBQUssRUFBVixjQUFVLEVBQVYsSUFBVSxFQUFFO2dCQUFyQixJQUFJLENBQUMsU0FBQTtnQkFDTCxJQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ25CLFFBQVEsR0FBRyxJQUFJLENBQUM7b0JBQ2hCLE1BQU07aUJBQ1Q7YUFDSjtZQUNELElBQUcsUUFBUSxFQUFFLEVBQU8sYUFBYTtnQkFDN0IsU0FBUzthQUNaO1lBQ0QsSUFBSSxDQUFDLGFBQWEsRUFBRyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDekI7SUFDTCxDQUFDO0lBQ08sK0JBQWEsR0FBckIsVUFBc0IsSUFBYTtRQUMvQixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMxQixLQUFJLElBQUksQ0FBQyxHQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUMxQyxLQUFJLElBQUksQ0FBQyxHQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDM0MsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUMzQztTQUNKO0lBRUwsQ0FBQztJQUNELFdBQVc7SUFDSiwwQkFBUSxHQUFmO1FBQ0ksS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFFLENBQUMsRUFBRTtZQUM5QixLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUUsQ0FBQyxFQUFFO2dCQUM3QixJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDdkIsSUFBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLFFBQVEsQ0FBQyxJQUFJO29CQUFFLFNBQVM7Z0JBQ3RELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDeEI7U0FDSjtJQUNMLENBQUM7SUFFTywyQkFBUyxHQUFqQixVQUFrQixLQUFjO1FBQzVCLElBQUksS0FBSyxHQUFjLEVBQUUsQ0FBQztRQUMxQixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxhQUFhLEVBQUcsQ0FBQztRQUN0QixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQixPQUFNLEtBQUssS0FBSyxJQUFJLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDeEMsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakMsSUFBSSxXQUFXLEdBQWMsRUFBRSxDQUFDO1lBQ2hDLEtBQWUsVUFBYSxFQUFiLCtCQUFhLEVBQWIsMkJBQWEsRUFBYixJQUFhLEVBQUU7Z0JBQTFCLElBQUksS0FBRyxzQkFBQTtnQkFDUCxJQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEtBQUcsQ0FBQztvQkFBRSxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUcsQ0FBQyxDQUFDO2FBQ3REO1lBQ0QsSUFBRyxXQUFXLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtnQkFDeEIsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUNaLE9BQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO2dCQUN2QixTQUFTO2FBQ1o7WUFDRCxpQkFBaUI7WUFDakIsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztZQUN2QixJQUFHLFdBQVcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksc0JBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0JBQzVGLEdBQUcsR0FBRyxPQUFPLENBQUM7YUFDakI7aUJBQUs7Z0JBQ0YsR0FBRyxHQUFHLHNCQUFTLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQzVDO1lBRUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1RSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEQsT0FBTyxHQUFHLEdBQUcsQ0FBQztTQUNqQjtJQUVMLENBQUM7SUFDTSxnQ0FBYyxHQUFyQjtRQUFBLGlCQXNEQztRQXJERyxJQUFJLGdCQUFnQixHQUE4QixFQUFFLENBQUM7UUFDckQsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDMUIsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzlCLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxHQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDL0IsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzdCLElBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUMsSUFBSTtvQkFBRSxTQUFTO2dCQUV6RCxJQUFJLE9BQU8sR0FBYSxFQUFFLENBQUM7Z0JBQzNCLEtBQWUsVUFBYSxFQUFiLCtCQUFhLEVBQWIsMkJBQWEsRUFBYixJQUFhLEVBQUU7b0JBQTFCLElBQUksR0FBRyxzQkFBQTtvQkFDUCxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNuRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3hELElBQUcsTUFBTSxLQUFLLENBQUMsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUMxRTtnQkFDRCxJQUFHLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQztvQkFBRSxTQUFTO2dCQUNoQyxnQkFBZ0IsQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUM7YUFDaEQ7U0FDSjtRQUVELElBQUksVUFBVSxHQUFjLEVBQUUsQ0FBQztRQUMvQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDekMsS0FBZSxVQUFJLEVBQUosYUFBSSxFQUFKLGtCQUFJLEVBQUosSUFBSSxFQUFFO1lBQWpCLElBQUksR0FBRyxhQUFBO1lBQ1AsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDckQ7UUFFRCxJQUFJLE1BQU0sR0FBNEIsRUFBRSxDQUFDO1FBQ3pDLElBQUksV0FBVyxHQUFnQixJQUFJLEdBQUcsRUFBVSxDQUFDO1FBQ2pELEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsSUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3JDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDZCxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3RCO1FBQ0QsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDOztZQUVWLEtBQUssRUFBRyxDQUFDO1lBQ1QsSUFBSSxTQUFTLEdBQUcsc0JBQVMsQ0FBQyxXQUFXLENBQVUsVUFBVSxDQUFDLENBQUM7WUFDM0QsT0FBSyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7WUFFNUIsSUFBSSxPQUFPLEdBQUcsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxPQUFLLEtBQUssR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUMsQ0FBQyxJQUFLLE9BQUEsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFULENBQVMsQ0FBQyxDQUFDO1lBRTdGLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QixPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDaEIsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDO1lBQ3RCLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsSUFBRSxPQUFLLGFBQWEsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDckMsSUFBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO29CQUNsQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO2lCQUNwQjthQUNKO1lBRUQsS0FBYSxVQUFPLEVBQVAsbUJBQU8sRUFBUCxxQkFBTyxFQUFQLElBQU8sRUFBRTtnQkFBbEIsSUFBSSxDQUFDLGdCQUFBO2dCQUNMLElBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQUUsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNoRDtZQUNELFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFDLElBQU0sT0FBTyxDQUFDLEtBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLGdCQUFnQixFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQSxDQUFBLENBQUMsQ0FBQyxDQUFDOzs7UUFuQjlGLE9BQU0sV0FBVyxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxHQUFHLEVBQUU7O1NBb0J2QztJQUVMLENBQUM7SUFDTyw2QkFBVyxHQUFuQixVQUFvQixJQUFhO1FBQzdCLElBQUcsc0JBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQzdCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLHNCQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzdGO2FBQUs7WUFDRixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDOUM7SUFFTCxDQUFDO0lBQ08sMEJBQVEsR0FBaEIsVUFBaUIsTUFBK0IsRUFBRSxjQUF5QyxFQUFFLFNBQWtCLEVBQUUsSUFBYTtRQUMxSCxJQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQzlDLElBQUksT0FBTyxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFDLENBQUMsSUFBSyxPQUFBLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBVCxDQUFTLENBQUMsQ0FBQztRQUNqRixJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBUyxPQUFPLENBQUMsQ0FBQztRQUNuQyxJQUFHLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQztZQUFFLE9BQU8sS0FBSyxDQUFDO1FBRTlCLG1GQUFtRjtRQUNuRixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ00sZ0NBQWMsR0FBckI7UUFDSSxJQUFJLElBQUksR0FBRyxLQUFLLENBQUM7UUFDakIsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDMUIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsT0FBTSxDQUFDLElBQUksSUFBSSxLQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ3hCLEtBQUssRUFBRyxDQUFDO1lBQ1QsSUFBSSxHQUFHLElBQUksQ0FBQztZQUNaLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsS0FBSyxHQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDOUIsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUMvQixPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDN0IsSUFBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQyxJQUFJO3dCQUFFLFNBQVM7b0JBQ3pELElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztvQkFDZixLQUFlLFVBQWEsRUFBYiwrQkFBYSxFQUFiLDJCQUFhLEVBQWIsSUFBYSxFQUFFO3dCQUExQixJQUFJLEdBQUcsc0JBQUE7d0JBQ1AsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzt3QkFDbkQsSUFBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssUUFBUSxDQUFDLElBQUk7NEJBQUUsTUFBTSxFQUFHLENBQUM7cUJBQzFFO29CQUNELElBQUcsTUFBTSxLQUFLLENBQUM7d0JBQUUsU0FBUztvQkFDMUIsSUFBSSxHQUFHLEtBQUssQ0FBQztvQkFDYixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDdEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO2lCQUNqRDthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBQ00sNkJBQVcsR0FBbEI7SUFFQSxDQUFDO0lBRU0sOEJBQVksR0FBbkIsVUFBb0IsR0FBVztRQUMzQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQzdCLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVELGFBQWE7SUFDTCwyQkFBUyxHQUFqQixVQUFrQixJQUFhLEVBQUUsSUFBYztRQUMzQyxJQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7WUFBRSxPQUFRO1FBQ2xDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3BFLENBQUM7SUFDTyw2QkFBVyxHQUFuQixVQUFvQixJQUFhLEVBQUUsSUFBYztRQUM3QyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQ2xELENBQUM7SUFDTywyQkFBUyxHQUFqQixVQUFrQixJQUFhO1FBQzNCLElBQUcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFFO1lBQ2hGLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDNUMsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ08sNkJBQVcsR0FBbkIsVUFBb0IsSUFBYTtRQUM3QixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRU8sMEJBQVEsR0FBaEIsVUFBaUIsSUFBYSxFQUFFLEdBQVk7UUFDeEMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3pDLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLElBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUMxRixPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVELFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLEtBQUssUUFBUSxDQUFDLElBQUksQ0FBQztJQUN4RCxDQUFDO0lBRU8sa0NBQWdCLEdBQXhCLFVBQXlCLEdBQVk7UUFDakMsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDMUIsUUFBTyxHQUFHLEVBQUU7WUFDUixLQUFLLE9BQU8sQ0FBQyxJQUFJO2dCQUNiLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsTUFBTTtZQUNWLEtBQUssT0FBTyxDQUFDLEtBQUs7Z0JBQ2QsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ2QsTUFBTTtZQUNWLEtBQUssT0FBTyxDQUFDLEVBQUU7Z0JBQ1gsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ2QsTUFBTTtZQUNWLEtBQUssT0FBTyxDQUFDLElBQUk7Z0JBQ2IsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDZixNQUFNO1NBQ2I7UUFDRCxPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0lBQ0wsY0FBQztBQUFELENBalJBLEFBaVJDLElBQUE7QUFqUlksMEJBQU8iLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXRoVXRpbHMgfSBmcm9tIFwiLi9NYXRjaFV0aWxzXCI7XG5cbmV4cG9ydCBlbnVtIEdyaWRUeXBlIHtcbiAgICBOb25lLCAgICAgICAvLyDmnKrliJ3lp4vljJZcbiAgICBGbG9vciwgICAgICAvLyDlnLDmnb9cbiAgICBXYWxsLCAgICAgICAvLyDloplcbiAgICBPcGVuRG9vciwgICAgICAgLy8g6ZeoXG4gICAgQ2xvc2VEb29yLCAgLy9cbn1cblxuZW51bSBEaXJUeXBlIHtcbiAgICBOb25lLCAgIC8vIOS4jeWKqFxuICAgIExlZnQsXG4gICAgUmlnaHQsXG4gICAgVXAsXG4gICAgRG93bixcbiAgICBBbGwsXG59XG5cbmNvbnN0IEFMTF9ESVJfVFlQRVMgPSBbRGlyVHlwZS5MZWZ0LCBEaXJUeXBlLlJpZ2h0LCBEaXJUeXBlLlVwLCBEaXJUeXBlLkRvd25dO1xuXG5leHBvcnQgY2xhc3MgRHVuZ2VvbiB7XG4gICAgbnVtUm9vbVRyaWVzID0gNTA7ICAgICAgICAgICAgICAgICAgICAgIC8vIOWwneivleeUn+aIkOaIv+mXtOeahOaVsOmHj1xuICAgIGV4dHJhQ29ubmVjdG9yQ2hhbmNlID0gMjA7ICAgICAgICAgICAgICAvLyDmiL/pl7TlkozotbDlu4rov57mjqXmnLrkvJpcbiAgICByb29tRXh0cmFTaXplID0gMDtcbiAgICB3aW5kaW5nUGVyY2VudCA9IDUwO1xuICAgIHdpZHRoID0gNTE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlnLDlm77nmoTlrr1cbiAgICBoZWlnaHQgPSA1MTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Zyw5Zu+55qE6auYXG5cbiAgICByb29tczogY2MuUmVjdFtdID1bXTsgICAgICAgICAgICAgICAgICAgLy8g5oi/6Ze0XG4gICAgbWFwOiBudW1iZXJbXSA9IFtdOyAgICAgICAgICAgICAgICAgICAgIC8vIOWOn+eCueaYr+W3puS4i+inklxuICAgIHJlZ2lvbnM6IG51bWJlcltdID0gW107ICAgICAgICAgICAgICAgICAgICAgIC8vIOWMuumXtFxuICAgIGN1cnJlbnRSZWdpb24gPSAwO1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsgICAgICAgIFxuICAgICAgICBmb3IobGV0IGk9MDsgaTx3aWR0aCAqIGhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFtpXSA9IEdyaWRUeXBlLk5vbmU7XG4gICAgICAgICAgICB0aGlzLnJlZ2lvbnNbaV0gPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdlbmVyYXRlKCkge1xuICAgICAgICB0aGlzLmluaXRNYXAoKTtcbiAgICAgICAgdGhpcy5hZGRSb29tcygpO1xuICAgICAgICB0aGlzLmZpbGxNYXplKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdFJlZ2lvbnMoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVEZWFkRW5kcygpO1xuICAgICAgICByZXR1cm4gdGhpcy5tYXA7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXRNYXAoKSB7XG4gICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMud2lkdGggKiB0aGlzLmhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLm1hcFtpXSA9IEdyaWRUeXBlLldhbGw7XG4gICAgICAgICAgICB0aGlzLnJlZ2lvbnNbaV0gPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBhZGRSb29tcygpIHtcbiAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5udW1Sb29tVHJpZXM7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNpemUgPSBNYXRoVXRpbHMubGltaXRJbnRlZ2VyKDEsIDMrdGhpcy5yb29tRXh0cmFTaXplKSAqIDIgKyAxOyAgICAgICAgIC8vIOaYr+S4gOS4quWlh+aVsFxuICAgICAgICAgICAgbGV0IHJlY3Rhbmd1bGFyaXR5ID0gTWF0aFV0aWxzLmxpbWl0SW50ZWdlcigwLCAxK01hdGguZmxvb3Ioc2l6ZS8yKSkgKiAyOyAgIC8vIOaOp+WItuefqeW9ouWuvemrmOavlFxuICAgICAgICAgICAgbGV0IHcgPSBzaXplLCBoID0gc2l6ZTtcbiAgICAgICAgICAgIGlmKDAgPT09IE1hdGhVdGlscy5saW1pdEludGVnZXIoMCwgMSkpIHcgKz0gcmVjdGFuZ3VsYXJpdHk7XG4gICAgICAgICAgICBlbHNlIGggKz0gcmVjdGFuZ3VsYXJpdHk7XG5cbiAgICAgICAgICAgIGxldCB4ID0gTWF0aFV0aWxzLmxpbWl0SW50ZWdlcigwLCBNYXRoLmZsb29yKCh0aGlzLndpZHRoLXcpLzIpKSAqIDIgKyAxO1xuICAgICAgICAgICAgbGV0IHkgPSBNYXRoVXRpbHMubGltaXRJbnRlZ2VyKDAsIE1hdGguZmxvb3IoKHRoaXMuaGVpZ2h0LWgpLzIpKSAqIDIgKyAxO1xuXG4gICAgICAgICAgICBsZXQgcm9vbSA9IG5ldyBjYy5SZWN0KHgsIHksIHcsIGgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g55Sf5oiQ5LiA5Liq5oi/6Ze055+p5b2iXG4gICAgICAgICAgICAvLyDmo4Dmn6Xnn6nlvaLmmK/lkKbnrKblkIjop4TliJkgLT4g5Y2z5piv5ZCm5pyJ6YeN5Y+gXG4gICAgICAgICAgICBsZXQgb3ZlcmxhcHMgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvcihsZXQgciBvZiB0aGlzLnJvb21zKSB7XG4gICAgICAgICAgICAgICAgaWYocm9vbS5pbnRlcnNlY3RzKHIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXBzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob3ZlcmxhcHMpIHsgICAgICAvLyDmnInph43lj6AsIOaUvuW8g+ivpeaIv+mXtFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVnaW9uICsrO1xuICAgICAgICAgICAgdGhpcy5faW5pdFJvb21HcmlkKHJvb20pO1xuICAgICAgICAgICAgdGhpcy5yb29tcy5wdXNoKHJvb20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgX2luaXRSb29tR3JpZChyb29tOiBjYy5SZWN0KSB7XG4gICAgICAgIGxldCB0bXBWZWMyID0gY2MudjIoMCwgMCk7XG4gICAgICAgIGZvcihsZXQgaT1yb29tLng7IGk8cm9vbS53aWR0aCArIHJvb20ueDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IobGV0IGo9cm9vbS55OyBqPHJvb20uaGVpZ2h0ICsgcm9vbS55OyBqKyspIHtcbiAgICAgICAgICAgICAgICB0bXBWZWMyLnggPSBpOyB0bXBWZWMyLnkgPSBqO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FydmVHcmlkKHRtcFZlYzIsIEdyaWRUeXBlLkZsb29yKTtcbiAgICAgICAgICAgIH0gICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbiAgICAvKiog5aGr5YWF6L+35a6rICovXG4gICAgcHVibGljIGZpbGxNYXplKCkge1xuICAgICAgICBmb3IobGV0IHk9MTsgeTx0aGlzLmhlaWdodDsgeSs9Mikge1xuICAgICAgICAgICAgZm9yKGxldCB4PTE7IHg8dGhpcy53aWR0aDsgeCs9Mikge1xuICAgICAgICAgICAgICAgIGxldCBncmlkID0gY2MudjIoeCwgeSk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5nZXRHcmlkVHlwZShncmlkKSAhPT0gR3JpZFR5cGUuV2FsbCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ3Jvd01hemUoZ3JpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBfZ3Jvd01hemUoc3RhcnQ6IGNjLlZlYzIpIHtcbiAgICAgICAgbGV0IGNlbGxzOiBjYy5WZWMyW10gPSBbXTtcbiAgICAgICAgbGV0IGxhc3REaXIgPSBEaXJUeXBlLk5vbmU7XG4gICAgICAgIHRoaXMuY3VycmVudFJlZ2lvbiArKztcbiAgICAgICAgdGhpcy5jYXJ2ZUdyaWQoc3RhcnQsIEdyaWRUeXBlLkZsb29yKTtcbiAgICAgICAgY2VsbHMucHVzaChzdGFydCk7XG4gICAgICAgIHdoaWxlKGNlbGxzICE9PSBudWxsICYmIGNlbGxzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSBjZWxsc1tjZWxscy5sZW5ndGgtMV07XG4gICAgICAgICAgICBsZXQgdW5tYWRlQ2VsbHM6IERpclR5cGVbXSA9IFtdO1xuICAgICAgICAgICAgZm9yKGxldCBkaXIgb2YgQUxMX0RJUl9UWVBFUykge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2FuQ2FydmUoY2VsbCwgZGlyKSkgdW5tYWRlQ2VsbHMucHVzaChkaXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodW5tYWRlQ2VsbHMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgICAgICBjZWxscy5wb3AoKTtcbiAgICAgICAgICAgICAgICBsYXN0RGlyID0gRGlyVHlwZS5Ob25lO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g5b2T5YmNZ3JpZOacieWPr+S7peaJqeWxleeahOaWueWQkVxuICAgICAgICAgICAgbGV0IGRpciA9IERpclR5cGUuTm9uZTsgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZih1bm1hZGVDZWxscy5pbmRleE9mKGxhc3REaXIpICE9PSAtMSAmJiBNYXRoVXRpbHMubGltaXRJbnRlZ2VyKDAsIDEwMCkgPiB0aGlzLndpbmRpbmdQZXJjZW50KSB7XG4gICAgICAgICAgICAgICAgZGlyID0gbGFzdERpcjtcbiAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICBkaXIgPSBNYXRoVXRpbHMucmFuZG9tQXJyYXkodW5tYWRlQ2VsbHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNhcnZlR3JpZChjZWxsLmFkZCh0aGlzLmdldERpckdyaWRPZmZzZXQoZGlyKSksIEdyaWRUeXBlLkZsb29yKTtcbiAgICAgICAgICAgIHRoaXMuY2FydmVHcmlkKGNlbGwuYWRkKHRoaXMuZ2V0RGlyR3JpZE9mZnNldChkaXIpLm11bCgyKSksIEdyaWRUeXBlLkZsb29yKTtcbiAgICAgICAgICAgIGNlbGxzLnB1c2goY2VsbC5hZGQodGhpcy5nZXREaXJHcmlkT2Zmc2V0KGRpcikubXVsKDIpKSk7XG4gICAgICAgICAgICBsYXN0RGlyID0gZGlyO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgcHVibGljIGNvbm5lY3RSZWdpb25zKCkge1xuICAgICAgICBsZXQgY29ubmVjdG9yUmVnaW9uczoge1trZXk6IG51bWJlcl06IG51bWJlcltdfSA9IHt9O1xuICAgICAgICBsZXQgdG1wVmVjMiA9IGNjLnYyKDAsIDApO1xuICAgICAgICBmb3IobGV0IGk9MTsgaTx0aGlzLndpZHRoLTE7IGkrKykge1xuICAgICAgICAgICAgZm9yKGxldCBqPTE7IGo8dGhpcy5oZWlnaHQtMTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdG1wVmVjMi54ID0gaTsgdG1wVmVjMi55ID0gajtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmdldEdyaWRUeXBlKHRtcFZlYzIpICE9PSBHcmlkVHlwZS5XYWxsKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGxldCByZWdpb25zOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgZGlyIG9mIEFMTF9ESVJfVFlQRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWQgPSB0bXBWZWMyLmFkZCh0aGlzLmdldERpckdyaWRPZmZzZXQoZGlyKSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWdpb24gPSB0aGlzLnJlZ2lvbnNbZ3JpZC55ICogdGhpcy53aWR0aCArIGdyaWQueF07XG4gICAgICAgICAgICAgICAgICAgIGlmKHJlZ2lvbiAhPT0gMCAmJiByZWdpb25zLmluZGV4T2YocmVnaW9uKSA9PSAtMSkgcmVnaW9ucy5wdXNoKHJlZ2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHJlZ2lvbnMubGVuZ3RoIDwgMikgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29ubmVjdG9yUmVnaW9uc1tqKnRoaXMud2lkdGggKyBpXSA9IHJlZ2lvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29ubmVjdG9yczogY2MuVmVjMltdID0gW107XG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMoY29ubmVjdG9yUmVnaW9ucyk7XG4gICAgICAgIGZvcihsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICAgIGNvbm5lY3RvcnMucHVzaCh0aGlzLmdldEdyaWRCeUlkeChwYXJzZUludChrZXkpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWVyZ2VkOiB7W2tleTogbnVtYmVyXTogbnVtYmVyfSA9IHt9O1xuICAgICAgICBsZXQgb3BlblJlZ2lvbnM6IFNldDxudW1iZXI+ID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgICAgIGZvcihsZXQgaT0wOyBpPD10aGlzLmN1cnJlbnRSZWdpb247IGkrKykge1xuICAgICAgICAgICAgbWVyZ2VkW2ldID0gaTtcbiAgICAgICAgICAgIG9wZW5SZWdpb25zLmFkZChpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICB3aGlsZShvcGVuUmVnaW9ucy5zaXplID4gMSAmJiBjb3VudCA8IDUwKSB7XG4gICAgICAgICAgICBjb3VudCArKztcbiAgICAgICAgICAgIGxldCBjb25uZWN0b3IgPSBNYXRoVXRpbHMucmFuZG9tQXJyYXk8Y2MuVmVjMj4oY29ubmVjdG9ycyk7XG4gICAgICAgICAgICB0aGlzLmFkZEp1bmN0aW9uKGNvbm5lY3Rvcik7XG5cbiAgICAgICAgICAgIGxldCByZWdpb25zID0gY29ubmVjdG9yUmVnaW9uc1tjb25uZWN0b3IueSAqIHRoaXMud2lkdGggKyBjb25uZWN0b3IueF0ubWFwKCh2KSA9PiBtZXJnZWRbdl0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgZGVzdCA9IHJlZ2lvbnNbMF07XG4gICAgICAgICAgICByZWdpb25zLnNoaWZ0KCk7XG4gICAgICAgICAgICBsZXQgc291cmNlcyA9IHJlZ2lvbnM7XG4gICAgICAgICAgICBmb3IobGV0IGk9MDsgaTw9dGhpcy5jdXJyZW50UmVnaW9uOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZihzb3VyY2VzLmluZGV4T2YobWVyZ2VkW2ldKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkW2ldID0gZGVzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcihsZXQgcyBvZiBzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgaWYob3BlblJlZ2lvbnMuaGFzKHMpKSBvcGVuUmVnaW9ucy5kZWxldGUocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0b3JzLmZpbHRlcigodikgPT4ge3JldHVybiAhdGhpcy5pc1JlbW92ZShtZXJnZWQsIGNvbm5lY3RvclJlZ2lvbnMsIGNvbm5lY3Rvciwgdil9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIHByaXZhdGUgYWRkSnVuY3Rpb24oZ3JpZDogY2MuVmVjMikge1xuICAgICAgICBpZihNYXRoVXRpbHMubGltaXRJbnRlZ2VyKDAsIDQpKSB7XG4gICAgICAgICAgICB0aGlzLnNldEdyaWRUeXBlKGdyaWQsIE1hdGhVdGlscy5saW1pdEludGVnZXIoMCwgMykgPyBHcmlkVHlwZS5PcGVuRG9vciA6IEdyaWRUeXBlLkZsb29yKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRHcmlkVHlwZShncmlkLCBHcmlkVHlwZS5DbG9zZURvb3IpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cbiAgICBwcml2YXRlIGlzUmVtb3ZlKG1lcmdlZDoge1trZXk6IG51bWJlcl06IG51bWJlcn0sIGNvbm5lY3RSZWdpb25zOiB7W2tleTogbnVtYmVyXTogbnVtYmVyW119LCBjb25uZWN0b3I6IGNjLlZlYzIsIGdyaWQ6IGNjLlZlYzIpIHtcbiAgICAgICAgaWYoY29ubmVjdG9yLnN1YihncmlkKS5sZW4oKSA8IDIpIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgcmVnaW9ucyA9IGNvbm5lY3RSZWdpb25zW2dyaWQueSAqIHRoaXMud2lkdGggKyBncmlkLnhdLm1hcCgodikgPT4gbWVyZ2VkW3ZdKTtcbiAgICAgICAgbGV0IHNldCA9IG5ldyBTZXQ8bnVtYmVyPihyZWdpb25zKTtcbiAgICAgICAgaWYoc2V0LnNpemUgPiAxKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gaWYoTWF0aFV0aWxzLmxpbWl0SW50ZWdlcigwLCB0aGlzLmV4dHJhQ29ubmVjdG9yQ2hhbmNlKSkgdGhpcy5hZGRKdW5jdGlvbihncmlkKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHB1YmxpYyByZW1vdmVEZWFkRW5kcygpIHtcbiAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IHRtcFZlYzIgPSBjYy52MigwLCAwKTtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgd2hpbGUoIWRvbmUgJiYgY291bnQgPCA1MDApIHtcbiAgICAgICAgICAgIGNvdW50ICsrO1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IobGV0IGk9MTsgaTx0aGlzLndpZHRoLTE7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaj0xOyBqPHRoaXMuaGVpZ2h0LTE7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB0bXBWZWMyLnggPSBpOyB0bXBWZWMyLnkgPSBqO1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmdldEdyaWRUeXBlKHRtcFZlYzIpID09PSBHcmlkVHlwZS5XYWxsKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4aXN0cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgZGlyIG9mIEFMTF9ESVJfVFlQRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBncmlkID0gdG1wVmVjMi5hZGQodGhpcy5nZXREaXJHcmlkT2Zmc2V0KGRpcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5tYXBbZ3JpZC55ICogdGhpcy53aWR0aCArIGdyaWQueF0gIT09IEdyaWRUeXBlLldhbGwpIGV4aXN0cyArKztcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmKGV4aXN0cyAhPT0gMSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpb25zW2ogKiB0aGlzLmhlaWdodCArIGldID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaiAqIHRoaXMuaGVpZ2h0ICsgaV0gPSBHcmlkVHlwZS5XYWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgaW5zdGFuY2VNYXAoKSB7XG5cbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldEdyaWRCeUlkeChpZHg6IG51bWJlcikge1xuICAgICAgICBsZXQgeSA9IE1hdGguZmxvb3IoaWR4IC8gdGhpcy53aWR0aCk7XG4gICAgICAgIGxldCB4ID0gaWR4IC0geSAqIHRoaXMud2lkdGg7XG4gICAgICAgIHJldHVybiBjYy52Mih4LCB5KTtcbiAgICB9XG5cbiAgICAvKiog6ZuV5Yi75LiA5Liq5qC85a2QICovXG4gICAgcHJpdmF0ZSBjYXJ2ZUdyaWQoZ3JpZDogY2MuVmVjMiwgdHlwZTogR3JpZFR5cGUpIHtcbiAgICAgICAgaWYoIXRoaXMuY2hlY2tHcmlkKGdyaWQpKSByZXR1cm4gO1xuICAgICAgICB0aGlzLnNldEdyaWRUeXBlKGdyaWQsIHR5cGUpO1xuICAgICAgICB0aGlzLnJlZ2lvbnNbZ3JpZC55ICogdGhpcy53aWR0aCArIGdyaWQueF0gPSB0aGlzLmN1cnJlbnRSZWdpb247XG4gICAgfVxuICAgIHByaXZhdGUgc2V0R3JpZFR5cGUoZ3JpZDogY2MuVmVjMiwgdHlwZTogR3JpZFR5cGUpIHtcbiAgICAgICAgdGhpcy5tYXBbZ3JpZC55ICogdGhpcy53aWR0aCArIGdyaWQueF0gPSB0eXBlO1xuICAgIH1cbiAgICBwcml2YXRlIGNoZWNrR3JpZChncmlkOiBjYy5WZWMyKSB7XG4gICAgICAgIGlmKGdyaWQueCA8PSAwIHx8IGdyaWQueCA+PSB0aGlzLndpZHRoLTEgfHwgZ3JpZC55IDw9IDAgfHwgZ3JpZC55ID49IHRoaXMuaGVpZ2h0LTEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiIHNldCBncmlkIHR5cGUgZXJyb3I6IFwiLCBncmlkKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcHJpdmF0ZSBnZXRHcmlkVHlwZShncmlkOiBjYy5WZWMyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcFtncmlkLnkgKiB0aGlzLndpZHRoICsgZ3JpZC54XTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNhbkNhcnZlKGdyaWQ6IGNjLlZlYzIsIGRpcjogRGlyVHlwZSkge1xuICAgICAgICBsZXQgZGlyR3JpZCA9IHRoaXMuZ2V0RGlyR3JpZE9mZnNldChkaXIpO1xuICAgICAgICBsZXQgbmV4dEdyaWQgPSBncmlkLmFkZChkaXJHcmlkLm11bCgzKSk7XG4gICAgICAgIGlmKG5leHRHcmlkLnggPCAwIHx8IG5leHRHcmlkLnggPj0gdGhpcy53aWR0aCB8fCBuZXh0R3JpZC55IDwgMCB8fCBuZXh0R3JpZC55ID49IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0R3JpZCA9IGdyaWQuYWRkKGRpckdyaWQubXVsKDIpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JpZFR5cGUobmV4dEdyaWQpID09PSBHcmlkVHlwZS5XYWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RGlyR3JpZE9mZnNldChkaXI6IERpclR5cGUpIHtcbiAgICAgICAgbGV0IGRpckdyaWQgPSBjYy52MigwLCAwKTtcbiAgICAgICAgc3dpdGNoKGRpcikge1xuICAgICAgICAgICAgY2FzZSBEaXJUeXBlLkxlZnQ6XG4gICAgICAgICAgICAgICAgZGlyR3JpZC54ID0gLTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIERpclR5cGUuUmlnaHQ6XG4gICAgICAgICAgICAgICAgZGlyR3JpZC54ID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRGlyVHlwZS5VcDpcbiAgICAgICAgICAgICAgICBkaXJHcmlkLnkgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBEaXJUeXBlLkRvd246XG4gICAgICAgICAgICAgICAgZGlyR3JpZC55ID0gLTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpckdyaWQ7XG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Logic/Game.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '30ba5eNytVM3pckqs/AGbqm', 'Game');
// Script/Logic/Game.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Game = void 0;
var ConfigMgr_1 = require("./Manager/ConfigMgr");
var PlayerMgr_1 = require("./Manager/PlayerMgr");
/**
 * 掌管逻辑层
 */
var Game = /** @class */ (function () {
    function Game() {
        this.inited = false;
        this.configMgr = null;
        this.playerMgr = null;
    }
    Game.prototype.init = function (uiRoot) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // 初始化Manager, 例如new ConfigMgr();
                        this.configMgr = new ConfigMgr_1.default(this);
                        this.playerMgr = new PlayerMgr_1.default(this);
                        // 初始化平台sdk
                        // todo...
                        // 加载配置
                        return [4 /*yield*/, this.configMgr.loadConfigs()];
                    case 1:
                        // 初始化平台sdk
                        // todo...
                        // 加载配置
                        _a.sent();
                        // 
                        this.inited = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    Game.prototype.onGameShow = function () {
    };
    Game.prototype.onGameHide = function () {
    };
    /**
     * 逻辑层的时间更新控制
     * @param dt
     */
    Game.prototype.update = function (dt) {
        if (!this.inited)
            return;
        // 例如Task.update(dt); 更新任务进度
    };
    return Game;
}());
exports.Game = Game;
var GameMgr = new Game();
exports.default = GameMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvTG9naWMvR2FtZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpREFBNEM7QUFDNUMsaURBQTRDO0FBRTVDOztHQUVHO0FBQ0g7SUFBQTtRQUVXLFdBQU0sR0FBRyxLQUFLLENBQUM7UUFDZixjQUFTLEdBQWMsSUFBSSxDQUFDO1FBQzVCLGNBQVMsR0FBYyxJQUFJLENBQUM7SUE2QnZDLENBQUM7SUE1QmdCLG1CQUFJLEdBQWpCLFVBQWtCLE1BQWU7Ozs7O3dCQUM3QixpQ0FBaUM7d0JBQ2pDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxtQkFBUyxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUNyQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksbUJBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDckMsV0FBVzt3QkFDWCxVQUFVO3dCQUNWLE9BQU87d0JBQ1AscUJBQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsRUFBQTs7d0JBSGxDLFdBQVc7d0JBQ1gsVUFBVTt3QkFDVixPQUFPO3dCQUNQLFNBQWtDLENBQUM7d0JBRW5DLEdBQUc7d0JBQ0gsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Ozs7O0tBQ3RCO0lBRUQseUJBQVUsR0FBVjtJQUVBLENBQUM7SUFDRCx5QkFBVSxHQUFWO0lBRUEsQ0FBQztJQUVEOzs7T0FHRztJQUNJLHFCQUFNLEdBQWIsVUFBYyxFQUFVO1FBQ3BCLElBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTTtZQUFFLE9BQVE7UUFDekIsNEJBQTRCO0lBQ2hDLENBQUM7SUFDTCxXQUFDO0FBQUQsQ0FqQ0EsQUFpQ0MsSUFBQTtBQWpDWSxvQkFBSTtBQWtDakIsSUFBSSxPQUFPLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUN6QixrQkFBZSxPQUFPLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uZmlnTWdyIGZyb20gXCIuL01hbmFnZXIvQ29uZmlnTWdyXCI7XG5pbXBvcnQgUGxheWVyTWdyIGZyb20gXCIuL01hbmFnZXIvUGxheWVyTWdyXCI7XG5cbi8qKlxuICog5o6M566h6YC76L6R5bGCXG4gKi9cbmV4cG9ydCBjbGFzcyBHYW1lIHtcblxuICAgIHB1YmxpYyBpbml0ZWQgPSBmYWxzZTtcbiAgICBwdWJsaWMgY29uZmlnTWdyOiBDb25maWdNZ3IgPSBudWxsO1xuICAgIHB1YmxpYyBwbGF5ZXJNZ3I6IFBsYXllck1nciA9IG51bGw7XG4gICAgcHVibGljIGFzeW5jIGluaXQodWlSb290OiBjYy5Ob2RlKSB7XG4gICAgICAgIC8vIOWIneWni+WMlk1hbmFnZXIsIOS+i+Wmgm5ldyBDb25maWdNZ3IoKTtcbiAgICAgICAgdGhpcy5jb25maWdNZ3IgPSBuZXcgQ29uZmlnTWdyKHRoaXMpO1xuICAgICAgICB0aGlzLnBsYXllck1nciA9IG5ldyBQbGF5ZXJNZ3IodGhpcyk7XG4gICAgICAgIC8vIOWIneWni+WMluW5s+WPsHNka1xuICAgICAgICAvLyB0b2RvLi4uXG4gICAgICAgIC8vIOWKoOi9vemFjee9rlxuICAgICAgICBhd2FpdCB0aGlzLmNvbmZpZ01nci5sb2FkQ29uZmlncygpO1xuXG4gICAgICAgIC8vIFxuICAgICAgICB0aGlzLmluaXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgb25HYW1lU2hvdygpIHtcblxuICAgIH1cbiAgICBvbkdhbWVIaWRlKCkge1xuICAgICAgICBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpgLvovpHlsYLnmoTml7bpl7Tmm7TmlrDmjqfliLZcbiAgICAgKiBAcGFyYW0gZHQgXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgICAgIGlmKCF0aGlzLmluaXRlZCkgcmV0dXJuIDtcbiAgICAgICAgLy8g5L6L5aaCVGFzay51cGRhdGUoZHQpOyDmm7TmlrDku7vliqHov5vluqZcbiAgICB9XG59XG5sZXQgR2FtZU1nciA9IG5ldyBHYW1lKCk7XG5leHBvcnQgZGVmYXVsdCBHYW1lTWdyOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/BigNumUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c4b72NccXhGKofOUM3hVrvP', 'BigNumUtils');
// Script/Common/Utils/BigNumUtils.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RountType = void 0;
var RountType;
(function (RountType) {
    RountType[RountType["Round"] = 0] = "Round";
    RountType[RountType["Floor"] = 1] = "Floor";
    RountType[RountType["Ceil"] = 2] = "Ceil";
})(RountType = exports.RountType || (exports.RountType = {}));
var BigNumUtils = /** @class */ (function () {
    function BigNumUtils() {
    }
    BigNumUtils.BNPlus = function () {
        var args = [];
        for (var _a = 0; _a < arguments.length; _a++) {
            args[_a] = arguments[_a];
        }
        var value = [0, 0];
        for (var _i = 0; _i < args.length; _i++) {
            var arg = args[_i];
            var base, zeroes;
            var num = +arg;
            if (num === 0 || (num && num !== Infinity)) {
                zeroes = arg < 10 ? 0 : Math.floor(Math.log10(+arg) + 1e-6);
                base = arg < 10 ? arg : arg / Math.pow(10, zeroes);
            }
            else {
                if (arg) {
                    arg = arg.split("e");
                    base = +arg[0] || 0;
                    zeroes = +arg[1] || 0;
                }
                else {
                    base = 0;
                    zeroes = 0;
                }
            }
            if (zeroes > value[1]) {
                value[0] /= Math.pow(10, zeroes - value[1]);
                value[0] += base;
                value[1] = zeroes;
            }
            else {
                value[0] += base / Math.pow(10, value[1] - zeroes);
            }
        }
        var sign = value[0] >= 0 ? 1 : -1;
        var rbase = Math.abs(value[0]);
        while (rbase < 1 && value[1] > 0) {
            rbase *= 10;
            value[1] -= 1;
        }
        while (rbase > 10) {
            rbase /= 10;
            value[1] += 1;
        }
        rbase *= sign;
        return rbase + "e" + value[1];
    };
    BigNumUtils.BNMinus = function () {
        var args = [];
        for (var _a = 0; _a < arguments.length; _a++) {
            args[_a] = arguments[_a];
        }
        var value = [0, 0];
        for (var _i = 0; _i < args.length; _i++) {
            var arg = args[_i];
            var idx = _i;
            var base, zeroes;
            var num = +arg;
            if (num === 0 || (num && num !== Infinity)) {
                zeroes = arg < 10 ? 0 : Math.floor(Math.log10(+arg) + 1e-6);
                base = arg < 10 ? arg : arg / Math.pow(10, zeroes);
            }
            else {
                arg = arg.split("e");
                base = +arg[0];
                zeroes = +arg[1];
            }
            if (!idx) {
                value[0] = base;
                value[1] = zeroes;
            }
            else {
                if (value[1] < zeroes) {
                    value[0] = value[0] / Math.pow(10, zeroes - value[1]) - base;
                    value[1] = zeroes;
                }
                else {
                    value[0] -= base / Math.pow(10, value[1] - zeroes);
                }
            }
        }
        // if(value[0] <= 1e-10){
        //   return 0;
        // }
        var sign = value[0] >= 0 ? 1 : -1;
        var rbase = Math.abs(value[0]);
        while (rbase < 1 && value[1] > 0) {
            rbase *= 10;
            value[1] -= 1;
        }
        while (rbase > 10) {
            rbase /= 10;
            value[1] += 1;
        }
        rbase *= sign;
        return rbase + "e" + value[1];
    };
    BigNumUtils.BNTimes = function () {
        var args = [];
        for (var _a = 0; _a < arguments.length; _a++) {
            args[_a] = arguments[_a];
        }
        var value = [0, 0];
        args.forEach(function (arg, idx) {
            var base, zeroes;
            var num = +arg;
            if (num === 0 || (num && num !== Infinity)) {
                zeroes = arg < 10 ? 0 : Math.floor(Math.log10(+arg) + 1e-6);
                base = arg < 10 ? arg : arg / Math.pow(10, zeroes);
            }
            else {
                if (arg) {
                    arg = arg.split("e");
                    base = +arg[0] || 0;
                    zeroes = +arg[1] || 0;
                }
                else {
                    base = 1;
                    zeroes = 0;
                }
            }
            if (!idx) {
                value[0] = base;
                value[1] = zeroes;
            }
            else {
                value[0] *= base;
                value[1] += zeroes;
                if (value[0] > 1e300) {
                    value[0] /= 1e300;
                    value[1] += 300;
                }
            }
        });
        var sign = value[0] >= 0 ? 1 : -1;
        var base = Math.abs(value[0]);
        while (base < 1 && value[1] > 0) {
            base *= 10;
            value[1] -= 1;
        }
        while (base > 10) {
            base /= 10;
            value[1] += 1;
        }
        return base * sign + "e" + value[1];
    };
    BigNumUtils.BNDevide = function (value0, value1) {
        if (+value1 === 0) {
            return 0;
        }
        var value = [0, 0];
        var sign = 1;
        [value0, value1].forEach(function (arg, idx) {
            var base, zeroes;
            var realNum = +arg;
            var num = Math.abs(realNum);
            if (num === 0 || (num && num !== Infinity)) {
                zeroes = num < 10 ? 0 : Math.floor(Math.log10(num) + 1e-6);
                base = num < 10 ? num : num / Math.pow(10, zeroes);
            }
            else {
                arg = arg.split("e");
                realNum = +arg[0];
                base = Math.abs(realNum);
                zeroes = +arg[1];
            }
            sign *= realNum >= 0 ? 1 : -1;
            if (idx === 0) {
                value[0] = base;
                value[1] = zeroes;
            }
            else {
                value[0] /= base;
                value[1] -= zeroes;
            }
        });
        var base = Math.abs(value[0]);
        while (base < 1 && value[1] > 0) {
            base *= 10;
            value[1] -= 1;
        }
        while (base > 10) {
            base /= 10;
            value[1] += 1;
        }
        base *= sign;
        if (value[1] < 100) {
            return base * Math.pow(10, value[1]);
        }
        return this.BNTimes(base, this.BNPow(10, value[1]));
    };
    BigNumUtils.BNCompare = function (value0, value1) {
        var bases = [0, 0];
        var zeroes = [0, 0];
        [value0, value1].forEach(function (arg, idx) {
            var num = +arg;
            if (num === 0 || (num && num !== Infinity)) {
                zeroes[idx] = arg < 10 ? 0 : Math.floor(Math.log10(+arg) + 1e-6);
                bases[idx] = arg < 10 ? arg : arg / Math.pow(10, zeroes[idx]);
            }
            else {
                arg = arg.split("e");
                bases[idx] = +arg[0];
                zeroes[idx] = +arg[1];
            }
        });
        return bases[0] * bases[1] < 0 ? (bases[0] > 0 ? 1 : -1) : zeroes[1] > zeroes[0] ? -1 : zeroes[1] < zeroes[0] ? 1 : bases[1] > bases[0] ? -1 : bases[1] < bases[0] ? 1 : 0;
    };
    BigNumUtils.BNPow = function (di, zhi) {
        if (!di) {
            return "0";
        }
        if (!zhi) {
            return "1";
        }
        var max = Math.floor(Math.log(1e300) / Math.log(di));
        max = Math.max(max, 1);
        var val = 1;
        if (max >= zhi) {
            val = Math.pow(di, zhi);
        }
        else {
            var times = Math.floor(zhi / max);
            var arr = [];
            var mid = Math.pow(di, max);
            for (var i = 0; i < times; i++) {
                arr.push(mid);
            }
            arr.push(Math.pow(di, zhi - max * times));
            val = this.BNTimes.apply(this, arr);
        }
        return val;
    };
    BigNumUtils.BNMax = function (value0, value1) {
        return this.BNCompare(value0, value1) > 0 ? value0 : value1;
    };
    BigNumUtils.BNMin = function (value0, value1) {
        return this.BNCompare(value0, value1) > 0 ? value1 : value0;
    };
    BigNumUtils.BNLog = function (value) {
        var num = +value;
        if (num === 0 || (num && num !== Infinity)) {
            var sign = num >= 0 ? 1 : -1;
            num = Math.abs(num);
            return sign * Math.log10(num);
        }
        else {
            return +value.split("e")[1];
        }
    };
    BigNumUtils.BNSqrt = function (value) {
        var num = +value;
        if (num === 0 || (num && num !== Infinity)) {
            return Math.sqrt(num);
        }
        var arr = value.split("e");
        var a = +arr[0];
        var b = +arr[1];
        return Math.sqrt(a) + "e" + b / 2;
    };
    BigNumUtils.BNSqrtEx = function (value, zhi) {
        var num = +value;
        if (num === 0 || (num && num !== Infinity)) {
            return Math.pow(num, 1 / zhi);
        }
        var arr = value.split("e");
        var a = +arr[0];
        var b = +arr[1];
        return Math.pow(a, 1 / zhi) + "e" + b / zhi;
    };
    BigNumUtils.BNFloor = function (value) {
        var num = +value;
        if (num === 0 || (num && num !== Infinity)) {
            return Math.floor(num);
        }
        return value;
    };
    BigNumUtils.BNCeil = function (value) {
        var num = +value;
        if (num === 0 || (num && num !== Infinity)) {
            return Math.ceil(num);
        }
        return value;
    };
    BigNumUtils.BNRound = function (value) {
        var num = +value;
        if (num === 0 || (num && num !== Infinity)) {
            return Math.round(num);
        }
        return value;
    };
    BigNumUtils.BN2Number = function (value) {
        var num = +value;
        if (num === 0 || (num && num !== Infinity)) {
            return num;
        }
        else {
            var arr = value.split("e");
            return +arr[0] * Math.pow(10, arr[1]);
        }
    };
    BigNumUtils.getOwnString = function (n) {
        return this.getNumberString(n, undefined, undefined, RountType.Floor);
    };
    BigNumUtils.getCostString = function (n) {
        return this.getNumberString(n, undefined, undefined, RountType.Ceil);
    };
    BigNumUtils.getNumberString = function (n, fixed, bigFixed, roundType) {
        if (fixed === void 0) { fixed = 0; }
        if (roundType === void 0) { roundType = RountType.Round; }
        var _base;
        var tailIdx;
        var num = +n;
        if (num === 0 || (num && num !== Infinity)) {
            if (n < 1000) {
                return this.roundNum(n, roundType, fixed);
            }
            var base = "" + Math.round(n);
            var digit = 0;
            if (~base.indexOf("e")) {
                //fix bug Math.log10(9.999999999999996e+38)=39
                var dishu = +base.split("e")[0];
                var zhishu = +base.split("e")[1];
                zhishu += Math.floor(Math.log10(dishu));
                digit = zhishu;
            }
            else {
                digit = Math.floor(Math.log10(n));
            }
            if (~base.indexOf("e")) {
                _base = +base.split("e")[0] * Math.pow(10, digit % 3);
            }
            else {
                _base = +base.slice(0, digit % 3 + 4) / 1000;
            }
            tailIdx = digit / 3 >> 0;
        }
        else {
            n = n.split("e");
            if (+n[1] < 3) {
                var v = n[0] * Math.pow(10, n[1]);
                return this.roundNum(v, roundType, fixed);
            }
            _base = n[0] * Math.pow(10, n[1] % 3);
            while (_base > 1000) {
                _base /= 1000;
                n[1] = +n[1] + 3;
            }
            tailIdx = n[1] / 3 >> 0;
        }
        var tail;
        if (tailIdx < 4) {
            tail = ["", "K", "M", "B"][tailIdx];
        }
        else {
            var first = (tailIdx - 4) / 26 >> 0;
            var grade = first / 26 >> 0;
            var second = (tailIdx - 4) % 26;
            var a = "abcdefghijklmnopqrstuvwxyz";
            var b = a.toUpperCase();
            tail = (grade < 2 ? a : b)[first % 26] + (grade % 2 ? b : a)[second];
        }
        if (bigFixed === undefined) {
            bigFixed = _base < 10 ? 2 : _base < 100 ? 1 : 0;
        }
        var baseStr = this.roundNum(_base, roundType, bigFixed);
        return baseStr + tail;
    };
    BigNumUtils.roundNum = function (n, type, fixed) {
        var func;
        if (type === RountType.Round) {
            func = Math.round;
        }
        else if (type === RountType.Ceil) {
            func = Math.ceil;
        }
        else {
            func = Math.floor;
        }
        var val;
        if (fixed === 0) {
            val = func(n);
        }
        else {
            var b = Math.pow(10, fixed);
            val = func(b * n) / b;
        }
        return val.toFixed(fixed);
    };
    BigNumUtils.getFixNumber = function (num, fixed) {
        if (fixed === void 0) { fixed = 1; }
        var b = Math.pow(10, fixed);
        return Math.floor(num * b) / b;
    };
    BigNumUtils.getPercentString = function (num, fixed) {
        if (fixed === void 0) { fixed = 1; }
        if (typeof num === 'string') {
            return this.getNumberString(this.BNTimes(num, 100), fixed) + '%';
        }
        else {
            return this.getNumberString(num * 100, fixed) + '%';
        }
    };
    return BigNumUtils;
}());
exports.default = BigNumUtils;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL0JpZ051bVV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQWtCLFNBSWpCO0FBSkQsV0FBa0IsU0FBUztJQUN2QiwyQ0FBSyxDQUFBO0lBQ0wsMkNBQUssQ0FBQTtJQUNMLHlDQUFJLENBQUE7QUFDUixDQUFDLEVBSmlCLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBSTFCO0FBRUQ7SUFBQTtJQStZQSxDQUFDO0lBOVlpQixrQkFBTSxHQUFwQjtRQUFxQixjQUFjO2FBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztZQUFkLHlCQUFjOztRQUMvQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNuQixLQUFLLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRTtZQUNyQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDbkIsSUFBSSxJQUFJLEVBQUUsTUFBTSxDQUFDO1lBQ2pCLElBQUksR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDO1lBQ2YsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsS0FBSyxRQUFRLENBQUMsRUFBRTtnQkFDeEMsTUFBTSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7Z0JBQzVELElBQUksR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxN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QUssQ0FBQyxHQUFHLEdBQUcsQ0FBQztTQUNwRTthQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQ3ZEO0lBQ0wsQ0FBQztJQUNMLGtCQUFDO0FBQUQsQ0EvWUEsQUErWUMsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBlbnVtIFJvdW50VHlwZXtcbiAgICBSb3VuZCxcbiAgICBGbG9vcixcbiAgICBDZWlsLFxufVxuZGVjbGFyZSB0eXBlIEJpZ051bWJlciA9IG51bWJlciB8IHN0cmluZztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpZ051bVV0aWxzIHtcbiAgICBwdWJsaWMgc3RhdGljIEJOUGx1cyguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBbMCwgMF07XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmdzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3NbX2ldO1xuICAgICAgICAgICAgdmFyIGJhc2UsIHplcm9lcztcbiAgICAgICAgICAgIHZhciBudW0gPSArYXJnO1xuICAgICAgICAgICAgaWYgKG51bSA9PT0gMCB8fCAobnVtICYmIG51bSAhPT0gSW5maW5pdHkpKSB7XG4gICAgICAgICAgICAgICAgemVyb2VzID0gYXJnIDwgMTAgPyAwIDogTWF0aC5mbG9vcihNYXRoLmxvZzEwKCthcmcpICsgMWUtNik7XG4gICAgICAgICAgICAgICAgYmFzZSA9IGFyZyA8IDEwID8gYXJnIDogYXJnIC8gTWF0aC5wb3coMTAsIHplcm9lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy5zcGxpdChcImVcIik7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UgPSArYXJnWzBdIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHplcm9lcyA9ICthcmdbMV0gfHwgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB6ZXJvZXMgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh6ZXJvZXMgPiB2YWx1ZVsxXSkge1xuICAgICAgICAgICAgICAgIHZhbHVlWzBdIC89IE1hdGgucG93KDEwLCB6ZXJvZXMgLSB2YWx1ZVsxXSk7XG4gICAgICAgICAgICAgICAgdmFsdWVbMF0gKz0gYmFzZTtcbiAgICAgICAgICAgICAgICB2YWx1ZVsxXSA9IHplcm9lcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlWzBdICs9IGJhc2UgLyBNYXRoLnBvdygxMCwgdmFsdWVbMV0gLSB6ZXJvZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBzaWduID0gdmFsdWVbMF0gPj0gMCA/IDEgOiAtMTsgXG4gICAgICAgIGxldCByYmFzZSA9IE1hdGguYWJzKHZhbHVlWzBdKTtcbiAgICAgICAgd2hpbGUgKHJiYXNlIDwgMSAmJiB2YWx1ZVsxXSA+IDApIHtcbiAgICAgICAgICAgIHJiYXNlICo9IDEwO1xuICAgICAgICAgICAgdmFsdWVbMV0gLT0gMTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocmJhc2UgPiAxMCkge1xuICAgICAgICAgICAgcmJhc2UgLz0gMTA7XG4gICAgICAgICAgICB2YWx1ZVsxXSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJiYXNlICo9IHNpZ247XG4gICAgICAgIHJldHVybiBgJHtyYmFzZX1lJHt2YWx1ZVsxXX1gO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIEJOTWludXMoLi4uYXJnczogYW55W10pOkJpZ051bWJlciB7XG4gICAgICAgIHZhciB2YWx1ZSA9IFswLCAwXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3MubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgYXJnID0gYXJnc1tfaV07XG4gICAgICAgICAgICB2YXIgaWR4ID0gX2k7XG4gICAgICAgICAgICB2YXIgYmFzZSwgemVyb2VzO1xuICAgICAgICAgICAgdmFyIG51bSA9ICthcmc7XG4gICAgICAgICAgICBpZiAobnVtID09PSAwIHx8IChudW0gJiYgbnVtICE9PSBJbmZpbml0eSkpIHtcbiAgICAgICAgICAgICAgICB6ZXJvZXMgPSBhcmcgPCAxMCA/IDAgOiBNYXRoLmZsb29yKE1hdGgubG9nMTAoK2FyZykgKyAxZS02KTtcbiAgICAgICAgICAgICAgICBiYXNlID0gYXJnIDwgMTAgPyBhcmcgOiBhcmcgLyBNYXRoLnBvdygxMCwgemVyb2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyZyA9IGFyZy5zcGxpdChcImVcIik7XG4gICAgICAgICAgICAgICAgYmFzZSA9ICthcmdbMF07XG4gICAgICAgICAgICAgICAgemVyb2VzID0gK2FyZ1sxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpZHgpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVswXSA9IGJhc2U7XG4gICAgICAgICAgICAgICAgdmFsdWVbMV0gPSB6ZXJvZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVbMV0gPCB6ZXJvZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbMF0gPSB2YWx1ZVswXSAvIE1hdGgucG93KDEwLCB6ZXJvZXMgLSB2YWx1ZVsxXSkgLSBiYXNlO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVsxXSA9IHplcm9lcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWzBdIC09IGJhc2UgLyBNYXRoLnBvdygxMCwgdmFsdWVbMV0gLSB6ZXJvZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZih2YWx1ZVswXSA8PSAxZS0xMCl7XG4gICAgICAgIC8vICAgcmV0dXJuIDA7XG4gICAgICAgIC8vIH1cbiAgICAgICAgbGV0IHNpZ24gPSB2YWx1ZVswXSA+PSAwID8gMSA6IC0xOyBcbiAgICAgICAgbGV0IHJiYXNlID0gTWF0aC5hYnModmFsdWVbMF0pO1xuICAgICAgICB3aGlsZSAocmJhc2UgPCAxICYmIHZhbHVlWzFdID4gMCkge1xuICAgICAgICAgICAgcmJhc2UgKj0gMTA7XG4gICAgICAgICAgICB2YWx1ZVsxXSAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChyYmFzZSA+IDEwKSB7XG4gICAgICAgICAgICByYmFzZSAvPSAxMDtcbiAgICAgICAgICAgIHZhbHVlWzFdICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmJhc2UgKj0gc2lnbjtcbiAgICAgICAgcmV0dXJuIGAke3JiYXNlfWUke3ZhbHVlWzFdfWA7XG4gICAgfVxuICAgIHB1YmxpYyBzdGF0aWMgQk5UaW1lcyguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBbMCwgMF07XG4gICAgICAgIGFyZ3MuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpZHgpIHtcbiAgICAgICAgICAgIHZhciBiYXNlLCB6ZXJvZXM7XG4gICAgICAgICAgICB2YXIgbnVtID0gK2FyZztcbiAgICAgICAgICAgIGlmIChudW0gPT09IDAgfHwgKG51bSAmJiBudW0gIT09IEluZmluaXR5KSkge1xuICAgICAgICAgICAgICAgIHplcm9lcyA9IGFyZyA8IDEwID8gMCA6IE1hdGguZmxvb3IoTWF0aC5sb2cxMCgrYXJnKSArIDFlLTYpO1xuICAgICAgICAgICAgICAgIGJhc2UgPSBhcmcgPCAxMCA/IGFyZyA6IGFyZyAvIE1hdGgucG93KDEwLCB6ZXJvZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc3BsaXQoXCJlXCIpO1xuICAgICAgICAgICAgICAgICAgICBiYXNlID0gK2FyZ1swXSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICB6ZXJvZXMgPSArYXJnWzFdIHx8IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYXNlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgemVyb2VzID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlkeCkge1xuICAgICAgICAgICAgICAgIHZhbHVlWzBdID0gYmFzZTtcbiAgICAgICAgICAgICAgICB2YWx1ZVsxXSA9IHplcm9lcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlWzBdICo9IGJhc2U7XG4gICAgICAgICAgICAgICAgdmFsdWVbMV0gKz0gemVyb2VzO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZVswXSA+IDFlMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWzBdIC89IDFlMzAwO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVsxXSArPSAzMDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGxldCBzaWduID0gdmFsdWVbMF0gPj0gMCA/IDEgOiAtMTsgXG4gICAgICAgIGxldCBiYXNlID0gTWF0aC5hYnModmFsdWVbMF0pO1xuICAgICAgICB3aGlsZSAoYmFzZSA8IDEgJiYgdmFsdWVbMV0gPiAwKSB7XG4gICAgICAgICAgICBiYXNlICo9IDEwO1xuICAgICAgICAgICAgdmFsdWVbMV0gLT0gMTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYmFzZSA+IDEwKSB7XG4gICAgICAgICAgICBiYXNlIC89IDEwO1xuICAgICAgICAgICAgdmFsdWVbMV0gKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7YmFzZSAqIHNpZ259ZSR7dmFsdWVbMV19YDtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBCTkRldmlkZSh2YWx1ZTAsIHZhbHVlMSkge1xuICAgICAgICBpZiAoK3ZhbHVlMSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gWzAsIDBdO1xuICAgICAgICBsZXQgc2lnbjpudW1iZXIgPSAxO1xuICAgICAgICBbdmFsdWUwLCB2YWx1ZTFdLmZvckVhY2goZnVuY3Rpb24gKGFyZywgaWR4KSB7XG4gICAgICAgICAgICB2YXIgYmFzZSwgemVyb2VzO1xuICAgICAgICAgICAgbGV0IHJlYWxOdW0gPSArYXJnO1xuICAgICAgICAgICAgdmFyIG51bSA9IE1hdGguYWJzKHJlYWxOdW0pO1xuICAgICAgICAgICAgaWYgKG51bSA9PT0gMCB8fCAobnVtICYmIG51bSAhPT0gSW5maW5pdHkpKSB7XG4gICAgICAgICAgICAgICAgemVyb2VzID0gbnVtIDwgMTAgPyAwIDogTWF0aC5mbG9vcihNYXRoLmxvZzEwKG51bSkgKyAxZS02KTtcbiAgICAgICAgICAgICAgICBiYXNlID0gbnVtIDwgMTAgPyBudW0gOiBudW0gLyBNYXRoLnBvdygxMCwgemVyb2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyZyA9IGFyZy5zcGxpdChcImVcIik7XG4gICAgICAgICAgICAgICAgcmVhbE51bSA9ICthcmdbMF07XG4gICAgICAgICAgICAgICAgYmFzZSA9IE1hdGguYWJzKHJlYWxOdW0pO1xuICAgICAgICAgICAgICAgIHplcm9lcyA9ICthcmdbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNpZ24gKj0gcmVhbE51bSA+PSAwID8gMSA6IC0xO1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhbHVlWzBdID0gYmFzZTtcbiAgICAgICAgICAgICAgICB2YWx1ZVsxXSA9IHplcm9lcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlWzBdIC89IGJhc2U7XG4gICAgICAgICAgICAgICAgdmFsdWVbMV0gLT0gemVyb2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGJhc2UgPSBNYXRoLmFicyh2YWx1ZVswXSk7XG4gICAgICAgIHdoaWxlIChiYXNlIDwgMSAmJiB2YWx1ZVsxXSA+IDApIHtcbiAgICAgICAgICAgIGJhc2UgKj0gMTA7XG4gICAgICAgICAgICB2YWx1ZVsxXSAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChiYXNlID4gMTApIHtcbiAgICAgICAgICAgIGJhc2UgLz0gMTA7XG4gICAgICAgICAgICB2YWx1ZVsxXSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGJhc2UgKj0gc2lnbjtcbiAgICAgICAgaWYgKHZhbHVlWzFdIDwgMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYmFzZSAqIE1hdGgucG93KDEwLCB2YWx1ZVsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuQk5UaW1lcyhiYXNlLCB0aGlzLkJOUG93KDEwLCB2YWx1ZVsxXSkpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RhdGljIEJOQ29tcGFyZSh2YWx1ZTAsIHZhbHVlMSkge1xuICAgICAgICB2YXIgYmFzZXMgPSBbMCwgMF07XG4gICAgICAgIHZhciB6ZXJvZXMgPSBbMCwgMF07XG4gICAgICAgIFt2YWx1ZTAsIHZhbHVlMV0uZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpZHgpIHtcbiAgICAgICAgICAgIHZhciBudW0gPSArYXJnO1xuICAgICAgICAgICAgaWYgKG51bSA9PT0gMCB8fCAobnVtICYmIG51bSAhPT0gSW5maW5pdHkpKSB7XG4gICAgICAgICAgICAgICAgemVyb2VzW2lkeF0gPSBhcmcgPCAxMCA/IDAgOiBNYXRoLmZsb29yKE1hdGgubG9nMTAoK2FyZykgKyAxZS02KTtcbiAgICAgICAgICAgICAgICBiYXNlc1tpZHhdID0gYXJnIDwgMTAgPyBhcmcgOiBhcmcgLyBNYXRoLnBvdygxMCwgemVyb2VzW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJnID0gYXJnLnNwbGl0KFwiZVwiKTtcbiAgICAgICAgICAgICAgICBiYXNlc1tpZHhdID0gK2FyZ1swXTtcbiAgICAgICAgICAgICAgICB6ZXJvZXNbaWR4XSA9ICthcmdbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYmFzZXNbMF0gKiBiYXNlc1sxXSA8IDAgPyAoYmFzZXNbMF0gPiAwID8gMSA6IC0xKSA6IHplcm9lc1sxXSA+IHplcm9lc1swXSA/IC0xIDogemVyb2VzWzFdIDwgemVyb2VzWzBdID8gMSA6IGJhc2VzWzFdID4gYmFzZXNbMF0gPyAtMSA6IGJhc2VzWzFdIDwgYmFzZXNbMF0gPyAxIDogMDtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBCTlBvdyhkaSwgemhpKSB7XG4gICAgICAgIGlmICghZGkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjBcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXpoaSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiMVwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXggPSBNYXRoLmZsb29yKE1hdGgubG9nKDFlMzAwKSAvIE1hdGgubG9nKGRpKSk7XG4gICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgMSk7XG4gICAgICAgIHZhciB2YWw6QmlnTnVtYmVyID0gMTtcbiAgICAgICAgaWYgKG1heCA+PSB6aGkpIHtcbiAgICAgICAgICAgIHZhbCA9IE1hdGgucG93KGRpLCB6aGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRpbWVzID0gTWF0aC5mbG9vcih6aGkgLyBtYXgpO1xuICAgICAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICAgICAgdmFyIG1pZCA9IE1hdGgucG93KGRpLCBtYXgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2gobWlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyci5wdXNoKE1hdGgucG93KGRpLCB6aGkgLSBtYXggKiB0aW1lcykpO1xuICAgICAgICAgICAgdmFsID0gdGhpcy5CTlRpbWVzLmFwcGx5KHRoaXMsIGFycik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBCTk1heCh2YWx1ZTAsIHZhbHVlMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5CTkNvbXBhcmUodmFsdWUwLCB2YWx1ZTEpID4gMCA/IHZhbHVlMCA6IHZhbHVlMTtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBCTk1pbih2YWx1ZTAsIHZhbHVlMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5CTkNvbXBhcmUodmFsdWUwLCB2YWx1ZTEpID4gMCA/IHZhbHVlMSA6IHZhbHVlMDtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBCTkxvZyh2YWx1ZSkge1xuICAgICAgICBsZXQgbnVtID0gK3ZhbHVlO1xuICAgICAgICBpZiAobnVtID09PSAwIHx8IChudW0gJiYgbnVtICE9PSBJbmZpbml0eSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ24gPSBudW0gPj0gMCA/IDEgOiAtMTtcbiAgICAgICAgICAgIG51bSA9IE1hdGguYWJzKG51bSk7XG4gICAgICAgICAgICByZXR1cm4gc2lnbiAqIE1hdGgubG9nMTAobnVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiArdmFsdWUuc3BsaXQoXCJlXCIpWzFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBzdGF0aWMgQk5TcXJ0KHZhbHVlKXtcbiAgICAgICAgY29uc3QgbnVtID0gK3ZhbHVlO1xuICAgICAgICBpZiAobnVtID09PSAwIHx8IChudW0gJiYgbnVtICE9PSBJbmZpbml0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQobnVtKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJyID0gdmFsdWUuc3BsaXQoXCJlXCIpO1xuICAgICAgICBsZXQgYSA9ICthcnJbMF07XG4gICAgICAgIGxldCBiID0gK2FyclsxXTtcbiAgICAgICAgcmV0dXJuIGAke01hdGguc3FydChhKX1lJHtiLzJ9YDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIEJOU3FydEV4KHZhbHVlLCB6aGk6bnVtYmVyKXtcbiAgICAgICAgY29uc3QgbnVtID0gK3ZhbHVlO1xuICAgICAgICBpZiAobnVtID09PSAwIHx8IChudW0gJiYgbnVtICE9PSBJbmZpbml0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyhudW0sIDEvemhpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJyID0gdmFsdWUuc3BsaXQoXCJlXCIpO1xuICAgICAgICBsZXQgYSA9ICthcnJbMF07XG4gICAgICAgIGxldCBiID0gK2FyclsxXTtcbiAgICAgICAgcmV0dXJuIGAke01hdGgucG93KGEsIDEvemhpKX1lJHtiL3poaX1gO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgQk5GbG9vcih2YWx1ZSl7XG4gICAgICAgIGNvbnN0IG51bSA9ICt2YWx1ZTtcbiAgICAgICAgaWYgKG51bSA9PT0gMCB8fCAobnVtICYmIG51bSAhPT0gSW5maW5pdHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIEJOQ2VpbCh2YWx1ZSl7XG4gICAgICAgIGNvbnN0IG51bSA9ICt2YWx1ZTtcbiAgICAgICAgaWYgKG51bSA9PT0gMCB8fCAobnVtICYmIG51bSAhPT0gSW5maW5pdHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgQk5Sb3VuZCh2YWx1ZSl7XG4gICAgICAgIGNvbnN0IG51bSA9ICt2YWx1ZTtcbiAgICAgICAgaWYgKG51bSA9PT0gMCB8fCAobnVtICYmIG51bSAhPT0gSW5maW5pdHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIEJOMk51bWJlcih2YWx1ZSkge1xuICAgICAgICBjb25zdCBudW0gPSArdmFsdWU7XG4gICAgICAgIGlmIChudW0gPT09IDAgfHwgKG51bSAmJiBudW0gIT09IEluZmluaXR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcnIgPSB2YWx1ZS5zcGxpdChcImVcIik7XG4gICAgICAgICAgICByZXR1cm4gK2FyclswXSAqIE1hdGgucG93KDEwLCBhcnJbMV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRPd25TdHJpbmcobjphbnkpe1xuICAgICAgICByZXR1cm4gdGhpcy5nZXROdW1iZXJTdHJpbmcobiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFJvdW50VHlwZS5GbG9vcik7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRDb3N0U3RyaW5nKG46YW55KXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TnVtYmVyU3RyaW5nKG4sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBSb3VudFR5cGUuQ2VpbCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXROdW1iZXJTdHJpbmcobjphbnksIGZpeGVkOm51bWJlciA9IDAsIGJpZ0ZpeGVkPzpudW1iZXIsIHJvdW5kVHlwZSA9IFJvdW50VHlwZS5Sb3VuZCk6c3RyaW5ne1xuICAgICAgICBsZXQgX2Jhc2U6bnVtYmVyO1xuICAgICAgICBsZXQgdGFpbElkeDtcbiAgICAgICAgY29uc3QgbnVtID0gK247XG4gICAgICAgIGlmIChudW0gPT09IDAgfHwgKG51bSAmJiBudW0gIT09IEluZmluaXR5KSkge1xuICAgICAgICAgICAgaWYobiA8IDEwMDApe1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJvdW5kTnVtKG4sIHJvdW5kVHlwZSwgZml4ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGJhc2U6c3RyaW5nID0gYCR7TWF0aC5yb3VuZChuKX1gO1xuICAgICAgICAgICAgbGV0IGRpZ2l0Om51bWJlciA9IDA7XG4gICAgICAgICAgICBpZih+YmFzZS5pbmRleE9mKFwiZVwiKSl7XG4gICAgICAgICAgICAgICAgLy9maXggYnVnIE1hdGgubG9nMTAoOS45OTk5OTk5OTk5OTk5OTZlKzM4KT0zOVxuICAgICAgICAgICAgICAgIGxldCBkaXNodTpudW1iZXIgPSArYmFzZS5zcGxpdChcImVcIilbMF07XG4gICAgICAgICAgICAgICAgbGV0IHpoaXNodTpudW1iZXIgPSArYmFzZS5zcGxpdChcImVcIilbMV07XG4gICAgICAgICAgICAgICAgemhpc2h1ICs9IE1hdGguZmxvb3IoTWF0aC5sb2cxMChkaXNodSkpO1xuICAgICAgICAgICAgICAgIGRpZ2l0ID0gemhpc2h1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaWdpdCA9IE1hdGguZmxvb3IoTWF0aC5sb2cxMChuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKH5iYXNlLmluZGV4T2YoXCJlXCIpKXtcbiAgICAgICAgICAgICAgICBfYmFzZSA9ICtiYXNlLnNwbGl0KFwiZVwiKVswXSAqIE1hdGgucG93KDEwLGRpZ2l0ICUgMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIF9iYXNlID0gK2Jhc2Uuc2xpY2UoMCwgZGlnaXQgJSAzICsgNCkgLyAxMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFpbElkeCA9IGRpZ2l0IC8gMyA+PiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBuID0gbi5zcGxpdChcImVcIik7XG4gICAgICAgICAgICBpZigrblsxXSA8IDMpe1xuICAgICAgICAgICAgICAgIGxldCB2ID0gblswXSAqIE1hdGgucG93KDEwLG5bMV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJvdW5kTnVtKHYsIHJvdW5kVHlwZSwgZml4ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2Jhc2UgPSBuWzBdICogTWF0aC5wb3coMTAsblsxXSAlIDMpO1xuICAgICAgICAgICAgd2hpbGUoX2Jhc2UgPiAxMDAwKXtcbiAgICAgICAgICAgICAgICBfYmFzZSAvPSAxMDAwO1xuICAgICAgICAgICAgICAgIG5bMV0gPSArblsxXSArIDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWlsSWR4ID0gblsxXSAvIDMgPj4gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFpbDtcbiAgICAgICAgaWYodGFpbElkeCA8IDQpe1xuICAgICAgICAgICAgdGFpbCA9IFtcIlwiLFwiS1wiLFwiTVwiLFwiQlwiXVt0YWlsSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdmFyIGZpcnN0ID0gKHRhaWxJZHggLSA0KSAvIDI2ID4+IDA7XG5cbiAgICAgICAgICAgIHZhciBncmFkZSA9IGZpcnN0IC8gMjYgPj4gMDtcblxuICAgICAgICAgICAgdmFyIHNlY29uZCA9ICh0YWlsSWR4IC0gNCkgJSAyNjtcbiAgICAgICAgICAgIHZhciBhID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuICAgICAgICAgICAgdmFyIGIgPSBhLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIHRhaWwgPSAoZ3JhZGUgPCAyID8gYSA6IGIpW2ZpcnN0ICUgMjZdICsgKGdyYWRlICUgMiA/IGIgOiBhKVtzZWNvbmRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoYmlnRml4ZWQgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBiaWdGaXhlZCA9IF9iYXNlIDwgMTAgPyAyIDogX2Jhc2UgPCAxMDAgPyAxIDogMFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhc2VTdHIgPSB0aGlzLnJvdW5kTnVtKF9iYXNlLCByb3VuZFR5cGUsIGJpZ0ZpeGVkKTtcbiAgICAgICAgcmV0dXJuIGJhc2VTdHIgKyB0YWlsO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIHJvdW5kTnVtKG46bnVtYmVyLCB0eXBlOlJvdW50VHlwZSwgZml4ZWQ6bnVtYmVyKXtcbiAgICAgICAgbGV0IGZ1bmM7XG4gICAgICAgIGlmKHR5cGUgPT09IFJvdW50VHlwZS5Sb3VuZCl7XG4gICAgICAgICAgICBmdW5jID0gTWF0aC5yb3VuZDtcbiAgICAgICAgfSBlbHNlIGlmKHR5cGUgPT09IFJvdW50VHlwZS5DZWlsKXtcbiAgICAgICAgICAgIGZ1bmMgPSBNYXRoLmNlaWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmdW5jID0gTWF0aC5mbG9vcjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsOm51bWJlcjtcbiAgICAgICAgaWYoZml4ZWQgPT09IDApe1xuICAgICAgICAgICAgdmFsID0gZnVuYyhuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBNYXRoLnBvdygxMCwgZml4ZWQpO1xuICAgICAgICAgICAgdmFsID0gZnVuYyhiICogbikgLyBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWwudG9GaXhlZChmaXhlZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRGaXhOdW1iZXIobnVtOm51bWJlciwgZml4ZWQ6bnVtYmVyID0gMSkge1xuICAgICAgICBjb25zdCBiID0gTWF0aC5wb3coMTAsIGZpeGVkKVxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW0gKiBiKSAvIGI7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRQZXJjZW50U3RyaW5nKG51bTpCaWdOdW1iZXIsIGZpeGVkOm51bWJlciA9IDEpe1xuICAgICAgICBpZih0eXBlb2YgbnVtID09PSAnc3RyaW5nJyl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXROdW1iZXJTdHJpbmcodGhpcy5CTlRpbWVzKG51bSwgMTAwKSwgZml4ZWQpICsgJyUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TnVtYmVyU3RyaW5nKG51bSAqIDEwMCwgZml4ZWQpICsgJyUnO1xuICAgICAgICB9XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Logic/Manager/PlayerMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bea7406655LzLidqx+dJrtq', 'PlayerMgr');
// Script/Logic/Manager/PlayerMgr.ts

"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var BaseMgr_1 = require("./BaseMgr");
var PlayerMgr = /** @class */ (function (_super) {
    __extends(PlayerMgr, _super);
    function PlayerMgr() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PlayerMgr.prototype.onConfigChange = function () {
    };
    return PlayerMgr;
}(BaseMgr_1.BaseMgr));
exports.default = PlayerMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvTG9naWMvTWFuYWdlci9QbGF5ZXJNZ3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscUNBQW9DO0FBRXBDO0lBQXVDLDZCQUFPO0lBQTlDOztJQUtBLENBQUM7SUFIVSxrQ0FBYyxHQUFyQjtJQUVBLENBQUM7SUFDTCxnQkFBQztBQUFELENBTEEsQUFLQyxDQUxzQyxpQkFBTyxHQUs3QyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VNZ3IgfSBmcm9tIFwiLi9CYXNlTWdyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllck1nciBleHRlbmRzIEJhc2VNZ3Ige1xuXG4gICAgcHVibGljIG9uQ29uZmlnQ2hhbmdlKCkge1xuICAgICAgICBcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/CocosHelper.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7d011DLhkxFPakrCRw6PZqk', 'CocosHelper');
// Script/UIFrame/CocosHelper.ts

"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.LoadProgress = void 0;
var LoadProgress = /** @class */ (function () {
    function LoadProgress() {
    }
    return LoadProgress;
}());
exports.LoadProgress = LoadProgress;
/** 一些cocos api 的封装, promise函数统一加上sync后缀 */
var CocosHelper = /** @class */ (function () {
    function CocosHelper() {
    }
    CocosHelper.callInNextTick = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        setTimeout(function () {
                            resolve(true);
                        }, 0);
                    })];
            });
        });
    };
    /**
     *
     * @param target
     * @param repeat -1，表示永久执行
     * @param tweens
     */
    CocosHelper.runRepeatTweenSync = function (target, repeat) {
        var tweens = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            tweens[_i - 2] = arguments[_i];
        }
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        var selfTween = cc.tween(target);
                        for (var _i = 0, tweens_1 = tweens; _i < tweens_1.length; _i++) {
                            var tmpTween = tweens_1[_i];
                            selfTween = selfTween.then(tmpTween);
                        }
                        if (repeat < 0) {
                            cc.tween(target).repeatForever(selfTween).start();
                        }
                        else {
                            cc.tween(target).repeat(repeat, selfTween).call(function () {
                                resolve(true);
                            }).start();
                        }
                    })];
            });
        });
    };
    /** 同步的tween */
    CocosHelper.runTweenSync = function (target) {
        var tweens = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            tweens[_i - 1] = arguments[_i];
        }
        return __awaiter(this, void 0, Promise, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        var selfTween = cc.tween(target);
                        for (var _i = 0, tweens_2 = tweens; _i < tweens_2.length; _i++) {
                            var tmpTween = tweens_2[_i];
                            selfTween = selfTween.then(tmpTween);
                        }
                        selfTween.call(function () {
                            resolve();
                        }).start();
                    })];
            });
        });
    };
    /** 停止tween */
    CocosHelper.prototype.stopTween = function (target) {
        cc.Tween.stopAllByTarget(target);
    };
    CocosHelper.prototype.stopTweenByTag = function (tag) {
        cc.Tween.stopAllByTag(tag);
    };
    /** 同步的动作, 在2.4.x action已经被废弃了, 不建议使用 */
    CocosHelper.runActionSync = function (node) {
        var actions = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            actions[_i - 1] = arguments[_i];
        }
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (!actions || actions.length <= 0)
                    return [2 /*return*/];
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        actions.push(cc.callFunc(function () {
                            resolve(true);
                        }));
                        node.runAction(cc.sequence(actions));
                    })];
            });
        });
    };
    /** 同步的动画 */
    CocosHelper.runAnimSync = function (node, animName) {
        return __awaiter(this, void 0, void 0, function () {
            var anim, clip, clips, i;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        anim = node.getComponent(cc.Animation);
                        if (!anim)
                            return [2 /*return*/];
                        clip = null;
                        if (!animName)
                            clip = anim.defaultClip;
                        else {
                            clips = anim.getClips();
                            if (typeof (animName) === "number") {
                                clip = clips[animName];
                            }
                            else if (typeof (animName) === "string") {
                                for (i = 0; i < clips.length; i++) {
                                    if (clips[i].name === animName) {
                                        clip = clips[i];
                                        break;
                                    }
                                }
                            }
                        }
                        if (!clip)
                            return [2 /*return*/];
                        return [4 /*yield*/, CocosHelper.sleepSync(clip.duration)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /** 加载资源异常时抛出错误 */
    CocosHelper.loadResThrowErrorSync = function (url, type, onProgress) {
        return null;
    };
    CocosHelper.loadRes = function (url, type, callback) {
        var _this = this;
        if (this._loadingMap[url]) {
            this._loadingMap[url].push(callback);
            return;
        }
        this._loadingMap[url] = [callback];
        this.loadResSync(url, type).then(function (data) {
            var arr = _this._loadingMap[url];
            for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
                var func = arr_1[_i];
                func(data);
            }
            _this._loadingMap[url] = null;
            delete _this._loadingMap[url];
        });
    };
    /** 加载资源 */
    CocosHelper.loadResSync = function (url, type, onProgress) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (!onProgress)
                onProgress = _this._onProgress;
            cc.resources.load(url, type, onProgress, function (err, asset) {
                if (err) {
                    cc.error(url + " [\u8D44\u6E90\u52A0\u8F7D] \u9519\u8BEF " + err);
                    resolve(null);
                }
                else {
                    resolve(asset);
                }
            });
        });
    };
    /**
     * 加载进度
     * cb方法 其实目的是可以将loader方法的progress
     */
    CocosHelper._onProgress = function (completedCount, totalCount, item) {
        CocosHelper.loadProgress.completedCount = completedCount;
        CocosHelper.loadProgress.totalCount = totalCount;
        CocosHelper.loadProgress.item = item;
        CocosHelper.loadProgress.cb && CocosHelper.loadProgress.cb(completedCount, totalCount, item);
    };
    /**
     * 寻找子节点
     */
    CocosHelper.findChildInNode = function (nodeName, rootNode) {
        if (rootNode.name == nodeName) {
            return rootNode;
        }
        for (var i = 0; i < rootNode.childrenCount; i++) {
            var node = this.findChildInNode(nodeName, rootNode.children[i]);
            if (node) {
                return node;
            }
        }
        return null;
    };
    /** 获得Component的类名 */
    CocosHelper.getComponentName = function (com) {
        var arr = com.name.match(/<.*>$/);
        if (arr && arr.length > 0) {
            return arr[0].slice(1, -1);
        }
        return com.name;
    };
    /** 加载bundle */
    CocosHelper.loadBundleSync = function (url, options) {
        return new Promise(function (resolve, reject) {
            cc.assetManager.loadBundle(url, options, function (err, bundle) {
                if (!err) {
                    cc.error("\u52A0\u8F7Dbundle\u5931\u8D25, url: " + url + ", err:" + err);
                    resolve(null);
                }
                else {
                    resolve(bundle);
                }
            });
        });
    };
    /** 路径是相对分包文件夹路径的相对路径 */
    CocosHelper.loadAssetFromBundleSync = function (bundleName, url) {
        var bundle = cc.assetManager.getBundle(bundleName);
        if (!bundle) {
            cc.error("\u52A0\u8F7Dbundle\u4E2D\u7684\u8D44\u6E90\u5931\u8D25, \u672A\u627E\u5230bundle, bundleUrl:" + bundleName);
            return null;
        }
        return new Promise(function (resolve, reject) {
            bundle.load(url, function (err, asset) {
                if (err) {
                    cc.error("\u52A0\u8F7Dbundle\u4E2D\u7684\u8D44\u6E90\u5931\u8D25, \u672A\u627E\u5230asset, url:" + url + ", err:" + err);
                    resolve(null);
                }
                else {
                    resolve(asset);
                }
            });
        });
    };
    /** 通过路径加载资源, 如果这个资源在bundle内, 会先加载bundle, 在解开bundle获得对应的资源 */
    CocosHelper.loadAssetSync = function (url) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            cc.resources.load(url, function (err, assets) {
                if (!err) {
                    cc.error("\u52A0\u8F7Dasset\u5931\u8D25, url:" + url + ", err: " + err);
                    resolve(null);
                }
                else {
                    _this.addRef(assets);
                    resolve(assets);
                }
            });
        });
    };
    /** 释放资源 */
    CocosHelper.releaseAsset = function (assets) {
        this.decRes(assets);
    };
    /** 增加引用计数 */
    CocosHelper.addRef = function (assets) {
        if (assets instanceof Array) {
            for (var _i = 0, assets_1 = assets; _i < assets_1.length; _i++) {
                var a = assets_1[_i];
                a.addRef();
            }
        }
        else {
            assets.addRef();
        }
    };
    /** 减少引用计数, 当引用计数减少到0时,会自动销毁 */
    CocosHelper.decRes = function (assets) {
        if (assets instanceof Array) {
            for (var _i = 0, assets_2 = assets; _i < assets_2.length; _i++) {
                var a = assets_2[_i];
                a.decRef();
            }
        }
        else {
            assets.decRef();
        }
    };
    /** 截图 */
    CocosHelper.captureScreen = function (camera, prop) {
        var newTexture = new cc.RenderTexture();
        var oldTexture = camera.targetTexture;
        var rect = cc.rect(0, 0, cc.visibleRect.width, cc.visibleRect.height);
        if (prop) {
            if (prop instanceof cc.Node) {
                rect = prop.getBoundingBoxToWorld();
            }
            else {
                rect = prop;
            }
        }
        newTexture.initWithSize(cc.visibleRect.width, cc.visibleRect.height, cc.game._renderContext.STENCIL_INDEX8);
        camera.targetTexture = newTexture;
        camera.render();
        camera.targetTexture = oldTexture;
        var buffer = new ArrayBuffer(rect.width * rect.height * 4);
        var data = new Uint8Array(buffer);
        newTexture.readPixels(data, rect.x, rect.y, rect.width, rect.height);
        return data;
    };
    /** 加载进度 */
    CocosHelper.loadProgress = new LoadProgress();
    /** 等待时间, 秒为单位 */
    CocosHelper.sleepSync = function (dur) {
        return new Promise(function (resolve, reject) {
            cc.Canvas.instance.scheduleOnce(function () {
                resolve(true);
            }, dur);
        });
    };
    CocosHelper._loadingMap = {};
    return CocosHelper;
}());
exports.default = CocosHelper;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9Db2Nvc0hlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBTUEsQ0FBQztJQUFELG1CQUFDO0FBQUQsQ0FOQSxBQU1DLElBQUE7QUFOWSxvQ0FBWTtBQVF6QiwyQ0FBMkM7QUFDM0M7SUFBQTtJQW1RQSxDQUFDO0lBalF1QiwwQkFBYyxHQUFsQzs7O2dCQUNJLHNCQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07d0JBQy9CLFVBQVUsQ0FBQzs0QkFDUCxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ2xCLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDVixDQUFDLENBQUMsRUFBQTs7O0tBQ0w7SUFjRDs7Ozs7T0FLRztJQUNpQiw4QkFBa0IsR0FBdEMsVUFBdUMsTUFBVyxFQUFFLE1BQWM7UUFBRSxnQkFBcUI7YUFBckIsVUFBcUIsRUFBckIscUJBQXFCLEVBQXJCLElBQXFCO1lBQXJCLCtCQUFxQjs7OztnQkFDckYsc0JBQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTt3QkFDL0IsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDakMsS0FBc0IsVUFBTSxFQUFOLGlCQUFNLEVBQU4sb0JBQU0sRUFBTixJQUFNLEVBQUU7NEJBQTFCLElBQU0sUUFBUSxlQUFBOzRCQUNkLFNBQVMsR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3lCQUN4Qzt3QkFDRCxJQUFHLE1BQU0sR0FBRyxDQUFDLEVBQUU7NEJBQ1gsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7eUJBQ3JEOzZCQUFLOzRC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QztnQkFDNUIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNaLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFBO0lBaUZjLHVCQUFXLEdBQWdDLEVBQUUsQ0FBQztJQThKakUsa0JBQUM7Q0FuUUQsQUFtUUMsSUFBQTtrQkFuUW9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgTG9hZFByb2dyZXNzIHtcbiAgICBwdWJsaWMgdXJsOiBzdHJpbmc7XG4gICAgcHVibGljIGNvbXBsZXRlZENvdW50OiBudW1iZXI7XG4gICAgcHVibGljIHRvdGFsQ291bnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgaXRlbTogYW55O1xuICAgIHB1YmxpYyBjYj86IEZ1bmN0aW9uO1xufVxuXG4vKiog5LiA5LqbY29jb3MgYXBpIOeahOWwgeijhSwgcHJvbWlzZeWHveaVsOe7n+S4gOWKoOS4inN5bmPlkI7nvIAgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvY29zSGVscGVyIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgY2FsbEluTmV4dFRpY2soKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqIOWKoOi9vei/m+W6piAqL1xuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFByb2dyZXNzID0gbmV3IExvYWRQcm9ncmVzcygpO1xuXG4gICAgLyoqIOetieW+heaXtumXtCwg56eS5Li65Y2V5L2NICovXG4gICAgcHVibGljIHN0YXRpYyBzbGVlcFN5bmMgPSBmdW5jdGlvbihkdXI6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY2MuQ2FudmFzLmluc3RhbmNlLnNjaGVkdWxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH0sIGR1cik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB0YXJnZXQgXG4gICAgICogQHBhcmFtIHJlcGVhdCAtMe+8jOihqOekuuawuOS5heaJp+ihjFxuICAgICAqIEBwYXJhbSB0d2VlbnMgXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBydW5SZXBlYXRUd2VlblN5bmModGFyZ2V0OiBhbnksIHJlcGVhdDogbnVtYmVyLCAuLi50d2VlbnM6IGNjLlR3ZWVuW10pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBzZWxmVHdlZW4gPSBjYy50d2Vlbih0YXJnZXQpO1xuICAgICAgICAgICAgZm9yKGNvbnN0IHRtcFR3ZWVuIG9mIHR3ZWVucykge1xuICAgICAgICAgICAgICAgIHNlbGZUd2VlbiA9IHNlbGZUd2Vlbi50aGVuKHRtcFR3ZWVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHJlcGVhdCA8IDApIHtcbiAgICAgICAgICAgICAgICBjYy50d2Vlbih0YXJnZXQpLnJlcGVhdEZvcmV2ZXIoc2VsZlR3ZWVuKS5zdGFydCgpO1xuICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgIGNjLnR3ZWVuKHRhcmdldCkucmVwZWF0KHJlcGVhdCwgc2VsZlR3ZWVuKS5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTsgICBcbiAgICB9XG4gICAgLyoqIOWQjOatpeeahHR3ZWVuICovXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBydW5Ud2VlblN5bmModGFyZ2V0OiBhbnksIC4uLnR3ZWVuczogY2MuVHdlZW5bXSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHNlbGZUd2VlbiA9IGNjLnR3ZWVuKHRhcmdldCk7XG4gICAgICAgICAgICBmb3IoY29uc3QgdG1wVHdlZW4gb2YgdHdlZW5zKSB7XG4gICAgICAgICAgICAgICAgc2VsZlR3ZWVuID0gc2VsZlR3ZWVuLnRoZW4odG1wVHdlZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZlR3ZWVuLmNhbGwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiog5YGc5q2idHdlZW4gKi9cbiAgICBwdWJsaWMgc3RvcFR3ZWVuKHRhcmdldDogYW55KSB7XG4gICAgICAgIGNjLlR3ZWVuLnN0b3BBbGxCeVRhcmdldCh0YXJnZXQpO1xuICAgIH1cbiAgICBwdWJsaWMgc3RvcFR3ZWVuQnlUYWcodGFnOiBudW1iZXIpIHtcbiAgICAgICAgY2MuVHdlZW4uc3RvcEFsbEJ5VGFnKHRhZyk7XG4gICAgfVxuICAgIC8qKiDlkIzmraXnmoTliqjkvZwsIOWcqDIuNC54IGFjdGlvbuW3sue7j+iiq+W6n+W8g+S6hiwg5LiN5bu66K6u5L2/55SoICovXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBydW5BY3Rpb25TeW5jKG5vZGU6IGNjLk5vZGUsIC4uLmFjdGlvbnM6IGNjLkZpbml0ZVRpbWVBY3Rpb25bXSkge1xuICAgICAgICBpZighYWN0aW9ucyB8fCBhY3Rpb25zLmxlbmd0aCA8PSAwKSByZXR1cm4gO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGNjLmNhbGxGdW5jKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgbm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoYWN0aW9ucykpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKiog5ZCM5q2l55qE5Yqo55S7ICovXG4gICAgcHVibGljIHN0YXRpYyBhc3luYyBydW5BbmltU3luYyhub2RlOiBjYy5Ob2RlLCBhbmltTmFtZT86IHN0cmluZyB8IG51bWJlcikge1xuICAgICAgICBsZXQgYW5pbSA9IG5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbik7XG4gICAgICAgIGlmKCFhbmltKSByZXR1cm4gO1xuICAgICAgICBsZXQgY2xpcDogY2MuQW5pbWF0aW9uQ2xpcCA9IG51bGw7XG4gICAgICAgIGlmKCFhbmltTmFtZSkgY2xpcCA9IGFuaW0uZGVmYXVsdENsaXA7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGNsaXBzID0gYW5pbS5nZXRDbGlwcygpO1xuICAgICAgICAgICAgaWYodHlwZW9mKGFuaW1OYW1lKSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGNsaXAgPSBjbGlwc1thbmltTmFtZV07XG4gICAgICAgICAgICB9ZWxzZSBpZih0eXBlb2YoYW5pbU5hbWUpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8Y2xpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoY2xpcHNbaV0ubmFtZSA9PT0gYW5pbU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXAgPSBjbGlwc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAgIFxuICAgICAgICB9XG4gICAgICAgIGlmKCFjbGlwKSByZXR1cm4gO1xuICAgICAgICBhd2FpdCBDb2Nvc0hlbHBlci5zbGVlcFN5bmMoY2xpcC5kdXJhdGlvbik7XG4gICAgfVxuXG4gICAgLyoqIOWKoOi9vei1hOa6kOW8guW4uOaXtuaKm+WHuumUmeivryAqL1xuICAgIHB1YmxpYyBzdGF0aWMgbG9hZFJlc1Rocm93RXJyb3JTeW5jPFQ+KHVybDogc3RyaW5nLCB0eXBlOiB0eXBlb2YgY2MuQXNzZXQsIG9uUHJvZ3Jlc3M/OiAoY29tcGxldGVkQ291bnQ6IG51bWJlciwgdG90YWxDb3VudDogbnVtYmVyLCBpdGVtOiBhbnkpID0+IHZvaWQpOiBQcm9taXNlPFQ+IHsgICAgXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIF9sb2FkaW5nTWFwOiB7W2tleTogc3RyaW5nXTogRnVuY3Rpb25bXX0gPSB7fTtcbiAgICBwdWJsaWMgc3RhdGljIGxvYWRSZXM8VD4odXJsOiBzdHJpbmcsIHR5cGU6IHR5cGVvZiBjYy5Bc3NldCwgY2FsbGJhY2s6IEZ1bmN0aW9uICkge1xuICAgICAgICBpZih0aGlzLl9sb2FkaW5nTWFwW3VybF0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRpbmdNYXBbdXJsXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZGluZ01hcFt1cmxdID0gW2NhbGxiYWNrXTtcbiAgICAgICAgdGhpcy5sb2FkUmVzU3luYzxUPih1cmwsIHR5cGUpLnRoZW4oKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgbGV0IGFyciA9IHRoaXMuX2xvYWRpbmdNYXBbdXJsXTtcbiAgICAgICAgICAgIGZvcihjb25zdCBmdW5jIG9mIGFycikge1xuICAgICAgICAgICAgICAgIGZ1bmMoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9sb2FkaW5nTWFwW3VybF0gPSBudWxsO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2xvYWRpbmdNYXBbdXJsXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiDliqDovb3otYTmupAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGxvYWRSZXNTeW5jPFQ+KHVybDogc3RyaW5nLCB0eXBlOiB0eXBlb2YgY2MuQXNzZXQsIG9uUHJvZ3Jlc3M/OiAoY29tcGxldGVkQ291bnQ6IG51bWJlciwgdG90YWxDb3VudDogbnVtYmVyLCBpdGVtOiBhbnkpID0+IHZvaWQpOiBQcm9taXNlPFQ+e1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYoIW9uUHJvZ3Jlc3MpIG9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzO1xuICAgICAgICAgICAgY2MucmVzb3VyY2VzLmxvYWQodXJsLCB0eXBlLCBvblByb2dyZXNzLCAoZXJyLCBhc3NldDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYy5lcnJvcihgJHt1cmx9IFvotYTmupDliqDovb1dIOmUmeivryAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXNzZXQgYXMgVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogXG4gICAgICog5Yqg6L296L+b5bqmXG4gICAgICogY2Lmlrnms5Ug5YW25a6e55uu55qE5piv5Y+v5Lul5bCGbG9hZGVy5pa55rOV55qEcHJvZ3Jlc3NcbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfb25Qcm9ncmVzcyhjb21wbGV0ZWRDb3VudDogbnVtYmVyLCB0b3RhbENvdW50OiBudW1iZXIsIGl0ZW06IGFueSkge1xuICAgICAgICBDb2Nvc0hlbHBlci5sb2FkUHJvZ3Jlc3MuY29tcGxldGVkQ291bnQgPSBjb21wbGV0ZWRDb3VudDtcbiAgICAgICAgQ29jb3NIZWxwZXIubG9hZFByb2dyZXNzLnRvdGFsQ291bnQgPSB0b3RhbENvdW50O1xuICAgICAgICBDb2Nvc0hlbHBlci5sb2FkUHJvZ3Jlc3MuaXRlbSA9IGl0ZW07XG4gICAgICAgIENvY29zSGVscGVyLmxvYWRQcm9ncmVzcy5jYiAmJiBDb2Nvc0hlbHBlci5sb2FkUHJvZ3Jlc3MuY2IoY29tcGxldGVkQ291bnQsIHRvdGFsQ291bnQsIGl0ZW0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDlr7vmib7lrZDoioLngrlcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGZpbmRDaGlsZEluTm9kZShub2RlTmFtZTogc3RyaW5nLCByb290Tm9kZTogY2MuTm9kZSk6IGNjLk5vZGUge1xuICAgICAgICBpZihyb290Tm9kZS5uYW1lID09IG5vZGVOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gcm9vdE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGxldCBpPTA7IGk8cm9vdE5vZGUuY2hpbGRyZW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMuZmluZENoaWxkSW5Ob2RlKG5vZGVOYW1lLCByb290Tm9kZS5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICBpZihub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqIOiOt+W+l0NvbXBvbmVudOeahOexu+WQjSAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q29tcG9uZW50TmFtZShjb206IEZ1bmN0aW9uKSB7XG4gICAgICAgIGxldCBhcnIgPSBjb20ubmFtZS5tYXRjaCgvPC4qPiQvKTtcbiAgICAgICAgaWYoYXJyICYmIGFyci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyWzBdLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tLm5hbWU7XG4gICAgfVxuICAgIC8qKiDliqDovb1idW5kbGUgKi9cbiAgICBwdWJsaWMgc3RhdGljIGxvYWRCdW5kbGVTeW5jKHVybDogc3RyaW5nLCBvcHRpb25zOiBhbnkpOiBQcm9taXNlPGNjLkFzc2V0TWFuYWdlci5CdW5kbGU+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQnVuZGxlKHVybCwgb3B0aW9ucywgKGVycjogRXJyb3IsIGJ1bmRsZTogY2MuQXNzZXRNYW5hZ2VyLkJ1bmRsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2MuZXJyb3IoYOWKoOi9vWJ1bmRsZeWksei0pSwgdXJsOiAke3VybH0sIGVycjoke2Vycn1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYnVuZGxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8qKiDot6/lvoTmmK/nm7jlr7nliIbljIXmlofku7blpLnot6/lvoTnmoTnm7jlr7not6/lvoQgKi9cbiAgICBwdWJsaWMgc3RhdGljIGxvYWRBc3NldEZyb21CdW5kbGVTeW5jKGJ1bmRsZU5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcgfCBzdHJpbmdbXSkge1xuICAgICAgICBsZXQgYnVuZGxlID0gY2MuYXNzZXRNYW5hZ2VyLmdldEJ1bmRsZShidW5kbGVOYW1lKTtcbiAgICAgICAgaWYoIWJ1bmRsZSkge1xuICAgICAgICAgICAgY2MuZXJyb3IoYOWKoOi9vWJ1bmRsZeS4reeahOi1hOa6kOWksei0pSwg5pyq5om+5YiwYnVuZGxlLCBidW5kbGVVcmw6JHtidW5kbGVOYW1lfWApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGJ1bmRsZS5sb2FkKHVybCwgKGVyciwgYXNzZXQ6IGNjLkFzc2V0IHwgY2MuQXNzZXRbXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYy5lcnJvcihg5Yqg6L29YnVuZGxl5Lit55qE6LWE5rqQ5aSx6LSlLCDmnKrmib7liLBhc3NldCwgdXJsOiR7dXJsfSwgZXJyOiR7ZXJyfWApO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhc3NldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiDpgJrov4fot6/lvoTliqDovb3otYTmupAsIOWmguaenOi/meS4qui1hOa6kOWcqGJ1bmRsZeWGhSwg5Lya5YWI5Yqg6L29YnVuZGxlLCDlnKjop6PlvIBidW5kbGXojrflvpflr7nlupTnmoTotYTmupAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGxvYWRBc3NldFN5bmModXJsOiBzdHJpbmcgfCBzdHJpbmdbXSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY2MucmVzb3VyY2VzLmxvYWQodXJsLCAoZXJyLCBhc3NldHM6IGNjLkFzc2V0IHwgY2MuQXNzZXRbXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2MuZXJyb3IoYOWKoOi9vWFzc2V05aSx6LSlLCB1cmw6JHt1cmx9LCBlcnI6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRSZWYoYXNzZXRzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhc3NldHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIOmHiuaUvui1hOa6kCAqL1xuICAgIHB1YmxpYyBzdGF0aWMgcmVsZWFzZUFzc2V0KGFzc2V0czogY2MuQXNzZXQgfCBjYy5Bc3NldFtdKSB7XG4gICAgICAgIHRoaXMuZGVjUmVzKGFzc2V0cyk7XG4gICAgfVxuICAgIC8qKiDlop7liqDlvJXnlKjorqHmlbAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBhZGRSZWYoYXNzZXRzOiBjYy5Bc3NldCB8IGNjLkFzc2V0W10pIHtcbiAgICAgICAgaWYoYXNzZXRzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGZvcihjb25zdCBhIG9mIGFzc2V0cykge1xuICAgICAgICAgICAgICAgIGEuYWRkUmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIGFzc2V0cy5hZGRSZWYoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiog5YeP5bCR5byV55So6K6h5pWwLCDlvZPlvJXnlKjorqHmlbDlh4/lsJHliLAw5pe2LOS8muiHquWKqOmUgOavgSAqL1xuICAgIHByaXZhdGUgc3RhdGljIGRlY1Jlcyhhc3NldHM6IGNjLkFzc2V0IHwgY2MuQXNzZXRbXSkge1xuICAgICAgICBpZihhc3NldHMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgZm9yKGNvbnN0IGEgb2YgYXNzZXRzKSB7XG4gICAgICAgICAgICAgICAgYS5kZWNSZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgYXNzZXRzLmRlY1JlZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIOaIquWbviAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY2FwdHVyZVNjcmVlbihjYW1lcmE6IGNjLkNhbWVyYSwgcHJvcD86IGNjLk5vZGUgfCBjYy5SZWN0KSB7XG4gICAgICAgIGxldCBuZXdUZXh0dXJlID0gbmV3IGNjLlJlbmRlclRleHR1cmUoKTtcbiAgICAgICAgbGV0IG9sZFRleHR1cmUgPSBjYW1lcmEudGFyZ2V0VGV4dHVyZTtcbiAgICAgICAgbGV0IHJlY3Q6IGNjLlJlY3QgPSBjYy5yZWN0KDAsIDAsIGNjLnZpc2libGVSZWN0LndpZHRoLCBjYy52aXNpYmxlUmVjdC5oZWlnaHQpO1xuICAgICAgICBpZihwcm9wKSB7XG4gICAgICAgICAgICBpZihwcm9wIGluc3RhbmNlb2YgY2MuTm9kZSkge1xuICAgICAgICAgICAgICAgIHJlY3QgPSBwcm9wLmdldEJvdW5kaW5nQm94VG9Xb3JsZCgpO1xuICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY3QgPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5ld1RleHR1cmUuaW5pdFdpdGhTaXplKGNjLnZpc2libGVSZWN0LndpZHRoLCBjYy52aXNpYmxlUmVjdC5oZWlnaHQsIGNjLmdhbWUuX3JlbmRlckNvbnRleHQuU1RFTkNJTF9JTkRFWDgpO1xuICAgICAgICBjYW1lcmEudGFyZ2V0VGV4dHVyZSA9IG5ld1RleHR1cmU7XG4gICAgICAgIGNhbWVyYS5yZW5kZXIoKTtcbiAgICAgICAgY2FtZXJhLnRhcmdldFRleHR1cmUgPSBvbGRUZXh0dXJlO1xuICAgICAgICBcbiAgICAgICAgbGV0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihyZWN0LndpZHRoICogcmVjdC5oZWlnaHQgKiA0KTtcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICBuZXdUZXh0dXJlLnJlYWRQaXhlbHMoZGF0YSwgcmVjdC54LCByZWN0LnksIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxufVxuXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/PropBind.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2f9f8Tv5WdH8a3E1C7Bm4Ro', 'PropBind');
// Script/Common/Utils/PropBind.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** binder  通过重写 prop的get, set方法, 达到监听变量修改的要求 */
var PropBind = /** @class */ (function () {
    function PropBind() {
    }
    PropBind.prototype.bind = function (name, callback) {
        // to do
        // ...
    };
    return PropBind;
}());
exports.default = PropBind;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL1Byb3BCaW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0RBQWdEO0FBQ2hEO0lBQUE7SUFLQSxDQUFDO0lBSkcsdUJBQUksR0FBSixVQUFLLElBQVksRUFBRSxRQUFrQjtRQUNqQyxRQUFRO1FBQ1IsTUFBTTtJQUNWLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0FMQSxBQUtDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKiogYmluZGVyICDpgJrov4fph43lhpkgcHJvcOeahGdldCwgc2V05pa55rOVLCDovr7liLDnm5HlkKzlj5jph4/kv67mlLnnmoTopoHmsYIgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BCaW5kIHtcbiAgICBiaW5kKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgICAgIC8vIHRvIGRvXG4gICAgICAgIC8vIC4uLlxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/PriorityStack.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9ed15uYIzxGna5Bj3+zkuo8', 'PriorityStack');
// Script/Common/Utils/PriorityStack.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PriorityQueue_1 = require("./PriorityQueue");
/** 带优先级的栈 */
var PriorityStack = /** @class */ (function () {
    function PriorityStack() {
        this.stack = new Array();
        this._size = 0;
    }
    Object.defineProperty(PriorityStack.prototype, "size", {
        get: function () {
            return this._size;
        },
        enumerable: false,
        configurable: true
    });
    PriorityStack.prototype.clear = function () {
        this.stack.length = 0;
        this._size = 0;
        return true;
    };
    PriorityStack.prototype.getTopEPriority = function () {
        if (this.stack.length <= 0)
            return -1;
        return this.stack[this.stack.length - 1].priority;
    };
    PriorityStack.prototype.getTopElement = function () {
        if (this.stack.length <= 0)
            return null;
        return this.stack[this.stack.length - 1].data;
    };
    PriorityStack.prototype.getElements = function () {
        var elements = [];
        for (var _i = 0, _a = this.stack; _i < _a.length; _i++) {
            var e = _a[_i];
            elements.push(e.data);
        }
        return elements;
    };
    PriorityStack.prototype.push = function (e, priority) {
        if (priority === void 0) { priority = 0; }
        this.stack.push(new PriorityQueue_1.PriorityElement(e, priority));
        this._size++;
        this._adjust();
    };
    PriorityStack.prototype.pop = function () {
        if (this.stack.length <= 0)
            return null;
        this._size--;
        return this.stack.pop().data;
    };
    PriorityStack.prototype._adjust = function () {
        for (var i = this.stack.length - 1; i > 0; i--) {
            if (this.stack[i] < this.stack[i - 1]) {
                this._swap(i, i - 1);
            }
        }
    };
    PriorityStack.prototype._swap = function (a, b) {
        var tmp = this.stack[a];
        this.stack[a] = this.stack[b];
        this.stack[b] = tmp;
    };
    /** 是否有这个元素 */
    PriorityStack.prototype.hasElement = function (t) {
        for (var _i = 0, _a = this.stack; _i < _a.length; _i++) {
            var e = _a[_i];
            if (e.data === t) {
                return true;
            }
        }
        return false;
    };
    PriorityStack.prototype.remove = function (t) {
        for (var i = this.stack.length - 1; i >= 0; i--) {
            if (this.stack[i].data === t) {
                this.stack.splice(i, 1);
                this._size--;
                return true;
            }
        }
        return false;
    };
    return PriorityStack;
}());
exports.default = PriorityStack;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL1ByaW9yaXR5U3RhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpREFBa0Q7QUFFbEQsYUFBYTtBQUNiO0lBQUE7UUFDWSxVQUFLLEdBQThCLElBQUksS0FBSyxFQUFzQixDQUFDO1FBQ25FLFVBQUssR0FBRyxDQUFDLENBQUM7SUE0RXRCLENBQUM7SUEzRUcsc0JBQVcsK0JBQUk7YUFBZjtZQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN0QixDQUFDOzs7T0FBQTtJQUVNLDZCQUFLLEdBQVo7UUFDSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sdUNBQWUsR0FBdEI7UUFDSSxJQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUM7WUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7SUFDcEQsQ0FBQztJQUVNLHFDQUFhLEdBQXBCO1FBQ0ksSUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDdkMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNoRCxDQUFDO0lBRU0sbUNBQVcsR0FBbEI7UUFDSSxJQUFJLFFBQVEsR0FBUSxFQUFFLENBQUM7UUFDdkIsS0FBZSxVQUFVLEVBQVYsS0FBQSxJQUFJLENBQUMsS0FBSyxFQUFWLGNBQVUsRUFBVixJQUFVLEVBQUU7WUFBdkIsSUFBTSxDQUFDLFNBQUE7WUFDUCxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN6QjtRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFFTSw0QkFBSSxHQUFYLFVBQVksQ0FBSSxFQUFFLFFBQW9CO1FBQXBCLHlCQUFBLEVBQUEsWUFBb0I7UUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSwrQkFBZSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxLQUFLLEVBQUcsQ0FBQztRQUNkLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBRU0sMkJBQUcsR0FBVjtRQUNJLElBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxLQUFLLEVBQUcsQ0FBQztRQUNkLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7SUFDakMsQ0FBQztJQUVPLCtCQUFPLEdBQWY7UUFDSSxLQUFJLElBQUksQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3JDLElBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3RCO1NBQ0o7SUFDTCxDQUFDO0lBRU8sNkJBQUssR0FBYixVQUFjLENBQVMsRUFBRSxDQUFTO1FBQzlCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQ3hCLENBQUM7SUFHRCxjQUFjO0lBQ1Asa0NBQVUsR0FBakIsVUFBa0IsQ0FBSTtRQUNsQixLQUFlLFVBQVUsRUFBVixLQUFBLElBQUksQ0FBQyxLQUFLLEVBQVYsY0FBVSxFQUFWLElBQVUsRUFBRTtZQUF2QixJQUFNLENBQUMsU0FBQTtZQUNQLElBQUcsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLEVBQUU7Z0JBQ2IsT0FBTyxJQUFJLENBQUM7YUFDZjtTQUNKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVNLDhCQUFNLEdBQWIsVUFBYyxDQUFJO1FBQ2QsS0FBSSxJQUFJLENBQUMsR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN0QyxJQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtnQkFDekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN4QixJQUFJLENBQUMsS0FBSyxFQUFHLENBQUM7Z0JBQ2QsT0FBTyxJQUFJLENBQUM7YUFDZjtTQUNKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUNMLG9CQUFDO0FBQUQsQ0E5RUEsQUE4RUMsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaW9yaXR5RWxlbWVudCB9IGZyb20gXCIuL1ByaW9yaXR5UXVldWVcIjtcblxuLyoqIOW4puS8mOWFiOe6p+eahOagiCAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJpb3JpdHlTdGFjazxUPiB7XG4gICAgcHJpdmF0ZSBzdGFjazogQXJyYXk8UHJpb3JpdHlFbGVtZW50PFQ+PiA9IG5ldyBBcnJheTxQcmlvcml0eUVsZW1lbnQ8VD4+KCk7XG4gICAgcHJpdmF0ZSBfc2l6ZSA9IDA7XG4gICAgcHVibGljIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuc3RhY2subGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUb3BFUHJpb3JpdHkoKSB7XG4gICAgICAgIGlmKHRoaXMuc3RhY2subGVuZ3RoIDw9IDApIHJldHVybiAtMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGgtMV0ucHJpb3JpdHk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRvcEVsZW1lbnQoKSB7XG4gICAgICAgIGlmKHRoaXMuc3RhY2subGVuZ3RoIDw9IDApIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aC0xXS5kYXRhO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFbGVtZW50cygpIHtcbiAgICAgICAgbGV0IGVsZW1lbnRzOiBUW10gPSBbXTtcbiAgICAgICAgZm9yKGNvbnN0IGUgb2YgdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgZWxlbWVudHMucHVzaChlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG5cbiAgICBwdWJsaWMgcHVzaChlOiBULCBwcmlvcml0eTogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLnN0YWNrLnB1c2gobmV3IFByaW9yaXR5RWxlbWVudChlLCBwcmlvcml0eSkpO1xuICAgICAgICB0aGlzLl9zaXplICsrO1xuICAgICAgICB0aGlzLl9hZGp1c3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcG9wKCkge1xuICAgICAgICBpZih0aGlzLnN0YWNrLmxlbmd0aCA8PSAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgdGhpcy5fc2l6ZSAtLTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2sucG9wKCkuZGF0YTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9hZGp1c3QoKSB7XG4gICAgICAgIGZvcihsZXQgaT10aGlzLnN0YWNrLmxlbmd0aC0xOyBpPjA7IGktLSkge1xuICAgICAgICAgICAgaWYodGhpcy5zdGFja1tpXSA8IHRoaXMuc3RhY2tbaS0xXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N3YXAoaSwgaS0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3N3YXAoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IHRtcCA9IHRoaXMuc3RhY2tbYV07XG4gICAgICAgIHRoaXMuc3RhY2tbYV0gPSB0aGlzLnN0YWNrW2JdO1xuICAgICAgICB0aGlzLnN0YWNrW2JdID0gdG1wO1xuICAgIH1cblxuXG4gICAgLyoqIOaYr+WQpuaciei/meS4quWFg+e0oCAqL1xuICAgIHB1YmxpYyBoYXNFbGVtZW50KHQ6IFQpIHtcbiAgICAgICAgZm9yKGNvbnN0IGUgb2YgdGhpcy5zdGFjaykge1xuICAgICAgICAgICAgaWYoZS5kYXRhID09PSB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmUodDogVCkge1xuICAgICAgICBmb3IobGV0IGk9dGhpcy5zdGFjay5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgICAgICBpZih0aGlzLnN0YWNrW2ldLmRhdGEgPT09IHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YWNrLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaXplIC0tO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/UIFrame/EventCenter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '15cf5C/OS9IyY5TeN5ujTW/', 'EventCenter');
// Script/UIFrame/EventCenter.ts

"use strict";
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.EventCenter = exports.EventInfo = void 0;
var Pool_1 = require("../Common/Utils/Pool");
var EventInfo = /** @class */ (function () {
    function EventInfo() {
    }
    EventInfo.prototype.free = function () {
        this.callback = null;
        this.target = null;
        this.once = false;
    };
    EventInfo.prototype.init = function (callback, target, once) {
        this.callback = callback;
        this.target = target;
        this.once = once;
    };
    return EventInfo;
}());
exports.EventInfo = EventInfo;
var RemoveCommand = /** @class */ (function () {
    function RemoveCommand(eventName, callback, targetId) {
        this.eventName = eventName;
        this.callback = callback;
        this.targetId = targetId;
    }
    return RemoveCommand;
}());
var idSeed = 1; // 这里有一个小缺陷就是idSeed有最大值,Number.MAX_VALUE
var EventCenter = /** @class */ (function () {
    function EventCenter() {
    }
    EventCenter.on = function (eventName, callback, target, once) {
        if (target === void 0) { target = undefined; }
        if (once === void 0) { once = false; }
        target = target || this;
        var targetId = target['uuid'] || target['id'];
        if (targetId === undefined) {
            target['uuid'] = targetId = '' + idSeed++;
        }
        this.onById(eventName, targetId, target, callback, once);
    };
    EventCenter.once = function (eventName, callback, target) {
        if (target === void 0) { target = undefined; }
        this.on(eventName, callback, target, true);
    };
    EventCenter.onById = function (eventName, targetId, target, cb, once) {
        var collection = this._listeners[eventName];
        if (!collection) {
            collection = this._listeners[eventName] = {};
        }
        var events = collection[targetId];
        if (!events) {
            events = collection[targetId] = [];
        }
        var eventInfo = this._eventPool.alloc();
        eventInfo.init(cb, target, once);
        events.push(eventInfo);
    };
    EventCenter.off = function (eventName, callback, target) {
        if (target === void 0) { target = undefined; }
        target = target || this;
        var targetId = target['uuid'] || target['id'];
        if (!targetId)
            return;
        this.offById(eventName, callback, targetId);
    };
    EventCenter.targetOff = function (target) {
        target = target || this;
        var targetId = target['uuid'] || target['id'];
        if (!targetId)
            return;
        for (var event in this._listeners) {
            var collection = this._listeners[event];
            if (collection[targetId] !== undefined) {
                delete collection[targetId];
            }
        }
    };
    EventCenter.offById = function (eventName, callback, targetId) {
        if (this._dispatching > 0) {
            var cmd = new RemoveCommand(eventName, callback, targetId);
            this._removeCommands.push(cmd);
        }
        else {
            this.doOff(eventName, callback, targetId);
        }
    };
    EventCenter.doOff = function (eventName, callback, targetId) {
        var collection = this._listeners[eventName];
        if (!collection)
            return;
        var events = collection[targetId];
        if (!events)
            return;
        for (var i = events.length - 1; i >= 0; i--) {
            if (events[i].callback === callback) {
                events.splice(i, 1);
            }
        }
        if (events.length === 0) {
            collection[targetId] = null;
            delete collection[targetId];
        }
    };
    EventCenter.doRemoveCommands = function () {
        if (this._dispatching !== 0) {
            return;
        }
        for (var _i = 0, _a = this._removeCommands; _i < _a.length; _i++) {
            var cmd = _a[_i];
            this.doOff(cmd.eventName, cmd.callback, cmd.targetId);
        }
        this._removeCommands.length = 0;
    };
    EventCenter.emit = function (eventName) {
        var _a;
        var param = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            param[_i - 1] = arguments[_i];
        }
        var collection = this._listeners[eventName];
        if (!collection)
            return false;
        this._dispatching++;
        for (var targetId in collection) {
            for (var _b = 0, _c = collection[targetId]; _b < _c.length; _b++) {
                var eventInfo = _c[_b];
                (_a = eventInfo.callback).call.apply(_a, __spreadArrays([eventInfo.target], param));
                if (eventInfo.once) {
                    var cmd = new RemoveCommand(eventName, eventInfo.callback, targetId);
                    this._removeCommands.push(cmd);
                }
            }
        }
        this._dispatching--;
        this.doRemoveCommands();
    };
    EventCenter._listeners = cc.js.createMap();
    EventCenter._dispatching = 0;
    EventCenter._removeCommands = [];
    EventCenter._eventPool = new Pool_1.Pool(function () {
        return new EventInfo();
    }, 10);
    return EventCenter;
}());
exports.EventCenter = EventCenter;
// EventCenter.on("Event1", eventCb);
// function eventCb(param) {
//     console.log(param);
// }
// EventCenter.once('EventOnce', eventOnceCb);
// function eventOnceCb(param) {
//     console.log(param);
// }
// EventCenter.emit('Event1', '123');
// EventCenter.emit('EventOnce', '121233');
// EventCenter.off('Event1', eventCb);
// EventCenter.emit('Event1', '123');
// EventCenter.emit('EventOnce', '123');

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvVUlGcmFtZS9FdmVudENlbnRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkNBQW1EO0FBRW5EO0lBQUE7SUFnQkEsQ0FBQztJQVhHLHdCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNuQixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsd0JBQUksR0FBSixVQUFLLFFBQWtCLEVBQUUsTUFBYyxFQUFFLElBQWE7UUFDbEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUNMLGdCQUFDO0FBQUQsQ0FoQkEsQUFnQkMsSUFBQTtBQWhCWSw4QkFBUztBQWtCdEI7SUFLSSx1QkFBWSxTQUFpQixFQUFFLFFBQWtCLEVBQUUsUUFBZ0I7UUFDL0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDN0IsQ0FBQztJQUNMLG9CQUFDO0FBQUQsQ0FWQSxBQVVDLElBQUE7QUFFRCxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBUyx3Q0FBd0M7QUFDaEU7SUFBQTtJQXNHQSxDQUFDO0lBNUZpQixjQUFFLEdBQWhCLFVBQWlCLFNBQWlCLEVBQUUsUUFBa0IsRUFBRSxNQUF1QixFQUFFLElBQVk7UUFBckMsdUJBQUEsRUFBQSxrQkFBdUI7UUFBRSxxQkFBQSxFQUFBLFlBQVk7UUFDekYsTUFBTSxHQUFHLE1BQU0sSUFBSSxJQUFJLENBQUM7UUFDeEIs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QUFJLFNBQVMsRUFBRSxDQUFDO0lBQzNCLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQThGWCxrQkFBQztDQXRHRCxBQXNHQyxJQUFBO0FBdEdZLGtDQUFXO0FBeUd4QixxQ0FBcUM7QUFFckMsNEJBQTRCO0FBQzVCLDBCQUEwQjtBQUMxQixJQUFJO0FBRUosOENBQThDO0FBRTlDLGdDQUFnQztBQUNoQywwQkFBMEI7QUFDMUIsSUFBSTtBQUVKLHFDQUFxQztBQUNyQywyQ0FBMkM7QUFFM0Msc0NBQXNDO0FBRXRDLHFDQUFxQztBQUNyQyx3Q0FBd0MiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb29sLCBJUG9vbCB9IGZyb20gXCIuLi9Db21tb24vVXRpbHMvUG9vbFwiO1xuXG5leHBvcnQgY2xhc3MgRXZlbnRJbmZvIGltcGxlbWVudHMgSVBvb2wge1xuICAgIGNhbGxiYWNrOiBGdW5jdGlvbjtcbiAgICB0YXJnZXQ6IGFueTtcbiAgICBvbmNlOiBib29sZWFuO1xuXG4gICAgZnJlZSgpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbmNlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5pdChjYWxsYmFjazogRnVuY3Rpb24sIHRhcmdldDogT2JqZWN0LCBvbmNlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XG4gICAgfVxufVxuXG5jbGFzcyBSZW1vdmVDb21tYW5kIHtcbiAgICBwdWJsaWMgZXZlbnROYW1lOnN0cmluZztcbiAgICBwdWJsaWMgdGFyZ2V0SWQ6c3RyaW5nO1xuICAgIHB1YmxpYyBjYWxsYmFjazogRnVuY3Rpb247XG5cbiAgICBjb25zdHJ1Y3RvcihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uLCB0YXJnZXRJZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMudGFyZ2V0SWQgPSB0YXJnZXRJZDtcbiAgICB9XG59XG5cbmxldCBpZFNlZWQgPSAxOyAgICAgICAgIC8vIOi/memHjOacieS4gOS4quWwj+e8uumZt+WwseaYr2lkU2VlZOacieacgOWkp+WAvCxOdW1iZXIuTUFYX1ZBTFVFXG5leHBvcnQgY2xhc3MgRXZlbnRDZW50ZXIge1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2xpc3RlbmVyczoge1tldmVudE5hbWU6IHN0cmluZ106IHtbaWQ6IHN0cmluZ106IEFycmF5PEV2ZW50SW5mbz59fSA9IGNjLmpzLmNyZWF0ZU1hcCgpO1xuICAgIHByaXZhdGUgc3RhdGljIF9kaXNwYXRjaGluZyA6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBzdGF0aWMgX3JlbW92ZUNvbW1hbmRzIDogUmVtb3ZlQ29tbWFuZFtdID0gW107XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfZXZlbnRQb29sOiBQb29sPEV2ZW50SW5mbz4gPSBuZXcgUG9vbDxFdmVudEluZm8+KCgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBFdmVudEluZm8oKTtcbiAgICB9LCAxMCk7XG5cbiAgICBwdWJsaWMgc3RhdGljIG9uKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24sIHRhcmdldDogYW55ID0gdW5kZWZpbmVkLCBvbmNlID0gZmFsc2UpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IHRoaXM7XG4gICAgICAgIGxldCB0YXJnZXRJZDogc3RyaW5nID0gdGFyZ2V0Wyd1dWlkJ10gfHwgdGFyZ2V0WydpZCddO1xuICAgICAgICBpZih0YXJnZXRJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YXJnZXRbJ3V1aWQnXSA9IHRhcmdldElkID0gJycgKyBpZFNlZWQrKztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uQnlJZChldmVudE5hbWUsIHRhcmdldElkLCB0YXJnZXQsIGNhbGxiYWNrLCBvbmNlKTtcbiAgICB9XG4gICAgcHVibGljIHN0YXRpYyBvbmNlKGV2ZW50TmFtZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24sIHRhcmdldDogYW55ID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMub24oZXZlbnROYW1lLCBjYWxsYmFjaywgdGFyZ2V0LCB0cnVlKTtcbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgb25CeUlkKGV2ZW50TmFtZTogc3RyaW5nLCB0YXJnZXRJZDogc3RyaW5nLCB0YXJnZXQ6IGFueSwgY2I6IEZ1bmN0aW9uLCBvbmNlOiBib29sZWFuKSB7XG4gICAgICAgIGxldCBjb2xsZWN0aW9uID0gdGhpcy5fbGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmKCFjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uID0gdGhpcy5fbGlzdGVuZXJzW2V2ZW50TmFtZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZXZlbnRzID0gY29sbGVjdGlvblt0YXJnZXRJZF07XG4gICAgICAgIGlmKCFldmVudHMpIHtcbiAgICAgICAgICAgIGV2ZW50cyA9IGNvbGxlY3Rpb25bdGFyZ2V0SWRdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGV2ZW50SW5mbyA9IHRoaXMuX2V2ZW50UG9vbC5hbGxvYygpO1xuICAgICAgICBldmVudEluZm8uaW5pdChjYiwgdGFyZ2V0LCBvbmNlKTtcbiAgICAgICAgZXZlbnRzLnB1c2goZXZlbnRJbmZvKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIG9mZihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uLCB0YXJnZXQ6IGFueSA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQgfHwgdGhpcztcbiAgICAgICAgbGV0IHRhcmdldElkID0gdGFyZ2V0Wyd1dWlkJ10gfHwgdGFyZ2V0WydpZCddO1xuICAgICAgICBpZighdGFyZ2V0SWQpIHJldHVybiA7XG4gICAgICAgIHRoaXMub2ZmQnlJZChldmVudE5hbWUsIGNhbGxiYWNrLCB0YXJnZXRJZCk7XG4gICAgfVxuICAgIHB1YmxpYyBzdGF0aWMgdGFyZ2V0T2ZmKHRhcmdldDogYW55KSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldCB8fCB0aGlzO1xuICAgICAgICBsZXQgdGFyZ2V0SWQgPSB0YXJnZXRbJ3V1aWQnXSB8fCB0YXJnZXRbJ2lkJ107XG4gICAgICAgIGlmKCF0YXJnZXRJZCkgcmV0dXJuIDtcbiAgICAgICAgZm9yKGxldCBldmVudCBpbiB0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uID0gdGhpcy5fbGlzdGVuZXJzW2V2ZW50XTtcbiAgICAgICAgICAgIGlmKGNvbGxlY3Rpb25bdGFyZ2V0SWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgY29sbGVjdGlvblt0YXJnZXRJZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgb2ZmQnlJZChldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uLCB0YXJnZXRJZDogc3RyaW5nKSB7XG4gICAgICAgIGlmKHRoaXMuX2Rpc3BhdGNoaW5nID4gMCkge1xuICAgICAgICAgICAgbGV0IGNtZCA9IG5ldyBSZW1vdmVDb21tYW5kKGV2ZW50TmFtZSwgY2FsbGJhY2ssIHRhcmdldElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUNvbW1hbmRzLnB1c2goY21kKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kb09mZihldmVudE5hbWUsIGNhbGxiYWNrLCB0YXJnZXRJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgZG9PZmYoZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbiwgdGFyZ2V0SWQ6IHN0cmluZykge1xuICAgICAgICBsZXQgY29sbGVjdGlvbiA9IHRoaXMuX2xpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgICAgICBpZighY29sbGVjdGlvbikgcmV0dXJuIDtcbiAgICAgICAgbGV0IGV2ZW50cyA9IGNvbGxlY3Rpb25bdGFyZ2V0SWRdO1xuICAgICAgICBpZighZXZlbnRzKSByZXR1cm4gO1xuICAgICAgICBmb3IobGV0IGk9ZXZlbnRzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcbiAgICAgICAgICAgIGlmKGV2ZW50c1tpXS5jYWxsYmFjayA9PT0gY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGV2ZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25bdGFyZ2V0SWRdID0gbnVsbDtcbiAgICAgICAgICAgIGRlbGV0ZSBjb2xsZWN0aW9uW3RhcmdldElkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGRvUmVtb3ZlQ29tbWFuZHMoKSB7XG4gICAgICAgIGlmKHRoaXMuX2Rpc3BhdGNoaW5nICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGxldCBjbWQgb2YgdGhpcy5fcmVtb3ZlQ29tbWFuZHMpIHtcbiAgICAgICAgICAgIHRoaXMuZG9PZmYoY21kLmV2ZW50TmFtZSwgY21kLmNhbGxiYWNrLCBjbWQudGFyZ2V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbW92ZUNvbW1hbmRzLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBzdGF0aWMgZW1pdChldmVudE5hbWU6IHN0cmluZywgLi4ucGFyYW06IGFueVtdKSB7XG4gICAgICAgIGxldCBjb2xsZWN0aW9uID0gdGhpcy5fbGlzdGVuZXJzW2V2ZW50TmFtZV07XG4gICAgICAgIGlmKCFjb2xsZWN0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoaW5nICsrO1xuICAgICAgICBmb3IobGV0IHRhcmdldElkIGluIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIGZvcihsZXQgZXZlbnRJbmZvIG9mIGNvbGxlY3Rpb25bdGFyZ2V0SWRdKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRJbmZvLmNhbGxiYWNrLmNhbGwoZXZlbnRJbmZvLnRhcmdldCwgLi4ucGFyYW0pO1xuICAgICAgICAgICAgICAgIGlmKGV2ZW50SW5mby5vbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjbWQgPSBuZXcgUmVtb3ZlQ29tbWFuZChldmVudE5hbWUsIGV2ZW50SW5mby5jYWxsYmFjaywgdGFyZ2V0SWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kcy5wdXNoKGNtZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoaW5nIC0tO1xuICAgICAgICB0aGlzLmRvUmVtb3ZlQ29tbWFuZHMoKTtcbiAgICB9XG59XG5cblxuLy8gRXZlbnRDZW50ZXIub24oXCJFdmVudDFcIiwgZXZlbnRDYik7XG5cbi8vIGZ1bmN0aW9uIGV2ZW50Q2IocGFyYW0pIHtcbi8vICAgICBjb25zb2xlLmxvZyhwYXJhbSk7XG4vLyB9XG5cbi8vIEV2ZW50Q2VudGVyLm9uY2UoJ0V2ZW50T25jZScsIGV2ZW50T25jZUNiKTtcblxuLy8gZnVuY3Rpb24gZXZlbnRPbmNlQ2IocGFyYW0pIHtcbi8vICAgICBjb25zb2xlLmxvZyhwYXJhbSk7XG4vLyB9XG5cbi8vIEV2ZW50Q2VudGVyLmVtaXQoJ0V2ZW50MScsICcxMjMnKTtcbi8vIEV2ZW50Q2VudGVyLmVtaXQoJ0V2ZW50T25jZScsICcxMjEyMzMnKTtcblxuLy8gRXZlbnRDZW50ZXIub2ZmKCdFdmVudDEnLCBldmVudENiKTtcblxuLy8gRXZlbnRDZW50ZXIuZW1pdCgnRXZlbnQxJywgJzEyMycpO1xuLy8gRXZlbnRDZW50ZXIuZW1pdCgnRXZlbnRPbmNlJywgJzEyMycpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Common/Utils/BroadCast.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '082ecq87BtC3qGrtG+cRJqY', 'BroadCast');
// Script/Common/Utils/BroadCast.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ListenerBinding = exports.Broadcast = void 0;
var Broadcast = /** @class */ (function () {
    function Broadcast() {
        this.bindings = [];
    }
    Broadcast.prototype.on = function (listener, target) {
        var binding = new ListenerBinding(listener, target, false, this);
        this.bindings.push(binding);
        return binding;
    };
    Broadcast.prototype.once = function (listener, target) {
        var binding = new ListenerBinding(listener, target, true, this);
        this.bindings.push(binding);
        return binding;
    };
    Broadcast.prototype.dispatch = function () {
        var params = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            params[_i] = arguments[_i];
        }
        var flag = false;
        for (var _a = 0, _b = this.bindings; _a < _b.length; _a++) {
            var item = _b[_a];
            if (!item.hasDestroyed) {
                item.execute.apply(item, params);
            }
            else {
                flag = true;
            }
        }
        if (flag) {
            for (var i = 0; i < this.bindings.length; i++) {
                if (this.bindings[i].hasDestroyed) {
                    this.bindings.splice(i, 1);
                    i--;
                }
            }
        }
    };
    Broadcast.prototype.get = function (listener, target) {
        for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {
            var item = _a[_i];
            if (item.listener == listener && item.target == target && !item.hasDestroyed)
                return item;
        }
        return null;
    };
    Broadcast.prototype.has = function (listener, target) {
        for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {
            var item = _a[_i];
            if (item.listener == listener && item.target == target && !item.hasDestroyed)
                return true;
        }
        return false;
    };
    Broadcast.prototype.remove = function (listener, target) {
        for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {
            var item = _a[_i];
            if (item.listener == listener && item.target == target && !item.hasDestroyed) {
                return item.destroy();
            }
        }
    };
    Broadcast.prototype.removeAll = function () {
        while (this.bindings.length) {
            this.bindings.pop().destroy();
        }
    };
    return Broadcast;
}());
exports.Broadcast = Broadcast;
var ListenerBinding = /** @class */ (function () {
    function ListenerBinding(listener, target, once, boradcast) {
        var _this = this;
        this.destroySelf = function () {
            _this.destroy();
        };
        this.listener = listener;
        this.target = target;
        this.once = once;
        this.broadcast = boradcast;
        this.hasDestroyed = false;
    }
    ListenerBinding.prototype.execute = function () {
        var params = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            params[_i] = arguments[_i];
        }
        if (!this.hasDestroyed) {
            var result = this.listener.apply(this.target, params);
            if (this.once) {
                this.destroy();
            }
            return result;
        }
        return null;
    };
    ListenerBinding.prototype.destroy = function () {
        this.listener = null;
        this.target = null;
        this.once = null;
        this.broadcast = null;
        this.hasDestroyed = true;
    };
    return ListenerBinding;
}());
exports.ListenerBinding = ListenerBinding;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvQ29tbW9uL1V0aWxzL0Jyb2FkQ2FzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtJQUFBO1FBRVksYUFBUSxHQUF5QixFQUFFLENBQUM7SUE0RGhELENBQUM7SUExREcsc0JBQUUsR0FBRixVQUFHLFFBQWtDLEVBQUUsTUFBVztRQUM5QyxJQUFJLE9BQU8sR0FBRyxJQUFJLGVBQWUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QixPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0lBRUQsd0JBQUksR0FBSixVQUFLLFFBQWtDLEVBQUUsTUFBVztRQUNoRCxJQUFJLE9BQU8sR0FBRyxJQUFJLGVBQWUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QixPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0lBRUQsNEJBQVEsR0FBUjtRQUFTLGdCQUFjO2FBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztZQUFkLDJCQUFjOztRQUNuQixJQUFJLElBQUksR0FBRyxLQUFLLENBQUM7UUFDakIsS0FBaUIsVUFBYSxFQUFiLEtBQUEsSUFBSSxDQUFDLFFBQVEsRUFBYixjQUFhLEVBQWIsSUFBYSxFQUFFO1lBQTNCLElBQUksSUFBSSxTQUFBO1lBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQzthQUNwQztpQkFBTTtnQkFDSCxJQUFJLEdBQUcsSUFBSSxDQUFDO2FBQ2Y7U0FDSjtRQUNELElB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LElBQUksRUFBRTtnQkFDWCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDbEI7WUFDRCxPQUFPLE1BQU0sQ0FBQztTQUNqQjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFNRCxpQ0FBTyxHQUFQO1FBQ0ssSUFBSSxDQUFDLFFBQWdCLEdBQUcsSUFBSSxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFjLEdBQUcsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFZLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxTQUFpQixHQUFHLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsWUFBb0IsR0FBRyxJQUFJLENBQUM7SUFDdEMsQ0FBQztJQUNMLHNCQUFDO0FBQUQsQ0ExQ0EsQUEwQ0MsSUFBQTtBQTFDWSwwQ0FBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNsYXNzIEJyb2FkY2FzdDxUPiB7XG5cbiAgICBwcml2YXRlIGJpbmRpbmdzOiBMaXN0ZW5lckJpbmRpbmc8VD5bXSA9IFtdO1xuXG4gICAgb24obGlzdGVuZXI6ICguLi5wYXJhbXM6IFRbXSkgPT4gdm9pZCwgdGFyZ2V0OiBhbnkpOiBMaXN0ZW5lckJpbmRpbmc8VD4ge1xuICAgICAgICB2YXIgYmluZGluZyA9IG5ldyBMaXN0ZW5lckJpbmRpbmcobGlzdGVuZXIsIHRhcmdldCwgZmFsc2UsIHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRpbmdzLnB1c2goYmluZGluZyk7XG4gICAgICAgIHJldHVybiBiaW5kaW5nO1xuICAgIH1cblxuICAgIG9uY2UobGlzdGVuZXI6ICguLi5wYXJhbXM6IFRbXSkgPT4gdm9pZCwgdGFyZ2V0OiBhbnkpOiBMaXN0ZW5lckJpbmRpbmc8VD4ge1xuICAgICAgICB2YXIgYmluZGluZyA9IG5ldyBMaXN0ZW5lckJpbmRpbmcobGlzdGVuZXIsIHRhcmdldCwgdHJ1ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuYmluZGluZ3MucHVzaChiaW5kaW5nKTtcbiAgICAgICAgcmV0dXJuIGJpbmRpbmc7XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goLi4ucGFyYW1zOiBUW10pIHtcbiAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLmJpbmRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0uaGFzRGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5leGVjdXRlLmFwcGx5KGl0ZW0sIHBhcmFtcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iaW5kaW5nc1tpXS5oYXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5ncy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQobGlzdGVuZXI6ICguLi5wYXJhbXM6IFRbXSkgPT4gdm9pZCwgdGFyZ2V0OiBhbnkpOiBMaXN0ZW5lckJpbmRpbmc8VD4ge1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuYmluZGluZ3MpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxpc3RlbmVyID09IGxpc3RlbmVyICYmIGl0ZW0udGFyZ2V0ID09IHRhcmdldCAmJiAhaXRlbS5oYXNEZXN0cm95ZWQpIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGhhcyhsaXN0ZW5lcjogKC4uLnBhcmFtczogVFtdKSA9PiB2b2lkLCB0YXJnZXQ6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuYmluZGluZ3MpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxpc3RlbmVyID09IGxpc3RlbmVyICYmIGl0ZW0udGFyZ2V0ID09IHRhcmdldCAmJiAhaXRlbS5oYXNEZXN0cm95ZWQpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZW1vdmUobGlzdGVuZXI6ICguLi5wYXJhbXM6IFRbXSkgPT4gdm9pZCwgdGFyZ2V0OiBhbnkpIHtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLmJpbmRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5saXN0ZW5lciA9PSBsaXN0ZW5lciAmJiBpdGVtLnRhcmdldCA9PSB0YXJnZXQgJiYgIWl0ZW0uaGFzRGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlQWxsKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5iaW5kaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3MucG9wKCkuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlzdGVuZXJCaW5kaW5nPFQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKGxpc3RlbmVyOiAoLi4ucGFyYW1zOiBUW10pID0+IHZvaWQsIHRhcmdldDogYW55LCBvbmNlOiBib29sZWFuLCBib3JhZGNhc3Q6IEJyb2FkY2FzdDxUPikge1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLm9uY2UgPSBvbmNlO1xuICAgICAgICB0aGlzLmJyb2FkY2FzdCA9IGJvcmFkY2FzdDtcbiAgICAgICAgdGhpcy5oYXNEZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZWFkb25seSBsaXN0ZW5lcjogKC4uLnBhcmFtczogVFtdKSA9PiB2b2lkO1xuXG4gICAgcmVhZG9ubHkgdGFyZ2V0OiBhbnk7XG5cbiAgICByZWFkb25seSBvbmNlOiBib29sZWFuO1xuXG4gICAgcmVhZG9ubHkgYnJvYWRjYXN0OiBCcm9hZGNhc3Q8VD47XG5cbiAgICByZWFkb25seSBoYXNEZXN0cm95ZWQ6IGJvb2xlYW47XG5cbiAgICBleGVjdXRlKC4uLnBhcmFtczogVFtdKTogYW55IHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsIHBhcmFtcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGRlc3Ryb3lTZWxmID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICAodGhpcy5saXN0ZW5lciBhcyBhbnkpID0gbnVsbDtcbiAgICAgICAgKHRoaXMudGFyZ2V0IGFzIGFueSkgPSBudWxsO1xuICAgICAgICAodGhpcy5vbmNlIGFzIGFueSkgPSBudWxsO1xuICAgICAgICAodGhpcy5icm9hZGNhc3QgYXMgYW55KSA9IG51bGw7XG4gICAgICAgICh0aGlzLmhhc0Rlc3Ryb3llZCBhcyBhbnkpID0gdHJ1ZTtcbiAgICB9XG59XG5cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/Logic/Manager/BaseMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5e629wf1WBDNaVfkPO8PSYi', 'BaseMgr');
// Script/Logic/Manager/BaseMgr.ts

"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.BaseMgr = void 0;
var BaseMgr = /** @class */ (function () {
    function BaseMgr(game) {
        this.game = null;
        this.game = game;
    }
    return BaseMgr;
}());
exports.BaseMgr = BaseMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvTG9naWMvTWFuYWdlci9CYXNlTWdyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0lBRUksaUJBQVksSUFBVTtRQUR0QixTQUFJLEdBQVMsSUFBSSxDQUFDO1FBRWQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUNMLGNBQUM7QUFBRCxDQUxBLEFBS0MsSUFBQTtBQUxZLDBCQUFPIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi9HYW1lXCJcbmV4cG9ydCBjbGFzcyBCYXNlTWdyIHtcbiAgICBnYW1lOiBHYW1lID0gbnVsbDtcbiAgICBjb25zdHJ1Y3RvcihnYW1lOiBHYW1lKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------
