{"version":3,"sources":["assets/Script/UIScript/UIMobx.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,4CAAyH;AACzH,4CAA6C;AAEvC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAoC,0BAAQ;IAKxC;QAAA,YACI,iBAAO,SAGV;QAEW,UAAI,GAAG,CAAC,CAAC;QACT,UAAI,GAAG,CAAC,CAAC;QAIT,SAAG,GAAG,EAAC,IAAI,EAAE,CAAC,EAAC,CAAC;QATxB,sBAAsB;QACtB,yBAAkB,CAAC,KAAI,CAAC,CAAC;;IAC7B,CAAC;IAIS,sBAAI,yBAAK;aAAT;YACN,OAAO,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACjC,CAAC;;;OAAA;IAGD,4BAAW,GAAX;QACI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QACvC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QACvC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,eAAe;IAEf,sBAAK,GAAL;QAAA,iBA2BC;QA1BG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;YACrB,KAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC,EAAE,IAAI,CAAC,CAAC;QACT,cAAO,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAErC,WAAI,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,GAAG,EAAE,EAAf,CAAe,CAAC,CAAC,IAAI,CAAC;YAC7B,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC;QAEH,eAAQ,CAAC,CAAC,cAAM,OAAA,KAAI,CAAC,GAAG,IAAI,KAAI,CAAC,GAAG,CAAC,IAAI,EAAzB,CAAyB,CAAC,EAAE,UAAC,GAAQ,EAAE,IAAY,EAAE,CAAkB;YACnF,IAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,CAAC;gBAAE,OAAQ;YACnC,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,GAAG,CAAC;YACjC,eAAe;QACnB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YACpB,KAAI,CAAC,IAAI,EAAG,CAAC;QACjB,CAAC,EAAE,IAAI,CAAC,CAAC;QACT,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YACpB,KAAI,CAAC,IAAI,EAAG,CAAC;QACjB,CAAC,EAAE,IAAI,CAAC,CAAC;QAET,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YACpB,KAAI,CAAC,GAAG,CAAC,IAAI,EAAG,CAAC;QACrB,CAAC,EAAE,IAAI,CAAC,CAAC;IAEb,CAAC;IAOD,uBAAM,GAAN;IAEA,CAAC;IAnDW;QAAX,iBAAU;wCAAU;IACT;QAAX,iBAAU;wCAAU;IACX;QAAT,eAAQ;uCAER;IACW;QAAX,iBAAU;uCAAiB;IAhBX,MAAM;QAD1B,OAAO;OACa,MAAM,CAiE1B;IAAD,aAAC;CAjED,AAiEC,CAjEmC,iBAAQ,GAiE3C;kBAjEoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["import UIMobx_Auto from \"../AutoScripts/UIMobx_Auto\";\nimport { observable, computed, reaction, autorun, when, IReactionPublic, makeAutoObservable } from \"../Common/Mobx/mobx\";\nimport { UIWindow } from \"../UIFrame/UIForm\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class UIMobx extends UIWindow {\n\n\n    view: UIMobx_Auto;\n\n    constructor() {\n        super();\n        // mobx6版本中使用注解必须调用此方法\n        makeAutoObservable(this);\n    }\n    \n    @observable num1 = 0;\n    @observable num2 = 0;\n    @computed get total() {\n        return this.num1 * this.num2;\n    }\n    @observable obj = {num3: 0};\n\n    refreshView() {\n        this.view.Txt1.string = '' + this.num1;\n        this.view.Txt2.string = '' + this.num2;\n        this.view.Txt3.string = '' + this.total;\n    }\n\n    // onLoad () {}\n\n    start () {\n        this.view.Close.addClick(() => {\n            this.closeSelf();\n        }, this);\n        autorun(this.refreshView.bind(this));\n        \n        when(() => this.total > 10).then(() => {\n            this.view.Txt4.node.active = this.total > 10;\n        });\n\n        reaction((() => this.obj && this.obj.num3), (arg: any, prev: number, r: IReactionPublic) => {\n            if(!cc.isValid(this.node)) return ;\n            this.view.Txt5.string = '' + arg;\n            // r.dispose();\n        });\n\n        this.view.Btn1.addClick(() => {\n            this.num1 ++;\n        }, this);\n        this.view.Btn2.addClick(() => {\n            this.num2 ++;\n        }, this);\n\n        this.view.Btn3.addClick(() => {\n            this.obj.num3 ++;\n        }, this);\n        \n    }\n\n    \n    \n\n    \n\n    onShow() {\n        \n    }\n\n\n}\n"]}