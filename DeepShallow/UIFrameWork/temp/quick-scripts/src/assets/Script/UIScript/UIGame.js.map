{"version":3,"sources":["assets/Script/UIScript/UIGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIGame_Auto from \"../AutoScripts/UIGame_Auto\";\nimport { GuideConfig } from \"../config/GuideConfig\";\nimport UIConfig from \"../UIConfig\";\nimport FormMgr from \"../UIFrame/FormMgr\";\nimport { UIScreen } from \"../UIFrame/UIForm\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class UIGame extends UIScreen {\n\n\n    view: UIGame_Auto;\n    // onLoad () {}\n\n    start () {\n        this.view.Back.addClick(() => {\n            FormMgr.backScene();\n        }, this);\n\n        this.view.toMap.addClick(() => {\n            FormMgr.open(UIConfig.UIECSView);\n        }, this);\n\n\n        this.view.GuideNode.addClick(this.onBtnGuide.bind(this),this);\n        this.onBtnGuide(); \n\n\n        for (let index = 1; index < 14; index++) {\n            // const element = array[index];\n            let key = \"jianzhu\"\n            if(index<10){\n                key = key+\"0\"+index\n            }else{\n                key = key+index\n            }\n            let ksp = cc.sys.localStorage.getItem(key)\n            let sp = this.view.items.getChildByName(key)\n            if(ksp==null){\n                sp.getComponent(cc.Sprite).enabled = false;\n            }else{\n                sp.getComponent(cc.Sprite).enabled = true;\n            }\n        }\n    }\n\n    onBtnGuide(){\n        let guideIdx = cc.sys.localStorage.getItem(\"guidxIdx\")\n        if(guideIdx==null){\n            cc.sys.localStorage.setItem(\"guidxIdx\",0);\n            guideIdx = 0;\n        }\n        let txt = GuideConfig[Number(guideIdx)];\n        if(txt != null){\n           this.view.LblTip.string = txt;\n           ++guideIdx;\n           cc.sys.localStorage.setItem(\"guidxIdx\",guideIdx);\n        }else{\n            this.view.guidNode.active = false;\n        }\n    }\n\n    onBuildItem(ev, dat){\n        let target = ev.target;\n        // console.log(target)\n        let key = target.name;\n        let ksp = cc.sys.localStorage.getItem(key)\n        if(ksp==null){\n            this.view.buldtool.position = target.position;\n            this.view.buldtool.getComponent(cc.Animation).play();\n            console.log(this.view.buldtool.getComponent(cc.Animation))\n            let abc = this.view.buldtool.getComponent(cc.Animation);\n            abc.play();\n            console.log(abc.defaultClip);\n            console.log(abc.getClips());\n        }\n    }\n\n    // update (dt) {}\n}\n"]}