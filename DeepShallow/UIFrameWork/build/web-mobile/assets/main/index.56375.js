window.__require=function t(e,n,o){function r(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return r(e[s][1][t]||t)},l,l.exports,t,e,n,o)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<o.length;s++)r(o[s]);return r}({AdapterMgr:[function(t,e,n){"use strict";cc._RF.push(e,"9848co1bh1O76pCrg2kIN9s","AdapterMgr");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.AdapterType=void 0;var r=0,i=1<<r++,s=1<<r++,a=1<<r++,c=1<<r++,u=1<<r++,l=s|a,p=c|u,f=1<<r++,h=1<<r++,d=1<<r++;(function(t){t[t.Top=c]="Top",t[t.Bottom=u]="Bottom",t[t.Left=s]="Left",t[t.Right=a]="Right",t[t.StretchWidth=l]="StretchWidth",t[t.StretchHeight=p]="StretchHeight",t[t.FullWidth=f]="FullWidth",t[t.FullHeight=h]="FullHeight"})(n.AdapterType||(n.AdapterType={}));var _=cc._decorator,y=_.ccclass,v=(_.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"inst",{get:function(){return null==this._instance&&(this._instance=new e,this._instance.visibleSize=cc.view.getVisibleSize(),console.log("visiable size: "+this._instance.visibleSize)),this._instance},enumerable:!1,configurable:!0}),t.prototype.adapteByType=function(t,e,n){void 0===n&&(n=0);for(var o=d;o>0;)o&t&&this._doAdapte(o,e,n),o>>=1;var r=e.getComponent(cc.Widget);r.target=cc.find("Canvas"),r.updateAlignment()},t.prototype._doAdapte=function(t,e,n){void 0===n&&(n=0);var o=e.getComponent(cc.Widget);switch(o||(o=e.addComponent(cc.Widget)),t){case i:break;case s:o.isAlignLeft=!0,o.isAbsoluteLeft=!0,o.left=n||0;break;case a:o.isAlignRight=!0,o.isAbsoluteRight=!0,o.right=n||0;break;case c:if(cc.sys.platform===cc.sys.WECHAT_GAME){var r=window.wx.getMenuButtonBoundingClientRect(),l=window.wx.getSystemInfoSync();n+=cc.find("Canvas").height*(r.top/l.screenHeight)}o.isAlignTop=!0,o.isAbsoluteTop=!0,o.top=n||0;break;case u:o.isAlignBottom=!0,o.isAbsoluteBottom=!0,o.bottom=n||0;break;case f:e.height/=e.width/this.visibleSize.width,e.width=this.visibleSize.width;break;case h:e.width/=e.height/this.visibleSize.height,e.height=this.visibleSize.height}},t.prototype.removeAdaptater=function(t){t.getComponent(cc.Widget)&&t.removeComponent(cc.Widget)},t._instance=null,e=o([y],t)}());n.default=v,cc._RF.pop()},{}],BaseAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"e3feaq91SVBdIfW2t1TEvv2","BaseAssembler");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=cc.gfx,s=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_COLOR,type:i.ATTR_TYPE_UINT8,num:4,normalize:!0}]),a=function(t){function e(){var e=t.call(this)||this;return e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._local=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e.initLocal(),e}return r(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getVfmt=function(){return s},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var o=this.floatsPerVert,r=this.colorOffset,i=0;i<this.verticesCount;i++)n[r+i*o]=e}},e.prototype.updateUVs=function(){for(var t=[0,1,1,1,0,0,1,0],e=this.uvOffset,n=this.floatsPerVert,o=this._renderData.vDatas[0],r=0;r<this.verticesCount;r++){var i=2*r,s=n*r+e;o[s]=t[i],o[s+1]=t[i+1]}},e.prototype.updateWorldVertsWebGL=function(t){var e=this._local,n=this._renderData.vDatas[0],o=t.node._worldMatrix.m,r=o[0],i=o[1],s=o[4],a=o[5],c=o[12],u=o[13],l=e[0],p=e[2],f=e[1],h=e[3],d=1===r&&0===i&&0===s&&1===a,_=0,y=this.floatsPerVert;if(d)n[_]=l+c,n[_+1]=f+u,n[_+=y]=p+c,n[_+1]=f+u,n[_+=y]=p+c,n[_+1]=h+u,n[_+=y]=l+c,n[_+1]=h+u,_+=y;else{var v=r*l,g=r*p,b=i*l,m=i*p,w=s*f,x=s*h,O=a*f,P=a*h;n[_]=v+w+c,n[_+1]=b+O+u,n[_+=y]=g+w+c,n[_+1]=m+O+u,n[_+=y]=v+x+c,n[_+1]=b+P+u,n[_+=y]=g+x+c,n[_+1]=m+P+u}},e.prototype.updateWorldVertsNative=function(){var t=this._local,e=this._renderData.vDatas[0],n=this.floatsPerVert,o=t[0],r=t[2],i=t[1],s=t[3],a=0;e[a]=o,e[a+1]=i,e[a+=n]=r,e[a+1]=i,e[a+=n]=o,e[a+1]=s,e[a+=n]=r,e[a+1]=s},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){var e,n,o,r,i=t.node,s=i.width,a=i.height,c=i.anchorX*s,u=i.anchorY*a;e=-c,n=-u,o=s-c,r=a-u;var l=this._local;l[0]=e,l[1]=n,l[2]=o,l[3]=r,this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,o=n.vDatas[0],r=n.iDatas[0],i=this.getBuffer(),s=i.request(this.verticesCount,this.indicesCount),a=s.byteOffset>>2,c=i._vData;o.length+a>c.length?c.set(o.subarray(0,c.length-a),a):c.set(o,a);for(var u=i._iData,l=s.indiceOffset,p=s.vertexOffset,f=[0,1,2,0,2,3,4,5,6,4,6,7],h=0,d=r.length;h<d;h++)u[l++]=p+f[h]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var o=t._materials[0];o&&o.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=a,cc._RF.pop()},{}],BaseMgr:[function(t,e,n){"use strict";cc._RF.push(e,"5e629wf1WBDNaVfkPO8PSYi","BaseMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.BaseMgr=void 0;n.BaseMgr=function(t){this.game=null,this.game=t},cc._RF.pop()},{}],BatchAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"3989dU4L8BIBJM9muUNLD0B","BatchAssembler");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("./BaseAssembler"),s=cc.RenderFlow.FLAG_RENDER|cc.RenderFlow.FLAG_POST_RENDER,a=cc.RenderFlow.FLAG_OPACITY|cc.RenderFlow.FLAG_WORLD_TRANSFORM,c=!0,u=function(t){function e(){var e=t.call(this)||this;return e._groups=[],e}return r(e,t),e.prototype.fillBuffers=function(t,e){if(c){var n=(e.worldMatDirty?cc.RenderFlow.FLAG_WORLD_TRANSFORM:0)|(e.parentOpacityDirty?cc.RenderFlow.FLAG_OPACITY_COLOR:0);t.node.__DirtyFlag__=n,this._groups=[],this._walkByName(t.node.children)}},e.prototype.postFillBuffers=function(t,e){var n=e.worldMatDirty;if(c&&this._groups&&!(this._groups.length<=0)){c=!1;for(var o=0,r=this._groups;o<r.length;o++){var i=r[o];if(!(i.length<=0))for(var s=0,a=i;s<a.length;s++){var u=a[s],l=u.__RenderFlag__,p=u.__DirtyFlag__;e.worldMatDirty=p>0?1:0,u._renderFlag|=l,l&&cc.RenderFlow.flows[l]._func(u)}}this._groups=null,c=!0,e.worldMatDirty=n}},e.prototype._walkDefault=function(t){if(t&&!(t.length<=0)){for(var e=t[0].childrenCount,n=[],o=0;o<e;o++)n[o]=[];for(var r=[],i=0,c=t;i<c.length;i++){var u=c[i];if(u._activeInHierarchy&&0!=u.opacity){var l=u._renderFlag&s;for(l>0&&(u.__RenderFlag__=l,u._renderFlag&=~l,r.push(u)),u.__DirtyFlag__=u.parent.__DirtyFlag__|u._renderFlag&a,o=0;o<e;o++)n[o].push(u.children[o])}}r.length>0&&this._groups.push(r);for(var p=0,f=n;p<f.length;p++){var h=f[p];this._walkDefault(h)}}},e.prototype._walkByName=function(t){if(t&&!(t.length<=0)){for(var e={},n=[],o=[],r=0,i=t;r<i.length;r++){var c=i[r];if(c._activeInHierarchy&&0!=c.opacity){var u=c._renderFlag&s;u>0&&(c.__RenderFlag__=u,c._renderFlag&=~u,n.push(c)),c.__DirtyFlag__=c.parent.__DirtyFlag__|c._renderFlag&a;for(var l="",p=0,f=c.children;p<f.length;p++){var h=f[p];if(e[v=h.name]||(e[v]=[]),e[v].push(h),-1==o.indexOf(v))if(0==l.length)o.unshift(v);else{var d=o.indexOf(l);o.splice(d+1,0,v)}l=v}}}n.length>0&&this._groups.push(n);for(var _=0,y=o;_<y.length;_++){var v=y[_];this._walkByName(e[v])}}},e}(i.default);n.default=u,cc._RF.pop()},{"./BaseAssembler":"BaseAssembler"}],BatchComponent:[function(t,e,n){"use strict";cc._RF.push(e,"d393a5ZdPJN0q6Ay73BaSB9","BatchComponent");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a=t("../Assemblers/BatchAssembler");(function(t){t[t.Default=0]="Default",t[t.SameName=1]="SameName"})(s||(s={}));var c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode=0,e}return r(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.node._renderFlag|=cc.RenderFlow.FLAG_POST_RENDER},e.prototype._resetAssembler=function(){this.setVertsDirty(),(this._assembler=new a.default).init(this)},i([l({type:cc.Enum(s),tooltip:"\u904d\u5386\u6a21\u5f0f: Default \u9ed8\u8ba4\u7684\u5e7f\u5ea6\u904d\u5386, SameName \u540c\u540d\u7ed3\u70b9\u540c\u6279\u6b21"})],e.prototype,"mode",void 0),i([u],e)}(cc.RenderComponent);n.default=p,cc._RF.pop()},{"../Assemblers/BatchAssembler":"BatchAssembler"}],BigNumUtils:[function(t,e,n){"use strict";var o;cc._RF.push(e,"c4b72NccXhGKofOUM3hVrvP","BigNumUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.RountType=void 0,function(t){t[t.Round=0]="Round",t[t.Floor=1]="Floor",t[t.Ceil=2]="Ceil"}(o=n.RountType||(n.RountType={}));var r=function(){function t(){}return t.BNPlus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[0,0],o=0;o<t.length;o++){var r,i,s=t[o],a=+s;0===a||a&&a!==1/0?(i=s<10?0:Math.floor(Math.log10(+s)+1e-6),r=s<10?s:s/Math.pow(10,i)):s?(r=+(s=s.split("e"))[0]||0,i=+s[1]||0):(r=0,i=0),i>n[1]?(n[0]/=Math.pow(10,i-n[1]),n[0]+=r,n[1]=i):n[0]+=r/Math.pow(10,n[1]-i)}for(var c=n[0]>=0?1:-1,u=Math.abs(n[0]);u<1&&n[1]>0;)u*=10,n[1]-=1;for(;u>10;)u/=10,n[1]+=1;return(u*=c)+"e"+n[1]},t.BNMinus=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[0,0],o=0;o<t.length;o++){var r,i,s=t[o],a=o,c=+s;0===c||c&&c!==1/0?(i=s<10?0:Math.floor(Math.log10(+s)+1e-6),r=s<10?s:s/Math.pow(10,i)):(r=+(s=s.split("e"))[0],i=+s[1]),a?n[1]<i?(n[0]=n[0]/Math.pow(10,i-n[1])-r,n[1]=i):n[0]-=r/Math.pow(10,n[1]-i):(n[0]=r,n[1]=i)}for(var u=n[0]>=0?1:-1,l=Math.abs(n[0]);l<1&&n[1]>0;)l*=10,n[1]-=1;for(;l>10;)l/=10,n[1]+=1;return(l*=u)+"e"+n[1]},t.BNTimes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[0,0];t.forEach(function(t,e){var o,r,i=+t;0===i||i&&i!==1/0?(r=t<10?0:Math.floor(Math.log10(+t)+1e-6),o=t<10?t:t/Math.pow(10,r)):t?(o=+(t=t.split("e"))[0]||0,r=+t[1]||0):(o=1,r=0),e?(n[0]*=o,n[1]+=r,n[0]>1e300&&(n[0]/=1e300,n[1]+=300)):(n[0]=o,n[1]=r)});for(var o=n[0]>=0?1:-1,r=Math.abs(n[0]);r<1&&n[1]>0;)r*=10,n[1]-=1;for(;r>10;)r/=10,n[1]+=1;return r*o+"e"+n[1]},t.BNDevide=function(t,e){if(0==+e)return 0;var n=[0,0],o=1;[t,e].forEach(function(t,e){var r,i,s=+t,a=Math.abs(s);0===a||a&&a!==1/0?(i=a<10?0:Math.floor(Math.log10(a)+1e-6),r=a<10?a:a/Math.pow(10,i)):(s=+(t=t.split("e"))[0],r=Math.abs(s),i=+t[1]),o*=s>=0?1:-1,0===e?(n[0]=r,n[1]=i):(n[0]/=r,n[1]-=i)});for(var r=Math.abs(n[0]);r<1&&n[1]>0;)r*=10,n[1]-=1;for(;r>10;)r/=10,n[1]+=1;return r*=o,n[1]<100?r*Math.pow(10,n[1]):this.BNTimes(r,this.BNPow(10,n[1]))},t.BNCompare=function(t,e){var n=[0,0],o=[0,0];return[t,e].forEach(function(t,e){var r=+t;0===r||r&&r!==1/0?(o[e]=t<10?0:Math.floor(Math.log10(+t)+1e-6),n[e]=t<10?t:t/Math.pow(10,o[e])):(t=t.split("e"),n[e]=+t[0],o[e]=+t[1])}),n[0]*n[1]<0?n[0]>0?1:-1:o[1]>o[0]?-1:o[1]<o[0]?1:n[1]>n[0]?-1:n[1]<n[0]?1:0},t.BNPow=function(t,e){if(!t)return"0";if(!e)return"1";var n=Math.floor(Math.log(1e300)/Math.log(t)),o=1;if((n=Math.max(n,1))>=e)o=Math.pow(t,e);else{for(var r=Math.floor(e/n),i=[],s=Math.pow(t,n),a=0;a<r;a++)i.push(s);i.push(Math.pow(t,e-n*r)),o=this.BNTimes.apply(this,i)}return o},t.BNMax=function(t,e){return this.BNCompare(t,e)>0?t:e},t.BNMin=function(t,e){return this.BNCompare(t,e)>0?e:t},t.BNLog=function(t){var e=+t;if(0===e||e&&e!==1/0){var n=e>=0?1:-1;return e=Math.abs(e),n*Math.log10(e)}return+t.split("e")[1]},t.BNSqrt=function(t){var e=+t;if(0===e||e&&e!==1/0)return Math.sqrt(e);var n=t.split("e"),o=+n[0],r=+n[1];return Math.sqrt(o)+"e"+r/2},t.BNSqrtEx=function(t,e){var n=+t;if(0===n||n&&n!==1/0)return Math.pow(n,1/e);var o=t.split("e"),r=+o[0],i=+o[1];return Math.pow(r,1/e)+"e"+i/e},t.BNFloor=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.floor(e):t},t.BNCeil=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.ceil(e):t},t.BNRound=function(t){var e=+t;return 0===e||e&&e!==1/0?Math.round(e):t},t.BN2Number=function(t){var e=+t;if(0===e||e&&e!==1/0)return e;var n=t.split("e");return+n[0]*Math.pow(10,n[1])},t.getOwnString=function(t){return this.getNumberString(t,void 0,void 0,o.Floor)},t.getCostString=function(t){return this.getNumberString(t,void 0,void 0,o.Ceil)},t.getNumberString=function(t,e,n,r){var i,s;void 0===e&&(e=0),void 0===r&&(r=o.Round);var a,c=+t;if(0===c||c&&c!==1/0){if(t<1e3)return this.roundNum(t,r,e);var u=""+Math.round(t),l=0;if(~u.indexOf("e")){var p=+u.split("e")[0],f=+u.split("e")[1];l=f+=Math.floor(Math.log10(p))}else l=Math.floor(Math.log10(t));i=~u.indexOf("e")?+u.split("e")[0]*Math.pow(10,l%3):+u.slice(0,l%3+4)/1e3,s=l/3>>0}else{if(+(t=t.split("e"))[1]<3){var h=t[0]*Math.pow(10,t[1]);return this.roundNum(h,r,e)}for(i=t[0]*Math.pow(10,t[1]%3);i>1e3;)i/=1e3,t[1]=+t[1]+3;s=t[1]/3>>0}if(s<4)a=["","K","M","B"][s];else{var d=(s-4)/26>>0,_=d/26>>0,y=(s-4)%26,v="abcdefghijklmnopqrstuvwxyz",g=v.toUpperCase();a=(_<2?v:g)[d%26]+(_%2?g:v)[y]}return void 0===n&&(n=i<10?2:i<100?1:0),this.roundNum(i,r,n)+a},t.roundNum=function(t,e,n){var r,i;if(r=e===o.Round?Math.round:e===o.Ceil?Math.ceil:Math.floor,0===n)i=r(t);else{var s=Math.pow(10,n);i=r(s*t)/s}return i.toFixed(n)},t.getFixNumber=function(t,e){void 0===e&&(e=1);var n=Math.pow(10,e);return Math.floor(t*n)/n},t.getPercentString=function(t,e){return void 0===e&&(e=1),"string"==typeof t?this.getNumberString(this.BNTimes(t,100),e)+"%":this.getNumberString(100*t,e)+"%"},t}();n.default=r,cc._RF.pop()},{}],BroadCast:[function(t,e,n){"use strict";cc._RF.push(e,"082ecq87BtC3qGrtG+cRJqY","BroadCast"),Object.defineProperty(n,"__esModule",{value:!0}),n.ListenerBinding=n.Broadcast=void 0;var o=function(){function t(){this.bindings=[]}return t.prototype.on=function(t,e){var n=new r(t,e,!1,this);return this.bindings.push(n),n},t.prototype.once=function(t,e){var n=new r(t,e,!0,this);return this.bindings.push(n),n},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=!1,o=0,r=this.bindings;o<r.length;o++){var i=r[o];i.hasDestroyed?n=!0:i.execute.apply(i,t)}if(n)for(var s=0;s<this.bindings.length;s++)this.bindings[s].hasDestroyed&&(this.bindings.splice(s,1),s--)},t.prototype.get=function(t,e){for(var n=0,o=this.bindings;n<o.length;n++){var r=o[n];if(r.listener==t&&r.target==e&&!r.hasDestroyed)return r}return null},t.prototype.has=function(t,e){for(var n=0,o=this.bindings;n<o.length;n++){var r=o[n];if(r.listener==t&&r.target==e&&!r.hasDestroyed)return!0}return!1},t.prototype.remove=function(t,e){for(var n=0,o=this.bindings;n<o.length;n++){var r=o[n];if(r.listener==t&&r.target==e&&!r.hasDestroyed)return r.destroy()}},t.prototype.removeAll=function(){for(;this.bindings.length;)this.bindings.pop().destroy()},t}();n.Broadcast=o;var r=function(){function t(t,e,n,o){var r=this;this.destroySelf=function(){r.destroy()},this.listener=t,this.target=e,this.once=n,this.broadcast=o,this.hasDestroyed=!1}return t.prototype.execute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.hasDestroyed){var n=this.listener.apply(this.target,t);return this.once&&this.destroy(),n}return null},t.prototype.destroy=function(){this.listener=null,this.target=null,this.once=null,this.broadcast=null,this.hasDestroyed=!0},t}();n.ListenerBinding=r,cc._RF.pop()},{}],BroadcastCenter:[function(t,e,n){"use strict";cc._RF.push(e,"c1631mjt99N+bqKIUwCcgeG","BroadcastCenter"),Object.defineProperty(n,"__esModule",{value:!0}),n.BroadcastCenter=n.BuildingData=void 0;var o=t("../Utils/BroadCast");n.BuildingData=function(){};var r=function(){function t(){}return t.buildingState=new o.Broadcast,t}();n.BroadcastCenter=r,r.buildingState.on(function(t){console.log(t.id,t.state)},this),r.buildingState.dispatch({id:1,state:"success"}),cc._RF.pop()},{"../Utils/BroadCast":"BroadCast"}],ButtonPlus:[function(t,e,n){"use strict";cc._RF.push(e,"3eaf8iLxgtDEKVcEmFvrbqy","ButtonPlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../UIFrame/SoundMgr"),a=cc._decorator,c=a.ccclass,u=a.property,l=a.executeInEditMode,p=a.menu,f=a.help,h=a.inspector,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioUrl="",e.openContinuous=!0,e.continuousTime=1,e.continuous=!1,e._continuousTimer=null,e.openLongPress=!1,e.longPressTime=1,e.longPressFlag=!1,e.longPressTimer=null,e}return r(e,t),e.prototype.onEnable=function(){this.continuous=!1,t.prototype.onEnable.call(this)},e.prototype.onDisable=function(){this._continuousTimer&&(clearTimeout(this._continuousTimer),this._continuousTimer=null),this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null),t.prototype.onDisable.call(this)},e.prototype._onTouchBegan=function(t){this.interactable&&this.enabledInHierarchy&&(this.openLongPress&&!this.longPressFlag&&(this.longPressTimer&&clearTimeout(this.longPressTimer),this.longPressTimer=setTimeout(function(){this._pressed&&(this.node.emit("longclickStart",this),this.longPressFlag=!0)}.bind(this),1e3*this.longPressTime)),this._pressed=!0,this._updateState(),t.stopPropagation())},e.prototype._onTouchEnded=function(t){this.interactable&&this.enabledInHierarchy&&(this._pressed&&this.longPressFlag?(this.node.emit("longclickEnd",this),this.longPressFlag=!1):this._pressed&&!this.continuous&&(this.continuous=!!this.openContinuous,cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",t),s.default.inst.playEffect(this.audioUrl),this.openContinuous&&(this._continuousTimer=setTimeout(function(){this.continuous=!1}.bind(this),1e3*this.continuousTime))),this._pressed=!1,this._updateState(),t.stopPropagation())},e.prototype._onTouchCancel=function(){this.interactable&&this.enabledInHierarchy&&(this._pressed&&this.longPressFlag&&(this.node.emit("longclickEnd",this),this.longPressFlag=!1),this._pressed=!1,this._updateState())},e.prototype.addClick=function(t,e){this.node.off("click"),this.node.on("click",t,e)},e.prototype.addLongClick=function(t,e,n){this.node.off("longclickStart"),this.node.off("longclickEnd"),this.node.on("longclickStart",t,n),this.node.on("longclickEnd",e,n)},i([u({tooltip:"\u97f3\u6548\u8def\u5f84",type:"",multiline:!0,formerlySerializedAs:"_N$string"})],e.prototype,"audioUrl",void 0),i([u({tooltip:"\u5c4f\u853d\u8fde\u7eed\u70b9\u51fb"})],e.prototype,"openContinuous",void 0),i([u({tooltip:"\u5c4f\u853d\u65f6\u95f4, \u5355\u4f4d:\u79d2"})],e.prototype,"continuousTime",void 0),i([u({tooltip:"\u662f\u5426\u5f00\u542f\u957f\u6309\u4e8b\u4ef6"})],e.prototype,"openLongPress",void 0),i([u({tooltip:"\u957f\u6309\u65f6\u95f4"})],e.prototype,"longPressTime",void 0),i([c,p("i18n:MAIN_MENU.component.ui/ButtonPlus"),l,f("i18n:COMPONENT.help_url.button"),h("packages://buttonplus/inspector.js")],e)}(cc.Button);n.default=d,cc._RF.pop()},{"../../UIFrame/SoundMgr":"SoundMgr"}],CacheUtils:[function(t,e,n){"use strict";cc._RF.push(e,"f7caav8yMdOrZNrAy/SIOIW","CacheUtils");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../UIFrame/ResMgr"),a=cc._decorator,c=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.com=null,e.passTime=0,e}return r(e,t),e.prototype.onLoad=function(){this.com=this.getComponent(cc.Label)},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.node.x+=e.getDeltaX(),t.node.y+=e.getDeltaY()},this)},e.prototype.update=function(t){this.passTime+=t,this.passTime>1&&(this.passTime=0,this.com.string=s.default.inst.computeTextureCache())},i([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../UIFrame/ResMgr":"ResMgr"}],CameraCapture:[function(t,e,n){"use strict";cc._RF.push(e,"29803DQKJdC2KvHyjig9y8N","CameraCapture");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../UIFrame/CocosHelper"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.captureNode=null,e.camera=null,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.inst=this,this.camera=this.getComponent(cc.Camera),this.camera||(this.camera=this.addComponent(cc.Camera)),this.node.active=!1},e.prototype.start=function(){},e.prototype.captureTexture=function(){this.node.active=!0,this.captureNode.active=!1;var t=s.default.captureScreen(this.camera,this.captureNode);return this.captureNode.active=!0,this.node.active=!1,t},e.inst=null,i([u(cc.Node)],e.prototype,"captureNode",void 0),n=i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../UIFrame/CocosHelper":"CocosHelper"}],CocosHelper:[function(t,e,n){"use strict";cc._RF.push(e,"7d011DLhkxFPakrCRw6PZqk","CocosHelper");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.LoadProgress=void 0;var i=function(){};n.LoadProgress=i;var s=function(){function t(){}return t.callInNextTick=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(t){setTimeout(function(){t(!0)},0)})]})})},t.runRepeatTweenSync=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return o(this,void 0,void 0,function(){return r(this,function(){return[2,new Promise(function(o){for(var r=cc.tween(t),i=0,s=n;i<s.length;i++){var a=s[i];r=r.then(a)}e<0?cc.tween(t).repeatForever(r).start():cc.tween(t).repeat(e,r).call(function(){o(!0)}).start()})]})})},t.runTweenSync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(n){for(var o=cc.tween(t),r=0,i=e;r<i.length;r++){var s=i[r];o=o.then(s)}o.call(function(){n()}).start()})]})})},t.prototype.stopTween=function(t){cc.Tween.stopAllByTarget(t)},t.prototype.stopTweenByTag=function(t){cc.Tween.stopAllByTag(t)},t.runActionSync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o(this,void 0,void 0,function(){return r(this,function(){return!e||e.length<=0?[2]:[2,new Promise(function(n){e.push(cc.callFunc(function(){n(!0)})),t.runAction(cc.sequence(e))})]})})},t.runAnimSync=function(e,n){return o(this,void 0,void 0,function(){var o,i,s,a;return r(this,function(r){switch(r.label){case 0:if(!(o=e.getComponent(cc.Animation)))return[2];if(i=null,n){if(s=o.getClips(),"number"==typeof n)i=s[n];else if("string"==typeof n)for(a=0;a<s.length;a++)if(s[a].name===n){i=s[a];break}}else i=o.defaultClip;return i?[4,t.sleepSync(i.duration)]:[2];case 1:return r.sent(),[2]}})})},t.loadResThrowErrorSync=function(){return null},t.loadRes=function(t,e,n){var o=this;this._loadingMap[t]?this._loadingMap[t].push(n):(this._loadingMap[t]=[n],this.loadResSync(t,e).then(function(e){for(var n=0,r=o._loadingMap[t];n<r.length;n++)(0,r[n])(e);o._loadingMap[t]=null,delete o._loadingMap[t]}))},t.loadResSync=function(t,e,n){var o=this;return new Promise(function(r){n||(n=o._onProgress),cc.resources.load(t,e,n,function(e,n){e?(cc.error(t+" [\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+e),r(null)):r(n)})})},t._onProgress=function(e,n,o){t.loadProgress.completedCount=e,t.loadProgress.totalCount=n,t.loadProgress.item=o,t.loadProgress.cb&&t.loadProgress.cb(e,n,o)},t.findChildInNode=function(t,e){if(e.name==t)return e;for(var n=0;n<e.childrenCount;n++){var o=this.findChildInNode(t,e.children[n]);if(o)return o}return null},t.getComponentName=function(t){var e=t.name.match(/<.*>$/);return e&&e.length>0?e[0].slice(1,-1):t.name},t.loadBundleSync=function(t,e){return new Promise(function(n){cc.assetManager.loadBundle(t,e,function(e,o){e?n(o):(cc.error("\u52a0\u8f7dbundle\u5931\u8d25, url: "+t+", err:"+e),n(null))})})},t.loadAssetFromBundleSync=function(t,e){var n=cc.assetManager.getBundle(t);return n?new Promise(function(t){n.load(e,function(n,o){n?(cc.error("\u52a0\u8f7dbundle\u4e2d\u7684\u8d44\u6e90\u5931\u8d25, \u672a\u627e\u5230asset, url:"+e+", err:"+n),t(null)):t(o)})}):(cc.error("\u52a0\u8f7dbundle\u4e2d\u7684\u8d44\u6e90\u5931\u8d25, \u672a\u627e\u5230bundle, bundleUrl:"+t),null)},t.loadAssetSync=function(t){var e=this;return new Promise(function(n){cc.resources.load(t,function(o,r){o?(e.addRef(r),n(r)):(cc.error("\u52a0\u8f7dasset\u5931\u8d25, url:"+t+", err: "+o),n(null))})})},t.releaseAsset=function(t){this.decRes(t)},t.addRef=function(t){if(t instanceof Array)for(var e=0,n=t;e<n.length;e++)n[e].addRef();else t.addRef()},t.decRes=function(t){if(t instanceof Array)for(var e=0,n=t;e<n.length;e++)n[e].decRef();else t.decRef()},t.captureScreen=function(t,e){var n=new cc.RenderTexture,o=t.targetTexture,r=cc.rect(0,0,cc.visibleRect.width,cc.visibleRect.height);e&&(r=e instanceof cc.Node?e.getBoundingBoxToWorld():e),n.initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.game._renderContext.STENCIL_INDEX8),t.targetTexture=n,t.render(),t.targetTexture=o;var i=new ArrayBuffer(r.width*r.height*4),s=new Uint8Array(i);return n.readPixels(s,r.x,r.y,r.width,r.height),s},t.loadProgress=new i,t.sleepSync=function(t){return new Promise(function(e){cc.Canvas.instance.scheduleOnce(function(){e(!0)},t)})},t._loadingMap={},t}();n.default=s,cc._RF.pop()},{}],CommonUtils:[function(t,e,n){"use strict";cc._RF.push(e,"9814d/85SFDfo1f4MmYfH4s","CommonUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommonUtils=void 0;var o=t("../../UIFrame/CocosHelper"),r=t("./MatchUtils"),i={nextInt:function(t,e){return Math.floor(Math.random()*(e-t))+t},next01:function(){return Math.random()}},s=function(){function t(){}return t.isArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},t.foramtDate=function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};for(var o in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,("00"+n[o]).substr((""+n[o]).length)));return e},t.getElemClamped=function(t,e){return t[Math.max(0,Math.min(t.length-1,e))]},t.randomIntClosedRange=function(t,e){return Math.floor(Math.random()*(e-t+.9999)+t)},t.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},t.indexOfArr=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=e.length,r=!1,i=0;i<=t.length-o;i+=o){r=!0;for(var s=0;s<o;s++)if(t[i+s]!==e[s]){r=!1;break}if(r)return i}return-1},t.floatEqual=function(t,e,n){return void 0===n&&(n=1e-6),Math.abs(t-e)<n},t.formatTimeInterval=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),e=n||e;var o="",r=Math.floor(t/3600);t%=3600;var i=Math.floor(t/60);return(n||r>0)&&(r<10&&(o+="0"),o+=r+":"),(e||i>0||r>0)&&(i<10&&(o+="0"),o+=i+":"),(t=Math.floor(t%60))<10&&(o+="0"),o+t},t.alignNumber=function(t,e){return t-Math.floor(t/e)*e},t.formatNumber=function(t){var e=""+Math.floor(t),n="",o=0;if(-1==e.indexOf(".")){for(var r=e.length-1;r>=0;r--)n=o%3==0&&0!=o?e.charAt(r)+","+n:e.charAt(r)+n,o++;return n}for(r=e.indexOf(".")-1;r>=0;r--)n=o%3==0&&0!=o?e.charAt(r)+","+n:e.charAt(r)+n,o++;return n+(e+"00").substr((e+"00").indexOf("."),3)},t.updateLabelSize=function(t){t._updateRenderData(!0)},t.lerp=function(t,e,n){return t+(e-t)*n},t.shuffle=function(t,e,n,o){void 0===e&&(e=i),void 0===n&&(n=0),void 0===o&&(o=-1),e=e||i,o<0&&(o=t.length-n);for(var r=0;r<o;r++){var s=e.nextInt(n,n+o-r),a=t[s];t[s]=t[o-r-1+n],t[o-r-1+n]=a}},t.setItemSpriteFrame=function(t,e,n){void 0===n&&(n=null),t.spriteFrameName=e,o.default.loadResSync(e,cc.SpriteFrame).then(function(o){t.isValid&&t.spriteFrameName==e&&(t.spriteFrame=o,n&&n(t))})},t.addSimpleClick=function(t,e){var n=t,o=null;n.on(cc.Node.EventType.TOUCH_START,function(t){o=t.getLocation()},this),n.on(cc.Node.EventType.TOUCH_END,function(t){o&&o.subSelf(t.getLocation()).mag()<3&&e()},this)},t.isGoodNumber=function(t){return"number"==typeof t&&!Number.isNaN(t)},t.getVisibleRect=function(){var t=cc.view.getViewportRect();return cc.rect(t.origin.x/-cc.view.getScaleX(),t.origin.y/-cc.view.getScaleY(),(t.size.width+2*t.origin.x)/cc.view.getScaleX(),(t.size.height+2*t.origin.y)/cc.view.getScaleY())},t.httpGet=function(t,e){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&200==n.status){var t=n.responseText,o=JSON.parse(t);e(o)}else 4===n.readyState&&401==n.status&&e({ret:1})},n.withCredentials=!0,n.open("GET",t,!0),n.withCredentials=!1,n.setRequestHeader("Access-Control-Allow-Origin","*"),n.setRequestHeader("Access-Control-Allow-Methods","GET, POST"),n.setRequestHeader("Access-Control-Allow-Headers","x-requested-with,content-type,authorization"),n.setRequestHeader("Content-Type","application/json"),n.timeout=8e3,n.send()},t.randomGaussian=function(t,e,n){void 0===n&&(n=i);var o=(n=n||i).next01(),r=n.next01();return Math.sqrt(-2*Math.log(o))*Math.cos(2*Math.PI*r)*e+t},t.deepCopy=function(t,e){for(var n in e)this._deepCopyFields(t,e,n)},t.constructObjectMap=function(t){var e=new Map;for(var n in t){var o=t[n];"object"==typeof o?e.set(n,this.constructObjectMap(o)):e.set(n,o)}return e},t._deepCopyFields=function(t,e,n){var o=e[n];if("number"==typeof o||"string"==typeof o)t[n]=o;else if(this.isArray[o])for(var r=t[n]=[],i=0;i<o.length;i++)this._deepCopyFields(r,o,i);else if(null==o)t[n]=null;else if("object"==typeof o){var s=new o.constructor;for(var a in e)this._deepCopyFields(s,o,a)}},t.formatNumberToEng=function(e){if(e<1&&e>0)return"1";e=Math.floor(e);var n=Math.floor(t.getExponent(e));if(n<13){if(n<4)return e+"";var o=Math.floor(n/t.constNum),r=n%t.constNum;return String(e/Math.pow(10,o*t.constNum)).substr(0,t.constNum+r)+t.getUnit(n)}return(e/Math.pow(10,n)).toFixed(3)+"e"+n},t.getExponent=function(t){for(var e=0;t>=10;)e++,t/=10;return e},t.getUnit=function(e){var n=Math.floor(e/t.constNum);return e<13?t.unitArr[n]:"e"+(n=Math.floor(e/t.constNum))*t.constNum},t.formatEngNumber=function(t,e){var n,o;return void 0===e&&(e=2),(t=t)>=1e6?(o=t/1e6,n=(.001*Math.floor(o/.001)).toFixed(e),this.formatEndingZero(n)+"M"):t>=1e3?(o=t/1e3,n=(.001*Math.floor(o/.001)).toFixed(e),this.formatEndingZero(n)+"K"):t+""},t.formatEndingZero=function(t){if(-1!=t.indexOf(".")){if(this.endWith(t,"00"))return t.substring(0,t.length-3);if(this.endWith(t,"0"))return t.substring(0,t.length-1)}return t},t.endWith=function(t,e){return e==t.substring(t.length-e.length)},t.makeMaxWidthLabel=function(t,e){var n={};return n.__proto__=t,Object.defineProperty(n,"string",{configurable:!0,enumerable:!0,get:function(){return t.string},set:function(n){t.overflow=cc.Label.Overflow.NONE,t.string=n,t._updateRenderData(!0),t.node.width>e&&(t.overflow=cc.Label.Overflow.RESIZE_HEIGHT,t.node.setContentSize(e,1),t.string=n)}}),n},t.climeUserName=function(t,e){void 0===e&&(e=14);for(var n=t.length;this.strlen(t)>e;)t=t.substring(0,t.length-1);return t.length!=n&&(t+="..."),t},t.strlen=function(t){for(var e=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o>=1&&o<=126||65376<=o&&o<=65439?e++:e+=2}return e},t.shuffleArr=function(t){for(var e,n,o,r=t.length,i=0;i<r;i++){n=r-i-1,void 0,o=t[e=Math.floor(Math.random()*(r-i))],t[e]=t[n],t[n]=o}return t},t.binarySearch=function(t,e,n){void 0===n&&(n=!1);for(var o=0,r=t.length-1;r-o>1;){var i=Math.floor((o+r)/2);if(e<t[i])r=i;else{if(!(e>t[i]))return i;o=i}}return n?o==t.length-1?t.length:r:0==r?-1:o},t.isInTriangle=function(t,e,n,o){var r=n.sub(e),i=o.sub(e),s=o.sub(n),a=t.sub(e),c=t.sub(n);return r.cross(i)>=0^r.cross(a)<0&&r.cross(i)>=0^i.cross(a)>=0&&s.cross(r)>0^s.cross(c)>=0},t.isInPolygon=function(t,e){var n,o,r,i,s=0,a=e.length;for(r=e[0],n=1;n<=a;n++)i=e[n%a],t.x>Math.min(r.x,i.x)&&t.x<=Math.max(r.x,i.x)&&t.y<=Math.max(r.y,i.y)&&r.x!=i.x&&(o=(t.x-r.x)*(i.y-r.y)/(i.x-r.x)+r.y,(r.y==i.y||t.y<=o)&&s++),r=i;return 0!=(1&s)},t.splitePolygon=function(t){if(t.length<=3)return[0,1,2];for(var e={},n=0;n<t.length;n++){var o=t[n];e[o.x+"-"+o.y]=n}var r=function(t){return e[t.x+"-"+t.y]};t=t.concat([]);for(var i=[],s=0;t.length>3;){var a=t[s%t.length],c=t[(s+1)%t.length],u=t[(s+2)%t.length],l=(s+1)%t.length,p=c.sub(a),f=u.sub(c);if(p.cross(f)<0)s=(s+1)%t.length;else{for(var h=!1,d=0,_=t;d<_.length;d++)if((o=_[d])!=a&&o!=c&&o!=u&&this.isInTriangle(o,a,c,u)){h=!0;break}h?s=(s+1)%t.length:(i.push(r(a),r(c),r(u)),t.splice(l,1))}}for(var y=0,v=t;y<v.length;y++)o=v[y],i.push(r(o));return i},t.computeUv=function(t,e,n){for(var o=[],i=0,s=t;i<s.length;i++){var a=s[i],c=r.MathUtils.clamp(0,1,(a.x+e/2)/e),u=r.MathUtils.clamp(0,1,1-(a.y+n/2)/n);o.push(cc.v2(c,u))}return o},t.tweenFloat=function(t,e,n,o,r,i){void 0===i&&(i=!0);var s={_value:t};Object.defineProperty(s,"value",{get:function(){return s._value},set:function(t){s._value=t,o&&o(s._value)}});var a=cc.tween(s).to(n,{value:e}).call(r);return i&&a.start(),a},t.tweenVec2=function(t,e,n,o,r,i){void 0===i&&(i=!0);var s={_value:t};Object.defineProperty(s,"value",{get:function(){return s._value},set:function(t){s._value=t,o&&o(s._value)}});var a=cc.tween(s).to(n,{value:e}).call(r);return i&&a.start(),a},t.unitArr=["","K","M","B"],t.constNum=3,t}();n.CommonUtils=s,cc._RF.pop()},{"../../UIFrame/CocosHelper":"CocosHelper","./MatchUtils":"MatchUtils"}],ConfigMgr:[function(t,e,n){"use strict";cc._RF.push(e,"99faeZt2e5AobpvQuyUBgaI","ConfigMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.loadConfigs=function(){return i(this,void 0,void 0,function(){return s(this,function(){return[2]})})},e.prototype.onConfigChange=function(){this.game.playerMgr.onConfigChange()},e}(t("./BaseMgr").BaseMgr);n.default=a,cc._RF.pop()},{"./BaseMgr":"BaseMgr"}],DebugWindowUtils:[function(t,e,n){"use strict";cc._RF.push(e,"84e75b8tBhNjY7KyBAgOsH/","DebugWindowUtils"),this&&this.__spreadArrays,Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getModuleName=function(t){return"string"!=typeof t?t:t.split("/").pop().split(".")[0]},t.init=function(){var t="undefined"!=typeof __modular?__modular:{};if(t&&t.modules){var e=t.modules,n={};for(var o in e){var r=e[o],i=r.file,s=r.module?r.module.exports:{},a=this.getModuleName(i);for(var c in s)"__esModule"!==c&&("default"===c?(s[c]=u(a,s[c],a),s[a]||(s[a]=s[c])):s[c]=u(c,s[c],a));window[a+"_mod"]=s}for(var o in n)window[o]||(window[o]=n[o])}function u(t,e,o){var r=t;if(e&&e.name&&(r=e.name),n[t])return u(t+o,e,o);var i=e;return n[r]=i,i}},t}();n.default=o,cc._RF.pop()},{}],DrawBorad:[function(t,e,n){"use strict";cc._RF.push(e,"5d19bkVv4BM774fPMww+bzv","DrawBorad");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Utils/DrawingBoard"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBroad=null,e._drawingBroad=null,e._texture=new cc.Texture2D,e._sprite=null,e.broadYMax=-1,e.broadXMin=-1,e._touching=!1,e}return r(e,t),e.prototype.onLoad=function(){this.ndBroad||(this.ndBroad=this.node),this._sprite=this.ndBroad.getComponent(cc.Sprite),this._sprite||this.ndBroad.addComponent(cc.Sprite),this._drawingBroad=new s.default(this.ndBroad.width,this.ndBroad.height),this._drawingBroad.setColor(0,0,0,255),this._drawingBroad.setLineWidth(5),this._touching=!1;var t=this.ndBroad.convertToWorldSpaceAR(cc.v2(0,0));this.broadYMax=t.y+this.ndBroad.height/2,this.broadXMin=t.x-this.ndBroad.width/2,this.ndBroad.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.start=function(){},e.prototype.setData=function(t){this._drawingBroad.setData(t),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)},e.prototype.touchStart=function(t){if(!this._touching){this._touching=!0;var e=t.getLocation();this._drawingBroad.moveTo(e.x-this.broadXMin,this.getRealY(e.y))}},e.prototype.touchMove=function(t){if(this._touching){var e=t.getLocation();this._drawingBroad.lineTo(e.x-this.broadXMin,this.getRealY(e.y)),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)}},e.prototype.touchCancel=function(){this._touching=!1},e.prototype.touchEnd=function(){this._touching=!1},e.prototype.onDestroy=function(){this.ndBroad.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.setColor=function(t,e,n,o){this._drawingBroad.setColor(t,e,n,o)},e.prototype.setLineWidth=function(t){this._drawingBroad.setLineWidth(t)},e.prototype.setPen=function(){this.setColor(0,0,0,255),this.setLineWidth(5)},e.prototype.setReaser=function(){this.setColor(0,0,0,0),this.setLineWidth(20)},e.prototype.getTexture=function(){return this._texture},e.prototype.updateTexture=function(t,e,n){this._texture.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,e,n),this._sprite.spriteFrame.setTexture(this._texture),this._sprite.markForRender(!0)},e.prototype.getRealY=function(t){return this._sprite.spriteFrame._flipY?this.broadYMax-(cc.visibleRect.height-t):this.broadYMax-t},i([u(cc.Node)],e.prototype,"ndBroad",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Utils/DrawingBoard":"DrawingBoard"}],DrawingBoard:[function(t,e,n){"use strict";cc._RF.push(e,"54b2dNYr/FCsJ51TWLTWJoT","DrawingBoard"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n){this.init(t,e,n)}return Object.defineProperty(t.prototype,"width",{get:function(){return this._witdh},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e,n){this.tempColor=this.tempR=this.tempG=this.tempB=this.tempA=0,this.curColor=0,this._witdh=Math.round(t),this._height=Math.round(e),this.initPointColor(),this.initPixelColor(),this.initLineData(),n&&this.setData(n)},t.prototype.initPointColor=function(){this.pointColor||(this.pointColor=[]);for(var t=0;t<this.width;++t){this.pointColor[t]||(this.pointColor[t]=[]);for(var e=0;e<this.height;++e)this.pointColor[t][e]=0}this.colorCount={},this.colorCount[0]=this.width*this.height},t.prototype.initPixelColor=function(){this.buffer=new ArrayBuffer(this.width*this.height*4),this.pixelColor=new Uint8Array(this.buffer),this.pixelColor.fill(0)},t.prototype.reset=function(){this.resetPointColor(),this.resetPixelColor()},t.prototype.resetPointColor=function(){for(var t=this.width-1;t>=0;--t)for(var e=this.height-1;e>=0;--e)this.pointColor[t][e]=0;for(var n in this.colorCount)this.colorCount[n]=0},t.prototype.resetPixelColor=function(){this.pixelColor.fill(0)},t.prototype.setData=function(t){var e=new Uint8Array(t);e.length!=this.width*this.height*4&&(console.warn("\u753b\u677f\u8bbe\u7f6e\u6570\u636e\u5931\u8d25\uff0c\u6570\u636e\u957f\u5ea6\u4e0e\u753b\u677f\u5927\u5c0f\u4e0d\u4e00\u81f4\u3002"),e=e.subarray(0,this.width*this.height*4)),this.setPixelColorByRGBA(e),this.setPointColorByRGBA(e)},t.prototype.setPixelColorByRGBA=function(t){this.pixelColor.set(t)},t.prototype.setPointColorByRGBA=function(t){this.colorCount={};for(var e=0;e<this.height;++e)for(var n=e*this.width*4,o=0;o<this.width;++o){var r=this.convertToNumber(t[n++],t[n++],t[n++],t[n++]);this.pointColor[o][e]=r,this.colorCount[r]?this.colorCount[r]+=1:this.colorCount[r]=1}},t.prototype.copyData=function(t){void 0===t&&(t=[]);for(var e=0,n=this.pixelColor.length;e<n;++e)t[e]=this.pixelColor[e];return t},t.prototype.getData=function(){return this.pixelColor},t.prototype.getBuffer=function(){return this.buffer},t.prototype.getColorCount=function(t,e,n,o){void 0===o&&(o=255);var r=this.convertToNumber(t,e,n,o);return this.colorCount[r]},t.prototype.setColor=function(t,e,n,o){void 0===o&&(o=255),this.curColor=this.convertToNumber(t,e,n,o),this.colorCount[this.curColor]||(this.colorCount[this.curColor]=0),this.tempColor=this.curColor,this.tempR=t,this.tempG=e,this.tempB=n,this.tempA=o},t.prototype.clear=function(){this.reset()},t.prototype.initLineData=function(){this.previousLineEndPos=new r,this.previousLineEndPosT=new r,this.previousLineEndPosB=new r,this.previousLineCircleEnd=!0,this.previousLineWidth=1},t.prototype.moveTo=function(t,e){t=Math.round(t),e=Math.round(e),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t,e),this.previousLineEndPosB.set(t,e)},t.prototype.setLineWidth=function(t){this.previousLineWidth=t},t.prototype.setLineCircleEnd=function(t){this.previousLineCircleEnd=t},t.prototype.line=function(t,e,n,o){if(t=Math.round(t),n=Math.round(n),e=Math.round(e),o=Math.round(o),t!=n||e!=o){var i=this.previousLineWidth,s=this.previousLineCircleEnd;this.previousLineEndPos.set(n,o);var a=0,c=0,u=1;if(t==n)a=Math.round(.5*i);else if(e==o)c=Math.round(.5*i);else{var l=(o-e)/(n-t);c=.5*i/(u=Math.sqrt(l*l+1)),a=Math.round(c*l),c=Math.round(c)}this.previousLineEndPosT.set(n-a,o+c),this.previousLineEndPosB.set(n+a,o-c);var p=new r(t,e),f=new r(n,o);t>n&&(p.x=n,p.y=o,f.x=t,f.y=e),this._drawLine(p,f,i,a,c,u),s&&(this._drawCircle(t,e,.5*i),this._drawCircle(n,o,.5*i))}},t.prototype.lineTo=function(t,e){if(t=Math.round(t),e=Math.round(e),this.previousLineEndPos.x!=t||this.previousLineEndPos.y!=e){var n=this.previousLineWidth,o=this.previousLineCircleEnd,i=this.previousLineEndPos.x,s=this.previousLineEndPos.y,a=t,c=e;i>a&&(i=a,s=c,a=this.previousLineEndPos.x,c=this.previousLineEndPos.y);var u=0,l=0,p=1;if(i==a)u=Math.round(.5*n);else if(s==c)l=Math.round(.5*n);else{var f=(c-s)/(a-i);l=.5*n/(p=Math.sqrt(f*f+1)),u=Math.round(l*f),l=Math.round(l)}if(o)this._drawCircle(i,s,.5*n),this._drawCircle(a,c,.5*n);else if(this.previousLineEndPos.x!=this.previousLineEndPosT.x||this.previousLineEndPos.y!=this.previousLineEndPosT.y){var h=new r(this.previousLineEndPos.x-u,this.previousLineEndPos.y+l),d=new r(this.previousLineEndPos.x+u,this.previousLineEndPos.y-l);this._drawTriangle([h,d,this.previousLineEndPosT]),this._drawTriangle([h,d,this.previousLineEndPosB])}this._drawLine(new r(i,s),new r(a,c),n,u,l,p),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t-u,e+l),this.previousLineEndPosB.set(t+u,e-l)}},t.prototype._drawLine=function(t,e,n,o,i,s){if(t.y==e.y){var a=t.x<e.x?t.x:e.x;this._drawRect(new r(a,Math.round(t.y-.5*n)),Math.abs(t.x-e.x),n)}else if(t.x==e.x){var c=t.y<e.y?t.y:e.y;this._drawRect(new r(Math.round(t.x-.5*n),c),n,Math.abs(t.y-e.y))}else{var u=(t.x-e.x)/(t.y-e.y),l=new r(t.x-o,t.y+i),p=new r(t.x+o,t.y-i),f=new r(e.x-o,e.y+i),h=new r(e.x+o,e.y-i),d=new r,_=new r,y=Math.round(n*s);e.y>t.y?p.x<f.x?(d.x=p.x,d.y=p.y+y,_.x=f.x,_.y=f.y-y,this._drawVerticalTriangle(d,p,l),this._drawParallelogram(p,_,y),this._drawVerticalTriangle(f,_,h)):(d.x=p.x,d.y=Math.round(f.y-(d.x-f.x)*u),_.x=f.x,_.y=Math.round(p.y+(p.x-_.x)*u),this._drawVerticalTriangle(f,_,l),this._drawParallelogram(_,p,f.y-_.y),this._drawVerticalTriangle(d,p,h)):l.x<h.x?(d.x=l.x,d.y=l.y-y,_.x=h.x,_.y=h.y+y,this._drawVerticalTriangle(l,d,p),this._drawParallelogram(d,h,y),this._drawVerticalTriangle(_,h,f)):(d.x=l.x,d.y=Math.round(h.y-(d.x-h.x)*u),_.x=h.x,_.y=Math.round(l.y+(l.x-_.x)*u),this._drawVerticalTriangle(_,h,p),this._drawParallelogram(h,d,l.y-d.y),this._drawVerticalTriangle(l,d,f))}},t.prototype.rect=function(t,e,n,o){this._drawRect(new r(t,e),n,o)},t.prototype._drawRect=function(t,e,n){for(var o=this.clampX(t.x),r=this.clampX(t.x+e),i=this.clampY(t.y),s=this.clampY(t.y+n),a=i;a<=s;++a)this._drawRowPixel(o,r,a)},t.prototype._drawParallelogram=function(t,e,n){if(t.x!=e.x)for(var o=(e.y-t.y)/(e.x-t.x),r=this._minX(t.x),i=this._maxX(e.x),s=r;s<=i;++s){var a=t.y+Math.round((s-t.x)*o),c=a+n;a=this._minY(a),c=this._maxY(c),this._drawColPixel(a,c,s)}},t.prototype.triangle=function(t,e,n,o,i,s){var a=[];a.push(new r(t,e)),a.push(new r(n,o)),a.push(new r(i,s)),this._drawTriangle(a)},t.prototype._drawTriangle=function(t){t.sort(function(t,e){return t.x-e.x});var e=t[0],n=t[1],o=t[2];if(e.x==n.x){if(e.x==o.x)return;return e.y<n.y&&(e=t[1],n=t[0]),void this._drawVerticalTriangle(e,n,o)}var i=(o.y-e.y)/(o.x-e.x),s=new r(n.x,Math.round(e.y+(n.x-e.x)*i));s.y!=n.y&&(s.y<n.y?(this._drawVerticalTriangle(n,s,e),this._drawVerticalTriangle(n,s,o)):(this._drawVerticalTriangle(s,n,e),this._drawVerticalTriangle(s,n,o)))},t.prototype._drawVerticalTriangle=function(t,e,n){if(n.x!=t.x){var o=(n.y-t.y)/(n.x-t.x),r=(n.y-e.y)/(n.x-e.x),i=n.x,s=t.x;i<s&&(i=t.x,s=n.x),s=this._minX(s),i=this._maxX(i);for(var a=s;a<=i;++a){var c=this.clampY(Math.round(t.y+(a-t.x)*o)),u=this.clampY(Math.round(e.y+(a-e.x)*r));this._drawColPixel(u,c,a)}}},t.prototype.circle=function(t,e,n){t=Math.round(t),e=Math.round(e),this._drawCircle(t,e,n)},t.prototype._drawCircle=function(t,e,n){if(0!=(n=Math.round(n)))for(var o=n*n,r=this.clampY(e-n),i=this.clampY(e+n),s=r;s<=i;++s){var a=s-e;a=Math.round(Math.sqrt(o-a*a));var c=this.clampX(t-a),u=this.clampX(t+a);this._drawRowPixel(c,u,s)}},t.prototype._minX=function(t){return t>=0?t:0},t.prototype._maxX=function(t){return t<this.width?t:this.width-1},t.prototype._minY=function(t){return t>=0?t:0},t.prototype._maxY=function(t){return t<this.height?t:this.height-1},t.prototype.clampX=function(t){return t<0?0:t>=this.width?this.width-1:t},t.prototype.clampY=function(t){return t<0?0:t>=this.height?this.height-1:t},t.prototype._drawPixel=function(t,e){if(this.pointColor[t][e]!=this.tempColor){var n=4*(e*this.width+t);this.pixelColor[n]=this.tempR,this.pixelColor[n+1]=this.tempG,this.pixelColor[n+2]=this.tempB,this.pixelColor[n+3]=this.tempA;var o=this.pointColor[t][e];this.colorCount[o]--,this.colorCount[this.tempColor]++,this.pointColor[t][e]=this.tempColor}},t.prototype._drawRowPixel=function(t,e,n){for(var o=4*(n*this.width+t),r=t;r<=e;++r){if(this.pointColor[r][n]!=this.tempColor){this.pixelColor[o]=this.tempR,this.pixelColor[o+1]=this.tempG,this.pixelColor[o+2]=this.tempB,this.pixelColor[o+3]=this.tempA;var i=this.pointColor[r][n];this.colorCount[i]--,this.colorCount[this.tempColor]++,this.pointColor[r][n]=this.tempColor}o+=4}},t.prototype._drawColPixel=function(t,e,n){for(var o=4*(t*this.width+n),r=t;r<=e;++r){if(this.pointColor[n][r]!=this.tempColor){this.pixelColor[o]=this.tempR,this.pixelColor[o+1]=this.tempG,this.pixelColor[o+2]=this.tempB,this.pixelColor[o+3]=this.tempA;var i=this.pointColor[n][r];this.colorCount[i]--,this.colorCount[this.tempColor]++,this.pointColor[n][r]=this.tempColor}o+=4*this.width}},t.prototype.convertToNumber=function(t,e,n,o){return void 0===o&&(o=255),(254&t)<<23|e<<16|n<<8|o},t.prototype.convertToRGBA=function(t){return{r:(4009754624&t)>>23,g:(16711680&t)>>16,b:(65280&t)>>8,a:255&t}},t}();n.default=o;var r=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y)},t}();cc._RF.pop()},{}],Dungeon:[function(t,e,n){"use strict";cc._RF.push(e,"363928pIAdEs76ndgV1E6km","Dungeon"),Object.defineProperty(n,"__esModule",{value:!0}),n.Dungeon=n.GridType=void 0;var o,r,i=t("./MatchUtils");(function(t){t[t.None=0]="None",t[t.Floor=1]="Floor",t[t.Wall=2]="Wall",t[t.OpenDoor=3]="OpenDoor",t[t.CloseDoor=4]="CloseDoor"})(o=n.GridType||(n.GridType={})),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Up=3]="Up",t[t.Down=4]="Down",t[t.All=5]="All"}(r||(r={}));var s=[r.Left,r.Right,r.Up,r.Down],a=function(){function t(t,e){this.numRoomTries=50,this.extraConnectorChance=20,this.roomExtraSize=0,this.windingPercent=50,this.width=51,this.height=51,this.rooms=[],this.map=[],this.regions=[],this.currentRegion=0,this.width=t,this.height=e;for(var n=0;n<t*e;n++)this.map[n]=o.None,this.regions[n]=0}return t.prototype.generate=function(){return this.initMap(),this.addRooms(),this.fillMaze(),this.connectRegions(),this.removeDeadEnds(),this.map},t.prototype.initMap=function(){for(var t=0;t<this.width*this.height;t++)this.map[t]=o.Wall,this.regions[t]=0},t.prototype.addRooms=function(){for(var t=0;t<this.numRoomTries;t++){var e=2*i.MathUtils.limitInteger(1,3+this.roomExtraSize)+1,n=2*i.MathUtils.limitInteger(0,1+Math.floor(e/2)),o=e,r=e;0===i.MathUtils.limitInteger(0,1)?o+=n:r+=n;for(var s=2*i.MathUtils.limitInteger(0,Math.floor((this.width-o)/2))+1,a=2*i.MathUtils.limitInteger(0,Math.floor((this.height-r)/2))+1,c=new cc.Rect(s,a,o,r),u=!1,l=0,p=this.rooms;l<p.length;l++){var f=p[l];if(c.intersects(f)){u=!0;break}}u||(this.currentRegion++,this._initRoomGrid(c),this.rooms.push(c))}},t.prototype._initRoomGrid=function(t){for(var e=cc.v2(0,0),n=t.x;n<t.width+t.x;n++)for(var r=t.y;r<t.height+t.y;r++)e.x=n,e.y=r,this.carveGrid(e,o.Floor)},t.prototype.fillMaze=function(){for(var t=1;t<this.height;t+=2)for(var e=1;e<this.width;e+=2){var n=cc.v2(e,t);this.getGridType(n)===o.Wall&&this._growMaze(n)}},t.prototype._growMaze=function(t){var e=[],n=r.None;for(this.currentRegion++,this.carveGrid(t,o.Floor),e.push(t);null!==e&&0!==e.length;){for(var a=e[e.length-1],c=[],u=0,l=s;u<l.length;u++){var p=l[u];this.canCarve(a,p)&&c.push(p)}if(c.length<=0)e.pop(),n=r.None;else{var f=r.None;f=-1!==c.indexOf(n)&&i.MathUtils.limitInteger(0,100)>this.windingPercent?n:i.MathUtils.randomArray(c),this.carveGrid(a.add(this.getDirGridOffset(f)),o.Floor),this.carveGrid(a.add(this.getDirGridOffset(f).mul(2)),o.Floor),e.push(a.add(this.getDirGridOffset(f).mul(2))),n=f}}},t.prototype.connectRegions=function(){for(var t=this,e={},n=cc.v2(0,0),r=1;r<this.width-1;r++)for(var a=1;a<this.height-1;a++)if(n.x=r,n.y=a,this.getGridType(n)===o.Wall){for(var c=[],u=0,l=s;u<l.length;u++){var p=l[u],f=n.add(this.getDirGridOffset(p)),h=this.regions[f.y*this.width+f.x];0!==h&&-1==c.indexOf(h)&&c.push(h)}c.length<2||(e[a*this.width+r]=c)}for(var d=[],_=0,y=Object.keys(e);_<y.length;_++){var v=y[_];d.push(this.getGridByIdx(parseInt(v)))}var g={},b=new Set;for(r=0;r<=this.currentRegion;r++)g[r]=r,b.add(r);for(var m=0,w=function(){m++;var n=i.MathUtils.randomArray(d);x.addJunction(n);var o=e[n.y*x.width+n.x].map(function(t){return g[t]}),r=o[0];o.shift();for(var s=o,a=0;a<=x.currentRegion;a++)-1!==s.indexOf(g[a])&&(g[a]=r);for(var c=0,u=s;c<u.length;c++){var l=u[c];b.has(l)&&b.delete(l)}d.filter(function(o){return!t.isRemove(g,e,n,o)})},x=this;b.size>1&&m<50;)w()},t.prototype.addJunction=function(t){i.MathUtils.limitInteger(0,4)?this.setGridType(t,i.MathUtils.limitInteger(0,3)?o.OpenDoor:o.Floor):this.setGridType(t,o.CloseDoor)},t.prototype.isRemove=function(t,e,n,o){if(n.sub(o).len()<2)return!0;var r=e[o.y*this.width+o.x].map(function(e){return t[e]});return!(new Set(r).size>1)},t.prototype.removeDeadEnds=function(){for(var t=!1,e=cc.v2(0,0),n=0;!t&&n<500;){n++,t=!0;for(var r=1;r<this.width-1;r++)for(var i=1;i<this.height-1;i++)if(e.x=r,e.y=i,this.getGridType(e)!==o.Wall){for(var a=0,c=0,u=s;c<u.length;c++){var l=u[c],p=e.add(this.getDirGridOffset(l));this.map[p.y*this.width+p.x]!==o.Wall&&a++}1===a&&(t=!1,this.regions[i*this.height+r]=0,this.map[i*this.height+r]=o.Wall)}}},t.prototype.instanceMap=function(){},t.prototype.getGridByIdx=function(t){var e=Math.floor(t/this.width),n=t-e*this.width;return cc.v2(n,e)},t.prototype.carveGrid=function(t,e){this.checkGrid(t)&&(this.setGridType(t,e),this.regions[t.y*this.width+t.x]=this.currentRegion)},t.prototype.setGridType=function(t,e){this.map[t.y*this.width+t.x]=e},t.prototype.checkGrid=function(t){return!(t.x<=0||t.x>=this.width-1||t.y<=0||t.y>=this.height-1)||(console.log(" set grid type error: ",t),!1)},t.prototype.getGridType=function(t){return this.map[t.y*this.width+t.x]},t.prototype.canCarve=function(t,e){var n=this.getDirGridOffset(e),r=t.add(n.mul(3));return!(r.x<0||r.x>=this.width||r.y<0||r.y>=this.height)&&(r=t.add(n.mul(2)),this.getGridType(r)===o.Wall)},t.prototype.getDirGridOffset=function(t){var e=cc.v2(0,0);switch(t){case r.Left:e.x=-1;break;case r.Right:e.x=1;break;case r.Up:e.y=1;break;case r.Down:e.y=-1}return e},t}();n.Dungeon=a,cc._RF.pop()},{"./MatchUtils":"MatchUtils"}],EnumUtils:[function(t,e,n){"use strict";cc._RF.push(e,"c0967gbR3dMcbkSIeGpt59T","EnumUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.EnumUtils=void 0;var o=function(){function t(){}return t.getNamesAndValues=function(t){return this.getNames(t).map(function(e){return{name:e,value:t[e]}})},t.getNames=function(t){return this.getObjectValues(t).filter(function(t){return"string"==typeof t})},t.getValues=function(t){return this.getObjectValues(t).filter(function(t){return"number"==typeof t})},t.getObjectValues=function(t){return Object.keys(t).map(function(e){return t[e]})},t}();n.EnumUtils=o,cc._RF.pop()},{}],EventCenter:[function(t,e,n){"use strict";cc._RF.push(e,"15cf5C/OS9IyY5TeN5ujTW/","EventCenter");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.EventCenter=n.EventInfo=void 0;var r=t("../Common/Utils/Pool"),i=function(){function t(){}return t.prototype.free=function(){this.callback=null,this.target=null,this.once=!1},t.prototype.init=function(t,e,n){this.callback=t,this.target=e,this.once=n},t}();n.EventInfo=i;var s=function(t,e,n){this.eventName=t,this.callback=e,this.targetId=n},a=1,c=function(){function t(){}return t.on=function(t,e,n,o){void 0===n&&(n=void 0),void 0===o&&(o=!1);var r=(n=n||this).uuid||n.id;void 0===r&&(n.uuid=r=""+a++),this.onById(t,r,n,e,o)},t.once=function(t,e,n){void 0===n&&(n=void 0),this.on(t,e,n,!0)},t.onById=function(t,e,n,o,r){var i=this._listeners[t];i||(i=this._listeners[t]={});var s=i[e];s||(s=i[e]=[]);var a=this._eventPool.alloc();a.init(o,n,r),s.push(a)},t.off=function(t,e,n){void 0===n&&(n=void 0);var o=(n=n||this).uuid||n.id;o&&this.offById(t,e,o)},t.targetOff=function(t){var e=(t=t||this).uuid||t.id;if(e)for(var n in this._listeners){var o=this._listeners[n];void 0!==o[e]&&delete o[e]}},t.offById=function(t,e,n){if(this._dispatching>0){var o=new s(t,e,n);this._removeCommands.push(o)}else this.doOff(t,e,n)},t.doOff=function(t,e,n){var o=this._listeners[t];if(o){var r=o[n];if(r){for(var i=r.length-1;i>=0;i--)r[i].callback===e&&r.splice(i,1);0===r.length&&(o[n]=null,delete o[n])}}},t.doRemoveCommands=function(){if(0===this._dispatching){for(var t=0,e=this._removeCommands;t<e.length;t++){var n=e[t];this.doOff(n.eventName,n.callback,n.targetId)}this._removeCommands.length=0}},t.emit=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._listeners[t];if(!i)return!1;for(var a in this._dispatching++,i)for(var c=0,u=i[a];c<u.length;c++){var l=u[c];if((e=l.callback).call.apply(e,o([l.target],n)),l.once){var p=new s(t,l.callback,a);this._removeCommands.push(p)}}this._dispatching--,this.doRemoveCommands()},t._listeners=cc.js.createMap(),t._dispatching=0,t._removeCommands=[],t._eventPool=new r.Pool(function(){return new i},10),t}();n.EventCenter=c,cc._RF.pop()},{"../Common/Utils/Pool":"Pool"}],EventType:[function(t,e,n){"use strict";cc._RF.push(e,"d91c3NJBEVLOImFlZf1j8Q7","EventType"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventType=void 0,function(t){t.GameShow="GameShow",t.GameHide="GameHide",t.WindowClosed="WindowClosed",t.FormClosed="FormClosed"}(n.EventType||(n.EventType={})),cc._RF.pop()},{}],FixedMgr:[function(t,e,n){"use strict";cc._RF.push(e,"6d5adVytGZORIxY7M3VpixZ","FixedMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./UIManager"),s=function(){function t(){}return t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,i.default.getInstance().openForm(t,e,n)];case 1:return[2,o.sent()]}})})},t.prototype.close=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,i.default.getInstance().closeForm(t)];case 1:return[2,e.sent()]}})})},t}();n.default=new s,cc._RF.pop()},{"./UIManager":"UIManager"}],FormMgr:[function(t,e,n){"use strict";cc._RF.push(e,"b34acXq9c1L/Yaf2AaOKH2s","FormMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),s=t("./FixedMgr"),a=t("./SceneMgr"),c=t("./TipsMgr"),u=t("./WindowMgr"),l=function(){function t(){}return t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:switch(t.type){case i.FormType.Screen:return[3,1];case i.FormType.Window:return[3,3];case i.FormType.Fixed:return[3,5];case i.FormType.Tips:return[3,7]}return[3,9];case 1:return[4,a.default.open(t.prefabUrl,e,n)];case 2:return[2,o.sent()];case 3:return[4,u.default.open(t.prefabUrl,e,n)];case 4:return[2,o.sent()];case 5:return[4,s.default.open(t.prefabUrl,e,n)];case 6:return[2,o.sent()];case 7:return[4,c.default.open(t.prefabUrl,e,n)];case 8:return[2,o.sent()];case 9:return cc.error("\u672a\u77e5\u7c7b\u578b\u7684\u7a97\u4f53: "+t.type),[2,null]}})})},t.prototype.close=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:switch(t.type){case i.FormType.Screen:return[3,1];case i.FormType.Window:return[3,3];case i.FormType.Fixed:return[3,5];case i.FormType.Tips:return[3,7]}return[3,9];case 1:return[4,a.default.close(t.prefabUrl)];case 2:return[2,e.sent()];case 3:return[4,u.default.close(t.prefabUrl)];case 4:return[2,e.sent()];case 5:return[4,s.default.close(t.prefabUrl)];case 6:return[2,e.sent()];case 7:return[4,c.default.close(t.prefabUrl)];case 8:return[2,e.sent()];case 9:return cc.error("\u672a\u77e5\u7c7b\u578b\u7684\u7a97\u4f53: "+t.type),[2,null]}})})},t.prototype.backScene=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(){return[2,a.default.back(t,e)]})})},t.prototype.closeAllWindows=function(){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,u.default.closeAll()];case 1:return t.sent(),[2]}})})},t}();n.default=new l,cc._RF.pop()},{"./FixedMgr":"FixedMgr","./SceneMgr":"SceneMgr","./TipsMgr":"TipsMgr","./WindowMgr":"WindowMgr","./config/SysDefine":"SysDefine"}],GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"f46b13WB51JHaffBN5ie56i","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"debugUserId",{get:function(){return this._debugUserId},enumerable:!1,configurable:!0}),t.gameId="",t.version="0.0.1",t._debugUserId="",t}();n.default=o,cc._RF.pop()},{}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"30ba5eNytVM3pckqs/AGbqm","Game");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Game=void 0;var i=t("./Manager/ConfigMgr"),s=t("./Manager/PlayerMgr"),a=function(){function t(){this.inited=!1,this.configMgr=null,this.playerMgr=null}return t.prototype.init=function(){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return this.configMgr=new i.default(this),this.playerMgr=new s.default(this),[4,this.configMgr.loadConfigs()];case 1:return t.sent(),this.inited=!0,[2]}})})},t.prototype.onGameShow=function(){},t.prototype.onGameHide=function(){},t.prototype.update=function(){this.inited},t}();n.Game=a;var c=new a;n.default=c,cc._RF.pop()},{"./Manager/ConfigMgr":"ConfigMgr","./Manager/PlayerMgr":"PlayerMgr"}],GlobalHelper:[function(t,e,n){"use strict";cc._RF.push(e,"97861Bw45RARLIDvaYH8CIV","GlobalHelper"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.Register=function(e,n){t[e]=n},t.Get=function(e){return t._globalMap[e]?t._globalMap[e]:void 0},t._globalMap={},t}();n.default=o,window.GlobalHelper=o,cc._RF.pop()},{}],GridScrollList:[function(t,e,n){"use strict";cc._RF.push(e,"1cacdUiKzNJIJRK/5ihZG1M","GridScrollList");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.GridScrollList=void 0;var s,a=t("../../Common/Components/ScrollViewHelper"),c=cc._decorator,u=c.ccclass,l=c.property;(function(t){t[t.LeftToRight=0]="LeftToRight",t[t.TopToBottom=1]="TopToBottom"})(s||(s={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProxy=[],e.scrollHelper=null,e.rowDirection=s.LeftToRight,e.colSpace=10,e.rowSpace=10,e.colCount=3,e.margin=10,e}return r(e,t),e.prototype.doLayout=function(){this._layoutItems()},e.prototype._layoutItems=function(){this.scrollHelper.clearData();var t=this.allProxy,e=t.length?t[0].region.size:cc.size(0,0),n=this.colSpace,o=this.rowSpace,r=this.colCount,i=this.scrollHelper.scrollView.node.getContentSize();if(this.rowDirection==s.TopToBottom){var a=i.width;i.width=i.height,i.height=a,a=e.width,e.width=e.height,e.height=a}var c=this.margin,u=(i.width-(r*e.width+(r-1)*n))/2,l=u,p=-c+o+e.height,f=-o-e.height,h=n+e.width;this.rowDirection==s.TopToBottom&&(f=o+e.height,h=-n-e.width,p=c-f);for(var d=0;d<t.length;d++){l+=h,d%r==0&&(p+=f,l=u);var _=t[d];this.rowDirection==s.LeftToRight?_.region.origin=cc.v2(l,p-e.height):_.region.origin=cc.v2(p,l-e.height),this.scrollHelper.addData(_)}this.rowDirection==s.LeftToRight?this.scrollHelper.scrollView.content.setContentSize(i.width,-p+e.height+c):this.scrollHelper.scrollView.content.setContentSize(p+e.height+c,i.width)},i([l(a.ScrollViewHelper)],e.prototype,"scrollHelper",void 0),i([l({type:cc.Enum(s)})],e.prototype,"rowDirection",void 0),i([l()],e.prototype,"colSpace",void 0),i([l()],e.prototype,"rowSpace",void 0),i([l()],e.prototype,"colCount",void 0),i([l()],e.prototype,"margin",void 0),i([u],e)}(cc.Component);n.GridScrollList=p,cc._RF.pop()},{"../../Common/Components/ScrollViewHelper":"ScrollViewHelper"}],GuideConfig:[function(t,e,n){"use strict";cc._RF.push(e,"6b6deMaiAZPKpVJ6DlxM7ea","GuideConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.GuideConfig=void 0,n.GuideConfig=["\u4f60\u597d\uff0c\u6211\u662f\u5c0f\u7cbe\u7075\u838e\u838e\uff0c\u4ece\u4eca\u5929\u5f00\u59cb\u534f\u52a9\u5143\u5b87\u5b99\u5c0f\u9547\u7684\u7ecf\u8425\uff0c\u8bf7\u591a\u5173\u7167\uff01","\u4f60\uff1a\u8fd9\u91cc\u662f\uff1f","\u8fd9\u91cc\u662f\u865a\u7a7a\u4e4b\u5730\uff0c\u66fe\u7ecf\u4e5f\u662f\u6709\u8fc7\u7f8e\u597d\u7e41\u534e\u7684\u8fc7\u53bb\uff0c\u7136\u800c\u4eba\u4eec\u5728\u9010\u6b65\u7684\u53d1\u5c55\u4e2d\u5fd8\u8bb0\u4e86\u62e5\u6709\u7684\u7f8e\u597d\u2026\u2026","\u4f60\uff1a\uff1f\uff1f\uff1f\u6211\u600e\u4e48\u4f1a\u6765\u5230\u4e86\u8fd9\u91cc\uff1f","\u5443\u2026\u2026\u8fd9\u91cc\u7684\u65f6\u7a7a\u4f1a\u7a0d\u5fae\u6709\u4e9b\u9519\u4e71\u2026\u2026","\u4f60\uff1a\u65f6\u7a7a\u9519\u4e71\uff1f","\u55ef\u2026\u2026\u6ca1\u9519\uff01\u865a\u7a7a\u4e4b\u5730\u662f\u65f6\u7a7a\u4e4b\u95e8\u7834\u788e\u4e4b\u540e\uff0c\u788e\u7247\u51dd\u805a\u6210\u7684\u5730\u65b9\uff0c\u4f60\u4f1a\u5728\u8fd9\u91cc\u9047\u5230\u8fc7\u53bb\u6216\u8005\u672a\u6765\u7684\u65c5\u884c\u8005\uff01","\u4f60\uff1a\u8fd9\u4e48\u2026\u2026\u5389\u5bb3\uff1f","\u5f53\u7136\u4e0d\u6b62\u8fd9\u4e48\u5389\u5bb3\u54af~\u6211\u4eec\u8fd8\u53d1\u73b0\uff0c\u65f6\u7a7a\u4e4b\u95e8\u7684\u788e\u7247\u4f1a\u901a\u8fc7\u65c5\u884c\u8005\u548c\u5c0f\u9547\u7684\u6d3b\u529b\u91cd\u65b0\u51dd\u805a\uff01","\u4f60\uff1a\u90a3\u65f6\u7a7a\u4e4b\u95e8\u6062\u590d\u7684\u8bdd\u2026\u2026","\u90a3\u4f60\u5c31\u53ef\u4ee5\u56de\u5230\u4f60\u81ea\u5df1\u7684\u90a3\u4e2a\u65f6\u4ee3\u91cc\u4e86\u5462\uff01","\u8ba9\u6211\u4eec\u4e00\u8d77\u4e3a\u8fd9\u91cc\u627e\u56de\u6d3b\u529b\uff0c\u6253\u9020\u68a6\u60f3\u4e2d\u7684\u5c0f\u9547\u5427\uff01","\u90a3\u4e48\uff0c\u5728\u83dc\u5355\u91cc\u9009\u62e9\u5efa\u9020\u6765\u642d\u5efa\u65b0\u7684\u5e97\u94fa\u5427\uff01","\u563f\uff01\u5feb\u770b\uff01\u7b2c\u4e00\u4f4d\u65c5\u884c\u8005\u6765\u5230\u6211\u4eec\u7684\u5c0f\u9547\u4e86!\u770b\u8d77\u6765\u662f\u4e00\u4f4d\u5192\u9669\u8005\u5462\uff01","\u5192\u9669\u8005\u662f\u6211\u4eec\u7684\u8d35\u5ba2\uff0c\u4ed6\u4eec\u6765\u5230\u57ce\u9547\u540e\uff0c\u4f1a\u5728\u5546\u5e97\u7b79\u5907\u7269\u8d44\uff0c\u524d\u53bb\u5192\u9669\uff0c\u65e2\u5e26\u52a8\u4e86\u5c0f\u9547\u7684\u7ecf\u6d4e\uff0c\u8fd8\u4fdd\u62a4\u4e86\u5c0f\u9547\u7684\u5b89\u5168\uff01","\u4f60\uff1a\u4fdd\u62a4\u5c0f\u9547\u7684\u5b89\u5168\uff1f","\u55ef\u5462\uff01\u56e0\u4e3a\u65f6\u7a7a\u626d\u66f2\uff0c\u5c0f\u9547\u4e5f\u4f1a\u53d7\u5230\u4e0d\u540c\u7684\u602a\u517d\u653b\u51fb\uff0c\u8fd9\u65f6\u5019\u5c0f\u9547\u9644\u8fd1\u7684\u5192\u9669\u8005\u90fd\u4f1a\u51fa\u624b\u76f8\u52a9\u54df\uff01","\u65b0\u8bbe\u65bd\u5efa\u6210\uff0c\u53f3\u4e0b\u89d2\u7684\u57ce\u9547\u58f0\u671b\u5347\u9ad8\u4e86\uff01","\u8981\u6ce8\u610f\u4e0d\u540c\u7684\u8bbe\u65bd\u5438\u5f15\u4e0d\u540c\u7684\u65c5\u884c\u8005\u54df\uff01","\u6211\u5bf9\u540e\u7eed\u7684\u53d1\u5c55\u8d8a\u6765\u8d8a\u6709\u4fe1\u5fc3\u4e86\u5462\uff01","\u6d3b\u52a8\u5bf9\u63d0\u5347\u57ce\u9547\u4eba\u6c14\u548c\u65c5\u884c\u8005\u80fd\u529b\u5f88\u6709\u5e2e\u52a9\u54e6\uff01","\u57ce\u9547\u4eba\u6c14\u9ad8\u4e86\uff0c\u4f1a\u6709\u66f4\u591a\u7684\u65c5\u884c\u8005\u88ab\u5438\u5f15\u800c\u6765\uff01","\u5728\u57ce\u9547\u5916\u6253\u5012\u602a\u7269\u540e\uff0c\u5192\u9669\u8005\u4f1a\u83b7\u5f97\u7ecf\u9a8c\u503c\u548c\u8d44\u91d1\uff0c\u624d\u6709\u94b1\u66f4\u65b0\u88c5\u5907\u54df\uff01","\u53ef\u4ee5\u5411\u5192\u9669\u8005\u9001\u793c\u7269\uff0c\u4f60\u4eec\u4f1a\u6210\u4e3a\u5f88\u597d\u7684\u670b\u53cb\u5462\uff01"],cc._RF.pop()},{}],Item:[function(t,e,n){"use strict";cc._RF.push(e,"53cebnLrQVNLaKgdj5qGYQV","Item");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.node.x+=e.getDeltaX(),t.node.y+=e.getDeltaY()},this)},i([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],LRUCache:[function(t,e,n){"use strict";cc._RF.push(e,"2516dDnewNJ2I/vyZM6Z9rJ","LRUCache"),Object.defineProperty(n,"__esModule",{value:!0}),n.LRUCache=void 0;var o=t("./Pool"),r=function(){function t(t,e){this.value=t,this.next=e}return t.prototype.use=function(t,e){this.value=t,this.next=e},t.prototype.free=function(){this.value="",this.next=null},t}(),i=function(){function t(t){this.nodePool=new o.Pool(function(){return new r("",null)},3),this.maxSize=t,this.head=new r("head",null),this.size=0}return t.prototype.remove=function(t){var e=this.has(t);e&&this.removeNode(e)},t.prototype.put=function(t){if(this.size<=0)return this.last=this.nodePool.alloc(t,null),this.last.prev=this.head,this.head.next=this.last,void(this.size=1);var e=this.has(t);if(!e)return e=this.nodePool.alloc(t,null),void this.addHead(e);this.last==e&&(this.last=e.prev),this.removeNode(e),this.addHead(e)},t.prototype.needDelete=function(){return this.size>this.maxSize},t.prototype.deleteLastNode=function(){var t=this.last.value;return this.removeNode(this.last),this.nodePool.free(this.last),this.last=this.last.prev,t},t.prototype.removeNode=function(t){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),this.size--},t.prototype.addHead=function(t){t.next=this.head.next,t.next&&(t.next.prev=t),this.head.next=t,t.prev=this.head,this.size++},t.prototype.has=function(t){for(var e=this.head.next;e;){if(e.value==t)return e;e=e.next}return null},t.prototype.toString=function(){for(var t="",e=this.head.next;e;)t+=e.value+" ",e=e.next;return t},t}();n.LRUCache=i,cc._RF.pop()},{"./Pool":"Pool"}],LightStruct:[function(t,e,n){"use strict";cc._RF.push(e,"c719fETXCJI04htRCnD+NLA","LightStruct"),Object.defineProperty(n,"__esModule",{value:!0}),n.Intersection=void 0;n.Intersection=function(t,e,n,o){this.x=t,this.y=e,this.len=n,this.angle=o},cc._RF.pop()},{}],LightUtils:[function(t,e,n){"use strict";cc._RF.push(e,"cd1b9xWLxVAN7fJCCK/oCfF","LightUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getIntersections=function(t,e){for(var n=t,o=[],r=0,i=this.getRayEnds(e);r<i.length;r++)for(var s=i[r],a=this.getNormal(s.sub(n)),c=-1;c<=1;c++){var u=s.add(a.mul(.001*c)),l=this.getIntersection(e,n,u);l&&(l.angle=Math.atan2(u.y-n.y,u.x-n.x),o.push(l))}return o.sort(function(t,e){return t.angle-e.angle})},t.getNormal=function(t){var e=t.normalize(),n=e.x;return e.x=e.y,e.y=-n,e},t.getRayEnds=function(t){for(var e=[],n=0;n<t.length;n++)for(var o=t[n],r=0;r<o.length;r++)e.push(o[r]);return e},t.getIntersection=function(t,e,n){for(var o=null,r=0;r<t.length;r++)for(var i=t[r],s=0;s<i.length;s++){var a=this._doGetIntersection(e,n,i[s],s===i.length-1?i[0]:i[s+1]);a&&(!o||a.len<o.len)&&(o=a)}return o},t.getIntersectionByAngle=function(t,e,n,o){var r=t+e;t*=.017453,r*=.017453;var i=cc.v2(Math.cos(t),Math.sin(t)).add(n),s=cc.v2(Math.cos(r),Math.sin(r)).add(n),a=this.getIntersection(o,n,i);a.angle=t;var c=this.getIntersection(o,n,s);c.angle=r;var u=this.getIntersections(n,o),l=this.binarySearchIntersects(u,t,!0),p=this.binarySearchIntersects(u,r,!1);return(u=u.slice(l,p+1)).unshift({x:n.x,y:n.y,len:0},a),u.push(c),u},t.binarySearchIntersects=function(t,e,n){void 0===n&&(n=!1);for(var o=0,r=t.length-1;r-o>1;){var i=Math.floor((o+r)/2);if(e<t[i].angle)r=i;else{if(!(e>t[i].angle))return i;o=i}}return n?r:o},t._doGetIntersection=function(t,e,n,o){var r=t.x,i=t.y,s=e.x-t.x,a=e.y-t.y,c=n.x,u=n.y,l=o.x-n.x,p=o.y-n.y,f=s*s+a*a,h=l*l+p*p;if(s/f==l/h&&a/f==p/h)return null;var d=(s*(u-i)+a*(r-c))/(l*a-p*s),_=(c+l*d-r)/s;return _<0?null:d<0||d>1?null:{x:r+s*_,y:i+a*_,len:_}},t}();n.default=o,cc._RF.pop()},{}],Light:[function(t,e,n){"use strict";cc._RF.push(e,"68edfvWcX9CWav9zMp303o6","Light");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.LightType=void 0;var s,a=t("../Components/QuadTree"),c=cc._decorator,u=c.ccclass,l=c.property;(function(t){t[t.Round=0]="Round",t[t.Sector=1]="Sector"})(s=n.LightType||(n.LightType={}));var p=new a.Bound(0,0,0,0),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=null,e.lightType=0,e.canvasSize=null,e.visiableSize=null,e.radius=200,e.fade=1,e._material=null,e}return r(e,t),e.prototype.onLoad=function(){this._material=this.graphics.getMaterial(0),this.canvasSize=cc.view.getCanvasSize(),this.visiableSize=cc.view.getCanvasSize(),this.node.setContentSize(this.canvasSize),this._material.setProperty("screen",cc.v2(this.canvasSize.width,this.canvasSize.height));var t=this.radius/this.canvasSize.width;this._material.setProperty("maxRadius",t)},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onTouchMove=function(t){this.node.x+=t.getDeltaX(),this.node.y+=t.getDeltaY()},e.prototype.getBound=function(){var t=this.node.getPosition();return p.x=t.x-this.radius/2,p.y=t.y-this.radius/2,p.width=p.height=this.radius,p},e.prototype.draw=function(t){var e=this.node.getPosition();this._doDraw(this.graphics,e,t),this._material.setProperty("lightPos",cc.v2(e.x/this.visiableSize.width,e.y/this.visiableSize.height))},e.prototype._doDraw=function(t,e,n){t.clear(),t.moveTo(n[0].x,n[0].y);for(var o=1;o<n.length;o++){var r=n[o];t.lineTo(r.x,r.y)}t.moveTo(n[0].x,n[0].y),t.fill()},i([l(cc.Graphics)],e.prototype,"graphics",void 0),i([l({type:cc.Enum(s)})],e.prototype,"lightType",void 0),i([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../Components/QuadTree":"QuadTree"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Main");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./UIConfig"),a=t("./UIFrame/FormMgr"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){a.default.open(s.default.UIHome)},e.prototype.onDestroy=function(){},i([u],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./UIConfig":"UIConfig","./UIFrame/FormMgr":"FormMgr"}],MaskPlus:[function(t,e,n){"use strict";cc._RF.push(e,"a1aa9cyaadEZ67qCIT1FuzO","MaskPlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.MaskPlusType=void 0;var s,a=t("../Utils/CommonUtils");(function(t){t[t.RECT=0]="RECT",t[t.ELLIPSE=1]="ELLIPSE",t[t.IMAGE_STENCIL=2]="IMAGE_STENCIL",t[t.Polygon=3]="Polygon"})(s=n.MaskPlusType||(n.MaskPlusType={}));var c=new cc.Vec2,u=new cc.Mat4,l=[];function p(t,e,n){l.length=0;for(var o=2*Math.PI/n,r=0;r<n;++r)l.push(cc.v2(e.x*Math.cos(o*r)+t.x,e.y*Math.sin(o*r)+t.y));return l}var f=function(){},h=cc._decorator,d=h.ccclass,_=h.property,y=h.executeInEditMode,v=h.menu,g=h.help,b=h.inspector,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=0,e._polygon=[],e.ellipse=new f,e}return r(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t&&this._resetAssembler(),this._type=t,this._type===s.Polygon&&0===this._polygon.length){var e=this.getNodeRect(),n=e[0],o=e[1],r=e[2],i=e[3];this._polygon.push(cc.v2(n,o),cc.v2(n+r,o),cc.v2(n+r,o+i),cc.v2(n,o+i))}this._type!==s.IMAGE_STENCIL&&(this.spriteFrame=null,this.alphaThreshold=0,this._updateGraphics()),this._activateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateGraphics()},enumerable:!1,configurable:!0}),e.prototype.setEllipse=function(t,e,n){this.ellipse.center=t,this.ellipse.r=e,this.ellipse.segments=n||this.segements},e.prototype._updateGraphics=function(){this.node;var t=this._graphics;t.clear(!1);var e=this.getNodeRect(),n=e[0],o=e[1],r=e[2],i=e[3];if(this._type===s.RECT)t.rect(n,o,r,i);else if(this._type===s.ELLIPSE){for(var a=p(this.ellipse.center||cc.v2(n+r/2,o+i/2),this.ellipse.r||{x:r/2,y:i/2},this.ellipse.segments||this._segments),c=0;c<a.length;++c){var u=a[c];0===c?t.moveTo(u.x,u.y):t.lineTo(u.x,u.y)}t.close()}else if(this._type===s.Polygon){for(0===this._polygon.length&&this._polygon.push(cc.v2(0,0)),t.moveTo(this._polygon[0].x,this._polygon[0].y),c=1;c<this._polygon.length;c++)t.lineTo(this._polygon[c].x,this._polygon[c].y);t.lineTo(this._polygon[0].x,this._polygon[0].y)}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},e.prototype._hitTest=function(t){var e=this.node,n=e.getContentSize(),o=n.width,r=n.height,i=c;if(e._updateWorldMatrix(),!cc.Mat4.invert(u,e._worldMatrix))return!1;var l=cc.v2(0,0);cc.Vec2.transformMat4(l,t,u),i.x=l.x+e._anchorPoint.x*o,i.y=l.y+e._anchorPoint.y*r;var p=!1;if(this.type===s.RECT||this.type===s.IMAGE_STENCIL)p=i.x>=0&&i.y>=0&&i.x<=o&&i.y<=r;else if(this.type===s.ELLIPSE){var f=o/2,h=r/2,d=i.x-.5*o,_=i.y-.5*r;p=d*d/(f*f)+_*_/(h*h)<1}else this.type===s.Polygon&&(p=a.CommonUtils.isInPolygon(l,this.polygon));return this.inverted&&(p=!p),p},e.prototype.getNodeRect=function(){var t=this.node._contentSize.width,e=this.node._contentSize.height;return[-t*this.node._anchorPoint.x,-e*this.node._anchorPoint.y,t,e]},e.Type=s,i([_({type:cc.Enum(s),override:!0})],e.prototype,"_type",void 0),i([_({type:cc.Enum(s),override:!0})],e.prototype,"type",null),i([_({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),i([_({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),i([d,v("i18n:MAIN_MENU.component.renderers/MaskPlus"),y,g("i18n:COMPONENT.help_url.mask"),b("packages://maskplus/inspector.js")],e)}(cc.Mask);n.default=m,cc.MaskPlus=m,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],MatchUtils:[function(t,e,n){"use strict";cc._RF.push(e,"ce2a5iLaMdGPJK3POfEqDgZ","MatchUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.MathUtils=void 0;var o=function(){function t(){}return t.clamp=function(t,e,n){if(t>e){var o=t;t=e,e=o}return n<t?t:n>e?e:n},t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadian2=function(t,e,n,o){var r=n-t,i=o-e;return Math.atan2(i,r)},t.getDistance=function(t,e,n,o){var r=n-t,i=o-e,s=r*r+i*i;return Math.sqrt(s)},t.toFixedStr=function(t,e){return t.toFixed(e).replace(/\.?0*$/,"")},t.toPercentStr=function(t,e){return this.toFixedStr(100*t,e)+"%"},t.toFixedWan=function(e){var n=1e4*Math.floor(e/1e4);return e>1e5?t.toFixedStr(n/1e5*10,1)+"\u4e07":e.toString()},t.getFinalValueBasedOnParams=function(t,e,n){if(e.length<5)return 0;var o=e[4]*(e[0]*Math.pow(t,e[3])+e[1]*t+e[2]);return n&&(o=Math.ceil(o)),o},t.limit=function(t,e){t=Math.min(t,e);var n=(e=Math.max(t,e))-t;return t+Math.random()*n},t.limitInteger=function(e,n){return Math.round(t.limit(e,n))},t.randomArray=function(t){return t[Math.floor(Math.random()*t.length)]},t}();n.MathUtils=o,cc._RF.pop()},{}],Measure:[function(t,e,n){"use strict";cc._RF.push(e,"88f3djvTDJHMY+UnVZdcrvg","Measure"),Object.defineProperty(n,"__esModule",{value:!0}),n.measure=void 0,n.measure=function(t,e,n){var o=n.value;return n.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=performance.now(),i=o.apply(this,t),s=performance.now();return console.log(e+" Execution time: "+(s-r).toFixed(2)+" milliseconds"),i},n},cc._RF.pop()},{}],MeshAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"9ba87xSitVM9boajZ/wQdaJ","MeshAssembler");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=cc.gfx,s=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_COLOR,type:i.ATTR_TYPE_UINT8,num:4,normalize:!0}]),a=function(t){function e(){var e=t.call(this)||this;return e.row=0,e.col=0,e._realRow=0,e._realCol=0,e.stepRow=0,e.StepCol=0,e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._local=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e.initLocal(),e}return r(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getTriangleCount=function(){return(this.row-1)*(this.col-1)*2},e.prototype.getTriangle=function(t){if(t<0||t>=this.getTriangleCount())return null;var e=this._renderData.vDatas[0],n=Math.floor(t/this._realCol)*this._realCol*2+t;return t%2==0?[cc.v2(e[n*this.floatsPerVert],e[n*this.floatsPerVert+1]),cc.v2(e[(n+1)*this.floatsPerVert],e[(n+1)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol)*this.floatsPerVert],e[(n+this._realCol)*this.floatsPerVert+1])]:[cc.v2(e[n*this.floatsPerVert],e[n*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol)*this.floatsPerVert],e[(n+this._realCol)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol-1)*this.floatsPerVert],e[(n+this._realCol-1)*this.floatsPerVert+1])]},e.prototype.setTriangle=function(t,e,n){if(!(t<0||t>=this.getTriangleCount())){var o=this._renderData.vDatas[0],r=Math.floor(t/this._realCol)*this._realCol*2+t;t%2==0?(o[r*this.floatsPerVert]=e[0].x,o[r*this.floatsPerVert+1]=e[0].y,o[(r+1)*this.floatsPerVert]=e[1].x,o[(r+1)*this.floatsPerVert+1]=e[1].y,o[(r+this._realCol)*this.floatsPerVert]=e[2].x,o[(r+this._realCol)*this.floatsPerVert+1]=e[2].y):(o[r*this.floatsPerVert]=e[0].x,o[r*this.floatsPerVert+1]=e[0].y,o[(r+this._realCol)*this.floatsPerVert]=e[1].x,o[(r+this._realCol)*this.floatsPerVert+1]=e[1].y,o[(r+this._realCol-1)*this.floatsPerVert]=e[2].x,o[(r+this._realCol-1)*this.floatsPerVert+1]=e[2].y),n._vertsDirty=!0}},e.prototype.getRectCount=function(){return(this.row-1)*(this.col-1)},e.prototype.getRect=function(t){if(t<0||t>=this.getRectCount())return null;var e=this._renderData.vDatas[0],n=Math.floor(2*t/this._realCol)*this._realCol*2+2*t%this._realCol;return[cc.v2(e[n*this.floatsPerVert],e[n*this.floatsPerVert+1]),cc.v2(e[(n+1)*this.floatsPerVert],e[(n+1)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol)*this.floatsPerVert],e[(n+this._realCol)*this.floatsPerVert+1]),cc.v2(e[(n+this._realCol+1)*this.floatsPerVert],e[(n+this._realCol+1)*this.floatsPerVert+1])]},e.prototype.setRect=function(t,e){if(!(t<0||t>=this.getRectCount())){var n=this._renderData.vDatas[0],o=Math.floor(2*t/this._realCol)*this._realCol*2+2*t%this._realCol;n[o*this.floatsPerVert]=e[0].x,n[o*this.floatsPerVert+1]=e[0].y,n[(o+1)*this.floatsPerVert]=e[1].x,n[(o+1)*this.floatsPerVert+1]=e[1].y,n[(o+this._realCol)*this.floatsPerVert]=e[2].x,n[(o+this._realCol)*this.floatsPerVert+1]=e[2].y,n[(o+this._realCol+1)*this.floatsPerVert]=e[3].x,n[(o+this._realCol+1)*this.floatsPerVert+1]=e[3].y}},e.prototype.resetData=function(t){if(t.texture){var e=t.texture.width,n=t.texture.height,o=t.step;this.row=Math.floor(n/o)+1,this.col=Math.floor(e/o)+1,this.stepRow=n/(this.row-1),this.StepCol=e/(this.col-1),this._realRow=2+2*(this.row-2),this._realCol=2+2*(this.col-2),cc.log(this.row,this.col),this.verticesCount=this._realRow*this._realCol,this.indicesCount=(this.row-1)*(this.col-1)*6,this._renderData.clear(),this.initData()}},e.prototype.getVfmt=function(){return s},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount);for(var t=this._renderData.iDatas[0],e=0,n=0;n<this.row-1;++n)for(var o=0;o<this.col-1;++o){var r=2*n*this._realCol+2*o;t[e++]=r,t[e++]=r+1,t[e++]=r+this._realCol,t[e++]=r+1,t[e++]=r+this._realCol+1,t[e++]=r+this._realCol}},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var o=this.floatsPerVert,r=this.colorOffset,i=0;i<this.verticesCount;i++)n[r+i*o]=e}},e.prototype.updateUVs=function(){for(var t=this,e=this.uvOffset,n=this.floatsPerVert,o=this._renderData.vDatas[0],r=0,i=function(t,r,i){var s=i*n;o[s+e]=t,o[s+e+1]=r},s=function(e){for(var n=0;n<t.col;n++){var o=n/(t.col-1);i(o,e,r++),0!==n&&n!==t.col-1&&i(o,e,r++)}},a=0;a<this.row;a++){var c=1-a/(this.row-1);s(c),0!==a&&a!==this.row-1&&s(c)}},e.prototype.updateWorldVertsWebGL=function(t){var e=this,n=this._local,o=this._renderData.vDatas[0],r=t.node._worldMatrix.m,i=r[0],s=r[1],a=r[4],c=r[5],u=r[12],l=r[13],p=n[0],f=n[2],h=n[1],d=n[3],_=1===i&&0===s&&0===a&&1===c,y=this.floatsPerVert,v=0,g=function(t,e,n){var r=y*n;o[r]=t+u,o[r+1]=e+l},b=function(t,e,n){var r=n*y;o[r]=t*i+e*a+u,o[r+1]=t*s+e*c+l},m=function(t,n){for(var o=0;o<e.col;o++){var r=o==e.col-1?f:p+o*e.StepCol;n(r,t,v++),0!==o&&o!==e.col-1&&n(r,t,v++)}};if(_)for(var w=0;w<this.row;w++)m(x=w==this.row-1?d:h+w*this.stepRow,g),0!==w&&w!==this.row-1&&m(x,g);else for(w=0;w<this.row;w++){var x;m(x=w==this.row-1?d:h+w*this.stepRow,b),0!==w&&w!==this.row-1&&m(x,b)}},e.prototype.updateWorldVertsNative=function(){var t=this._local,e=this._renderData.vDatas[0],n=this.floatsPerVert,o=t[0],r=t[2],i=t[1],s=t[3],a=0;e[a]=o,e[a+1]=i,e[a+=n]=r,e[a+1]=i,e[a+=n]=o,e[a+1]=s,e[a+=n]=r,e[a+1]=s},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){var e,n,o,r,i=t.node,s=i.width,a=i.height,c=i.anchorX*s,u=i.anchorY*a;e=-c,n=-u,o=s-c,r=a-u;var l=this._local;l[0]=e,l[1]=n,l[2]=o,l[3]=r,this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.resetData(t),this.updateUVs(t),this.updateVerts(t),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,o=n.vDatas[0],r=n.iDatas[0],i=this.getBuffer(),s=i.request(this.verticesCount,this.indicesCount),a=s.byteOffset>>2,c=i._vData;o.length+a>c.length?c.set(o.subarray(0,c.length-a),a):c.set(o,a);for(var u=i._iData,l=s.indiceOffset,p=s.vertexOffset,f=0,h=r.length;f<h;f++)u[l++]=p+r[f]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var o=t._materials[0];o&&o.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=a,cc._RF.pop()},{}],MeshTexture:[function(t,e,n){"use strict";cc._RF.push(e,"1acd7QWgaNGAIz6Mkh6ICTD","MeshTexture");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Assemblers/MeshAssembler"),u=cc._decorator,l=u.ccclass,p=u.menu,f=u.executeInEditMode,h=u.mixins,d=u.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._texture=null,e.step=10,e.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,e.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,e._assembler=null,e}return r(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this.node.width=t.width,this.node.height=t.height,this._updateMaterial()},enumerable:!1,configurable:!0}),e.prototype._updateVerts=function(){this.setVertsDirty()},e.prototype._updateMaterial=function(){var t=this._texture,e=this.getMaterial(0);e&&(void 0!==e.getDefine("USE_TEXTURE")&&e.define("USE_TEXTURE",!0),e.setProperty("texture",t)),this.__proto__._updateBlendFunc.call(this),this.setVertsDirty()},e.prototype._validateRender=function(){},e.prototype._resetAssembler=function(){(this._assembler=window.textureAssember=new c.default).init(this),this._updateColor(),this.setVertsDirty()},e.prototype.getPolygonCenter=function(t){for(var e=0,n=0,o=0;o<t.length;o++)e+=t[o].x,n+=t[o].y;return e/=t.length,n/=t.length,cc.v2(e,n)},e.prototype.tweenVec2=function(t,e,n,o,r,i){void 0===i&&(i=0);var s={_value:t};Object.defineProperty(s,"position",{get:function(){return s._value},set:function(t){s._value=t,o&&o(s._value)}});var a=cc.tween(s).delay(i).to(n,{position:e}).call(r);return a.start(),a},e.prototype.tweenVec2Bezier=function(t,e,n,o,r,i){void 0===i&&(i=0);var s={_value:t};Object.defineProperty(s,"position",{get:function(){return s._value},set:function(t){s._value=t,o&&o(s._value)}});var a=cc.tween(s).delay(i).bezierTo(n,cc.v2(t.x,t.y+100),cc.v2(e.x,e.y+100),e).call(r);return a.start(),a},e.prototype.doScaleEffect=function(){var t=this;return new Promise(function(e){for(var n=t._assembler.getRectCount(),o=t.node.convertToWorldSpaceAR(cc.v2(0,0)),r=function(r){var i=t._assembler.getRect(r),s=t.getPolygonCenter(i).sub(o).normalize();t.tweenVec2(cc.v2(0,0),s.mul(1.5),.3,function(e){t._assembler.setRect(r,[i[0].addSelf(e),i[1].addSelf(e),i[2].addSelf(e),i[3].addSelf(e)])},function(){r==n-1&&e(!0)})},i=0;i<n;i++)r(i)})},e.prototype.doTextureMove=function(t,e){return s(this,void 0,void 0,function(){var t,n,o,r,i,s=this;return a(this,function(){for(t=cc.v2(-1,0),"right"==e&&(t=cc.v2(1,0)),n=this._assembler.getRectCount(),this.node.convertToWorldSpaceAR(cc.v2(0,0)),o=function(e){var o=n-e-1,i=r._assembler.getRect(o),a=t.mul(400);r.tweenVec2Bezier(cc.v2(0,0),a,1,function(t){s._assembler.setRect(o,[i[0].add(t),i[1].add(t),i[2].add(t),i[3].add(t)])},function(){s._assembler.setRect(o,[i[0].add(a),i[1].add(a),i[2].add(a),i[3].add(a)])},.1*Math.floor(e/40))},r=this,i=0;i<n;i++)o(i);return[2]})})},i([d(cc.Texture2D)],e.prototype,"_texture",void 0),i([d(cc.Texture2D)],e.prototype,"texture",null),i([d({displayName:"\u6b65\u957f"})],e.prototype,"step",void 0),i([d({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"srcBlendFactor",void 0),i([d({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"dstBlendFactor",void 0),i([l,f,p("i18n:MAIN_MENU.component.ui/MeshTexture"),h(cc.BlendFunc)],e)}(cc.RenderComponent);n.default=_,cc._RF.pop()},{"../Assemblers/MeshAssembler":"MeshAssembler"}],ModalMgr:[function(t,e,n){"use strict";cc._RF.push(e,"a6cfbGOowFD6rGCFIN9QFMs","ModalMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./config/SysDefine"),u=t("./UIModalScript"),l=cc._decorator,p=l.ccclass,f=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiModal=null,e}var n;return r(e,t),n=e,Object.defineProperty(e,"inst",{get:function(){if(null==this._inst){this._inst=new n;var t=new cc.Node("UIModalNode");n.popUpRoot=c.SysDefine.SYS_UIROOT_NAME+"/"+c.SysDefine.SYS_POPUP_NODE,cc.find(n.popUpRoot).addChild(t),this._inst.uiModal=t.addComponent(u.default),this._inst.uiModal.init()}return this._inst},enumerable:!1,configurable:!0}),e.prototype.showModal=function(t){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.uiModal.showModal(t.opacity,t.easingTime,t.isEasing,t.dualBlur)];case 1:return e.sent(),[2]}})})},e.prototype.checkModalWindow=function(t){if(t.length<=0)this.uiModal.node.active=!1;else{this.uiModal.node.active=!0,this.uiModal.node.parent&&this.uiModal.node.removeFromParent();for(var e=t.length-1;e>=0;e--)if(t[e].modalType.opacity>0){cc.find(n.popUpRoot).addChild(this.uiModal.node,Math.max(t[e].node.zIndex-1,0)),this.uiModal.fid=t[e].fid,this.showModal(t[e].modalType);break}}},e.popUpRoot="",e._inst=null,n=i([p],e)}(cc.Component));n.default=f,cc._RF.pop()},{"./UIModalScript":"UIModalScript","./config/SysDefine":"SysDefine"}],Obstacle:[function(t,e,n){"use strict";cc._RF.push(e,"eaa90oCwvRPFqm2RBIJWdZL","Obstacle");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Components/QuadTree"),a=cc._decorator,c=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._quadtree=null,e._polygons=cc.js.createMap(),e}return r(e,t),e.prototype.onLoad=function(){var t=cc.view.getVisibleSize();this._quadtree=new s.default({x:0,y:0,width:t.width,height:t.height})},e.prototype.addPolygon=function(t,e){this._polygons[t]=e;var n=this._getBound(e);n.uid=t,this._quadtree.insert(n)},e.prototype.removePolygon=function(){},e.prototype.getPolygons=function(t){for(var e=[],n=0,o=this._quadtree.retrieve(t);n<o.length;n++){var r=o[n];e.push(this._polygons[r.uid])}return e},e.prototype._getBound=function(t){for(var e=t[0],n=e.x,o=e.x,r=e.y,i=e.y,a=0;a<t.length;a++)t[a].x<n&&(n=t[a].x),t[a].x>o&&(o=t[a].x),t[a].y<r&&(r=t[a].y),t[a].y>i&&(i=t[a].y);return new s.Bound(n,r,o-n,i-r)},e.prototype.clear=function(){this._quadtree.clear(),this._polygons={}},i([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../Components/QuadTree":"QuadTree"}],PlayerMgr:[function(t,e,n){"use strict";cc._RF.push(e,"bea7406655LzLidqx+dJrtq","PlayerMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onConfigChange=function(){},e}(t("./BaseMgr").BaseMgr);n.default=i,cc._RF.pop()},{"./BaseMgr":"BaseMgr"}],PolygonUtil:[function(t,e,n){"use strict";cc._RF.push(e,"97fd0nhC4FP37VI4oHddHl0","PolygonUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.PolygonUtil=void 0;var o=function(){function t(){}return t.splitPolygonByLine=function(t,e,n,o){void 0===o&&(o=!1);for(var r=[],i=n.length-1;i>=0;i--){var s=n[i],a=0==i?n[n.length-1]:n[i-1],c=this.lineCrossPoint(s,a,t,e),u=c[0],l=c[1];-1!=u&&(n.splice(i,-1,l),r.push(i+1))}return r},t.lineCrossPoint=function(t,e,n,o){var r,i,s,a,c,u,l=t,p=e,f=n,h=o,d=new cc.Vec2(0,0);return s=this.dblcmp(r=this.ab_cross_ac(l,p,f),0),a=this.dblcmp(i=this.ab_cross_ac(l,p,h),0),c=this.dblcmp(this.ab_cross_ac(f,h,l),0),u=this.dblcmp(this.ab_cross_ac(f,h,p),0),-2==(s^a)&&-2==(c^u)?(d.x=(f.x*i-h.x*r)/(i-r),d.y=(f.y*i-h.y*r)/(i-r),[0,d]):0==s&&this.point_on_line(f,l,p)<=0?[1,d=f]:0==a&&this.point_on_line(h,l,p)<=0?[1,d=h]:0==c&&this.point_on_line(l,f,h)<=0?[1,d=l]:0==u&&this.point_on_line(p,f,h)<=0?[1,d=p]:[-1,null]},t.isLineSegmentCross=function(t,e,n,o){return((n.x-t.x)*(n.y-o.y)-(n.y-t.y)*(n.x-o.x))*((n.x-e.x)*(n.y-o.y)-(n.y-e.y)*(n.x-o.x))<0||((t.x-n.x)*(t.y-e.y)-(t.y-n.y)*(t.x-e.x))*((t.x-o.x)*(t.y-e.y)-(t.y-o.y)*(t.x-e.x))<0},t.point_on_line=function(t,e,n){return this.dblcmp(this.dot(e.x-t.x,e.y-t.y,n.x-t.x,n.y-t.y),0)},t.rayPointToLine=function(t,e,n){Math.min(e.x,n.x);var o=Math.max(e.x,n.x),r=Math.min(e.y,n.y),i=Math.max(e.y,n.y);if(t.y<r||t.y>i||t.x>o)return-1;var s=e.x+(n.x-e.x)/(n.y-e.y)*(t.y-e.y);return s>t.x?0:s==t.x?1:-1},t.relationPointToPolygon=function(t,e){for(var n=0,o=0;o<e.length;++o){if(e[o].equals(t))return 2;var r=e[o],i=e[0];o<e.length-1&&(i=e[o+1]);var s=this.rayPointToLine(t,r,i);if(1==s)return 1;0==s&&n++}return n%2==0?-1:0},t.lineCutPolygon=function(t,e,n){for(var o=[],r=[],i=[],s=0;s<n.length;++s){r.push(n[s]);var a=n[s],c=n[0];s<n.length-1&&(c=n[s+1]);var u=this.lineCrossPoint(t,e,a,c);0==u[0]?(i.push(r.length),r.push(u[1])):u[0]>0&&(u[1].equals(a)?i.push(r.length-1):i.push(r.length))}if(i.length>1){var l=r[i[0]],p=r[i[1]],f=this.relationPointToPolygon(new cc.Vec2((l.x+p.x)/2,(l.y+p.y)/2),n),h=f>=0;i.length>2&&l.sub(p).mag()>l.sub(r[i[i.length-1]]).mag()&&(p=r[i[i.length-1]],h=(f=this.relationPointToPolygon(new cc.Vec2((l.x+p.x)/2,(l.y+p.y)/2),n))<0);var d=h,_=0,y=i[_],v=[],g=[],b=0;for(v.push(r[y]),h&&g.push(r[y]),_++,b++,y++;b<r.length;){y==r.length&&(y=0);var m=r[y];_>=0&&y==i[_]?(++_>=i.length&&(_=0),h?(g.push(m),o.push(g),g=[]):(g=[]).push(m),v.push(m),h=!h):h?g.push(m):v.push(m),y++,b++}if(h)if(!d&&g.length>1)g.push(r[i[0]]),o.push(g);else for(s=0;s<g.length;++s)v.push(g[s]);o.push(v)}return o},t.ab_cross_ac=function(t,e,n){return this.cross(e.x-t.x,e.y-t.y,n.x-t.x,n.y-t.y)},t.dot=function(t,e,n,o){return t*n+e*o},t.cross=function(t,e,n,o){return t*o-n*e},t.dblcmp=function(t,e){return Math.abs(t-e)<=1e-6?0:t>e?1:-1},t}();n.PolygonUtil=o,cc._RF.pop()},{}],Pool:[function(t,e,n){"use strict";cc._RF.push(e,"284d8zxqTdJtYjT+CGS5XDE","Pool"),Object.defineProperty(n,"__esModule",{value:!0}),n.Pool=void 0;var o=function(){function t(t,e){this._fn=t,this._idx=e-1,this._frees=new Array(e);for(var n=0;n<e;n++)this._frees[n]=t()}return Object.defineProperty(t.prototype,"freeCount",{get:function(){return this._frees.length},enumerable:!1,configurable:!0}),t.prototype.alloc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._idx<0&&this._expand(Math.round(1.2*this._frees.length)+1);var n=this._frees[this._idx];return this._frees.splice(this._idx),--this._idx,n.use&&n.use.apply(n,t),n},t.prototype.free=function(t){++this._idx,t.free&&t.free(),this._frees[this._idx]=t},t.prototype.clear=function(t){for(var e=0;e<this._idx;e++)t&&t(this._frees[e]);this._frees.splice(0),this._idx=-1},t.prototype._expand=function(t){var e=this._frees;this._frees=new Array(t);for(var n=t-e.length,o=0;o<n;o++)this._frees[o]=this._fn();o=n;for(var r=0;o<t;++o,++r)this._frees[o]=e[r];this._idx+=n},t}();n.Pool=o,cc._RF.pop()},{}],PriorityQueue:[function(t,e,n){"use strict";cc._RF.push(e,"f2318nn5GJChLoRevUhhLkg","PriorityQueue"),Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityElement=void 0;var o=function(t,e){this.data=t,this.priority=e};n.PriorityElement=o;var r=function(){function t(){this.queue=new Array(32),this._size=0}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.hasElement=function(t){for(var e=0,n=this.queue;e<n.length;e++)if(n[e].data===t)return!0;return!1},t.prototype.enqueue=function(t,e){void 0===e&&(e=0),this._size>this.queue.length&&this._expand(),this.queue[this._size++]=new o(t,e),this.upAdjust()},t.prototype.dequeue=function(){if(this._size<=0)return null;var t=this.queue[0];return this.queue[0]=this.queue[--this._size],this.downAdjust(),t.data},t.prototype.clear=function(){this.queue=[],this._size=0},t.prototype.upAdjust=function(){for(var t=this._size-1,e=Math.floor(t/2),n=this.queue[t];t>0&&n.priority>this.queue[e].priority;)this.queue[t]=this.queue[e],t=e,e=Math.floor(e/2);this.queue[t]=n},t.prototype.downAdjust=function(){for(var t=0,e=this.queue[t],n=1;n<this._size&&(n+1<this._size&&this.queue[n+1].priority>this.queue[n].priority&&n++,!(e.priority>=this.queue[n].priority));)this.queue[t]=this.queue[n],t=n,n=2*n+1;this.queue[t]=e},t.prototype._expand=function(){var t=Math.round(1.2*this.queue.length)+1,e=this.queue;this.queue=new Array(t);for(var n=0;n<e.length;n++)this.queue[n]=e[n]},t.prototype.toString=function(){for(var t="",e=0;e<this._size;e++){var n=this.queue[e].data;n.toString?t+=n.toString():t+="object"==typeof n?JSON.stringify(n):n}return t},t}();n.default=r,cc._RF.pop()},{}],PriorityStack:[function(t,e,n){"use strict";cc._RF.push(e,"9ed15uYIzxGna5Bj3+zkuo8","PriorityStack"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./PriorityQueue"),r=function(){function t(){this.stack=new Array,this._size=0}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.clear=function(){return this.stack.length=0,this._size=0,!0},t.prototype.getTopEPriority=function(){return this.stack.length<=0?-1:this.stack[this.stack.length-1].priority},t.prototype.getTopElement=function(){return this.stack.length<=0?null:this.stack[this.stack.length-1].data},t.prototype.getElements=function(){for(var t=[],e=0,n=this.stack;e<n.length;e++){var o=n[e];t.push(o.data)}return t},t.prototype.push=function(t,e){void 0===e&&(e=0),this.stack.push(new o.PriorityElement(t,e)),this._size++,this._adjust()},t.prototype.pop=function(){return this.stack.length<=0?null:(this._size--,this.stack.pop().data)},t.prototype._adjust=function(){for(var t=this.stack.length-1;t>0;t--)this.stack[t]<this.stack[t-1]&&this._swap(t,t-1)},t.prototype._swap=function(t,e){var n=this.stack[t];this.stack[t]=this.stack[e],this.stack[e]=n},t.prototype.hasElement=function(t){for(var e=0,n=this.stack;e<n.length;e++)if(n[e].data===t)return!0;return!1},t.prototype.remove=function(t){for(var e=this.stack.length-1;e>=0;e--)if(this.stack[e].data===t)return this.stack.splice(e,1),this._size--,!0;return!1},t}();n.default=r,cc._RF.pop()},{"./PriorityQueue":"PriorityQueue"}],PropBind:[function(t,e,n){"use strict";cc._RF.push(e,"2f9f8Tv5WdH8a3E1C7Bm4Ro","PropBind"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.bind=function(){},t}();n.default=o,cc._RF.pop()},{}],PropController:[function(t,e,n){"use strict";cc._RF.push(e,"9c55bh8k9BD0JhzsvfCJYNE","PropController");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.NodePathType=void 0;var s,a=t("./PropSelector");(function(t){t[t.Name=0]="Name",t[t.SiblingIndex=1]="SiblingIndex"})(s=n.NodePathType||(n.NodePathType={})),cc.NodePathType=s;var c=cc._decorator,u=c.ccclass,l=c.executeInEditMode,p=c.menu,f=c.inspector,h=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePathType=s.SiblingIndex,e.open=!0,e._uid="",e._state=0,e._states=[],e.propertyJson="",e}return r(e,t),Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid},set:function(t){this._uid=t,this._refreshIdEnum()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t,this.doControl(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"states",{get:function(){return this._states},set:function(t){this._states=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._refresh(),this._refreshIdEnum()},e.prototype.start=function(){},e.prototype.doControl=function(t){var e=t,n=JSON.parse(this.propertyJson)[e];for(var o in n){var r=o.split(":"),i=null;switch(+r[0]){case s.Name:i=cc.find(r[1],this.node);break;case s.SiblingIndex:i=this._getNodeBySiblingIndex(r[1],this.node)}if(i){var a=n[o];for(var c in a){var u=_[c];u&&u(i,a[c])}}else cc.warn("find node faild, path:",o)}},e.prototype._getNodeBySiblingIndex=function(t,e){for(var n=0,o=(t="/"==t[0]?t.substring(1):t).split("/");n<o.length;n++){var r=o[n];e=e.children[+r]}return e},e.prototype._refresh=function(){},e.prototype._refreshIdEnum=function(){},i([h({type:cc.Enum(s),tooltip:"Name: \u6839\u636enode name\u4fdd\u5b58, SiblingIndex: \u6839\u636enode \u5728children\u7684index\u4fdd\u5b58"})],e.prototype,"nodePathType",void 0),i([h({tooltip:"\u662f\u5426\u542f\u7528\u63a7\u5236\u5668"})],e.prototype,"open",void 0),i([h({serializable:!0})],e.prototype,"_uid",void 0),i([h],e.prototype,"uid",null),i([h({type:cc.Enum({})})],e.prototype,"_state",void 0),i([h({type:cc.Enum({})})],e.prototype,"state",null),i([h],e.prototype,"_states",void 0),i([h([cc.String])],e.prototype,"states",null),i([h()],e.prototype,"propertyJson",void 0),i([u,l,p("i18n:\u72b6\u6001\u63a7\u5236/PropController"),f("packages://propcontroller/dist/inspector.js")],e)}(cc.Component);n.default=d;var _={};function y(t,e){_[t]&&cc.warn(""),_[t]=e}y(a.PropEmum.Active,function(t,e){t.active=e}),y(a.PropEmum.Position,function(t,e){t.setPosition(e)}),y(a.PropEmum.Color,function(t,e){t.color=new cc.Color(e.r,e.g,e.b)}),y(a.PropEmum.Scale,function(t,e){t.scaleX=e.scaleX,t.scaleY=e.scaleY}),y(a.PropEmum.Rotation,function(t,e){t.angle=e}),y(a.PropEmum.Opacity,function(t,e){t.opacity=e}),y(a.PropEmum.Slew,function(t,e){t.skewX=e.skewX,t.skewY=e.skewY}),y(a.PropEmum.Size,function(t,e){t.setContentSize(e)}),y(a.PropEmum.Anchor,function(t,e){t.anchorX=e.anchorX,t.anchorY=e.anchorY}),y(a.PropEmum.Label_String,function(t,e){t.getComponent(cc.Label).string=e}),y(a.PropEmum.Sprite_Texture,function(t,e){cc.assetManager.loadAny({uuid:e},function(n,o){n?Editor.warn("PropController  load sprite texture faild",e,n):t.getComponent(cc.Sprite).spriteFrame=o})}),cc._RF.pop()},{"./PropSelector":"PropSelector"}],PropSelector:[function(t,e,n){"use strict";cc._RF.push(e,"95cf9sVxtJHbIz3btfe766G","PropSelector");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.PropEmum=void 0;var s,a=cc._decorator,c=a.ccclass,u=a.executeInEditMode,l=a.menu,p=a.property;(function(t){t[t.Active=0]="Active",t[t.Position=1]="Position",t[t.Rotation=2]="Rotation",t[t.Scale=3]="Scale",t[t.Anchor=4]="Anchor",t[t.Size=5]="Size",t[t.Color=6]="Color",t[t.Opacity=7]="Opacity",t[t.Slew=8]="Slew",t[t.Label_String=9]="Label_String",t[t.Sprite_Texture=10]="Sprite_Texture"})(s=n.PropEmum||(n.PropEmum={})),cc.PropEmum=s;var f=cc.Enum({}),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctrlId=0,e.props=[],e}return r(e,t),i([p({type:f,tooltip:"\u63a7\u5236\u5668\u7684\u540d\u79f0"})],e.prototype,"ctrlId",void 0),i([p({type:[cc.Enum(s)],tooltip:"\u88ab\u63a7\u5236\u7684\u5c5e\u6027"})],e.prototype,"props",void 0),i([c,l("i18n:\u72b6\u6001\u63a7\u5236/PropSelector"),u],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],QuadTree:[function(t,e,n){"use strict";cc._RF.push(e,"97092zpFuhN/oWHIMkF7jei","QuadTree"),Object.defineProperty(n,"__esModule",{value:!0}),n.Bound=void 0;n.Bound=function(t,e,n,o,r){void 0===r&&(r=""),this.x=t,this.y=e,this.width=n,this.height=o,this.uid=r};var o=function(){function t(t,e,n,o){this._maxObject=10,this._maxLevel=4,this._level=0,this._bound=null,this._objects=[],this._nodes=[],this._bound=t,this._maxObject=e||this._maxObject,this._maxLevel=n||this._maxLevel,this._level=o||this._level}return t.prototype.split=function(){var e=this._level+1,n=this._bound.width/2,o=this._bound.height/2,r=this._bound.x,i=this._bound.y;this._nodes[0]=new t({uid:e+"-top-right",x:r+n,y:i,width:n,height:o},this._maxObject,this._maxLevel,e),this._nodes[1]=new t({uid:e+"-top-left",x:r,y:i,width:n,height:o},this._maxObject,this._maxLevel,e),this._nodes[2]=new t({uid:e+"-bottom-left",x:r,y:i+o,width:n,height:o},this._maxObject,this._maxLevel,e),this._nodes[3]=new t({uid:e+"-bottom-right",x:r+n,y:i+o,width:n,height:o},this._maxObject,this._maxLevel,e)},t.prototype.getIndex=function(t){var e=[],n=this._bound.x+this._bound.width/2,o=this._bound.y+this._bound.height/2,r=t.y<o,i=t.x<n,s=t.x+t.width>n,a=t.y+t.height>o;return r&&s&&e.push(0),i&&r&&e.push(1),i&&a&&e.push(2),s&&a&&e.push(3),e},t.prototype.insert=function(t){var e=0,n=[];if(this._nodes.length)for(n=this.getIndex(t),e=0;e<n.length;e++)this._nodes[n[e]].insert(t);else if(this._objects.push(t),this._objects.length>this._maxObject&&this._level<this._maxLevel){for(this._nodes.length||this.split(),e=0;e<this._objects.length;e++){n=this.getIndex(this._objects[e]);for(var o=0;o<n.length;o++)this._nodes[n[o]].insert(this._objects[e])}this._objects=[]}},t.prototype.retrieve=function(t){var e=this.getIndex(t),n=this._objects;if(this._nodes.length)for(var o=0;o<e.length;o++)n=n.concat(this._nodes[e[o]].retrieve(t));return n=n.filter(function(t,e){return n.indexOf(t)>=e})},t.prototype.clear=function(){this._objects=[];for(var t=0;t<this._nodes.length;t++)this._nodes.length&&this._nodes[t].clear();this._nodes=[]},t}();n.default=o,cc._RF.pop()},{}],Queue:[function(t,e,n){"use strict";cc._RF.push(e,"146d9Q6AJVLm5Z5V9zs9sHL","Queue"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.count=0,this.lowestCount=0,this.items={}}return t.prototype.enqueue=function(t){this.items[this.count]=t,this.count++},t.prototype.dequeue=function(){if(!this.isEmpty()){var t=this.items[this.lowestCount];return delete this.items[this.lowestCount],this.lowestCount++,t}},t.prototype.peek=function(){if(!this.isEmpty())return this.items[this.lowestCount]},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.clear=function(){this.items={},this.count=0,this.lowestCount=0},t.prototype.size=function(){return this.count-this.lowestCount},t.prototype.toString=function(){if(this.isEmpty())return"";for(var t=""+this.items[this.lowestCount],e=this.lowestCount+1;e<this.count;e++)t=t+","+this.items[e];return t},t}();n.default=o,cc._RF.pop()},{}],ResMgr:[function(t,e,n){"use strict";cc._RF.push(e,"a1946LwxMZELpC3XyersJGl","ResMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./CocosHelper"),s=function(){function t(){this._prefabDepends=cc.js.createMap(),this._dynamicTags=cc.js.createMap(),this._tmpAssetsDepends=[],this._assetsReference=cc.js.createMap(),this._prefabs=cc.js.createMap()}return Object.defineProperty(t,"inst",{get:function(){return null===this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.loadFormPrefab=function(t){return o(this,void 0,void 0,function(){var e,n,o;return r(this,function(r){switch(r.label){case 0:return this._prefabs[t]?[2,this._prefabs[t]]:[4,this._loadResWithReference(t,cc.Prefab)];case 1:return e=r.sent(),n=e.res,o=e.deps,this._prefabDepends[t]=o,this._prefabs[t]=n,[2,n]}})})},t.prototype.destoryFormPrefab=function(t){this._prefabs[t]&&(this._prefabs[t].destroy(),this._prefabs[t]=null,delete this._prefabs[t]),this._destoryResWithReference(this._prefabDepends[t]),this._prefabDepends[t]=null,delete this._prefabDepends[t]},t.prototype.loadDynamicRes=function(t,e,n){return o(this,void 0,void 0,function(){var o,i,s,a;return r(this,function(r){switch(r.label){case 0:return[4,this._loadResWithReference(t,e)];case 1:return o=r.sent(),i=o.res,s=o.deps,this._dynamicTags[n]||(this._dynamicTags[n]=[]),(a=this._dynamicTags[n]).push.apply(a,s),[2,i]}})})},t.prototype.destoryDynamicRes=function(t){return!!this._dynamicTags[t]&&(this._destoryResWithReference(this._dynamicTags[t]),this._dynamicTags[t]=null,delete this._dynamicTags[t],!0)},t.prototype._loadResWithReference=function(t,e){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return[4,i.default.loadResSync(t,e,this._addTmpAssetsDepends.bind(this))];case 1:return(n=r.sent())?(this._clearTmpAssetsDepends(),(o=cc.assetManager.dependUtil.getDepsRecursively(n._uuid)||[]).push(n._uuid),this.addAssetsDepends(o),[2,{res:n,deps:o}]):(this._clearTmpAssetsDepends(),[2,null])}})})},t.prototype._destoryResWithReference=function(t){var e=this.removeAssetsDepends(t);return this._destoryAssets(e),!0},t.prototype.addAssetsDepends=function(t){for(var e=0,n=t;e<n.length;e++){var o=n[e];this._checkIsBuiltinAssets(o)||(this._assetsReference[o]?this._assetsReference[o]+=1:this._assetsReference[o]=1)}},t.prototype.removeAssetsDepends=function(t){for(var e=[],n=0,o=t;n<o.length;n++){var r=o[n];this._assetsReference[r]&&0!==this._assetsReference[r]&&(this._assetsReference[r]--,0===this._assetsReference[r]&&(e.push(r),delete this._assetsReference[r]))}return e},t.prototype._destoryAssets=function(t){for(var e=0,n=t;e<n.length;e++){var o=n[e];this._destoryAsset(o)}},t.prototype._destoryAsset=function(t){if(!this._checkIsBuiltinAssets(t)){cc.assetManager.assets.remove(t);var e=cc.assetManager.assets.get(t);e&&e.destroy(),cc.assetManager.dependUtil.remove(t)}},t.prototype._addTmpAssetsDepends=function(t,e,n){var o,r=cc.assetManager.dependUtil.getDepsRecursively(n.uuid)||[];r.push(n.uuid),this.addAssetsDepends(r),(o=this._tmpAssetsDepends).push.apply(o,r)},t.prototype._clearTmpAssetsDepends=function(){for(var t=0,e=this._tmpAssetsDepends;t<e.length;t++){var n=e[t];this._assetsReference[n]&&0!==this._assetsReference[n]&&(this._assetsReference[n]--,0===this._assetsReference[n]&&delete this._assetsReference[n])}this._tmpAssetsDepends=[]},t.prototype._checkIsBuiltinAssets=function(t){var e=cc.assetManager.assets.get(t);return!(!e||-1==e._name.indexOf("builtin"))},t.prototype.computeTextureCache=function(){var t=cc.assetManager.assets,e=0,n=0;return t.forEach(function(t){if("cc.Texture2D"==(t&&t.__classname__?t.__classname__:"")){var o=t,r=o.width*o.height*((".jpg"===o._native?3:4)/1024/1024);e+=r,n++}}),"\u7f13\u5b58 [\u7eb9\u7406\u603b\u6570:"+n+"][\u7eb9\u7406\u7f13\u5b58:"+e.toFixed(2)+"M]"},t.instance=null,t}();n.default=s,cc._RF.pop()},{"./CocosHelper":"CocosHelper"}],SceneMgr:[function(t,e,n){"use strict";cc._RF.push(e,"8337d/EvnBHjrW/BJTtgaeW","SceneMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./config/SysDefine"),s=t("./TipsMgr"),a=t("./UIManager"),c=function(){function t(){this._scenes=[],this._currScene=""}return t.prototype.getCurrScene=function(){return a.default.getInstance().getForm(this._currScene)},t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){var o,i,s;return r(this,function(r){switch(r.label){case 0:return this._currScene==t?(cc.warn("SceneMgr","\u5f53\u524d\u573a\u666f\u548c\u9700\u8981open\u7684\u573a\u666f\u662f\u540c\u4e00\u4e2a"),[2,null]):[4,this.openLoading(null==n?void 0:n.loadingForm,e,n)];case 1:return r.sent(),this._scenes.length>0?(o=this._scenes[this._scenes.length-1],[4,a.default.getInstance().closeForm(o)]):[3,3];case 2:r.sent(),r.label=3;case 3:return-1==(i=this._scenes.indexOf(t))?this._scenes.push(t):this._scenes.length=i+1,this._currScene=t,[4,a.default.getInstance().openForm(t,e,n)];case 4:return s=r.sent(),[4,this.closeLoading(null==n?void 0:n.loadingForm)];case 5:return r.sent(),[2,s]}})})},t.prototype.back=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return this._scenes.length<=1?(cc.warn("SceneMgr","\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u4e2a\u573a\u666f\u4e86, \u65e0\u5904\u53ef\u9000"),[2]):[4,this.openLoading(null==e?void 0:e.loadingForm,t,e)];case 1:return o.sent(),n=this._scenes.pop(),[4,a.default.getInstance().closeForm(n)];case 2:return o.sent(),this._currScene=this._scenes[this._scenes.length-1],[4,a.default.getInstance().openForm(this._currScene,t,e)];case 3:return o.sent(),[4,this.closeLoading(null==e?void 0:e.loadingForm)];case 4:return o.sent(),[2]}})})},t.prototype.close=function(t){return o(this,void 0,void 0,function(){return r(this,function(){return a.default.getInstance().getForm(t)?[2,a.default.getInstance().closeForm(t)]:[2]})})},t.prototype.openLoading=function(t,e,n){return o(this,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return(o=t||i.SysDefine.defaultLoadingForm)?[4,s.default.open(o.prefabUrl,e,n)]:[2];case 1:return r.sent(),[2]}})})},t.prototype.closeLoading=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return(e=t||i.SysDefine.defaultLoadingForm)?[4,s.default.close(e.prefabUrl)]:[2];case 1:return n.sent(),[2]}})})},t}();n.default=new c,cc._RF.pop()},{"./TipsMgr":"TipsMgr","./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],Scene:[function(t,e,n){"use strict";cc._RF.push(e,"b13f3yncLhOvJSRs1QLB0sR","Scene");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Logic/Game"),u=t("../UIFrame/AdapterMgr"),l=t("../UIFrame/EventCenter"),p=t("../UIFrame/EventType"),f=cc._decorator,h=f.ccclass,d=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBlock=null,e._block=0,e}var n;return r(e,t),n=e,e.prototype.onLoad=function(){this.initBlockNode()},e.prototype.initBlockNode=function(){this.ndBlock=new cc.Node("block"),this.ndBlock.addComponent(cc.BlockInputEvents),this.node.addChild(this.ndBlock,cc.macro.MAX_ZINDEX)},e.prototype.start=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return n.inst=this,u.default.inst.adapteByType(u.AdapterType.StretchHeight|u.AdapterType.StretchWidth,this.node),[4,this.onGameInit()];case 1:return t.sent(),this.registerEvent(),[2]}})})},e.prototype.onGameInit=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,c.default.init(this.node)];case 1:return t.sent(),[2]}})})},e.prototype.registerEvent=function(){cc.sys.platform===cc.sys.WECHAT_GAME?(wx.onShow(this.onGameShow.bind(this)),wx.onHide(this.onGameHide.bind(this))):(cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this))},e.prototype.onGameShow=function(t){l.EventCenter.emit(p.EventType.GameShow,t),cc.director.resume()},e.prototype.onGameHide=function(){l.EventCenter.emit(p.EventType.GameHide),cc.director.pause()},e.prototype.update=function(t){c.default.update(t)},e.prototype.lateUpdate=function(){},e.prototype.setInputBlock=function(t){this.ndBlock?(t?++this._block:--this._block,this.ndBlock.active=this._block>0):cc.warn("\u672a\u542f\u7528 block input")},e.inst=null,n=i([h],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../Logic/Game":"Game","../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/EventCenter":"EventCenter","../UIFrame/EventType":"EventType"}],ScrollViewHelper:[function(t,e,n){"use strict";cc._RF.push(e,"90448z1fXJKVppxfCvCjY6W","ScrollViewHelper");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollViewHelper=n.ScrollViewElementProxy=n.ScrollViewElementProxyState=void 0;var s,a=cc._decorator,c=a.ccclass,u=a.property;(function(t){t[t.NoUI=0]="NoUI",t[t.HaveUI=1]="HaveUI"})(s=n.ScrollViewElementProxyState||(n.ScrollViewElementProxyState={}));var l=function(){this.state=s.NoUI};n.ScrollViewElementProxy=l;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.syncInterval=.05,e._proxys=[],e._syncCounter=0,e._lastCheckX=0,e}return r(e,t),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._svCachedScrollView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"datas",{get:function(){return this._proxys},enumerable:!1,configurable:!0}),e.prototype.clearData=function(){for(var t=0,e=this._proxys;t<e.length;t++){var n=e[t];n.ui&&this.onFreeUI&&this.onFreeUI(n)}this._proxys.length=0},e.prototype.addData=function(t){this._initializeProxy(t),this._proxys.push(t)},e.prototype.setDebug=function(t){t&&!this._debugNode?(this._debugNode=(new cc.Node).addComponent(cc.Graphics),this.scrollView.content.addChild(this._debugNode.node),this._debugNode.node.setPosition(cc.v2(0,0))):!t&&this._debugNode&&(this._debugNode.node.removeFromParent(),this._debugNode.node.destroy()),this._refreshDebug()},e.prototype.checkUI=function(){this._checkUIState(),this._syncingUI=!0},e.prototype.setLoopHorizontal=function(t){if(t!=this._horizontalLoop){if(t){for(var e=this._proxys.length-1;e>=0;e--)if(!(o=this._proxys[e]).horizontalLoop){var n=new l;this._initializeProxy(n),n.src=o.src,n.region=new cc.Rect(o.region.x,o.region.y,o.region.width,o.region.height),n.horizontalLoop=!0,n.verticalLoop=o.verticalLoop,n.region.x+=this.scrollView.content.width,this._proxys.push(n)}this.scrollView.content.setContentSize(2*this.scrollView.content.width,this.scrollView.content.height)}else{for(e=this._proxys.length-1;e>=0;e--){var o;(o=this._proxys[e]).horizontalLoop&&o.ui&&(this.onFreeUI(o),o.ui=null,this._proxys.splice(e,1))}this.scrollView.content.setContentSize(this.scrollView.content.width/2,this.scrollView.content.height)}this._horizontalLoop=t}},e.prototype.onLoad=function(){this._bindScrollView(this.getComponent(cc.ScrollView))},e.prototype.update=function(t){this._syncingUI&&(this._syncCounter+=t,this._syncCounter>=this.syncInterval&&(this._syncCounter=0,this._syncUIState(1)))},e.prototype._initializeProxy=function(t){t.horizontalLoop=!1,t.src=t,t.state=s.NoUI,t.ui=null,t.verticalLoop=!1},e.prototype._checkLoopHorizontal=function(){var t=this.scrollView.getScrollOffset(),e=t.x-this._lastCheckX;if(Math.abs(e)>2){this._lastCheckX=t.x;var n=this.scrollView.content.width/2;e<0&&t.x<-n?(t.x+=n,this._lastCheckX=t.x,t.x=-t.x,this.scrollView.scrollToOffset(t)):e>0&&t.x>0&&(t.x-=n,this._lastCheckX=t.x,t.x=-t.x,this.scrollView.scrollToOffset(t))}},e.prototype._bindScrollView=function(){this._svCachedScrollView=this.getComponent(cc.ScrollView);var t=new cc.Component.EventHandler;t.target=this.node,t.component="ScrollViewHelper",t.handler="_onScroll",this._svCachedScrollView.scrollEvents.push(t),this._svCachedScrollView.node.on(cc.Node.EventType.SIZE_CHANGED,this._refreshViewportRect,this),this._svCachedScrollView.content.on(cc.Node.EventType.ANCHOR_CHANGED,this._refreshViewportRect,this),this._svCachedScrollView.content.on(cc.Node.EventType.SIZE_CHANGED,this._refreshViewportRect,this),this._refreshViewportRect()},e.prototype._refreshViewportRect=function(){this._rectCachedViewport=cc.rect(),this._rectCachedViewport.size=this._svCachedScrollView.node.getContentSize(),this._rectCachedViewport.origin=cc.v2(-this._svCachedScrollView.content.anchorX*this._svCachedScrollView.content.width,(1-this._svCachedScrollView.content.anchorY)*this._svCachedScrollView.content.height-this._rectCachedViewport.size.height),this._checkUIState(),this._syncingUI=!0},e.prototype._checkUIState=function(){for(var t=this._svCachedScrollView.getScrollOffset(),e=this._rectCachedViewport.width,n=this._rectCachedViewport.height,o=-t.x+this._rectCachedViewport.x,r=-t.y+this._rectCachedViewport.y,i=0,a=this._proxys;i<a.length;i++){var c=a[i],u=c.region,l=u.x,p=u.y;l>o-u.width&&l<o+e&&p>r-u.height&&p<r+n?c.state=s.HaveUI:c.state=s.NoUI}},e.prototype._syncUIState=function(t){for(var e=0,n=0,o=this._proxys;n<o.length;n++)(a=o[n]).state==s.NoUI&&a.ui&&(this.onFreeUI(a),e++,this._debugNode&&cc.log("ScrollViewHelper._syncUIState ----\x3e free ui"));for(var r=0,i=this._proxys;r<i.length;r++){var a;if((a=i[r]).state==s.HaveUI&&!a.ui){var c=this.isUIPooled&&this.isUIPooled(a);this.onAllocUI(a),e++,c||t--,this._debugNode&&cc.log("ScrollViewHelper._syncUIState ----\x3e alloc ui")}if(t<=0)break}e<=0&&(this._syncingUI=!1)},e.prototype._onScroll=function(){this._horizontalLoop&&this._checkLoopHorizontal(),this._checkUIState(),this._syncingUI=!0},e.prototype._refreshDebug=function(){if(this._debugNode){this._debugNode.clear(),this._debugNode.fillColor=cc.color(255,0,0,255);for(var t=0;t<this._proxys.length;t++)this._debugNode.fillRect(this._proxys[t].region.x,this._proxys[t].region.y,this._proxys[t].region.width,this._proxys[t].region.height)}},i([u()],e.prototype,"syncInterval",void 0),i([c],e)}(cc.Component);n.ScrollViewHelper=p,cc._RF.pop()},{}],Shake:[function(t,e,n){"use strict";cc._RF.push(e,"50dd1CK5CZDxKf4hgecFu92","Shake");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}var n;return r(e,t),n=e,e.create=function(t,e,o){var r=new n;return r.initWithDuration(t,e,o),r},e.prototype.initWithDuration=function(t,e,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=n,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},n=i([a],e)}(cc.ActionInterval));n.default=c,cc._RF.pop()},{}],SoundMgr:[function(t,e,n){"use strict";cc._RF.push(e,"712729Tx0JBoI/gunNGv3kP","SoundMgr");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./CocosHelper"),u=t("./config/SysDefine"),l=cc._decorator,p=l.ccclass,f=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioCache=cc.js.createMap(),e.currEffectId=-1,e.currMusicId=-1,e.volume=new h,e}return r(e,t),Object.defineProperty(e,"inst",{get:function(){return null==this._inst&&(this._inst=cc.find(u.SysDefine.SYS_UIROOT_NAME).addComponent(this)),this._inst},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this.getVolumeToLocal();t?this.volume=t:(this.volume.musicVolume=1,this.volume.effectVolume=1),this.setVolumeToLocal(),cc.game.on(cc.game.EVENT_HIDE,function(){cc.audioEngine.pauseAll()},this),cc.game.on(cc.game.EVENT_SHOW,function(){cc.audioEngine.resumeAll()},this)},e.prototype.getVolume=function(){return this.volume},e.prototype.start=function(){},e.prototype.setMusicVolume=function(t){this.volume.musicVolume=t,this.setVolumeToLocal()},e.prototype.setEffectVolume=function(t){this.volume.effectVolume=t,this.setVolumeToLocal()},e.prototype.playMusic=function(t,e){return void 0===e&&(e=!0),s(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return t&&""!==t?this.audioCache[t]?(cc.audioEngine.playMusic(this.audioCache[t],e),[2]):[4,c.default.loadResSync(t,cc.AudioClip)]:[2];case 1:return n=o.sent(),this.audioCache[t]=n,this.currMusicId=cc.audioEngine.playMusic(n,e),[2]}})})},e.prototype.playEffect=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return t&&""!==t?this.audioCache[t]?(cc.audioEngine.playEffect(this.audioCache[t],e),[2]):[4,c.default.loadResSync(t,cc.AudioClip)]:[2];case 1:return n=o.sent(),this.audioCache[t]=n,this.currEffectId=cc.audioEngine.playEffect(n,e),[2]}})})},e.prototype.getVolumeToLocal=function(){var t=cc.sys.localStorage.getItem("Volume_For_Creator");return t?JSON.parse(t):null},e.prototype.setVolumeToLocal=function(){cc.audioEngine.setMusicVolume(this.volume.musicVolume),cc.audioEngine.setEffectsVolume(this.volume.effectVolume),cc.sys.localStorage.setItem("Volume_For_Creator",JSON.stringify(this.volume))},e.prototype.setEffectActive=function(t,e){void 0===e&&(e=-1),t?cc.audioEngine.stop(e<0?this.currEffectId:e):cc.audioEngine.resume(e<0?this.currEffectId:e)},e._inst=null,i([p],e)}(cc.Component));n.default=f;var h=function(){};cc._RF.pop()},{"./CocosHelper":"CocosHelper","./config/SysDefine":"SysDefine"}],SpinePlus:[function(t,e,n){"use strict";cc._RF.push(e,"30062r80kNGeKSQLxsTnRWf","SpinePlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=s.executeInEditMode,l=s.menu,p=s.help,f=s.inspector,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paused=!1,e}return r(e,t),e.prototype.start=function(){},e.prototype.update=function(e){t.prototype.update.call(this,e)},i([c({override:!0,visible:!0})],e.prototype,"paused",void 0),i([a,l("i18n:MAIN_MENU.component.ui/SpinePlus"),u,p("app://docs/html/components/spine.html"),f("packages://custom-inspector/inspector/spine.js")],e)}(sp.Skeleton);n.default=h,cc._RF.pop()},{}],StateMachine:[function(t,e,n){"use strict";var o;cc._RF.push(e,"a7054SKrgdF4Z4s5xp++8qZ","StateMachine"),o={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(t,e){var n="string"==typeof t.initial?{state:t.initial}:t.initial,r=t.terminal||t.final,i=e||t.target||{},s=t.events||[],a=t.callbacks||{},c={},u={},l=function(t){var e=Array.isArray(t.from)?t.from:t.from?[t.from]:[o.WILDCARD];c[t.name]=c[t.name]||{};for(var n=0;n<e.length;n++)u[e[n]]=u[e[n]]||[],u[e[n]].push(t.name),c[t.name][e[n]]=t.to||e[n];t.to&&(u[t.to]=u[t.to]||[])};n&&(n.event=n.event||"startup",l({name:n.event,from:"none",to:n.state}));for(var p=0;p<s.length;p++)l(s[p]);for(var f in c)c.hasOwnProperty(f)&&(i[f]=o.buildEvent(f,c[f]));for(var f in a)a.hasOwnProperty(f)&&(i[f]=a[f]);return i.current="none",i.is=function(t){return Array.isArray(t)?t.indexOf(this.current)>=0:this.current===t},i.can=function(t){return!this.transition&&void 0!==c[t]&&(c[t].hasOwnProperty(this.current)||c[t].hasOwnProperty(o.WILDCARD))},i.cannot=function(t){return!this.can(t)},i.transitions=function(){return(u[this.current]||[]).concat(u[o.WILDCARD]||[])},i.isFinished=function(){return this.is(r)},i.error=t.error||function(t,e,n,o,r,i,s){throw s||i},i.states=function(){return Object.keys(u).sort()},n&&!n.defer&&i[n.event](),i},doCallback:function(t,e,n,r,i,s){if(e)try{return e.apply(t,[n,r,i].concat(s))}catch(a){return t.error(n,r,i,s,o.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",a)}},beforeAnyEvent:function(t,e,n,r,i){return o.doCallback(t,t.onbeforeevent,e,n,r,i)},afterAnyEvent:function(t,e,n,r,i){return o.doCallback(t,t.onafterevent||t.onevent,e,n,r,i)},leaveAnyState:function(t,e,n,r,i){return o.doCallback(t,t.onleavestate,e,n,r,i)},enterAnyState:function(t,e,n,r,i){return o.doCallback(t,t.onenterstate||t.onstate,e,n,r,i)},changeState:function(t,e,n,r,i){return o.doCallback(t,t.onchangestate,e,n,r,i)},beforeThisEvent:function(t,e,n,r,i){return o.doCallback(t,t["onbefore"+e],e,n,r,i)},afterThisEvent:function(t,e,n,r,i){return o.doCallback(t,t["onafter"+e]||t["on"+e],e,n,r,i)},leaveThisState:function(t,e,n,r,i){return o.doCallback(t,t["onleave"+n],e,n,r,i)},enterThisState:function(t,e,n,r,i){return o.doCallback(t,t["onenter"+r]||t["on"+r],e,n,r,i)},beforeEvent:function(t,e,n,r,i){if(!1===o.beforeThisEvent(t,e,n,r,i)||!1===o.beforeAnyEvent(t,e,n,r,i))return!1},afterEvent:function(t,e,n,r,i){o.afterThisEvent(t,e,n,r,i),o.afterAnyEvent(t,e,n,r,i)},leaveState:function(t,e,n,r,i){var s=o.leaveThisState(t,e,n,r,i),a=o.leaveAnyState(t,e,n,r,i);return!1!==s&&!1!==a&&(o.ASYNC===s||o.ASYNC===a?o.ASYNC:void 0)},enterState:function(t,e,n,r,i){o.enterThisState(t,e,n,r,i),o.enterAnyState(t,e,n,r,i)},buildEvent:function(t,e){return function(){var n=this.current,r=e[n]||(e[o.WILDCARD]!=o.WILDCARD?e[o.WILDCARD]:n)||n,i=Array.prototype.slice.call(arguments);if(this.transition)return this.error(t,n,r,i,o.Error.PENDING_TRANSITION,"event "+t+" inappropriate because previous transition did not complete");if(this.cannot(t))return this.error(t,n,r,i,o.Error.INVALID_TRANSITION,"event "+t+" inappropriate in current state "+this.current);if(!1===o.beforeEvent(this,t,n,r,i))return o.Result.CANCELLED;if(n===r)return o.afterEvent(this,t,n,r,i),o.Result.NOTRANSITION;var s=this;this.transition=function(){return s.transition=null,s.current=r,o.enterState(s,t,n,r,i),o.changeState(s,t,n,r,i),o.afterEvent(s,t,n,r,i),o.Result.SUCCEEDED},this.transition.cancel=function(){s.transition=null,o.afterEvent(s,t,n,r,i)};var a=o.leaveState(this,t,n,r,i);return!1===a?(this.transition=null,o.Result.CANCELLED):o.ASYNC===a?o.Result.PENDING:this.transition?this.transition():void 0}}},void 0!==n?(void 0!==e&&e.exports&&(n=e.exports=o),n.StateMachine=o):"function"==typeof define&&define.amd?define(function(){return o}):"undefined"!=typeof window?window.StateMachine=o:"undefined"!=typeof self&&(self.StateMachine=o),cc._RF.pop()},{}],Struct:[function(t,e,n){"use strict";cc._RF.push(e,"294d4cuj8FOwrGZgHqxSfsR","Struct"),Object.defineProperty(n,"__esModule",{value:!0}),n.ECloseType=n.EPriority=n.ModalType=void 0;var o=t("./config/SysDefine"),r=function(){function t(t,e,n,r){void 0===t&&(t=o.ModalOpacity.OpacityHalf),void 0===e&&(e=!1),void 0===n&&(n=!0),void 0===r&&(r=.2),this.opacity=o.ModalOpacity.OpacityHalf,this.clickMaskClose=!1,this.isEasing=!0,this.easingTime=.2,this.dualBlur=!1,this.opacity=t,this.clickMaskClose=e,this.isEasing=n,this.easingTime=r}return t.prototype.useBlur=function(){return this.dualBlur=!0,this},t}();n.ModalType=r,function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.TWO=2]="TWO",t[t.THREE=3]="THREE",t[t.FOUR=4]="FOUR",t[t.FIVE=5]="FIVE",t[t.SIX=6]="SIX",t[t.SEVEN=7]="SEVEN",t[t.EIGHT=8]="EIGHT",t[t.NINE=9]="NINE"}(n.EPriority||(n.EPriority={})),function(t){t[t.CloseAndHide=0]="CloseAndHide",t[t.CloseAndDestory=1]="CloseAndDestory",t[t.LRU=2]="LRU"}(n.ECloseType||(n.ECloseType={})),cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],SysConfig:[function(t,e,n){"use strict";cc._RF.push(e,"6147akOR5tLFILrfDfQBCbo","SysConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.SysConfig=void 0;var o=function(){function t(){}return t.useLRUCache=!1,t}();n.SysConfig=o,cc._RF.pop()},{}],SysDefine:[function(t,e,n){"use strict";cc._RF.push(e,"7f8ffNRvZxCz4zNi1L6dBHr","SysDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.SysDefine=n.UIState=n.ModalOpacity=n.FormType=void 0;var o=t("../../UIConfig");(function(t){t.Screen="UIScreen",t.Fixed="UIFixed",t.Window="UIWindow",t.Toast="Toast",t.Tips="UITips"})(n.FormType||(n.FormType={})),function(t){t[t.None=0]="None",t[t.OpacityZero=1]="OpacityZero",t[t.OpacityLow=2]="OpacityLow",t[t.OpacityHalf=3]="OpacityHalf",t[t.OpacityHigh=4]="OpacityHigh",t[t.OpacityFull=5]="OpacityFull"}(n.ModalOpacity||(n.ModalOpacity={})),function(t){t[t.None=0]="None",t[t.Loading=1]="Loading",t[t.Showing=2]="Showing",t[t.Hiding=3]="Hiding"}(n.UIState||(n.UIState={}));var r=function(){function t(){}return t.defaultLoadingForm=o.default.UILoading,t.SYS_PATH_CANVAS="Canvas",t.SYS_PATH_UIFORMS_CONFIG_INFO="UIFormsConfigInfo",t.SYS_PATH_CONFIG_INFO="SysConfigInfo",t.SYS_UIROOT_NAME="Canvas/Scene/UIROOT",t.SYS_UIMODAL_NAME="Canvas/Scene/UIROOT/UIModalManager",t.SYS_UIAdapter_NAME="Canvas/Scene/UIROOT/UIAdapterManager",t.SYS_SCENE_NODE="Scene",t.SYS_UIROOT_NODE="UIROOT",t.SYS_SCREEN_NODE="Screen",t.SYS_FIXED_NODE="FixedUI",t.SYS_POPUP_NODE="PopUp",t.SYS_TOPTIPS_NODE="TopTips",t.SYS_MODAL_NODE="UIModalNode",t.SYS_STANDARD_Prefix="_",t.SYS_STANDARD_Separator="$",t.SYS_STANDARD_End="#",t.UI_PATH_ROOT="UIForms/",t.SeparatorMap={_Node:"cc.Node",_Label:"cc.Label",_Button:"cc.Button",_Sprite:"cc.Sprite",_RichText:"cc.RichText",_Mask:"cc.Mask",_MotionStreak:"cc.MotionStreak",_TiledMap:"cc.TiledMap",_TiledTile:"cc.TiledTile",_Spine:"sp.Skeleton",_Graphics:"cc.Graphics",_Animation:"cc.Animation",_WebView:"cc.WebView",_EditBox:"cc.EditBox",_ScrollView:"cc.ScrollView",_VideoPlayer:"cc.VideoPlayer",_ProgressBar:"cc.ProgressBar",_PageView:"cc.PageView",_Slider:"cc.Slider",_Toggle:"cc.Toggle",_ButtonPlus:"ButtonPlus"},t}();n.SysDefine=r,cc._RF.pop()},{"../../UIConfig":"UIConfig"}],TaskMgr:[function(t,e,n){"use strict";cc._RF.push(e,"a001c6UsFtNA5aXLrNhEDJy","TaskMgr"),Object.defineProperty(n,"__esModule",{value:!0}),n.Command=n.CommandType=void 0;var o=t("./PriorityQueue");n.CommandType||(n.CommandType={});n.Command=function(){};var r=function(){function t(){this._cmdMap=cc.js.createMap(),this._debugHistory=[],this._debug=!1}return Object.defineProperty(t,"inst",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.setDebug=function(t){void 0===t&&(t=!0),this._debug=t},t.prototype.pushCommand=function(t,e,n){void 0===n&&(n=0),this._debug&&this._debugHistory.push(e);var r=this._cmdMap[t];r||(r=this._cmdMap[t]=new o.default),r.enqueue(e,n)},t.prototype.popCommand=function(t){var e=this._cmdMap[t];return e?e.dequeue():null},t.prototype.hasCommand=function(t,e){if(e)return this._cmdMap[e].hasElement(t);for(var n in this._cmdMap)if(this._cmdMap[n].hasElement(t))return!0;return!1},t._instance=null,t}();n.default=r,cc._RF.pop()},{"./PriorityQueue":"PriorityQueue"}],TextureAssembler:[function(t,e,n){"use strict";cc._RF.push(e,"e0687tDW69CxalPcgT1Omra","TextureAssembler");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Utils/CommonUtils"),s=cc.gfx,a=new s.VertexFormat([{name:s.ATTR_POSITION,type:s.ATTR_TYPE_FLOAT32,num:2},{name:s.ATTR_UV0,type:s.ATTR_TYPE_FLOAT32,num:2},{name:s.ATTR_COLOR,type:s.ATTR_TYPE_UINT8,num:4,normalize:!0}]),c=function(t){function e(){var e=t.call(this)||this;return e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e}return r(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.getVfmt=function(){return a},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.prototype.resetData=function(t){var e=t.polygon;!e||e.length<3||(this.verticesCount=e.length,this.indicesCount=this.verticesCount+2*(this.verticesCount-3),this._renderData.clear(),this.initData())},e.prototype.initQuadIndices=function(t,e){for(var n=0;n<e.length;n++)t[n]=e[n]},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var o=this.floatsPerVert,r=this.colorOffset,i=t.polygon,s=0;s<i.length;s++)n[r+s*o]=e}},e.prototype.updateUVs=function(t){for(var e=this.uvOffset,n=this.floatsPerVert,o=this._renderData.vDatas[0],r=i.CommonUtils.computeUv(t.polygon,t.node.width,t.node.height),s=t.polygon,a=0;a<s.length;a++){var c=n*a+e;o[c]=r[a].x,o[c+1]=r[a].y}},e.prototype.updateWorldVertsWebGL=function(t){var e=this._renderData.vDatas[0],n=t.node._worldMatrix.m,o=n[0],r=n[1],i=n[4],s=n[5],a=n[12],c=n[13],u=1===o&&0===r&&0===i&&1===s,l=this.floatsPerVert;if(u)for(var p=t.polygon,f=0;f<p.length;f++)e[f*l]=p[f].x+a,e[f*l+1]=p[f].y+c;else for(p=t.polygon,f=0;f<p.length;f++)e[f*l]=o*p[f].x+i*p[f].y+a,e[f*l+1]=r*p[f].x+s*p[f].y+c},e.prototype.updateWorldVertsNative=function(t){for(var e=this._renderData.vDatas[0],n=this.floatsPerVert,o=t.polygon,r=0;r<o.length;r++)e[r*n]=o[r].x,e[r*n+1]=o[r].y},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateVerts=function(t){var e=i.CommonUtils.splitePolygon(t.polygon);this.initQuadIndices(this._renderData.iDatas[0],e),this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.resetData(t),this.updateUVs(t),this.updateVerts(t),this.updateColor(t,null),t._vertsDirty=!1)},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,o=n.vDatas[0],r=n.iDatas[0],i=this.getBuffer(),s=i.request(this.verticesCount,this.indicesCount),a=s.byteOffset>>2,c=i._vData;o.length+a>c.length?c.set(o.subarray(0,c.length-a),a):c.set(o,a);for(var u=i._iData,l=s.indiceOffset,p=s.vertexOffset,f=0,h=r.length;f<h;f++)u[l++]=p+r[f]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var o=t._materials[0];o&&o.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=c,cc._RF.pop()},{"../Utils/CommonUtils":"CommonUtils"}],TexturePlus:[function(t,e,n){"use strict";cc._RF.push(e,"58ad8KR/hRJi7EtoZ+PAyOU","TexturePlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a=t("../Assemblers/TextureAssembler"),c=t("../Utils/CommonUtils");cc.renderer.renderEngine,function(t){t[t.Cut=0]="Cut",t[t.Stretch=1]="Stretch"}(s||(s={}));var u=new cc.Vec2,l=new cc.Mat4,p=cc._decorator,f=p.ccclass,h=p.menu,d=p.executeInEditMode,_=p.mixins,y=p.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._texture=null,e._polygon=[],e.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,e.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,e.editing=!1,e._assembler=null,e}return r(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t;var e=-t.width/2,n=-t.height/2,o=t.height/2,r=t.width/2;this.polygon=[cc.v2(e,n),cc.v2(r,n),cc.v2(r,o),cc.v2(e,o)],this.node.width=t.width,this.node.height=t.height,this._updateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateVerts()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.node._hitTest=this._hitTest.bind(this)},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){console.log("click texture plus")},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.node.x+=e.getDeltaX(),t.node.y+=e.getDeltaY()},this)},e.prototype._updateVerts=function(){this.setVertsDirty()},e.prototype._updateMaterial=function(){var t=this._texture,e=this.getMaterial(0);e&&(void 0!==e.getDefine("USE_TEXTURE")&&e.define("USE_TEXTURE",!0),e.setProperty("texture",t)),this.__proto__._updateBlendFunc.call(this),this.setVertsDirty()},e.prototype._validateRender=function(){},e.prototype._resetAssembler=function(){(this._assembler=new a.default).init(this),this._updateColor(),this.setVertsDirty()},e.prototype._hitTest=function(t){var e=this.node,n=e.getContentSize(),o=(n.width,n.height,u);return e._updateWorldMatrix(),!!cc.Mat4.invert(l,e._worldMatrix)&&(cc.Vec2.transformMat4(o,t,l),c.CommonUtils.isInPolygon(o,this.polygon))},e.Type=s,i([y(cc.Texture2D)],e.prototype,"_texture",void 0),i([y(cc.Texture2D)],e.prototype,"texture",null),i([y({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),i([y({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),i([y({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"srcBlendFactor",void 0),i([y({type:cc.Enum(cc.macro.BlendFactor),override:!0})],e.prototype,"dstBlendFactor",void 0),i([y(cc.Boolean)],e.prototype,"editing",void 0),i([f,d,h("i18n:MAIN_MENU.component.ui/TexturePlus"),_(cc.BlendFunc)],e)}(cc.RenderComponent);n.default=v,cc._RF.pop()},{"../Assemblers/TextureAssembler":"TextureAssembler","../Utils/CommonUtils":"CommonUtils"}],TipsMgr:[function(t,e,n){"use strict";cc._RF.push(e,"6203812cXtNHJ8vqmVbOWHK","TipsMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./UIManager"),s=function(){function t(){}return t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,i.default.getInstance().openForm(t,e,n)];case 1:return[2,o.sent()]}})})},t.prototype.close=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,i.default.getInstance().closeForm(t)];case 1:return[2,e.sent()]}})})},t}();n.default=new s,cc._RF.pop()},{"./UIManager":"UIManager"}],ToastMgr:[function(t,e,n){"use strict";cc._RF.push(e,"94686RhMhBGzb0TUqfreBLz","ToastMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./UIManager"),s=function(){function t(){this._pools=cc.js.createMap()}return t.prototype.open=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2]})})},t.prototype.close=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,i.default.getInstance().closeForm(t)];case 1:return e.sent(),[2]}})})},t}();n.default=new s,cc._RF.pop()},{"./UIManager":"UIManager"}],TouchPlus:[function(t,e,n){"use strict";cc._RF.push(e,"1c88eM+YFpH45yVr93vRF2l","TouchPlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=15,e.isTouch=!1,e.isClick=!0,e}return r(e,t),e.prototype.addEvent=function(t,e){this.clickEvent=t,this.slideEvent=e},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},e.prototype.touchStart=function(t){this.isTouch=!0,this.startPosition=t.getLocation()},e.prototype.touchMove=function(t){this.isTouch&&t.getLocation().sub(this.startPosition).mag()>this.offset&&(this.isClick=!1,this.slideEvent&&this.slideEvent(t))},e.prototype.touchEnd=function(t){this.isTouch&&(this.isTouch=!1,this.isClick&&this.clickEvent&&this.clickEvent(t),this.isClick=!0)},e.prototype.touchCancel=function(){this.isTouch&&(this.isTouch=!1,this.isClick=!0)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},i([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],UIAbout_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"8aceanbfPFAnZ5HmcwWJqVl","UIAbout_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Close=null,e}return r(e,t),i([u(s.default)],e.prototype,"Close",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIAbout:[function(t,e,n){"use strict";cc._RF.push(e,"573a6vNZF1O7raeu9W+SfEO","UIAbout");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/FormMgr"),a=t("../UIFrame/UIForm"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){this.view.Close.addClick(function(){s.default.backScene()},this)},i([u],e)}(a.UIScreen));n.default=l,cc._RF.pop()},{"../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm"}],UIBase:[function(t,e,n){"use strict";cc._RF.push(e,"5ba19xmlHJNg4x0oLeSB7Ay","UIBase");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./UIManager"),c=t("./AdapterMgr"),u=t("./ResMgr"),l=t("./FormMgr"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fid="",e.formData=null,e.formType=null,e.closeType=null,e._inited=!1,e.view=null,e.model=null,e._blocker=null,e}return r(e,t),e.open=function(t,e){var n=this.UIConfig;n?l.default.open(n,t,e):cc.warn("sorry UIConfig is null, please check UIConfig")},e.close=function(){l.default.close(this.UIConfig)},e.prototype._preInit=function(t){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return this._inited?[2]:(this._inited=!0,this.view=this.getComponent(this.node.name+"_Auto"),[4,this.load(t)]);case 1:return(e=n.sent())?(cc.error(e),this.closeSelf(),[2]):(this.onInit(t),[2])}})})},e.prototype.load=function(){return i(this,void 0,Promise,function(){return s(this,function(){return[2,null]})})},e.prototype.onInit=function(){},e.prototype.onShow=function(){},e.prototype.onAfterShow=function(){},e.prototype.onHide=function(){},e.prototype.onAfterHide=function(){},e.prototype.closeSelf=function(){return i(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,a.default.getInstance().closeForm(this.fid)];case 1:return[2,t.sent()]}})})},e.prototype.showEffect=function(){return i(this,void 0,void 0,function(){return s(this,function(){return[2]})})},e.prototype.hideEffect=function(){return i(this,void 0,void 0,function(){return s(this,function(){return[2]})})},e.prototype.setBlockInput=function(t){if(!this._blocker){var e=new cc.Node("block_input_events");this._blocker=e.addComponent(cc.BlockInputEvents),this._blocker.node.setContentSize(c.default.inst.visibleSize),this.node.addChild(this._blocker.node,cc.macro.MAX_ZINDEX)}this._blocker.node.active=t},e.prototype.loadRes=function(t,e){return i(this,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return[4,u.default.inst.loadDynamicRes(t,e,this.fid)];case 1:return[2,n.sent()]}})})},e}(cc.Component);n.default=p,cc.UIBase=p,cc._RF.pop()},{"./AdapterMgr":"AdapterMgr","./FormMgr":"FormMgr","./ResMgr":"ResMgr","./UIManager":"UIManager"}],UICapture_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"07ab8hfkXlPXJHF8cmBfVtX","UICapture_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Back=null,e.Capture=null,e.Pen=null,e.Reaser=null,e}return r(e,t),i([u(s.default)],e.prototype,"Back",void 0),i([u(s.default)],e.prototype,"Capture",void 0),i([u(s.default)],e.prototype,"Pen",void 0),i([u(s.default)],e.prototype,"Reaser",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UICapture:[function(t,e,n){"use strict";cc._RF.push(e,"26449d5Y5lJSqtiyJTfLcTr","UICapture");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Common/Components/CameraCapture"),a=t("../Common/Components/DrawBorad"),c=t("../Common/Components/TouchPlus"),u=t("../UIFrame/FormMgr"),l=t("../UIFrame/UIForm"),p=cc._decorator,f=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.camereCapture=null,e.drawBorad=null,e.touchPlus=null,e}return r(e,t),e.prototype.start=function(){var t=this;this.touchPlus.addEvent(null,function(e){var n=e.getDelta();t.touchPlus.node.x+=n.x,t.touchPlus.node.y+=n.y}),this.view.Back.addClick(function(){u.default.backScene()},this),this.view.Capture.addClick(this.onClickCapture,this),this.view.Pen.addClick(this.onClickPen,this),this.view.Reaser.addClick(this.onClickReaser,this),this.onClickCapture()},e.prototype.onClickCapture=function(){var t=this.camereCapture.captureTexture(),e=new cc.Texture2D;e.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,this.drawBorad.node.width,this.drawBorad.node.height),this.sprite.spriteFrame=new cc.SpriteFrame(e),this.sprite.spriteFrame.setFlipY(!0),this.drawBorad.setData(t)},e.prototype.onClickPen=function(){this.drawBorad.setPen()},e.prototype.onClickReaser=function(){this.drawBorad.setReaser()},i([h(cc.Sprite)],e.prototype,"sprite",void 0),i([h(s.default)],e.prototype,"camereCapture",void 0),i([h(a.default)],e.prototype,"drawBorad",void 0),i([h(c.default)],e.prototype,"touchPlus",void 0),i([f],e)}(l.UIScreen);n.default=d,cc._RF.pop()},{"../Common/Components/CameraCapture":"CameraCapture","../Common/Components/DrawBorad":"DrawBorad","../Common/Components/TouchPlus":"TouchPlus","../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm"}],UIConfig:[function(t,e,n){"use strict";cc._RF.push(e,"da248zQUHNGAYyaJMo+rhIL","UIConfig"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.UIFunction={prefabUrl:"Forms/Fixed/UIFunction",type:"UIFixed"},t.UISound={prefabUrl:"Forms/Fixed/UISound",type:"UIFixed"},t.UIAbout={prefabUrl:"Forms/Screen/UIAbout",type:"UIScreen"},t.UICapture={prefabUrl:"Forms/Screen/UICapture",type:"UIScreen"},t.UIDungeon={prefabUrl:"Forms/Screen/UIDungeon",type:"UIScreen"},t.UIECSView={prefabUrl:"Forms/Screen/UIECSView",type:"UIScreen"},t.UIGame={prefabUrl:"Forms/Screen/UIGame",type:"UIScreen"},t.UIHome={prefabUrl:"Forms/Screen/UIHome",type:"UIScreen"},t.UILight={prefabUrl:"Forms/Screen/UILight",type:"UIScreen"},t.UIMap={prefabUrl:"Forms/Screen/UIMap",type:"UIScreen"},t.UIMeshTexture={prefabUrl:"Forms/Screen/UIMeshTexture",type:"UIScreen"},t.UINavigator={prefabUrl:"Forms/Screen/UINavigator",type:"UIScreen"},t.UIScrollTexture={prefabUrl:"Forms/Screen/UIScrollTexture",type:"UIScreen"},t.UISplitTexture={prefabUrl:"Forms/Screen/UISplitTexture",type:"UIScreen"},t.UILoading={prefabUrl:"Forms/Tips/UILoading",type:"UITips"},t.UIMobx={prefabUrl:"Forms/Windows/UIMobx",type:"UIWindow"},t.UIPop={prefabUrl:"Forms/Windows/UIPop",type:"UIWindow"},t.UIScrollPlus={prefabUrl:"Forms/Windows/UIScrollPlus",type:"UIWindow"},t.UISetting={prefabUrl:"Forms/Windows/UISetting",type:"UIWindow"},t.UISkills={prefabUrl:"Forms/Windows/UISkills",type:"UIWindow"},t.UITips={prefabUrl:"Forms/Windows/UITips",type:"UIWindow"},t}();n.default=o,cc.game.on(cc.game.EVENT_GAME_INITED,function(){for(var t in o){var e=cc.js.getClassByName(t);e&&(e.UIConfig=o[t])}}),cc._RF.pop()},{}],UIDungeon_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"74ba6VsKwJNPo4au7YjBx4f","UIDungeon_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Items=null,e.Back=null,e}return r(e,t),i([u(cc.Node)],e.prototype,"Items",void 0),i([u(s.default)],e.prototype,"Back",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIDungeon:[function(t,e,n){"use strict";cc._RF.push(e,"77bb60WxChA/5WbElweSd49","UIDungeon");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Common/Utils/Dungeon"),a=t("../UIFrame/FormMgr"),c=t("../UIFrame/UIForm"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pfGrid=null,e.dungeon=null,e}return r(e,t),e.prototype.start=function(){this.view.Back.addClick(function(){a.default.backScene()},this),this.dungeon=new s.Dungeon(63,63);for(var t=this.dungeon.generate(),e=this.pfGrid.data.width,n=0;n<this.dungeon.height;n++)for(var o=0;o<this.dungeon.width;o++){var r=cc.instantiate(this.pfGrid);r.color=this.getColor(t[n*this.dungeon.width+o]),this.view.Items.addChild(r),r.setPosition(o*e,n*e)}},e.prototype.getColor=function(t){switch(t){case s.GridType.Wall:return cc.Color.BLACK;case s.GridType.Floor:return cc.Color.WHITE;case s.GridType.OpenDoor:return cc.Color.BLUE;case s.GridType.CloseDoor:return cc.Color.RED}},i([p(cc.Prefab)],e.prototype,"pfGrid",void 0),i([l],e)}(c.UIScreen);n.default=f,cc._RF.pop()},{"../Common/Utils/Dungeon":"Dungeon","../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm"}],UIECSView_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"05b26GD8QtA74GhissSA2qn","UIECSView_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Back=null,e}return r(e,t),i([u(s.default)],e.prototype,"Back",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIECSView:[function(t,e,n){"use strict";cc._RF.push(e,"0c74dAi5jtLFKLmAFJ0qihQ","UIECSView");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/FormMgr"),a=t("../UIFrame/UIForm"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){this.view.Back.addClick(function(){s.default.backScene()},this)},i([u],e)}(a.UIScreen));n.default=l,cc._RF.pop()},{"../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm"}],UIForm:[function(t,e,n){"use strict";cc._RF.push(e,"fecebM0tgRBP4NNiSEz6NLd","UIForm");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.UITips=n.UIFixed=n.UIWindow=n.UIScreen=void 0;var a=t("./CocosHelper"),c=t("./config/SysDefine"),u=t("./FormMgr"),l=t("./Struct"),p=t("./UIBase"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Screen,e.closeType=l.ECloseType.CloseAndDestory,e}return r(e,t),e.prototype.closeSelf=function(){return i(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,u.default.close({prefabUrl:this.fid,type:this.formType})];case 1:return[2,t.sent()]}})})},e}(p.default);n.UIScreen=f;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Window,e.modalType=new l.ModalType(c.ModalOpacity.OpacityFull),e.closeType=l.ECloseType.LRU,e}return r(e,t),e.prototype.showEffect=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.node.scale=0,[4,a.default.runTweenSync(this.node,cc.tween().to(.3,{scale:1},cc.easeBackOut()))];case 1:return t.sent(),[2]}})})},e.prototype.closeSelf=function(){return i(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,u.default.close({prefabUrl:this.fid,type:this.formType})];case 1:return[2,t.sent()]}})})},e}(p.default);n.UIWindow=h;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Fixed,e.closeType=l.ECloseType.LRU,e}return r(e,t),e.prototype.closeSelf=function(){return i(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,u.default.close({prefabUrl:this.fid,type:this.formType})];case 1:return[2,t.sent()]}})})},e}(p.default);n.UIFixed=d;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formType=c.FormType.Tips,e.closeType=l.ECloseType.CloseAndHide,e}return r(e,t),e.prototype.closeSelf=function(){return i(this,void 0,Promise,function(){return s(this,function(t){switch(t.label){case 0:return[4,u.default.close({prefabUrl:this.fid,type:this.formType})];case 1:return[2,t.sent()]}})})},e}(p.default);n.UITips=_,cc.UIScreen=f,cc.UIWindow=h,cc.UIFixed=d,cc.UITips=_,cc._RF.pop()},{"./CocosHelper":"CocosHelper","./FormMgr":"FormMgr","./Struct":"Struct","./UIBase":"UIBase","./config/SysDefine":"SysDefine"}],UIFunction_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"2840dNdtrlLRZJzxqaCbxi3","UIFunction_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Setting=null,e.Skills=null,e.ScrollHelper=null,e}return r(e,t),i([u(s.default)],e.prototype,"Setting",void 0),i([u(s.default)],e.prototype,"Skills",void 0),i([u(s.default)],e.prototype,"ScrollHelper",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIFunction:[function(t,e,n){"use strict";cc._RF.push(e,"26e9dYfX+tDUpk37S1FVqfx","UIFunction");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/AdapterMgr"),a=t("../UIFrame/FormMgr"),c=t("../UIFrame/UIForm"),u=t("./../UIConfig"),l=cc._decorator,p=l.ccclass,f=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){s.default.inst.adapteByType(s.AdapterType.Bottom,this.node,50),this.view.Setting.addClick(function(){a.default.open(u.default.UISetting)},this),this.view.Skills.addClick(function(){a.default.open(u.default.UISkills)},this),this.view.ScrollHelper.addClick(function(){a.default.open(u.default.UIScrollPlus)},this)},i([p],e)}(c.UIFixed));n.default=f,cc._RF.pop()},{"../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm","./../UIConfig":"UIConfig"}],UIGame_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"9eb95Sc8n9DtbkW3ATza3Qx","UIGame_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Back=null,e.GuideNode=null,e.LblTip=null,e.guidNode=null,e.toMap=null,e.items=null,e.buldtool=null,e}return r(e,t),i([u(s.default)],e.prototype,"Back",void 0),i([u(s.default)],e.prototype,"GuideNode",void 0),i([u(cc.Label)],e.prototype,"LblTip",void 0),i([u(cc.Node)],e.prototype,"guidNode",void 0),i([u(s.default)],e.prototype,"toMap",void 0),i([u(cc.Node)],e.prototype,"items",void 0),i([u(cc.Node)],e.prototype,"buldtool",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIGame:[function(t,e,n){"use strict";cc._RF.push(e,"229db7NNuRBFL06xiDLurpB","UIGame");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../config/GuideConfig"),a=t("../UIConfig"),c=t("../UIFrame/FormMgr"),u=t("../UIFrame/UIForm"),l=cc._decorator,p=l.ccclass,f=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){this.view.Back.addClick(function(){c.default.backScene()},this),this.view.toMap.addClick(function(){c.default.open(a.default.UIECSView)},this),this.view.GuideNode.addClick(this.onBtnGuide.bind(this),this),this.onBtnGuide();for(var t=1;t<14;t++){var e="jianzhu";t<10?e=e+"0"+t:e+=t;var n=cc.sys.localStorage.getItem(e);this.view.items.getChildByName(e).getComponent(cc.Sprite).enabled=null!=n}},e.prototype.onBtnGuide=function(){var t=cc.sys.localStorage.getItem("guidxIdx");null==t&&(cc.sys.localStorage.setItem("guidxIdx",0),t=0);var e=s.GuideConfig[Number(t)];null!=e?(this.view.LblTip.string=e,++t,cc.sys.localStorage.setItem("guidxIdx",t)):this.view.guidNode.active=!1},e.prototype.onBuildItem=function(t){var e=this,n=t.target,o=n.name;null==cc.sys.localStorage.getItem(o)&&(this.view.buldtool.active=!0,this.view.buldtool.position=n.position,this.view.buldtool.getComponent(cc.Animation).play(),cc.tween(this.node).delay(1.5).call(function(){e.view.buldtool.active=!1,n.getComponent(cc.Sprite).enabled=!0,cc.sys.localStorage.setItem(o,1)}).start())},i([p],e)}(u.UIScreen));n.default=f,cc._RF.pop()},{"../UIConfig":"UIConfig","../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm","../config/GuideConfig":"GuideConfig"}],UIHome_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"234c2u0kZdBeKPEjpbkt22t","UIHome_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Logo=null,e.Start=null,e.About=null,e.Back=null,e}return r(e,t),i([u(cc.Node)],e.prototype,"Logo",void 0),i([u(s.default)],e.prototype,"Start",void 0),i([u(s.default)],e.prototype,"About",void 0),i([u(s.default)],e.prototype,"Back",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIHome:[function(t,e,n){"use strict";cc._RF.push(e,"ce700EVbt5MTrg0Llyxj9zb","UIHome");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../UIFrame/FormMgr"),u=t("../UIFrame/UIForm"),l=t("../UIFrame/UIManager"),p=t("./../UIConfig"),f=cc._decorator,h=f.ccclass,d=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=5,e}return r(e,t),e.prototype.load=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,l.default.getInstance().openForm(p.default.UISound.prefabUrl)];case 1:return t.sent(),[2,null]}})})},e.prototype.refreshView=function(){console.log(this.model)},e.prototype.start=function(){this.view.Start.addClick(function(){c.default.open(p.default.UIMap)},this),this.view.About.addClick(function(){c.default.open(p.default.UIAbout)},this),this.view.Back.addClick(function(){c.default.backScene()},this)},i([h],e)}(u.UIScreen));n.default=d,cc._RF.pop()},{"../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm","../UIFrame/UIManager":"UIManager","./../UIConfig":"UIConfig"}],UILevel_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"a077dk8+/xJHLVJDt0+l4cP","UILevel_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Setting=null,e.Skills=null,e.Back=null,e}return r(e,t),i([u(s.default)],e.prototype,"Setting",void 0),i([u(s.default)],e.prototype,"Skills",void 0),i([u(s.default)],e.prototype,"Back",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UILight_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"8c485spEilPeKnloxpdqCcq","UILight_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Back=null,e}return r(e,t),i([u(s.default)],e.prototype,"Back",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UILight:[function(t,e,n){"use strict";cc._RF.push(e,"60605S7mGxLPaah0MJrhkSn","UILight");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Common/Components/TexturePlus"),a=t("../Common/Light/Light"),c=t("../Common/Light/LightUtils"),u=t("../Common/Light/Obstacle"),l=t("../UIFrame/FormMgr"),p=t("../UIFrame/UIForm"),f=cc._decorator,h=f.ccclass,d=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.obstacle=null,e.light=null,e.camera=null,e.spShadow=null,e._shadowTexture=new cc.RenderTexture,e}return r(e,t),e.prototype.onLoad=function(){var t=this;cc.director.on(cc.Director.EVENT_BEFORE_DRAW,function(){t._shadowTexture=new cc.RenderTexture,t._shadowTexture.initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.game._renderContext.STENCIL_INDEX8),t.camera.targetTexture=t._shadowTexture},this),cc.director.on(cc.Director.EVENT_AFTER_DRAW,function(){t.spShadow.spriteFrame.setTexture(t._shadowTexture),t.spShadow.spriteFrame.setFlipY(!0),t.spShadow.markForRender(!0)},this)},e.prototype.start=function(){var t=cc.view.getVisibleSize();this.obstacle.addPolygon("",[cc.v2(0,0),cc.v2(t.width,0),cc.v2(t.width,t.height),cc.v2(0,t.height)]);for(var e=this.obstacle.node,n=function(t){var n=e.children[t],r=n.getComponent(s.default);if(!r)return"continue";var i=r.polygon.concat([]);i=i.map(function(t){return t.add(n.getPosition())}),o.obstacle.addPolygon(r.node.uuid,i)},o=this,r=0;r<e.childrenCount;r++)n(r);this.view.Back.addClick(function(){l.default.backScene()},this)},e.prototype.draw=function(){var t=this.obstacle.getPolygons(this.light.getBound()),e=c.default.getIntersections(this.light.node.getPosition(),t);this.light.draw(e)},e.prototype.update=function(){this.draw()},i([d(u.default)],e.prototype,"obstacle",void 0),i([d(a.default)],e.prototype,"light",void 0),i([d(cc.Camera)],e.prototype,"camera",void 0),i([d(cc.Sprite)],e.prototype,"spShadow",void 0),i([h],e)}(p.UIScreen);n.default=_,cc._RF.pop()},{"../Common/Components/TexturePlus":"TexturePlus","../Common/Light/Light":"Light","../Common/Light/LightUtils":"LightUtils","../Common/Light/Obstacle":"Obstacle","../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm"}],UILoading_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"d6a9c7+3lFNSZtgW9z8QvXg","UILoading_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Right=null,e.Left=null,e}return r(e,t),i([c(cc.Node)],e.prototype,"Right",void 0),i([c(cc.Node)],e.prototype,"Left",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UILoading:[function(t,e,n){"use strict";cc._RF.push(e,"2580cHflTxBzYtR5gDT9n2h","UILoading");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../UIFrame/AdapterMgr"),u=t("../UIFrame/CocosHelper"),l=t("../UIFrame/UIForm"),p=cc._decorator,f=p.ccclass,h=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){},e.prototype.showEffect=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return t=c.default.inst.visibleSize.width/2+this.view.Left.width/2,this.view.Left.x=-t,this.view.Right.x=t,[4,Promise.all([u.default.runTweenSync(this.view.Left,cc.tween().to(.3,{x:-480},cc.easeIn(3))),u.default.runTweenSync(this.view.Right,cc.tween().to(.3,{x:480},cc.easeIn(3)))])];case 1:return e.sent(),[2]}})})},e.prototype.hideEffect=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return t=c.default.inst.visibleSize.width/2+this.view.Left.width/2,this.view.Left.x=-480,this.view.Right.x=480,[4,u.default.sleepSync(.5)];case 1:return e.sent(),[4,Promise.all([u.default.runTweenSync(this.view.Left,cc.tween().to(.3,{x:-t},cc.easeIn(3))),u.default.runTweenSync(this.view.Right,cc.tween().to(.3,{x:t},cc.easeIn(3)))])];case 2:return e.sent(),[2]}})})},i([f],e)}(l.UITips));n.default=h,cc._RF.pop()},{"../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/CocosHelper":"CocosHelper","../UIFrame/UIForm":"UIForm"}],UILogin_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"a88begnTmZOIY7ImNZFjPCO","UILogin_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Login=null,e.btn=null,e.Name=null,e}return r(e,t),i([u(cc.Node)],e.prototype,"Login",void 0),i([u(s.default)],e.prototype,"btn",void 0),i([u(cc.Label)],e.prototype,"Name",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"f18581vC/JBkoXNDtnFIDo4","UIManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./UIBase"),s=t("./config/SysDefine"),a=t("./ResMgr"),c=t("./ModalMgr"),u=t("./AdapterMgr"),l=t("../Scene/Scene"),p=t("./Struct"),f=t("./EventCenter"),h=t("./EventType"),d=t("../Common/Utils/LRUCache"),_=function(){function t(){this._UIROOT=null,this._ndScreen=null,this._ndFixed=null,this._ndPopUp=null,this._ndTips=null,this._windows=[],this._allForms=cc.js.createMap(),this._showingForms=cc.js.createMap(),this._tipsForms=cc.js.createMap(),this._loadingForm=cc.js.createMap(),this._LRUCache=new d.LRUCache(3)}return t.getInstance=function(){var e=this;if(null==this.instance){this.instance=new t;var n=cc.director.getScene().getChildByName("Canvas"),o=n.getChildByName(s.SysDefine.SYS_SCENE_NODE);o||((o=new cc.Node(s.SysDefine.SYS_SCENE_NODE)).addComponent(l.default),o.parent=n);var r=this.instance._UIROOT=new cc.Node(s.SysDefine.SYS_UIROOT_NODE);o.addChild(r),r.addChild(this.instance._ndScreen=new cc.Node(s.SysDefine.SYS_SCREEN_NODE)),r.addChild(this.instance._ndFixed=new cc.Node(s.SysDefine.SYS_FIXED_NODE)),r.addChild(this.instance._ndPopUp=new cc.Node(s.SysDefine.SYS_POPUP_NODE)),r.addChild(this.instance._ndTips=new cc.Node(s.SysDefine.SYS_TOPTIPS_NODE)),cc.director.once(cc.Director.EVENT_BEFORE_SCENE_LAUNCH,function(){e.instance=null})}return this.instance},t.prototype.loadUIForm=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return[4,this._loadForm(t)];case 1:return(e=n.sent())?[2,e]:(console.warn(e+"\u6ca1\u6709\u88ab\u6210\u529f\u52a0\u8f7d"),[2,null])}})})},t.prototype.openForm=function(t,e,n){return o(this,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return!t||t.length<=0?(cc.warn(t+", \u53c2\u6570\u9519\u8bef"),[2]):this.checkFormShowing(t)?(cc.warn(t+", \u7a97\u4f53\u6b63\u5728\u663e\u793a\u4e2d"),[2,null]):[4,this._loadForm(t)];case 1:if(!(o=r.sent()))return cc.warn(t+" \u52a0\u8f7d\u5931\u8d25\u4e86!"),[2,null];switch(o.fid=t,o.formData=n,o.formType){case s.FormType.Screen:return[3,2];case s.FormType.Fixed:return[3,4];case s.FormType.Window:return[3,6];case s.FormType.Tips:return[3,8]}return[3,10];case 2:return[4,this.enterToScreen(o.fid,e)];case 3:return r.sent(),[3,10];case 4:return[4,this.enterToFixed(o.fid,e)];case 5:return r.sent(),[3,10];case 6:return[4,this.enterToPopup(o.fid,e)];case 7:return r.sent(),[3,10];case 8:return[4,this.enterToTips(o.fid,e)];case 9:return r.sent(),[3,10];case 10:return o.closeType===p.ECloseType.LRU&&this._LRUCache.remove(o.fid),[2,o]}})})},t.prototype.closeForm=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:if(!t||t.length<=0)return cc.warn(t+", \u53c2\u6570\u9519\u8bef"),[2];if(!(e=this._allForms[t]))return[2,!1];switch(e.formType){case s.FormType.Screen:return[3,1];case s.FormType.Fixed:return[3,3];case s.FormType.Window:return[3,5];case s.FormType.Tips:return[3,7]}return[3,9];case 1:return[4,this.exitToScreen(t)];case 2:return n.sent(),[3,9];case 3:return[4,this.exitToFixed(t)];case 4:return n.sent(),[3,9];case 5:return[4,this.exitToPopup(t)];case 6:return n.sent(),f.EventCenter.emit(h.EventType.WindowClosed,t),[3,9];case 7:return[4,this.exitToTips(t)];case 8:return n.sent(),[3,9];case 9:switch(f.EventCenter.emit(h.EventType.FormClosed,t),e.formData&&e.formData.onClose&&e.formData.onClose(),e.closeType){case p.ECloseType.CloseAndDestory:this.destoryForm(e);break;case p.ECloseType.LRU:this.putLRUCache(e)}return[2,!0]}})})},t.prototype._loadForm=function(t){return o(this,void 0,Promise,function(){var e,n=this;return r(this,function(){return(e=this._allForms[t])?[2,e]:[2,new Promise(function(e){n._loadingForm[t]?n._loadingForm[t].push(e):(n._loadingForm[t]=[e],n._doLoadUIForm(t).then(function(e){for(var o=0,r=n._loadingForm[t];o<r.length;o++)(0,r[o])(e);n._loadingForm[t]=null,delete n._loadingForm[t]}))})]})})},t.prototype._doLoadUIForm=function(t){return o(this,void 0,void 0,function(){var e,n,o;return r(this,function(r){switch(r.label){case 0:return[4,a.default.inst.loadFormPrefab(t)];case 1:if(e=r.sent(),n=cc.instantiate(e),!(o=n.getComponent(i.default)))return cc.warn(t+" \u7ed3\u70b9\u6ca1\u6709\u7ed1\u5b9aUIBase"),[2,null];switch(n.active=!1,o.formType){case s.FormType.Screen:this._ndScreen.addChild(n);break;case s.FormType.Fixed:this._ndFixed.addChild(n);break;case s.FormType.Window:this._ndPopUp.addChild(n);break;case s.FormType.Tips:this._ndTips.addChild(n)}return this._allForms[t]=o,[2,o]}})})},t.prototype.enterToScreen=function(t,e){return o(this,void 0,void 0,function(){var n,o,i;return r(this,function(r){switch(r.label){case 0:for(o in n=[],this._showingForms)n.push(this._showingForms[o].closeSelf());return[4,Promise.all(n)];case 1:return r.sent(),(i=this._allForms[t])?(this._showingForms[t]=i,u.default.inst.adapteByType(u.AdapterType.StretchHeight|u.AdapterType.StretchWidth,i.node),[4,i._preInit(e)]):[2];case 2:return r.sent(),i.onShow(e),[4,this.showEffect(i)];case 3:return r.sent(),i.onAfterShow(e),[2]}})})},t.prototype.enterToFixed=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:return o.sent(),n.onShow(e),this._showingForms[t]=n,[4,this.showEffect(n)];case 2:return o.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToPopup=function(t,e){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:for(r.sent(),this._windows.push(n),o=0;o<this._windows.length;o++)this._windows[o].node.zIndex=o+1;return n.onShow(e),this._showingForms[t]=n,c.default.inst.checkModalWindow(this._windows),[4,this.showEffect(n)];case 2:return r.sent(),n.onAfterShow(e),[2]}})})},t.prototype.enterToTips=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return(n=this._allForms[t])?[4,n._preInit(e)]:[2];case 1:return o.sent(),this._tipsForms[t]=n,n.onShow(e),[4,this.showEffect(n)];case 2:return o.sent(),n.onAfterShow(e),[2]}})})},t.prototype.exitToScreen=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return(e=this._showingForms[t])?(e.onHide(),[4,this.hideEffect(e)]):[2];case 1:return n.sent(),e.onAfterHide(),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToFixed=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return(e=this._allForms[t])?(e.onHide(),[4,this.hideEffect(e)]):[2];case 1:return n.sent(),e.onAfterHide(),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToPopup=function(t){return o(this,void 0,void 0,function(){var e,n;return r(this,function(o){switch(o.label){case 0:if(this._windows.length<=0)return[2];for(e=null,n=this._windows.length-1;n>=0;n--)this._windows[n].fid===t&&(e=this._windows[n],this._windows.splice(n,1));return e?(e.onHide(),c.default.inst.checkModalWindow(this._windows),[4,this.hideEffect(e)]):[2];case 1:return o.sent(),e.onAfterHide(),this._showingForms[t]=null,delete this._showingForms[t],[2]}})})},t.prototype.exitToTips=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return(e=this._allForms[t])?(e.onHide(),[4,this.hideEffect(e)]):[2];case 1:return n.sent(),e.onAfterHide(),this._tipsForms[t]=null,delete this._tipsForms[t],[2]}})})},t.prototype.showEffect=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return t.node.active=!0,[4,t.showEffect()];case 1:return e.sent(),[2]}})})},t.prototype.hideEffect=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,t.hideEffect()];case 1:return e.sent(),t.node.active=!1,[2]}})})},t.prototype.destoryForm=function(t){a.default.inst.destoryDynamicRes(t.fid),a.default.inst.destoryFormPrefab(t.fid),t.node.destroy(),this._allForms[t.fid]=null,delete this._allForms[t.fid]},t.prototype.putLRUCache=function(t){if(this._LRUCache.put(t.fid),this._LRUCache.needDelete()){var e=this._LRUCache.deleteLastNode();if(e){var n=this.getForm(e);if(!n||!n.node)return;n&&this.destoryForm(n)}}},t.prototype.checkFormShowing=function(t){var e=this._allForms[t];return!!e&&e.node.active},t.prototype.checkFormLoading=function(t){return!!this._loadingForm[t]},t.prototype.getForm=function(t){return this._allForms[t]},t.prototype.getUIROOT=function(){return this._UIROOT},t.instance=null,t}();n.default=_,cc._RF.pop()},{"../Common/Utils/LRUCache":"LRUCache","../Scene/Scene":"Scene","./AdapterMgr":"AdapterMgr","./EventCenter":"EventCenter","./EventType":"EventType","./ModalMgr":"ModalMgr","./ResMgr":"ResMgr","./Struct":"Struct","./UIBase":"UIBase","./config/SysDefine":"SysDefine"}],UIMap_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"adecbZD4u1CU5tY/U48Fb7E","UIMap_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Round=null,e.Back=null,e}return r(e,t),i([u(s.default)],e.prototype,"Round",void 0),i([u(s.default)],e.prototype,"Back",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIMap:[function(t,e,n){"use strict";cc._RF.push(e,"33fc2k7hdlDAbJbP9yEwnBb","UIMap");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../UIFrame/FormMgr"),u=t("../UIFrame/UIForm"),l=t("./../UIConfig"),p=cc._decorator,f=p.ccclass,h=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.load=function(){return s(this,void 0,void 0,function(){return a(this,function(){return[2,""]})})},e.prototype.start=function(){this.view.Round.addClick(function(){c.default.open(l.default.UIGame)},this),this.view.Back.addClick(function(){c.default.backScene()},this)},i([f],e)}(u.UIScreen));n.default=h,cc._RF.pop()},{"../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm","./../UIConfig":"UIConfig"}],UIMeshTexture:[function(t,e,n){"use strict";cc._RF.push(e,"7cba6kU26RE2Ls8irff3+Tu","UIMeshTexture");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/UIForm"),a=cc._decorator,c=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){},i([c],e)}(s.UIScreen));n.default=u,cc._RF.pop()},{"../UIFrame/UIForm":"UIForm"}],UIMobx_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"09c65yYakpLkJuHNEjfCfPN","UIMobx_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Close=null,e.Txt1=null,e.Btn1=null,e.Txt2=null,e.Btn2=null,e.Txt3=null,e.Txt4=null,e.Btn3=null,e.Btn4=null,e.Txt5=null,e}return r(e,t),i([u(s.default)],e.prototype,"Close",void 0),i([u(cc.Label)],e.prototype,"Txt1",void 0),i([u(s.default)],e.prototype,"Btn1",void 0),i([u(cc.Label)],e.prototype,"Txt2",void 0),i([u(s.default)],e.prototype,"Btn2",void 0),i([u(cc.Label)],e.prototype,"Txt3",void 0),i([u(cc.Label)],e.prototype,"Txt4",void 0),i([u(s.default)],e.prototype,"Btn3",void 0),i([u(s.default)],e.prototype,"Btn4",void 0),i([u(cc.Label)],e.prototype,"Txt5",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIMobx:[function(t,e,n){"use strict";cc._RF.push(e,"2f8edzvxDRFL6ID2paZM9Ss","UIMobx");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Common/Mobx/mobx"),a=t("../UIFrame/UIForm"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){var e=t.call(this)||this;return e.num1=0,e.num2=0,e.obj={num3:0},s.makeAutoObservable(e),e}return r(e,t),Object.defineProperty(e.prototype,"total",{get:function(){return this.num1*this.num2},enumerable:!1,configurable:!0}),e.prototype.refreshView=function(){this.view.Txt1.string=""+this.num1,this.view.Txt2.string=""+this.num2,this.view.Txt3.string=""+this.total},e.prototype.start=function(){var t=this;this.view.Close.addClick(function(){t.closeSelf()},this),s.autorun(this.refreshView.bind(this)),s.when(function(){return t.total>10}).then(function(){t.view.Txt4.node.active=t.total>10}),s.reaction(function(){return t.obj&&t.obj.num3},function(e){cc.isValid(t.node)&&(t.view.Txt5.string=""+e)}),this.view.Btn1.addClick(function(){t.num1++},this),this.view.Btn2.addClick(function(){t.num2++},this),this.view.Btn3.addClick(function(){t.obj.num3++},this)},e.prototype.onShow=function(){},i([s.observable],e.prototype,"num1",void 0),i([s.observable],e.prototype,"num2",void 0),i([s.computed],e.prototype,"total",null),i([s.observable],e.prototype,"obj",void 0),i([u],e)}(a.UIWindow));n.default=l,cc._RF.pop()},{"../Common/Mobx/mobx":"mobx","../UIFrame/UIForm":"UIForm"}],UIModalScript:[function(t,e,n){"use strict";cc._RF.push(e,"a6a5a+wskdJZJdS5tPl1qBP","UIModalScript");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./UIManager"),u=t("./config/SysDefine"),l=t("./CocosHelper"),p=t("./WindowMgr"),f=(cc.RenderFlow.FLAG_RENDER,cc.RenderFlow.FLAG_POST_RENDER,cc._decorator),h=f.ccclass,d=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.camera=null,e._texture=null,e._renderTexture=null,e._renderTextures=[],e}return r(e,t),e.prototype.init=function(){var t=cc.view.getVisibleSize();this.node.height=t.height,this.node.width=t.width,this.node.addComponent(cc.Button),this.node.on("click",this.clickMaskWindow,this),this.sprite=this.node.addComponent(cc.Sprite),this.useNormalSprite(this.sprite),this.node.color=new cc.Color(255,255,255),this.node.opacity=0,this.node.active=!1;var e=new cc.Node("BlurCamera");this.camera=e.addComponent(cc.Camera),cc.find("Canvas").addChild(e)},e.prototype.showModal=function(t,e,n,o){return void 0===e&&(e=.6),void 0===n&&(n=!0),void 0===o&&(o=!1),s(this,void 0,void 0,function(){var r;return a(this,function(i){switch(i.label){case 0:switch(o?(this.useDualBlurSprite(this.camera),this.node.color=cc.Color.WHITE):(this.useNormalSprite(this.sprite),this.node.color=cc.Color.BLACK),r=0,t){case u.ModalOpacity.None:this.node.active=!1;break;case u.ModalOpacity.OpacityZero:r=0;break;case u.ModalOpacity.OpacityLow:r=63;break;case u.ModalOpacity.OpacityHalf:r=126;break;case u.ModalOpacity.OpacityHigh:r=189;break;case u.ModalOpacity.OpacityFull:r=255}return this.node.active?n?[4,l.default.runTweenSync(this.node,cc.tween().to(e,{opacity:r}))]:[3,2]:[2];case 1:return i.sent(),[3,3];case 2:this.node.opacity=r,i.label=3;case 3:return[2]}})})},e.prototype.clickMaskWindow=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return(t=c.default.getInstance().getForm(this.fid))&&t.modalType.clickMaskClose?[4,p.default.close(this.fid)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.getSingleTexture=function(){if(this._texture)return this._texture;for(var t=new Uint8Array(16),e=0;e<2;e++)for(var n=0;n<2;n++)t[8*e+4*n+0]=255,t[8*e+4*n+1]=255,t[8*e+4*n+2]=255,t[8*e+4*n+3]=255;var o=new cc.Texture2D;return o.name="single color",o.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,2,2),o.handleLoadedTexture(),this._texture=o,o.addRef(),this._texture},e.prototype.useNormalSprite=function(t){t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.type=cc.Sprite.Type.SIMPLE,t.spriteFrame=new cc.SpriteFrame(this.getSingleTexture())},e.prototype.useDualBlurSprite=function(t){var e=this,n=[];this._renderTexture||(this._renderTexture=new cc.RenderTexture).initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.game._renderContext.STENCIL_INDEX8),t.enabled=!0,t.targetTexture=this._renderTexture,function(){for(var t=0,o=c.default.getInstance().getUIROOT().getChildByName(u.SysDefine.SYS_TOPTIPS_NODE).children;t<o.length;t++)(s=o[t])._activeInHierarchy&&0!=s.opacity&&(s._dirtyRenderFlag=s._renderFlag,s._renderFlag&=~(cc.RenderFlow.FLAG_CHILDREN|cc.RenderFlow.FLAG_RENDER),n.push(s));e.node._renderFlag&=~cc.RenderFlow.FLAG_RENDER;for(var r=c.default.getInstance().getUIROOT().getChildByName(u.SysDefine.SYS_POPUP_NODE).children,i=r.length-1;i>=0;i--)if(r[i].zIndex>e.node.zIndex){var s;if(!(s=r[i])._activeInHierarchy||0==s.opacity)continue;s._dirtyRenderFlag=s._renderFlag,s._renderFlag&=~(cc.RenderFlow.FLAG_CHILDREN|cc.RenderFlow.FLAG_RENDER),n.push(s)}}(),t.render(),function(){for(var t=0,e=n;t<e.length;t++){var o=e[t];o._renderFlag=o._dirtyRenderFlag}}(),this.sprite.spriteFrame.setTexture(t.targetTexture),this.sprite.markForRender(!0),this.renderDualBlur(t,3),t.enabled=!1},e.prototype.renderDualBlur=function(t,e){var n=cc.view.getVisibleSize();if(this._renderTextures.length<=0)for(var o=0;o<e;o++){var r=Math.pow(2,o),i=new cc.RenderTexture;i.initWithSize(cc.visibleRect.width/r|0,cc.visibleRect.height/r|0),this._renderTextures.push(i)}for(_||((_=this.genMaterial(g)).setProperty("v_halfpixel",[.5/n.width,.5/n.height]),_.setProperty("v_offset",[4,4])),this.sprite.setMaterial(0,_),o=0;o<e;o++)t.targetTexture=this._renderTextures[o],t.render(this.sprite.node),this.sprite.spriteFrame.setTexture(t.targetTexture),this.sprite.markForRender(!0);for(y||((y=this.genMaterial(v)).setProperty("v_halfpixel",[.5/n.width,.5/n.height]),y.setProperty("v_offset",[4,4])),this.sprite.setMaterial(0,y),o=e-1;o>0;o--)t.targetTexture=this._renderTextures[o-1],t.render(this.sprite.node),this.sprite.spriteFrame.setTexture(t.targetTexture),this.sprite.markForRender(!0);this.sprite.setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite"))},e.prototype.genMaterial=function(t){var e=cc.deserialize(t,{priority:0,responseType:"json"});return e.onLoad&&e.onLoad(),e.__onLoadInvoked__=!0,cc.Material.create(e,0)},i([h],e)}(cc.Component));n.default=d;var _=null,y=null,v={__type__:"cc.EffectAsset",_name:"BlurUp",_objFlags:0,_native:"",properties:null,techniques:[{passes:[{blendState:{targets:[{blend:!0}]},rasterizerState:{cullMode:0},properties:{texture:{value:"white",type:29},alphaThreshold:{value:[.5],type:13}},program:"BlurUp|vs|fs"}]}],shaders:[{hash:3005313742,glsl3:{vert:"\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\n#if USE_TEXTURE\nin vec2 a_uv0;\nout vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform ALPHA_TEST {\n    float alphaThreshold;\n  };\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nin vec4 v_color;\n#if USE_TEXTURE\nin vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform CustomUniform {\n  vec2 v_halfpixel;\n  vec2 v_offset;\n};\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0) * 4.0;\n  sum += texture2D(texture, v_uv0 - v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  sum += texture2D(texture, v_uv0 - vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  o = sum / 8.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},glsl1:{vert:"\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\n#if USE_TEXTURE\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nvarying vec4 v_color;\n#if USE_TEXTURE\nvarying vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform vec2 v_halfpixel;\nuniform vec2 v_offset;\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0) * 4.0;\n  sum += texture2D(texture, v_uv0 - v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + v_halfpixel.xy * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  sum += texture2D(texture, v_uv0 - vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset);\n  o = sum / 8.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},builtins:{globals:{blocks:[{name:"CCGlobal",defines:[]}],samplers:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplers:[]}},defines:[{name:"USE_TEXTURE",type:"boolean",defines:[]},{name:"CC_USE_MODEL",type:"boolean",defines:[]},{name:"USE_ALPHA_TEST",type:"boolean",defines:[]},{name:"USE_BGRA",type:"boolean",defines:[]}],blocks:[{name:"ALPHA_TEST",members:[{name:"alphaThreshold",type:13,count:1}],defines:["USE_ALPHA_TEST"],binding:0},{name:"CustomUniform",members:[{name:"v_halfpixel",type:14,count:1},{name:"v_offset",type:14,count:1}],defines:[],binding:1}],samplers:[{name:"texture",type:29,count:1,defines:["USE_TEXTURE"],binding:30}],record:null,name:"BlurUp|vs|fs"}]},g={__type__:"cc.EffectAsset",_name:"BlurDown",_objFlags:0,_native:"",properties:null,techniques:[{passes:[{blendState:{targets:[{blend:!0}]},rasterizerState:{cullMode:0},properties:{texture:{value:"white",type:29},alphaThreshold:{value:[.5],type:13}},program:"BlurDown|vs|fs"}]}],shaders:[{hash:4206633856,glsl3:{vert:"\nprecision highp float;\nuniform CCGlobal {\n  mat4 cc_matView;\n  mat4 cc_matViewInv;\n  mat4 cc_matProj;\n  mat4 cc_matProjInv;\n  mat4 cc_matViewProj;\n  mat4 cc_matViewProjInv;\n  vec4 cc_cameraPos;\n  vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_screenScale;\n};\nuniform CCLocal {\n  mat4 cc_matWorld;\n  mat4 cc_matWorldIT;\n};\nin vec3 a_position;\nin vec4 a_color;\nout vec4 v_color;\n#if USE_TEXTURE\nin vec2 a_uv0;\nout vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform ALPHA_TEST {\n    float alphaThreshold;\n  };\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nin vec4 v_color;\n#if USE_TEXTURE\nin vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform CustomUniform {\n  vec2 v_halfpixel;\n  vec2 v_offset;\n};\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0 + vec2(-v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, -v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  o = sum / 12.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},glsl1:{vert:"\nprecision highp float;\nuniform mat4 cc_matViewProj;\nuniform mat4 cc_matWorld;\nattribute vec3 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\n#if USE_TEXTURE\nattribute vec2 a_uv0;\nvarying vec2 v_uv0;\n#endif\nvoid main () {\n  vec4 pos = vec4(a_position, 1);\n  #if CC_USE_MODEL\n  pos = cc_matViewProj * cc_matWorld * pos;\n  #else\n  pos = cc_matViewProj * pos;\n  #endif\n  #if USE_TEXTURE\n  v_uv0 = a_uv0;\n  #endif\n  v_color = a_color;\n  gl_Position = pos;\n}",frag:"\nprecision highp float;\n#if USE_ALPHA_TEST\n  uniform float alphaThreshold;\n#endif\nvoid ALPHA_TEST (in vec4 color) {\n  #if USE_ALPHA_TEST\n      if (color.a < alphaThreshold) discard;\n  #endif\n}\nvoid ALPHA_TEST (in float alpha) {\n  #if USE_ALPHA_TEST\n      if (alpha < alphaThreshold) discard;\n  #endif\n}\nvarying vec4 v_color;\n#if USE_TEXTURE\nvarying vec2 v_uv0;\nuniform sampler2D texture;\n#endif\nuniform vec2 v_halfpixel;\nuniform vec2 v_offset;\nvoid main () {\n  vec4 o = vec4(1, 1, 1, 1);\n  vec4 sum = texture2D(texture, v_uv0 + vec2(-v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x * 2.0, 0.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  sum += texture2D(texture, v_uv0 + vec2(0.0, -v_halfpixel.y * 2.0) * v_offset);\n  sum += texture2D(texture, v_uv0 + vec2(-v_halfpixel.x, -v_halfpixel.y) * v_offset) * 2.0;\n  o = sum / 12.0;\n  o *= v_color;\n  ALPHA_TEST(o);\n  #if USE_BGRA\n    gl_FragColor = o.bgra;\n  #else\n    gl_FragColor = o.rgba;\n  #endif\n}"},builtins:{globals:{blocks:[{name:"CCGlobal",defines:[]}],samplers:[]},locals:{blocks:[{name:"CCLocal",defines:[]}],samplers:[]}},defines:[{name:"USE_TEXTURE",type:"boolean",defines:[]},{name:"CC_USE_MODEL",type:"boolean",defines:[]},{name:"USE_ALPHA_TEST",type:"boolean",defines:[]},{name:"USE_BGRA",type:"boolean",defines:[]}],blocks:[{name:"ALPHA_TEST",members:[{name:"alphaThreshold",type:13,count:1}],defines:["USE_ALPHA_TEST"],binding:0},{name:"CustomUniform",members:[{name:"v_halfpixel",type:14,count:1},{name:"v_offset",type:14,count:1}],defines:[],binding:1}],samplers:[{name:"texture",type:29,count:1,defines:["USE_TEXTURE"],binding:30}],record:null,name:"BlurDown|vs|fs"}]};cc._RF.pop()},{"./CocosHelper":"CocosHelper","./UIManager":"UIManager","./WindowMgr":"WindowMgr","./config/SysDefine":"SysDefine"}],UINavigator_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"27e91DCYAREr6jZLIjA5zmw","UINavigator_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Scroll=null,e}return r(e,t),i([c(cc.ScrollView)],e.prototype,"Scroll",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UINavigator:[function(t,e,n){"use strict";cc._RF.push(e,"64d76l/v4JPK6JM5Y8OH42G","UINavigator");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/FormMgr"),a=t("../UIFrame/UIForm"),c=t("./../UIConfig"),u=cc._decorator,l=u.ccclass,p=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){for(var t=0,e=this.view.Scroll.content.children;t<e.length;t++)e[t].on(cc.Node.EventType.TOUCH_END,this.onClickButton,this)},e.prototype.onClickButton=function(t){switch(t.getCurrentTarget().name){case"project":s.default.open(c.default.UIHome);break;case"light":s.default.open(c.default.UILight);break;case"capture":s.default.open(c.default.UICapture);break;case"mobx":s.default.open(c.default.UIMobx);break;case"dungeon":s.default.open(c.default.UIDungeon);break;case"splitTexture":s.default.open(c.default.UISplitTexture);break;case"scrollTexture":s.default.open(c.default.UIScrollTexture);break;case"meshTexture":s.default.open(c.default.UIMeshTexture)}},i([l],e)}(a.UIScreen));n.default=p,cc._RF.pop()},{"../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm","./../UIConfig":"UIConfig"}],UIPop_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"ff343z++axN/JazAmdJADSo","UIPop_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Close=null,e}return r(e,t),i([u(s.default)],e.prototype,"Close",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UIPop:[function(t,e,n){"use strict";cc._RF.push(e,"8fc71BDtH9K7Js1AoFqRdoT","UIPop");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/config/SysDefine"),a=t("../UIFrame/Struct"),c=t("../UIFrame/UIForm"),u=cc._decorator,l=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalType=new a.ModalType(s.ModalOpacity.OpacityHalf),e}return r(e,t),e.prototype.start=function(){var t=this;this.view.Close.addClick(function(){t.closeSelf()},this)},i([l],e)}(c.UIWindow));n.default=p,cc._RF.pop()},{"../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine"}],UIScrollPlus:[function(t,e,n){"use strict";cc._RF.push(e,"560e1xSQSJMfZRGHo2ilXIy","UIScrollPlus");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollPlusProxy=void 0;var s=t("../Common/Components/ScrollViewHelper"),a=t("../UIFrame/config/SysDefine"),c=t("../UIFrame/Struct"),u=t("../UIFrame/UIForm"),l=cc._decorator,p=l.ccclass,f=l.property,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s.ScrollViewElementProxy);n.ScrollPlusProxy=h;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollHelper=null,e.pfItem=null,e.modalType=new c.ModalType(a.ModalOpacity.OpacityHalf,!0),e._nodePool=new cc.NodePool,e}return r(e,t),e.prototype.start=function(){var t=this;this.layoutItems(),this.scrollHelper.onAllocUI=function(e){var n=t._nodePool.get()||cc.instantiate(t.pfItem);e.ui=n,n.parent=t.scrollHelper.scrollView.content,n.setPosition(e.region.x,e.region.y),e.ui.getChildByName("lab").getComponent(cc.Label).string=""+e.lab},this.scrollHelper.onFreeUI=function(e){t._nodePool.put(e.ui),e.ui=null},this.scrollHelper.isUIPooled=function(){return t._nodePool.size()>0},this.scrollHelper.checkUI()},e.prototype.layoutItems=function(){var t=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];this.scrollHelper.clearData();for(var e=0,n=0;n<t.length;n++){var o=new h;o.lab=t[n],o.region=cc.rect(-this.pfItem.data.width/2,e-this.pfItem.data.height,this.pfItem.data.width,this.pfItem.data.height),this.scrollHelper.addData(o),e-=this.pfItem.data.height+10}this.scrollHelper.scrollView.content.height=(this.pfItem.data.height+10)*t.length},i([f(s.ScrollViewHelper)],e.prototype,"scrollHelper",void 0),i([f(cc.Prefab)],e.prototype,"pfItem",void 0),i([p],e)}(u.UIWindow);n.default=d,cc._RF.pop()},{"../Common/Components/ScrollViewHelper":"ScrollViewHelper","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine"}],UIScrollTexture:[function(t,e,n){"use strict";cc._RF.push(e,"2f727ajIaBJPYHecdX0LjtZ","UIScrollTexture");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/UIForm"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spTexture=null,e.turn=1,e.progress=0,e}return r(e,t),e.prototype.start=function(){},e.prototype.update=function(t){this.progress+=t*this.turn*.2,this.spTexture.getMaterial(0).setProperty("progress",this.progress),this.progress>=1&&(this.turn=-1),this.progress<=0&&(this.turn=1)},i([u(cc.Sprite)],e.prototype,"spTexture",void 0),i([c],e)}(s.UIScreen);n.default=l,cc._RF.pop()},{"../UIFrame/UIForm":"UIForm"}],UISetting_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"22575SjFCNL45HIdqXg3GL6","UISetting_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Pop=null,e.Mobx=null,e.Capture=null,e.Light=null,e}return r(e,t),i([u(s.default)],e.prototype,"Pop",void 0),i([u(s.default)],e.prototype,"Mobx",void 0),i([u(s.default)],e.prototype,"Capture",void 0),i([u(s.default)],e.prototype,"Light",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UISetting:[function(t,e,n){"use strict";cc._RF.push(e,"8384b6jqxlDuraR/lQRKE1C","UISetting");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../UIFrame/AdapterMgr"),u=t("../UIFrame/CocosHelper"),l=t("../UIFrame/config/SysDefine"),p=t("../UIFrame/FormMgr"),f=t("../UIFrame/Struct"),h=t("../UIFrame/UIForm"),d=t("./../UIConfig"),_=cc._decorator,y=_.ccclass,v=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalType=new f.ModalType(l.ModalOpacity.OpacityHalf,!0),e}return r(e,t),e.prototype.start=function(){this.view.Pop.addClick(function(){p.default.open(d.default.UIPop)},this),this.view.Mobx.addClick(function(){p.default.open(d.default.UIMobx)},this),this.view.Capture.addClick(function(){p.default.open(d.default.UICapture)},this),this.view.Light.addClick(function(){p.default.open(d.default.UILight)},this)},e.prototype.showEffect=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return t=c.default.inst.visibleSize.height/2+300,this.node.y=t,[4,u.default.runTweenSync(this.node,cc.tween().to(.5,{y:0},cc.easeBackOut()))];case 1:return e.sent(),[2]}})})},e.prototype.hideEffect=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return t=c.default.inst.visibleSize.height/2+300,this.node.y=0,[4,u.default.runTweenSync(this.node,cc.tween().to(.3,{y:t},cc.easeBackIn()))];case 1:return e.sent(),[2]}})})},i([y],e)}(h.UIWindow));n.default=v,cc._RF.pop()},{"../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/CocosHelper":"CocosHelper","../UIFrame/FormMgr":"FormMgr","../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine","./../UIConfig":"UIConfig"}],UISkills_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"8169469d1pBaIeedlgzYf6P","UISkills_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Close=null,e}return r(e,t),i([u(s.default)],e.prototype,"Close",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UISkills:[function(t,e,n){"use strict";cc._RF.push(e,"4004bJq0M9Cooeh3WQfDjpu","UISkills");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/UIForm"),a=cc._decorator,c=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){var t=this;this.view.Close.addClick(function(){t.closeSelf()},this)},i([c],e)}(s.UIWindow));n.default=u,cc._RF.pop()},{"../UIFrame/UIForm":"UIForm"}],UISound:[function(t,e,n){"use strict";cc._RF.push(e,"c1bbcSeeFFDW6AB+mQtYDv7","UISound");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/AdapterMgr"),a=t("../UIFrame/UIForm"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){s.default.inst.adapteByType(s.AdapterType.Right|s.AdapterType.Top,this.node)},i([u],e)}(a.UIFixed));n.default=l,cc._RF.pop()},{"../UIFrame/AdapterMgr":"AdapterMgr","../UIFrame/UIForm":"UIForm"}],UISplitTexture_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"e756flXrulLpp2O1qP7l/Ru","UISplitTexture_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./../Common/Components/ButtonPlus"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Close=null,e}return r(e,t),i([u(s.default)],e.prototype,"Close",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./../Common/Components/ButtonPlus":"ButtonPlus"}],UISplitTexture:[function(t,e,n){"use strict";cc._RF.push(e,"7b812zUAqRCDKXwz6AOISUT","UISplitTexture");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Common/Components/TexturePlus"),a=t("../Common/Utils/PolygonUtil"),c=t("../UIFrame/UIForm"),u=t("../UIFrame/FormMgr"),l=cc._decorator,p=l.ccclass,f=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textureRoot=null,e.graphics=null,e.pic=null,e.textures=[],e.startPoint=null,e.endPoint=null,e}return r(e,t),e.prototype.start=function(){this.init(),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.graphics.node.x=-cc.visibleRect.width/2,this.graphics.node.y=-cc.visibleRect.height/2,this.view.Close.addClick(function(){u.default.backScene()},this)},e.prototype.init=function(){var t=new cc.Node,e=t.addComponent(s.default);t.parent=this.textureRoot,e.texture=this.pic,this.textures.push(e)},e.prototype.onTouchStart=function(t){this.startPoint=t.getLocation()},e.prototype.onTouchMove=function(t){this.graphics.clear(),this.graphics.moveTo(this.startPoint.x,this.startPoint.y);var e=t.getLocation();this.graphics.lineTo(e.x,e.y),this.graphics.stroke()},e.prototype.onTouchEnd=function(t){this.graphics.clear(),this.endPoint=t.getLocation(),this.useLineCutPolygon(this.startPoint,this.endPoint)},e.prototype.doSplit=function(){for(var t=this.pic.height,e=this.pic.width,n=0;n<15;n++){var o=cc.v2(-(e/2+10),Math.random()*t-t/2),r=cc.v2(e/2+10,Math.random()*t-t/2);this.useLineCutPolygon(o,r,!1)}for(n=0;n<15;n++)o=cc.v2(Math.random()*e-e/2,-(t/2+10)),r=cc.v2(Math.random()*e-e/2,t/2+10),this.useLineCutPolygon(o,r,!1)},e.prototype.useLineCutPolygon=function(t,e,n){void 0===n&&(n=!0);for(var o=this.textures.length-1;o>=0;o--){var r=this.textures[o],i=t.clone(),s=e.clone();n&&(i=r.node.convertToNodeSpaceAR(t),s=r.node.convertToNodeSpaceAR(e));var c=a.PolygonUtil.lineCutPolygon(i,s,r.polygon);c.length<=0||this.splitTexture(r,c)}},e.prototype.splitTexture=function(t,e){t.polygon=e[0];for(var n=1;n<e.length;n++){var o=new cc.Node,r=o.addComponent(s.default);o.parent=this.textureRoot,o.setPosition(t.node.position),r.texture=this.pic,r.polygon=e[n],this.textures.push(r)}},e.prototype.onClickFly=function(){for(var t=0;t<this.textures.length;t++){var e=this.getPolygonCenter(this.textures[t].polygon).normalize();cc.tween(this.textures[t].node).by(5,{x:500*e.x,y:500*e.y}).start()}},e.prototype.onClickReset=function(){for(var t=this,e=function(e){var o=n.getPolygonCenter(n.textures[e].polygon).normalize();cc.tween(n.textures[e].node).by(5,{x:500*-o.x,y:500*-o.y}).call(function(){e===t.textures.length-1&&(t.textureRoot.destroyAllChildren(),t.textureRoot.removeAllChildren(),t.textures=[],t.init())}).start()},n=this,o=0;o<this.textures.length;o++)e(o)},e.prototype.onFallDown=function(){for(var t=0;t<this.textures.length;t++){var e=this.getPolygonCenter(this.textures[t].polygon);cc.tween(this.textures[t].node).delay((e.y+this.pic.height)/this.pic.height).by(2,{y:-500},cc.easeCircleActionIn()).start()}},e.prototype.onResetFallDown=function(){},e.prototype.getPolygonCenter=function(t){for(var e=0,n=0,o=0;o<t.length;o++)e+=t[o].x,n+=t[o].y;return e/=t.length,n/=t.length,cc.v2(e,n)},i([f(cc.Node)],e.prototype,"textureRoot",void 0),i([f(cc.Graphics)],e.prototype,"graphics",void 0),i([f(cc.Texture2D)],e.prototype,"pic",void 0),i([p],e)}(c.UIScreen);n.default=h,cc._RF.pop()},{"../Common/Components/TexturePlus":"TexturePlus","../Common/Utils/PolygonUtil":"PolygonUtil","../UIFrame/FormMgr":"FormMgr","../UIFrame/UIForm":"UIForm"}],UITips_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"720c13VLvBJS7Yo0OZQVmt0","UITips_Auto");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Tips=null,e}return r(e,t),i([c(cc.Label)],e.prototype,"Tips",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],UITips:[function(t,e,n){"use strict";cc._RF.push(e,"ff954WkF+tGYpoJLOVBFST0","UITips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../UIFrame/config/SysDefine"),a=t("../UIFrame/Struct"),c=t("../UIFrame/UIForm"),u=cc._decorator,l=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modalType=new a.ModalType(s.ModalOpacity.OpacityHalf,!0),e}return r(e,t),e.prototype.start=function(){},e.prototype.onShow=function(t){this.view.Tips.string=t},i([l],e)}(c.UIWindow));n.default=p,cc._RF.pop()},{"../UIFrame/Struct":"Struct","../UIFrame/UIForm":"UIForm","../UIFrame/config/SysDefine":"SysDefine"}],UIToast:[function(t,e,n){"use strict";cc._RF.push(e,"f1211m5xUNKR7NsrmF2i3SV","UIToast");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ToastMgr=n.UIToast=n.ToastType=void 0;var a=t("../Common/Utils/Pool"),c=t("./CocosHelper"),u=t("./UIBase");(function(t){t[t.Default=0]="Default"})(n.ToastType||(n.ToastType={}));var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.use=function(){},e.prototype.free=function(){},e}(u.default);n.UIToast=l;var p=function(){function t(){this._pools={}}return t.prototype.load=function(t){return i(this,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:return this._pools[t]?[3,2]:[4,c.default.loadResSync(t,cc.Prefab)];case 1:e=n.sent(),this._pools[t]=new a.Pool(function(){return cc.instantiate(e).getComponent(l)},10),n.label=2;case 2:return[2,this._pools[t].alloc()]}})})},t.prototype.register=function(){},t.prototype.free=function(t,e){return i(this,void 0,void 0,function(){return s(this,function(){return this._pools[t].free(e),[2]})})},t.prototype.open=function(){return i(this,void 0,void 0,function(){return s(this,function(){return[2]})})},t.prototype.close=function(){return i(this,void 0,void 0,function(){return s(this,function(){return[2]})})},t}();n.ToastMgr=p,cc._RF.pop()},{"../Common/Utils/Pool":"Pool","./CocosHelper":"CocosHelper","./UIBase":"UIBase"}],UIWave:[function(t,e,n){"use strict";cc._RF.push(e,"80a09Nx+l9II75ZmMkvlSAs","UIWave");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.polygonCollider=null,e}return r(e,t),e.prototype.start=function(){this.polygonCollider.points=[]},i([c(cc.PhysicsPolygonCollider)],e.prototype,"polygonCollider",void 0),i([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],WindowMgr:[function(t,e,n){"use strict";cc._RF.push(e,"14f25mz3sdN6Yu+aE4UQvmc","WindowMgr");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Common/Utils/PriorityQueue"),s=t("../Common/Utils/PriorityStack"),a=t("./Struct"),c=t("./UIManager"),u=function(){function t(){this._showingList=new s.default,this._waitingList=new i.default,this._currWindow=""}return Object.defineProperty(t.prototype,"currWindow",{get:function(){return this._currWindow},enumerable:!1,configurable:!0}),t.prototype.getWindows=function(){return this._showingList.getElements()},t.prototype.open=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return n=this._formatFormData(n),this._showingList.size<=0||!n.showWait&&n.priority>=this._showingList.getTopEPriority()?(this._showingList.push(t,n.priority),this._currWindow=this._showingList.getTopElement(),[4,c.default.getInstance().openForm(t,e,n)]):[3,2];case 1:return[2,o.sent()];case 2:return this._waitingList.enqueue({prefabPath:t,params:e,formData:n}),[4,c.default.getInstance().loadUIForm(t)];case 3:return[2,o.sent()]}})})},t.prototype.close=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return this._showingList.remove(t)?[4,c.default.getInstance().closeForm(t)]:[2,!1];case 1:return n.sent(),this._showingList.size<=0&&this._waitingList.size>0&&(e=this._waitingList.dequeue(),this.open(e.prefabPath,e.params,e.formData)),[2,!0]}})})},t.prototype.closeAll=function(){return o(this,void 0,void 0,function(){var t,e,n;return r(this,function(o){switch(o.label){case 0:this._waitingList.clear(),t=0,e=this._showingList.getElements(),o.label=1;case 1:return t<e.length?(n=e[t],[4,c.default.getInstance().closeForm(n)]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return this._showingList.clear(),[2,!0]}})})},t.prototype._formatFormData=function(t){return Object.assign({showWait:!1,priority:a.EPriority.FIVE},t)},t}();n.default=new u,cc._RF.pop()},{"../Common/Utils/PriorityQueue":"PriorityQueue","../Common/Utils/PriorityStack":"PriorityStack","./Struct":"Struct","./UIManager":"UIManager"}],mobx:[function(t,e,n){(function(t){"use strict";cc._RF.push(e,"de3aaq1fItEy5tKcvHOTs15","mobx"),n.__esModule=!0,n.$mobx=void 0,n.FlowCancellationError=Fn,n.Reaction=n.ObservableSet=n.ObservableMap=void 0,n._allowStateChanges=ee,n.runInAction=n._allowStateChangesInsideComputed=function(t){return Qt(t.name||an,!1,t,this,void 0)},n._allowStateReadsEnd=Ce,n._allowStateReadsStart=Pe,n._autoAction=void 0,n._endAction=te,n._getAdministration=$o,n._getGlobalState=function(){return Me},n._interceptReads=function(t,e,n){var r;if(Uo(t)||Po(t)||ae(t))r=$o(t);else if(Bo(t)){if("production"!==o&&!x(e))return i("InterceptReads can only be used with a specific property, not with an object in general");r=$o(t,e)}else if("production"!==o)return i("Expected observable map, object or array as first array");return"production"!==o&&void 0!==r.dehancer?i("An intercept reader was already established"):(r.dehancer="function"==typeof e?e:n,function(){r.dehancer=void 0})},n._isComputingDerivation=function(){return null!==Me.trackingDerivation},n._resetGlobalState=function(){var t=new Re;for(var e in t)-1===Te.indexOf(e)&&(Me[e]=t[e]);Me.allowStateChanges=!Me.enforceActions},n._startAction=$t,n.action=void 0,n.autorun=yn,n.computed=n.comparer=void 0,n.configure=function(t){!0===t.isolateGlobalState&&Fe();var e,n,r=t.useProxies,i=t.enforceActions;if(void 0!==r&&(Me.useProxies=r===Cn||r!==Pn&&"undefined"!=typeof Proxy),"ifavailable"===r&&(Me.verifyProxies=!0),void 0!==i){var s=i===Cn?Cn:i===Sn;Me.enforceActions=s,Me.allowStateChanges=!0!==s&&s!==Cn}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(e){e in t&&(Me[e]=!!t[e])}),Me.allowStateReads=!Me.observableRequiresReaction,"production"!==o&&!0===Me.disableErrorBoundaries&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),t.reactionScheduler&&(e=t.reactionScheduler,n=Xe,Xe=function(t){return e(function(){return n(t)})})},n.createAtom=tt,n.defineProperty=function(t,e,n){if(Bo(t))return t[Z].defineProperty_(e,n);i(39)},n.entries=function(t){return Bo(t)?Gn(t).map(function(e){return[e,t[e]]}):Uo(t)?Gn(t).map(function(e){return[e,t.get(e)]}):Eo(t)?Array.from(t.entries()):Po(t)?t.map(function(t,e){return[e,t]}):void i(7)},n.extendObservable=Tn,n.flow=void 0,n.flowResult=function(t){return t},n.get=function(t,e){if(Wn(t,e))return Bo(t)?t[Z].get_(e):Uo(t)?t.get(e):Po(t)?t[e]:void i(11)},n.getAtom=Qo,n.getDebugName=tr,n.getDependencyTree=Rn,n.getObserverTree=function(t,e){return Un(Qo(t,e))},n.has=Wn,n.intercept=function(t,e,n){return w(n)?Nn(t,e,n):Ln(t,e)},n.isAction=_n,n.isBoxedObservable=void 0,n.isComputed=function(t){return"production"!==o&&arguments.length>1?i("isComputed expects only 1 argument. Use isComputedProp to inspect the observability of a property"):Bn(t)},n.isComputedProp=function(t,e){return"production"===o||x(e)?Bn(t,e):i("isComputed expected a property name as second argument")},n.isFlow=kn,n.isFlowCancellationError=function(t){return t instanceof Fn},n.isObservable=Hn,n.isObservableArray=Po,n.isObservableMap=void 0,n.isObservableObject=Bo,n.isObservableProp=function(t,e){return"production"===o||x(e)?Vn(t,e):i("expected a property name as second argument")},n.isObservableSet=void 0,n.keys=Gn,n.makeAutoObservable=function(t,e,n){if("production"!==o&&(P(t)||P(Object.getPrototypeOf(t))||i("'makeAutoObservable' can only be used for classes that don't have a superclass"),Bo(t)&&i("makeAutoObservable can only be used on objects not already made observable")),P(t))return Tn(t,t,e,n);var r=ko(t,n)[Z];if(!t[lo]){var s=Object.getPrototypeOf(t),a=new Set([].concat(A(t),A(s)));a.delete("constructor"),a.delete(Z),S(s,lo,a)}Le();try{t[lo].forEach(function(t){return r.make_(t,!e||!(t in e)||e[t])})}finally{Ne()}return t},n.makeObservable=function(t,e,n){var o=ko(t,n)[Z];Le();try{null!=e||(e=J(t)),A(e).forEach(function(t){return o.make_(t,e[t])})}finally{Ne()}return t},n.observable=void 0,n.observe=function(t,e,n,o){return w(n)?Yn(t,e,n,o):qn(t,e,n)},n.onBecomeObserved=wn,n.onBecomeUnobserved=xn,n.onReactionError=function(t){return Me.globalReactionErrorHandlers.push(t),function(){var e=Me.globalReactionErrorHandlers.indexOf(t);e>=0&&Me.globalReactionErrorHandlers.splice(e,1)}},n.override=void 0,n.ownKeys=zn,n.reaction=function(t,e,n){var r;void 0===n&&(n=h),"production"!==o&&(w(t)&&w(e)||i("First and second argument to reaction should be functions"),P(n)||i("Third argument of reactions should be an object"));var s,a,c,u=null!=(r=n.name)?r:"production"!==o?"Reaction@"+g():"Reaction",l=hn(u,n.onError?(a=n.onError,c=e,function(){try{return c.apply(this,arguments)}catch(t){a.call(this,t)}}):e),p=!n.scheduler&&!n.delay,f=gn(n),d=!0,_=!1,y=void 0,v=n.compareStructural?et.structural:n.equals||et.default,b=new qe(u,function(){d||p?m():_||(_=!0,f(m))},n.onError,n.requiresObservable);function m(){if(_=!1,!b.isDisposed_){var e=!1;b.track(function(){var n=ee(!1,function(){return t(b)});e=d||!v(s,n),y=s,s=n}),d&&n.fireImmediately?l(s,y,b):!d&&e&&l(s,y,b),d=!1}}return b.schedule_(),b.getDisposer_()},n.remove=function(t,e){Bo(t)?t[Z].delete_(e):Uo(t)?t.delete(e):Eo(t)?t.delete(e):Po(t)?("number"!=typeof e&&(e=parseInt(e,10)),t.splice(e,1)):i(9)},n.set=function t(e,n,o){if(2!==arguments.length||Eo(e))Bo(e)?e[Z].set_(n,o):Uo(e)?e.set(n,o):Eo(e)?e.add(n):Po(e)?("number"!=typeof n&&(n=parseInt(n,10)),n<0&&i("Invalid index: '"+n+"'"),Le(),n>=e.length&&(e.length=n+1),e[n]=o,Ne()):i(8);else{Le();var r=n;try{for(var s in r)t(e,s,r[s])}finally{Ne()}}},n.spy=on,n.toJS=function(t,e){return"production"!==o&&e&&i("toJS no longer supports options"),Kn(t,new Map)},n.trace=Jn,n.transaction=Qn,n.untracked=we,n.values=function(t){return Bo(t)?Gn(t).map(function(e){return t[e]}):Uo(t)?Gn(t).map(function(e){return t.get(e)}):Eo(t)?Array.from(t.values()):Po(t)?t.slice():void i(6)},n.when=function(t,e,n){return 1===arguments.length||e&&"object"==typeof e?to(t,e):$n(t,e,n||{})};var o="production",r="production"!==o?{0:"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",1:function(t,e){return"Cannot apply '"+t+"' to '"+e.toString()+"': Field not found."},5:"'keys()' can only be used on observable objects, arrays, sets and maps",6:"'values()' can only be used on observable objects, arrays, sets and maps",7:"'entries()' can only be used on observable objects, arrays and maps",8:"'set()' can only be used on observable objects, arrays and maps",9:"'remove()' can only be used on observable objects, arrays and maps",10:"'has()' can only be used on observable objects, arrays and maps",11:"'get()' can only be used on observable objects, arrays and maps",12:"Invalid annotation",13:"Dynamic observable objects cannot be frozen",14:"Intercept handlers should return nothing or a change object",15:"Observable arrays cannot be frozen",16:"Modification exception: the internal structure of an observable array was changed.",17:function(t,e){return"[mobx.array] Index out of bounds, "+t+" is larger than "+e},18:"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",19:function(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},20:function(t){return"Cannot initialize map from "+t},21:function(t){return"Cannot convert to map from '"+t+"'"},22:"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",23:"It is not possible to get index atoms from arrays",24:function(t){return"Cannot obtain administration from "+t},25:function(t,e){return"the entry '"+t+"' does not exist in the observable map '"+e+"'"},26:"please specify a property",27:function(t,e){return"no observable property '"+t.toString()+"' found on the observable object '"+e+"'"},28:function(t){return"Cannot obtain atom from "+t},29:"Expecting some object",30:"invalid action stack. did you forget to finish an action?",31:"missing option for computed: get",32:function(t,e){return"Cycle detected in computation "+t+": "+e},33:function(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},34:function(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},35:"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",36:"isolateGlobalState should be called before MobX is running any reactions",37:function(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},38:"'ownKeys()' can only be used on observable objects",39:"'defineProperty()' can only be used on observable objects"}:{};function i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("production"!==o){var s="string"==typeof t?t:r[t];throw"function"==typeof s&&(s=s.apply(null,n)),new Error("[MobX] "+s)}throw new Error("number"==typeof t?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var s={};function a(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:s}var c=Object.assign,u=Object.getOwnPropertyDescriptor,l=Object.defineProperty,p=Object.prototype,f=[];Object.freeze(f);var h={};Object.freeze(h);var d="undefined"!=typeof Proxy,_=Object.toString();function y(){d||i("production"!==o?"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`":"Proxy not available")}function v(t){"production"!==o&&Me.verifyProxies&&i("MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to "+t)}function g(){return++Me.mobxGuid}function b(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var m=function(){};function w(t){return"function"==typeof t}function x(t){switch(typeof t){case"string":case"symbol":case"number":return!0}return!1}function O(t){return null!==t&&"object"==typeof t}function P(t){var e;if(!O(t))return!1;var n=Object.getPrototypeOf(t);return null==n||(null==(e=n.constructor)?void 0:e.toString())===_}function C(t){var e=null==t?void 0:t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName)}function S(t,e,n){l(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function T(t,e,n){l(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function R(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return O(t)&&!0===t[n]}}function I(t){return t instanceof Map}function U(t){return t instanceof Set}var M=void 0!==Object.getOwnPropertySymbols;function F(t){var e=Object.keys(t);if(!M)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(e){return p.propertyIsEnumerable.call(t,e)})):e}var A="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:M?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function E(t){return"string"==typeof t?t:"symbol"==typeof t?t.toString():new String(t).toString()}function j(t){return null===t?null:"object"==typeof t?""+t:t}function D(t,e){return p.hasOwnProperty.call(t,e)}var k=Object.getOwnPropertyDescriptors||function(t){var e={};return A(t).forEach(function(n){e[n]=u(t,n)}),e};function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function N(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),t}function B(){return(B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function V(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t,e){if(t){if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function z(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=G(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}var q=Symbol("mobx-stored-annotations");function Y(t){return Object.assign(function(e,n){X(e,n,t)},t)}function X(t,e,n){D(t,q)||S(t,q,B({},t[q])),"production"!==o&&st(n)&&!D(t[q],e)&&i("'"+t.constructor.name+".prototype."+e.toString()+"' is decorated with 'override', but no such decorated member was found on prototype."),K(t,n,e),st(n)||(t[q][e]=n)}function K(t,e,n){if("production"!==o&&!st(e)&&D(t[q],n)){var r=t.constructor.name+".prototype."+n.toString(),s=t[q][n].annotationType_;i("Cannot apply '@"+e.annotationType_+"' to '"+r+"':\nThe field is already decorated with '@"+s+"'.\nRe-decorating fields is not allowed.\nUse '@override' decorator for methods overriden by subclass.")}}function J(t){return D(t,q)||("production"===o||t[q]||i("No annotations were passed to makeObservable, but no decorated members have been found either"),S(t,q,B({},t[q]))),t[q]}var Z=Symbol("mobx administration");n.$mobx=Z;var Q=function(){function t(t){void 0===t&&(t="production"!==o?"Atom@"+g():"Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ce.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},e.reportObserved=function(){return Be(this)},e.reportChanged=function(){Le(),Ve(this),Ne()},e.toString=function(){return this.name_},t}(),$=R("Atom",Q);function tt(t,e,n){void 0===e&&(e=m),void 0===n&&(n=m);var o=new Q(t);return e!==m&&wn(o,e),n!==m&&xn(o,n),o}var et={identity:function(t,e){return t===e},structural:function(t,e){return nr(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return nr(t,e,1)}};function nt(t,e,n){return Hn(t)?t:Array.isArray(t)?Bt.array(t,{name:n}):P(t)?Bt.object(t,void 0,{name:n}):I(t)?Bt.map(t,{name:n}):U(t)?Bt.set(t,{name:n}):"function"!=typeof t||_n(t)||kn(t)?t:C(t)?jn(t):dn(n,t)}function ot(t){return t}n.comparer=et;var rt="override",it=Y({annotationType_:rt,make_:function(t,e){return"production"!==o&&t.isPlainObject_&&i("Cannot apply '"+this.annotationType_+"' to '"+t.name_+"."+e.toString()+"':\n'"+this.annotationType_+"' cannot be used on plain objects."),"production"===o||D(t.appliedAnnotations_,e)||i("'"+t.name_+"."+e.toString()+"' is annotated with '"+this.annotationType_+"', but no such annotated member was found on prototype."),0},extend_:function(){i("'"+this.annotationType_+"' can only be used with 'makeObservable'")}});function st(t){return t.annotationType_===rt}function at(t,e){return{annotationType_:t,options_:e,make_:ct,extend_:ut}}function ct(t,e,n,o){var r;if(null==(r=this.options_)?void 0:r.bound)return null===this.extend_(t,e,n,!1)?0:1;if(o===t.target_)return null===this.extend_(t,e,n,!1)?0:2;if(_n(n.value))return 1;var i=pt(t,this,e,n,!1);return l(o,e,i),2}function ut(t,e,n,o){var r=pt(t,this,e,n);return t.defineProperty_(e,r,o)}function lt(t,e,n,r){var s=e.annotationType_,a=r.value;"production"===o||w(a)||i("Cannot apply '"+s+"' to '"+t.name_+"."+n.toString()+"':\n'"+s+"' can only be used on properties with a function value.")}function pt(t,e,n,o,r){var i,s,a,c,u;void 0===r&&(r=Me.safeDescriptors),lt(t,e,n,o);var l,p=o.value;return(null==(i=e.options_)?void 0:i.bound)&&(p=p.bind(null!=(l=t.proxy_)?l:t.target_)),{value:Zt(null!=(s=null==(a=e.options_)?void 0:a.name)?s:n.toString(),p,null!=(c=null==(u=e.options_)?void 0:u.autoAction)&&c),configurable:!r||t.isPlainObject_,enumerable:!1,writable:!r}}function ft(t,e){return{annotationType_:t,options_:e,make_:ht,extend_:dt}}function ht(t,e,n,o){var r;if(o===t.target_)return null===this.extend_(t,e,n,!1)?0:2;if((null==(r=this.options_)?void 0:r.bound)&&!kn(t.target_[e])&&null===this.extend_(t,e,n,!1))return 0;if(kn(n.value))return 1;var i=yt(t,this,e,n,!1,!1);return l(o,e,i),2}function dt(t,e,n,o){var r,i=yt(t,this,e,n,null==(r=this.options_)?void 0:r.bound);return t.defineProperty_(e,i,o)}function _t(t,e,n,r){var s=e.annotationType_,a=r.value;"production"===o||w(a)||i("Cannot apply '"+s+"' to '"+t.name_+"."+n.toString()+"':\n'"+s+"' can only be used on properties with a generator function value.")}function yt(t,e,n,o,r,i){void 0===i&&(i=Me.safeDescriptors),_t(t,e,n,o);var s,a=o.value;return r&&(a=a.bind(null!=(s=t.proxy_)?s:t.target_)),{value:jn(a),configurable:!i||t.isPlainObject_,enumerable:!1,writable:!i}}function vt(t,e){return{annotationType_:t,options_:e,make_:gt,extend_:bt}}function gt(t,e,n){return null===this.extend_(t,e,n,!1)?0:1}function bt(t,e,n,o){return mt(t,this,e,n),t.defineComputedProperty_(e,B({},this.options_,{get:n.get,set:n.set}),o)}function mt(t,e,n,r){var s=e.annotationType_,a=r.get;"production"===o||a||i("Cannot apply '"+s+"' to '"+t.name_+"."+n.toString()+"':\n'"+s+"' can only be used on getter(+setter) properties.")}function wt(t,e){return{annotationType_:t,options_:e,make_:xt,extend_:Ot}}function xt(t,e,n){return null===this.extend_(t,e,n,!1)?0:1}function Ot(t,e,n,o){var r,i;return Pt(t,this,e,n),t.defineObservableProperty_(e,n.value,null!=(r=null==(i=this.options_)?void 0:i.enhancer)?r:nt,o)}function Pt(t,e,n,r){var s=e.annotationType_;"production"===o||"value"in r||i("Cannot apply '"+s+"' to '"+t.name_+"."+n.toString()+"':\n'"+s+"' cannot be used on getter/setter properties")}n.override=it;var Ct="true",St=Tt();function Tt(t){return{annotationType_:Ct,options_:t,make_:Rt,extend_:It}}function Rt(t,e,n,o){var r,i,s,a;if(n.get)return zt.make_(t,e,n,o);if(n.set){var c=Zt(e.toString(),n.set);return o===t.target_?null===t.defineProperty_(e,{configurable:!Me.safeDescriptors||t.isPlainObject_,set:c})?0:2:(l(o,e,{configurable:!0,set:c}),2)}if(o!==t.target_&&"function"==typeof n.value)return C(n.value)?((null==(a=this.options_)?void 0:a.autoBind)?jn.bound:jn).make_(t,e,n,o):((null==(s=this.options_)?void 0:s.autoBind)?dn.bound:dn).make_(t,e,n,o);var u,p=!1===(null==(r=this.options_)?void 0:r.deep)?Bt.ref:Bt;return"function"==typeof n.value&&(null==(i=this.options_)?void 0:i.autoBind)&&(n.value=n.value.bind(null!=(u=t.proxy_)?u:t.target_)),p.make_(t,e,n,o)}function It(t,e,n,o){var r,i,s;return n.get?zt.extend_(t,e,n,o):n.set?t.defineProperty_(e,{configurable:!Me.safeDescriptors||t.isPlainObject_,set:Zt(e.toString(),n.set)},o):("function"==typeof n.value&&(null==(r=this.options_)?void 0:r.autoBind)&&(n.value=n.value.bind(null!=(s=t.proxy_)?s:t.target_)),(!1===(null==(i=this.options_)?void 0:i.deep)?Bt.ref:Bt).extend_(t,e,n,o))}var Ut={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Mt(t){return t||Ut}Object.freeze(Ut);var Ft=wt("observable"),At=wt("observable.ref",{enhancer:ot}),Et=wt("observable.shallow",{enhancer:function(t,e,n){return null==t?t:Bo(t)||Po(t)||Uo(t)||Eo(t)?t:Array.isArray(t)?Bt.array(t,{name:n,deep:!1}):P(t)?Bt.object(t,void 0,{name:n,deep:!1}):I(t)?Bt.map(t,{name:n,deep:!1}):U(t)?Bt.set(t,{name:n,deep:!1}):void("production"!==o&&i("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets"))}}),jt=wt("observable.struct",{enhancer:function(t,e){return"production"!==o&&Hn(t)&&i("observable.struct should not be used with observable values"),nr(t,e)?e:t}}),Dt=Y(Ft);function kt(t){return!0===t.deep?nt:!1===t.deep?ot:(e=t.defaultDecorator)&&null!=(n=null==(o=e.options_)?void 0:o.enhancer)?n:nt;var e,n,o}function Lt(t){var e;return t?null!=(e=t.defaultDecorator)?e:Tt(t):void 0}function Nt(t,e,n){if(!x(e))return Hn(t)?t:P(t)?Bt.object(t,e,n):Array.isArray(t)?Bt.array(t,e):I(t)?Bt.map(t,e):U(t)?Bt.set(t,e):"object"==typeof t&&null!==t?t:Bt.box(t,e);X(t,e,Ft)}Object.assign(Nt,Dt);var Bt=c(Nt,{box:function(t,e){var n=Mt(e);return new se(t,kt(n),n.name,!0,n.equals)},array:function(t,e){var n=Mt(e);return(!1===Me.useProxies||!1===n.proxy?Zo:_o)(t,kt(n),n.name)},map:function(t,e){var n=Mt(e);return new To(t,kt(n),n.name)},set:function(t,e){var n=Mt(e);return new Ao(t,kt(n),n.name)},object:function(t,e,n){return Tn(!1===Me.useProxies||!1===(null==n?void 0:n.proxy)?ko({},n):oo({},n),t,e)},ref:Y(At),shallow:Y(Et),deep:Dt,struct:Y(jt)});n.observable=Bt;var Vt,Ht,Gt=vt("computed"),Wt=vt("computed.struct",{equals:et.structural}),zt=function(t,e){if(x(e))return X(t,e,Gt);if(P(t))return Y(vt("computed",t));"production"!==o&&(w(t)||i("First argument to `computed` should be an expression."),w(e)&&i("A setter as second argument is no longer supported, use `{ set: fn }` option instead"));var n=P(e)?e:{};return n.get=t,n.name||(n.name=t.name||""),new le(n)};n.computed=zt,Object.assign(zt,Gt),zt.struct=Y(Wt);var qt,Yt=0,Xt=1,Kt=null!=(Vt=null==(Ht=u(function(){},"name"))?void 0:Ht.configurable)&&Vt,Jt={value:"action",configurable:!0,writable:!1,enumerable:!1};function Zt(t,e,n,r){function s(){return Qt(t,n,e,r||this,arguments)}return void 0===n&&(n=!1),"production"!==o&&(w(e)||i("`action` can only be invoked on functions"),"string"==typeof t&&t||i("actions should have valid names, got: '"+t+"'")),s.isMobxAction=!0,Kt&&(Jt.value=t,Object.defineProperty(s,"name",Jt)),s}function Qt(t,e,n,o,r){var i=$t(t,e,o,r);try{return n.apply(o,r)}catch(s){throw i.error_=s,s}finally{te(i)}}function $t(t,e,n,r){var i="production"!==o&&Qe()&&!!t,s=0;if("production"!==o&&i){s=Date.now();var a=r?Array.from(r):f;tn({type:rn,name:t,object:n,arguments:a})}var c=Me.trackingDerivation,u=!e||!c;Le();var l=Me.allowStateChanges;u&&(xe(),l=ne(!0));var p={runAsAction_:u,prevDerivation_:c,prevAllowStateChanges_:l,prevAllowStateReads_:Pe(!0),notifySpy_:i,startTime_:s,actionId_:Xt++,parentActionId_:Yt};return Yt=p.actionId_,p}function te(t){Yt!==t.actionId_&&i(30),Yt=t.parentActionId_,void 0!==t.error_&&(Me.suppressReactionErrors=!0),oe(t.prevAllowStateChanges_),Ce(t.prevAllowStateReads_),Ne(),t.runAsAction_&&Oe(t.prevDerivation_),"production"!==o&&t.notifySpy_&&nn({time:Date.now()-t.startTime_}),Me.suppressReactionErrors=!1}function ee(t,e){var n=ne(t);try{return e()}finally{oe(n)}}function ne(t){var e=Me.allowStateChanges;return Me.allowStateChanges=t,e}function oe(t){Me.allowStateChanges=t}var re="create";qt=Symbol.toPrimitive;var ie,se=function(t){function e(e,n,r,i,s){var a;return void 0===r&&(r="production"!==o?"ObservableValue@"+g():"ObservableValue"),void 0===i&&(i=!0),void 0===s&&(s=et.default),(a=t.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=s,a.value_=n(e,void 0,r),"production"!==o&&i&&Qe()&&$e({type:re,object:H(a),observableKind:"value",debugObjectName:a.name_,newValue:""+a.value_}),a}V(e,t);var n=e.prototype;return n.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function(t){var e=this.value_;if((t=this.prepareNewValue_(t))!==Me.UNCHANGED){var n=Qe();"production"!==o&&n&&tn({type:po,object:this,observableKind:"value",debugObjectName:this.name_,newValue:t,oldValue:e}),this.setNewValue_(t),"production"!==o&&n&&nn()}},n.prepareNewValue_=function(t){if(_e(this),ro(this)){var e=so(this,{object:this,type:po,newValue:t});if(!e)return Me.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?Me.UNCHANGED:t},n.setNewValue_=function(t){var e=this.value_;this.value_=t,this.reportChanged(),ao(this)&&uo(this,{type:po,object:this,newValue:t,oldValue:e})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(t){return io(this,t)},n.observe_=function(t,e){return e&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:po,newValue:this.value_,oldValue:void 0}),co(this,t)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return j(this.get())},n[qt]=function(){return this.valueOf()},e}(Q),ae=R("ObservableValue",se);n.isBoxedObservable=ae,ie=Symbol.toPrimitive;var ce,ue,le=function(){function t(t){this.dependenciesState_=ce.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ce.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new fe(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ue.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||i(31),this.derivation=t.get,this.name_=t.name||("production"!==o?"ComputedValue@"+g():"ComputedValue"),t.set&&(this.setter_=Zt("production"!==o?this.name_+"-setter":"ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?et.structural:et.default),this.scope_=t.context,this.requiresReaction_=!!t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){Ge(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},e.get=function(){if(this.isComputing_&&i(32,this.name_,this.derivation),0!==Me.inBatch||0!==this.observers_.size||this.keepAlive_){if(Be(this),de(this)){var t=Me.trackingContext;this.keepAlive_&&!t&&(Me.trackingContext=this),this.trackAndCompute()&&He(this),Me.trackingContext=t}}else de(this)&&(this.warnAboutUntrackedRead_(),Le(),this.value_=this.computeValue_(!1),Ne());var e=this.value_;if(he(e))throw e.cause;return e},e.set=function(t){if(this.setter_){this.isRunningSetter_&&i(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else i(34,this.name_)},e.trackAndCompute=function(){var t=this.value_,e=this.dependenciesState_===ce.NOT_TRACKING_,n=this.computeValue_(!0);"production"!==o&&Qe()&&$e({observableKind:"computed",debugObjectName:this.name_,object:this.scope_,type:"update",oldValue:this.value_,newValue:n});var r=e||he(t)||he(n)||!this.equals_(t,n);return r&&(this.value_=n),r},e.computeValue_=function(t){this.isComputing_=!0;var e,n=ne(!1);if(t)e=ve(this,this.derivation,this.scope_);else if(!0===Me.disableErrorBoundaries)e=this.derivation.call(this.scope_);else try{e=this.derivation.call(this.scope_)}catch(o){e=new fe(o)}return oe(n),this.isComputing_=!1,e},e.suspend_=function(){this.keepAlive_||(me(this),this.value_=void 0)},e.observe_=function(t,e){var n=this,o=!0,r=void 0;return yn(function(){var i=n.get();if(!o||e){var s=xe();t({observableKind:"computed",debugObjectName:n.name_,type:po,object:n,newValue:i,oldValue:r}),Oe(s)}o=!1,r=i})},e.warnAboutUntrackedRead_=function(){"production"!==o&&(!0===this.requiresReaction_&&i("[mobx] Computed value "+this.name_+" is read outside a reactive context"),this.isTracing_!==ue.NONE&&console.log("[mobx.trace] '"+this.name_+"' is being read outside a reactive context. Doing a full recompute"),Me.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name_+" is being read outside a reactive context. Doing a full recompute"))},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return j(this.get())},e[ie]=function(){return this.valueOf()},t}(),pe=R("ComputedValue",le);(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(ce||(ce={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(ue||(ue={}));var fe=function(t){this.cause=void 0,this.cause=t};function he(t){return t instanceof fe}function de(t){switch(t.dependenciesState_){case ce.UP_TO_DATE_:return!1;case ce.NOT_TRACKING_:case ce.STALE_:return!0;case ce.POSSIBLY_STALE_:for(var e=Pe(!0),n=xe(),o=t.observing_,r=o.length,i=0;i<r;i++){var s=o[i];if(pe(s)){if(Me.disableErrorBoundaries)s.get();else try{s.get()}catch(a){return Oe(n),Ce(e),!0}if(t.dependenciesState_===ce.STALE_)return Oe(n),Ce(e),!0}}return Se(t),Oe(n),Ce(e),!1}}function _e(t){if("production"!==o){var e=t.observers_.size>0;Me.allowStateChanges||!e&&"always"!==Me.enforceActions||console.warn("[MobX] "+(Me.enforceActions?"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: ")+t.name_)}}function ye(t){"production"!==o&&!Me.allowStateReads&&Me.observableRequiresReaction&&console.warn("[mobx] Observable "+t.name_+" being read outside a reactive context")}function ve(t,e,n){var o=Pe(!0);Se(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++Me.runId;var r,i=Me.trackingDerivation;if(Me.trackingDerivation=t,Me.inBatch++,!0===Me.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(s){r=new fe(s)}return Me.inBatch--,Me.trackingDerivation=i,be(t),ge(t),Ce(o),r}function ge(t){"production"!==o&&0===t.observing_.length&&(Me.reactionRequiresObservable||t.requiresObservable_)&&console.warn("[mobx] Derivation "+t.name_+" is created/updated without reading any observable value")}function be(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,o=ce.UP_TO_DATE_,r=0,i=t.unboundDepsCount_,s=0;s<i;s++){var a=n[s];0===a.diffValue_&&(a.diffValue_=1,r!==s&&(n[r]=a),r++),a.dependenciesState_>o&&(o=a.dependenciesState_)}for(n.length=r,t.newObserving_=null,i=e.length;i--;){var c=e[i];0===c.diffValue_&&De(c,t),c.diffValue_=0}for(;r--;){var u=n[r];1===u.diffValue_&&(u.diffValue_=0,je(u,t))}o!==ce.UP_TO_DATE_&&(t.dependenciesState_=o,t.onBecomeStale_())}function me(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)De(e[n],t);t.dependenciesState_=ce.NOT_TRACKING_}function we(t){var e=xe();try{return t()}finally{Oe(e)}}function xe(){var t=Me.trackingDerivation;return Me.trackingDerivation=null,t}function Oe(t){Me.trackingDerivation=t}function Pe(t){var e=Me.allowStateReads;return Me.allowStateReads=t,e}function Ce(t){Me.allowStateReads=t}function Se(t){if(t.dependenciesState_!==ce.UP_TO_DATE_){t.dependenciesState_=ce.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=ce.UP_TO_DATE_}}var Te=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Re=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ie=!0,Ue=!1,Me=function(){var t=a();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Ie=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Re).version&&(Ie=!1),Ie?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Re):(setTimeout(function(){Ue||i(35)},1),new Re)}();function Fe(){if((Me.pendingReactions.length||Me.inBatch||Me.isRunningReactions)&&i(36),Ue=!0,Ie){var t=a();0==--t.__mobxInstanceCount&&(t.__mobxGlobals=void 0),Me=new Re}}function Ae(t){return t.observers_&&t.observers_.size>0}function Ee(t){return t.observers_}function je(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function De(t,e){t.observers_.delete(e),0===t.observers_.size&&ke(t)}function ke(t){!1===t.isPendingUnobservation_&&(t.isPendingUnobservation_=!0,Me.pendingUnobservations.push(t))}function Le(){Me.inBatch++}function Ne(){if(0==--Me.inBatch){Ke();for(var t=Me.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof le&&n.suspend_())}Me.pendingUnobservations=[]}}function Be(t){ye(t);var e=Me.trackingDerivation;return null!==e?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&Me.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(0===t.observers_.size&&Me.inBatch>0&&ke(t),!1)}function Ve(t){t.lowestObserverState_!==ce.STALE_&&(t.lowestObserverState_=ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===ce.UP_TO_DATE_&&("production"!==o&&e.isTracing_!==ue.NONE&&We(e,t),e.onBecomeStale_()),e.dependenciesState_=ce.STALE_}))}function He(t){t.lowestObserverState_!==ce.STALE_&&(t.lowestObserverState_=ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===ce.POSSIBLY_STALE_?(e.dependenciesState_=ce.STALE_,"production"!==o&&e.isTracing_!==ue.NONE&&We(e,t)):e.dependenciesState_===ce.UP_TO_DATE_&&(t.lowestObserverState_=ce.UP_TO_DATE_)}))}function Ge(t){t.lowestObserverState_===ce.UP_TO_DATE_&&(t.lowestObserverState_=ce.POSSIBLY_STALE_,t.observers_.forEach(function(t){t.dependenciesState_===ce.UP_TO_DATE_&&(t.dependenciesState_=ce.POSSIBLY_STALE_,t.onBecomeStale_())}))}function We(t,e){if(console.log("[mobx.trace] '"+t.name_+"' is invalidated due to a change in: '"+e.name_+"'"),t.isTracing_===ue.BREAK){var n=[];ze(Rn(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name_+"'\n\nYou are entering this break point because derivation '"+t.name_+"' is being traced and '"+e.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof le?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function ze(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach(function(t){return ze(t,e,n+1)}))}var qe=function(){function t(t,e,n,r){void 0===t&&(t="production"!==o?"Reaction@"+g():"Reaction"),void 0===r&&(r=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ce.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=ue.NONE,this.name_=t,this.onInvalidate_=e,this.errorHandler_=n,this.requiresObservable_=r}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Me.pendingReactions.push(this),Ke())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){Le(),this.isScheduled_=!1;var t=Me.trackingContext;if(Me.trackingContext=this,de(this)){this.isTrackPending_=!0;try{this.onInvalidate_(),"production"!==o&&this.isTrackPending_&&Qe()&&$e({name:this.name_,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation_(e)}}Me.trackingContext=t,Ne()}},e.track=function(t){if(!this.isDisposed_){Le();var e,n=Qe();"production"!==o&&n&&(e=Date.now(),tn({name:this.name_,type:"reaction"})),this.isRunning_=!0;var r=Me.trackingContext;Me.trackingContext=this;var i=ve(this,t,void 0);Me.trackingContext=r,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&me(this),he(i)&&this.reportExceptionInDerivation_(i.cause),"production"!==o&&n&&nn({time:Date.now()-e}),Ne()}},e.reportExceptionInDerivation_=function(t){var e=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(Me.disableErrorBoundaries)throw t;var n="production"!==o?"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'":"[mobx] uncaught error in '"+this+"'";Me.suppressReactionErrors?"production"!==o&&console.warn("[mobx] (error in reaction '"+this.name_+"' suppressed, fix error of causing action below)"):console.error(n,t),"production"!==o&&Qe()&&$e({type:"error",name:this.name_,message:n,error:""+t}),Me.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})}},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Le(),me(this),Ne()))},e.getDisposer_=function(){var t=this.dispose.bind(this);return t[Z]=this,t},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(t){void 0===t&&(t=!1),Jn(this,t)},t}();n.Reaction=qe;var Ye=100,Xe=function(t){return t()};function Ke(){Me.inBatch>0||Me.isRunningReactions||Xe(Je)}function Je(){Me.isRunningReactions=!0;for(var t=Me.pendingReactions,e=0;t.length>0;){++e===Ye&&(console.error("production"!==o?"Reaction doesn't converge to a stable state after "+Ye+" iterations. Probably there is a cycle in the reactive function: "+t[0]:"[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Me.isRunningReactions=!1}var Ze=R("Reaction",qe);function Qe(){return"production"!==o&&!!Me.spyListeners.length}function $e(t){if("production"!==o&&Me.spyListeners.length)for(var e=Me.spyListeners,n=0,r=e.length;n<r;n++)e[n](t)}function tn(t){"production"!==o&&$e(B({},t,{spyReportStart:!0}))}var en={type:"report-end",spyReportEnd:!0};function nn(t){"production"!==o&&$e(t?B({},t,{type:"report-end",spyReportEnd:!0}):en)}function on(t){return"production"===o?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(Me.spyListeners.push(t),b(function(){Me.spyListeners=Me.spyListeners.filter(function(e){return e!==t})}))}var rn="action",sn="autoAction",an="<unnamed action>",cn=at(rn),un=at("action.bound",{bound:!0}),ln=at(sn,{autoAction:!0}),pn=at("autoAction.bound",{autoAction:!0,bound:!0});function fn(t){return function(e,n){return w(e)?Zt(e.name||an,e,t):w(n)?Zt(e,n,t):x(n)?X(e,n,t?ln:cn):x(e)?Y(at(t?sn:rn,{name:e,autoAction:t})):void("production"!==o&&i("Invalid arguments for `action`"))}}var hn=fn(!1);n.action=hn,Object.assign(hn,cn);var dn=fn(!0);function _n(t){return w(t)&&!0===t.isMobxAction}function yn(t,e){var n,r;void 0===e&&(e=h),"production"!==o&&(w(t)||i("Autorun expects a function as first argument"),_n(t)&&i("Autorun does not accept actions since actions are untrackable"));var s,a=null!=(n=null==(r=e)?void 0:r.name)?n:"production"!==o?t.name||"Autorun@"+g():"Autorun";if(e.scheduler||e.delay){var c=gn(e),u=!1;s=new qe(a,function(){u||(u=!0,c(function(){u=!1,s.isDisposed_||s.track(l)}))},e.onError,e.requiresObservable)}else s=new qe(a,function(){this.track(l)},e.onError,e.requiresObservable);function l(){t(s)}return s.schedule_(),s.getDisposer_()}n._autoAction=dn,Object.assign(dn,ln),hn.bound=Y(un),dn.bound=Y(pn);var vn=function(t){return t()};function gn(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:vn}var bn="onBO",mn="onBUO";function wn(t,e,n){return On(bn,t,e,n)}function xn(t,e,n){return On(mn,t,e,n)}function On(t,e,n,o){var r="function"==typeof o?Qo(e,n):Qo(e),i=w(o)?o:n,s=t+"L";return r[s]?r[s].add(i):r[s]=new Set([i]),function(){var t=r[s];t&&(t.delete(i),0===t.size&&delete r[s])}}var Pn="never",Cn="always",Sn="observed";function Tn(t,e,n,r){"production"!==o&&(arguments.length>4&&i("'extendObservable' expected 2-4 arguments"),"object"!=typeof t&&i("'extendObservable' expects an object as first argument"),Uo(t)&&i("'extendObservable' should not be used on maps, use map.merge instead"),P(e)||i("'extendObservabe' only accepts plain objects as second argument"),(Hn(e)||Hn(n))&&i("Extending an object with another observable (object) is not supported"));var s=k(e),a=ko(t,r)[Z];Le();try{A(s).forEach(function(t){a.extend_(t,s[t],!n||!(t in n)||n[t])})}finally{Ne()}return t}function Rn(t,e){return In(Qo(t,e))}function In(t){var e,n={name:t.name_};return t.observing_&&t.observing_.length>0&&(n.dependencies=(e=t.observing_,Array.from(new Set(e))).map(In)),n}function Un(t){var e={name:t.name_};return Ae(t)&&(e.observers=Array.from(Ee(t)).map(Un)),e}var Mn=0;function Fn(){this.message="FLOW_CANCELLED"}Fn.prototype=Object.create(Error.prototype);var An=ft("flow"),En=ft("flow.bound",{bound:!0}),jn=Object.assign(function(t,e){if(x(e))return X(t,e,An);"production"!==o&&1!==arguments.length&&i("Flow expects single argument with generator function");var n=t,r=n.name||"<unnamed flow>",s=function(){var t,e=this,o=arguments,i=++Mn,s=hn(r+" - runid: "+i+" - init",n).apply(e,o),a=void 0,c=new Promise(function(e,n){var o=0;function c(t){var e;a=void 0;try{e=hn(r+" - runid: "+i+" - yield "+o++,s.next).call(s,t)}catch(c){return n(c)}l(e)}function u(t){var e;a=void 0;try{e=hn(r+" - runid: "+i+" - yield "+o++,s.throw).call(s,t)}catch(c){return n(c)}l(e)}function l(t){if(!w(null==t?void 0:t.then))return t.done?e(t.value):(a=Promise.resolve(t.value)).then(c,u);t.then(l,n)}t=n,c(void 0)});return c.cancel=hn(r+" - runid: "+i+" - cancel",function(){try{a&&Dn(a);var e=s.return(void 0),n=Promise.resolve(e.value);n.then(m,m),Dn(n),t(new Fn)}catch(o){t(o)}}),c};return s.isMobXFlow=!0,s},An);function Dn(t){w(t.cancel)&&t.cancel()}function kn(t){return!0===(null==t?void 0:t.isMobXFlow)}function Ln(t,e){return $o(t).intercept_(e)}function Nn(t,e,n){return $o(t,e).intercept_(n)}function Bn(t,e){if(void 0!==e){if(!1===Bo(t))return!1;if(!t[Z].values_.has(e))return!1;var n=Qo(t,e);return pe(n)}return pe(t)}function Vn(t,e){return!!t&&(void 0!==e?"production"!==o&&(Uo(t)||Po(t))?i("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!Bo(t)&&t[Z].values_.has(e):Bo(t)||!!t[Z]||$(t)||Ze(t)||pe(t))}function Hn(t){return"production"!==o&&1!==arguments.length&&i("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Vn(t)}function Gn(t){return Bo(t)?t[Z].keys_():Uo(t)||Eo(t)?Array.from(t.keys()):Po(t)?t.map(function(t,e){return e}):void i(5)}function Wn(t,e){return Bo(t)?t[Z].has_(e):Uo(t)?t.has(e):Eo(t)?t.has(e):Po(t)?e>=0&&e<t.length:void i(10)}function zn(t){if(Bo(t))return t[Z].ownKeys_();i(38)}function qn(t,e,n){return $o(t).observe_(e,n)}function Yn(t,e,n,o){return $o(t,e).observe_(n,o)}function Xn(t,e,n){return t.set(e,n),n}function Kn(t,e){if(null==t||"object"!=typeof t||t instanceof Date||!Hn(t))return t;if(ae(t)||pe(t))return Kn(t.get(),e);if(e.has(t))return e.get(t);if(Po(t)){var n=Xn(e,t,new Array(t.length));return t.forEach(function(t,o){n[o]=Kn(t,e)}),n}if(Eo(t)){var o=Xn(e,t,new Set);return t.forEach(function(t){o.add(Kn(t,e))}),o}if(Uo(t)){var r=Xn(e,t,new Map);return t.forEach(function(t,n){r.set(n,Kn(t,e))}),r}var i=Xn(e,t,{});return zn(t).forEach(function(n){p.propertyIsEnumerable.call(t,n)&&(i[n]=Kn(t[n],e))}),i}function Jn(){"production"===o&&i("trace() is not available in production builds");for(var t=!1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(t=n.pop());var s=Zn(n);if(!s)return i("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");s.isTracing_===ue.NONE&&console.log("[mobx.trace] '"+s.name_+"' tracing enabled"),s.isTracing_=t?ue.BREAK:ue.LOG}function Zn(t){switch(t.length){case 0:return Me.trackingDerivation;case 1:return Qo(t[0]);case 2:return Qo(t[0],t[1])}}function Qn(t,e){void 0===e&&(e=void 0),Le();try{return t.apply(e)}finally{Ne()}}function $n(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!s[Z].isDisposed_){s();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}},n.timeout)),n.name="production"!==o?n.name||"When@"+g():"When";var i=Zt("production"!==o?n.name+"-effect":"When-effect",e),s=yn(function(e){ee(!1,t)&&(e.dispose(),r&&clearTimeout(r),i())},n);return s}function to(t,e){if("production"!==o&&e&&e.onError)return i("the options 'onError' and 'promise' cannot be combined");var n,r=new Promise(function(o,r){var i=$n(t,o,B({},e,{onError:r}));n=function(){i(),r("WHEN_CANCELLED")}});return r.cancel=n,r}function eo(t){return t[Z]}n.flow=jn,jn.bound=Y(En);var no={has:function(t,e){return"production"!==o&&Me.trackingDerivation&&v("detect new properties using the 'in' operator. Use 'has' from 'mobx' instead."),eo(t).has_(e)},get:function(t,e){return eo(t).get_(e)},set:function(t,e,n){var r;return!!x(e)&&("production"===o||eo(t).values_.has(e)||v("add a new observable property through direct assignment. Use 'set' from 'mobx' instead."),null==(r=eo(t).set_(e,n,!0))||r)},deleteProperty:function(t,e){var n;return"production"!==o&&v("delete properties from an observable object. Use 'remove' from 'mobx' instead."),!!x(e)&&(null==(n=eo(t).delete_(e,!0))||n)},defineProperty:function(t,e,n){var r;return"production"!==o&&v("define property on an observable object. Use 'defineProperty' from 'mobx' instead."),null==(r=eo(t).defineProperty_(e,n))||r},ownKeys:function(t){return"production"!==o&&Me.trackingDerivation&&v("iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead."),eo(t).ownKeys_()},preventExtensions:function(){i(13)}};function oo(t,e){var n,o;return y(),null!=(o=(n=(t=ko(t,e))[Z]).proxy_)?o:n.proxy_=new Proxy(t,no)}function ro(t){return void 0!==t.interceptors_&&t.interceptors_.length>0}function io(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),b(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function so(t,e){var n=xe();try{for(var o=[].concat(t.interceptors_||[]),r=0,s=o.length;r<s&&((e=o[r](e))&&!e.type&&i(14),e);r++);return e}finally{Oe(n)}}function ao(t){return void 0!==t.changeListeners_&&t.changeListeners_.length>0}function co(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),b(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function uo(t,e){var n=xe(),o=t.changeListeners_;if(o){for(var r=0,i=(o=o.slice()).length;r<i;r++)o[r](e);Oe(n)}}var lo=Symbol("mobx-keys"),po="update",fo={get:function(t,e){var n=t[Z];return e===Z?n:"length"===e?n.getArrayLength_():"string"!=typeof e||isNaN(e)?D(yo,e)?yo[e]:t[e]:n.get_(parseInt(e))},set:function(t,e,n){var o=t[Z];return"length"===e&&o.setArrayLength_(n),"symbol"==typeof e||isNaN(e)?t[e]=n:o.set_(parseInt(e),n),!0},preventExtensions:function(){i(15)}},ho=function(){function t(t,e,n,r){void 0===t&&(t="production"!==o?"ObservableArray@"+g():"ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Q(t),this.enhancer_=function(n,r){return e(n,r,"production"!==o?t+"[..]":"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},e.intercept_=function(t){return io(this,t)},e.observe_=function(t,e){return void 0===e&&(e=!1),e&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),co(this,t)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(t){("number"!=typeof t||t<0)&&i("Out of range: "+t);var e=this.values_.length;if(t!==e)if(t>e){for(var n=new Array(t-e),o=0;o<t-e;o++)n[o]=void 0;this.spliceWithArray_(e,0,n)}else this.spliceWithArray_(t,e-t)},e.updateArrayLength_=function(t,e){t!==this.lastKnownLength_&&i(16),this.lastKnownLength_+=e,this.legacyMode_&&e>0&&Jo(t+e+1)},e.spliceWithArray_=function(t,e,n){var r=this;_e(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=f),ro(this)){var s=so(this,{object:this.proxy_,type:"splice",index:t,removedCount:e,added:n});if(!s)return f;e=s.removedCount,n=s.added}if(n=0===n.length?n:n.map(function(t){return r.enhancer_(t,void 0)}),this.legacyMode_||"production"!==o){var a=n.length-e;this.updateArrayLength_(i,a)}var c=this.spliceItemsIntoValues_(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice_(t,n,c),this.dehanceValues_(c)},e.spliceItemsIntoValues_=function(t,e,n){var o;if(n.length<1e4)return(o=this.values_).splice.apply(o,[t,e].concat(n));var r=this.values_.slice(t,t+e),i=this.values_.slice(t+e);this.values_.length=t+n.length-e;for(var s=0;s<n.length;s++)this.values_[t+s]=n[s];for(var a=0;a<i.length;a++)this.values_[t+n.length+a]=i[a];return r},e.notifyArrayChildUpdate_=function(t,e,n){var r=!this.owned_&&Qe(),i=ao(this),s=i||r?{observableKind:"array",object:this.proxy_,type:po,debugObjectName:this.atom_.name_,index:t,newValue:e,oldValue:n}:null;"production"!==o&&r&&tn(s),this.atom_.reportChanged(),i&&uo(this,s),"production"!==o&&r&&nn()},e.notifyArraySplice_=function(t,e,n){var r=!this.owned_&&Qe(),i=ao(this),s=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;"production"!==o&&r&&tn(s),this.atom_.reportChanged(),i&&uo(this,s),"production"!==o&&r&&nn()},e.get_=function(t){if(t<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("production"!==o?"[mobx] Out of bounds read: "+t:"[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},e.set_=function(t,e){var n=this.values_;if(t<n.length){_e(this.atom_);var o=n[t];if(ro(this)){var r=so(this,{type:po,object:this.proxy_,index:t,newValue:e});if(!r)return;e=r.newValue}(e=this.enhancer_(e,o))!==o&&(n[t]=e,this.notifyArrayChildUpdate_(t,e,o))}else t===n.length?this.spliceWithArray_(t,0,[e]):i(17,t,n.length)},t}();function _o(t,e,n,r){void 0===n&&(n="production"!==o?"ObservableArray@"+g():"ObservableArray"),void 0===r&&(r=!1),y();var i=new ho(n,e,r,!1);T(i.values_,Z,i);var s=new Proxy(i.values_,fo);if(i.proxy_=s,t&&t.length){var a=ne(!0);i.spliceWithArray_(0,0,t),oe(a)}return s}var yo={clear:function(){return this.splice(0)},replace:function(t){var e=this[Z];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var i=this[Z];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,e)}return i.spliceWithArray_(t,e,o)},spliceWithArray:function(t,e,n){return this[Z].spliceWithArray_(t,e,n)},push:function(){for(var t=this[Z],e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,n),t.values_.length},pop:function(){return this.splice(Math.max(this[Z].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Z],e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.spliceWithArray_(0,0,n),t.values_.length},reverse:function(){return Me.trackingDerivation&&i(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Me.trackingDerivation&&i(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[Z],n=e.dehanceValues_(e.values_).indexOf(t);return n>-1&&(this.splice(n,1),!0)}};function vo(t,e){"function"==typeof Array.prototype[t]&&(yo[t]=e(t))}function go(t){return function(){var e=this[Z];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function bo(t){return function(e,n){var o=this,r=this[Z];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[t](function(t,r){return e.call(n,t,r,o)})}}function mo(t){return function(){var e=this,n=this[Z];n.atom_.reportObserved();var o=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(t,n,o){return r(t,n,o,e)},o[t].apply(o,arguments)}}vo("concat",go),vo("flat",go),vo("includes",go),vo("indexOf",go),vo("join",go),vo("lastIndexOf",go),vo("slice",go),vo("toString",go),vo("toLocaleString",go),vo("every",bo),vo("filter",bo),vo("find",bo),vo("findIndex",bo),vo("flatMap",bo),vo("forEach",bo),vo("map",bo),vo("some",bo),vo("reduce",mo),vo("reduceRight",mo);var wo,xo,Oo=R("ObservableArrayAdministration",ho);function Po(t){return O(t)&&Oo(t[Z])}var Co={},So="add";wo=Symbol.iterator,xo=Symbol.toStringTag;var To=function(){function t(t,e,n){void 0===e&&(e=nt),void 0===n&&(n="production"!==o?"ObservableMap@"+g():"ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Z]=Co,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=e,this.name_=n,w(Map)||i(18),this.keysAtom_=tt("production"!==o?this.name_+".keys()":"ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(t)}var e=t.prototype;return e.has_=function(t){return this.data_.has(t)},e.has=function(t){var e=this;if(!Me.trackingDerivation)return this.has_(t);var n=this.hasMap_.get(t);if(!n){var r=n=new se(this.has_(t),ot,"production"!==o?this.name_+"."+E(t)+"?":"ObservableMap.key?",!1);this.hasMap_.set(t,r),xn(r,function(){return e.hasMap_.delete(t)})}return n.get()},e.set=function(t,e){var n=this.has_(t);if(ro(this)){var o=so(this,{type:n?po:So,object:this,newValue:e,name:t});if(!o)return this;e=o.newValue}return n?this.updateValue_(t,e):this.addValue_(t,e),this},e.delete=function(t){var e=this;if(_e(this.keysAtom_),ro(this)&&!so(this,{type:"delete",object:this,name:t}))return!1;if(this.has_(t)){var n=Qe(),r=ao(this),i=r||n?{observableKind:"map",debugObjectName:this.name_,type:"delete",object:this,oldValue:this.data_.get(t).value_,name:t}:null;return"production"!==o&&n&&tn(i),Qn(function(){e.keysAtom_.reportChanged(),e.updateHasMapEntry_(t,!1),e.data_.get(t).setNewValue_(void 0),e.data_.delete(t)}),r&&uo(this,i),"production"!==o&&n&&nn(),!0}return!1},e.updateHasMapEntry_=function(t,e){var n=this.hasMap_.get(t);n&&n.setNewValue_(e)},e.updateValue_=function(t,e){var n=this.data_.get(t);if((e=n.prepareNewValue_(e))!==Me.UNCHANGED){var r=Qe(),i=ao(this),s=i||r?{observableKind:"map",debugObjectName:this.name_,type:po,object:this,oldValue:n.value_,name:t,newValue:e}:null;"production"!==o&&r&&tn(s),n.setNewValue_(e),i&&uo(this,s),"production"!==o&&r&&nn()}},e.addValue_=function(t,e){var n=this;_e(this.keysAtom_),Qn(function(){var r=new se(e,n.enhancer_,"production"!==o?n.name_+"."+E(t):"ObservableMap.key",!1);n.data_.set(t,r),e=r.value_,n.updateHasMapEntry_(t,!0),n.keysAtom_.reportChanged()});var r=Qe(),i=ao(this),s=i||r?{observableKind:"map",debugObjectName:this.name_,type:So,object:this,name:t,newValue:e}:null;"production"!==o&&r&&tn(s),i&&uo(this,s),"production"!==o&&r&&nn()},e.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var t=this,e=this.keys();return ir({next:function(){var n=e.next(),o=n.done,r=n.value;return{done:o,value:o?void 0:t.get(r)}}})},e.entries=function(){var t=this,e=this.keys();return ir({next:function(){var n=e.next(),o=n.done,r=n.value;return{done:o,value:o?void 0:[r,t.get(r)]}}})},e[wo]=function(){return this.entries()},e.forEach=function(t,e){for(var n,o=z(this);!(n=o()).done;){var r=n.value,i=r[0],s=r[1];t.call(e,s,i,this)}},e.merge=function(t){var e=this;return Uo(t)&&(t=new Map(t)),Qn(function(){P(t)?F(t).forEach(function(n){return e.set(n,t[n])}):Array.isArray(t)?t.forEach(function(t){var n=t[0],o=t[1];return e.set(n,o)}):I(t)?(t.constructor!==Map&&i(19,t),t.forEach(function(t,n){return e.set(n,t)})):null!=t&&i(20,t)}),this},e.clear=function(){var t=this;Qn(function(){we(function(){for(var e,n=z(t.keys());!(e=n()).done;){var o=e.value;t.delete(o)}})})},e.replace=function(t){var e=this;return Qn(function(){for(var n,o=Mo(t),r=new Map,i=!1,s=z(e.data_.keys());!(n=s()).done;){var a=n.value;if(!o.has(a))if(e.delete(a))i=!0;else{var c=e.data_.get(a);r.set(a,c)}}for(var u,l=z(o.entries());!(u=l()).done;){var p=u.value,f=p[0],h=p[1],d=e.data_.has(f);if(e.set(f,h),e.data_.has(f)){var _=e.data_.get(f);r.set(f,_),d||(i=!0)}}if(!i)if(e.data_.size!==r.size)e.keysAtom_.reportChanged();else for(var y=e.data_.keys(),v=r.keys(),g=y.next(),b=v.next();!g.done;){if(g.value!==b.value){e.keysAtom_.reportChanged();break}g=y.next(),b=v.next()}e.data_=r}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(t,e){return"production"!==o&&!0===e&&i("`observe` doesn't support fireImmediately=true in combination with maps."),co(this,t)},e.intercept_=function(t){return io(this,t)},N(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:xo,get:function(){return"Map"}}]),t}();n.ObservableMap=To;var Ro,Io,Uo=R("ObservableMap",To);function Mo(t){if(I(t)||Uo(t))return t;if(Array.isArray(t))return new Map(t);if(P(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return i(21,t)}n.isObservableMap=Uo;var Fo={};Ro=Symbol.iterator,Io=Symbol.toStringTag;var Ao=function(){function t(t,e,n){void 0===e&&(e=nt),void 0===n&&(n="production"!==o?"ObservableSet@"+g():"ObservableSet"),this.name_=void 0,this[Z]=Fo,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,w(Set)||i(22),this.atom_=tt(this.name_),this.enhancer_=function(t,o){return e(t,o,n)},t&&this.replace(t)}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.clear=function(){var t=this;Qn(function(){we(function(){for(var e,n=z(t.data_.values());!(e=n()).done;){var o=e.value;t.delete(o)}})})},e.forEach=function(t,e){for(var n,o=z(this);!(n=o()).done;){var r=n.value;t.call(e,r,r,this)}},e.add=function(t){var e=this;if(_e(this.atom_),ro(this)&&!so(this,{type:So,object:this,newValue:t}))return this;if(!this.has(t)){Qn(function(){e.data_.add(e.enhancer_(t,void 0)),e.atom_.reportChanged()});var n="production"!==o&&Qe(),r=ao(this),i=r||n?{observableKind:"set",debugObjectName:this.name_,type:So,object:this,newValue:t}:null;n&&"production"!==o&&tn(i),r&&uo(this,i),n&&"production"!==o&&nn()}return this},e.delete=function(t){var e=this;if(ro(this)&&!so(this,{type:"delete",object:this,oldValue:t}))return!1;if(this.has(t)){var n="production"!==o&&Qe(),r=ao(this),i=r||n?{observableKind:"set",debugObjectName:this.name_,type:"delete",object:this,oldValue:t}:null;return n&&"production"!==o&&tn(i),Qn(function(){e.atom_.reportChanged(),e.data_.delete(t)}),r&&uo(this,i),n&&"production"!==o&&nn(),!0}return!1},e.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},e.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return ir({next:function(){var o=t;return t+=1,o<n.length?{value:[e[o],n[o]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var t=this,e=0,n=Array.from(this.data_.values());return ir({next:function(){return e<n.length?{value:t.dehanceValue_(n[e++]),done:!1}:{done:!0}}})},e.replace=function(t){var e=this;return Eo(t)&&(t=new Set(t)),Qn(function(){Array.isArray(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):U(t)?(e.clear(),t.forEach(function(t){return e.add(t)})):null!=t&&i("Cannot initialize set from "+t)}),this},e.observe_=function(t,e){return"production"!==o&&!0===e&&i("`observe` doesn't support fireImmediately=true in combination with sets."),co(this,t)},e.intercept_=function(t){return io(this,t)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Ro]=function(){return this.values()},N(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Io,get:function(){return"Set"}}]),t}();n.ObservableSet=Ao;var Eo=R("ObservableSet",Ao);n.isObservableSet=Eo;var jo=Object.create(null),Do=function(){function t(t,e,n,r){void 0===e&&(e=new Map),void 0===r&&(r=St),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=e,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Q("production"!==o?this.name_+".keys":"ObservableObject.keys"),this.isPlainObject_=P(this.target_),"production"===o||ar(this.defaultAnnotation_)||i("defaultAnnotation must be valid annotation"),"production"!==o&&(this.appliedAnnotations_={})}var e=t.prototype;return e.getObservablePropValue_=function(t){return this.values_.get(t).get()},e.setObservablePropValue_=function(t,e){var n=this.values_.get(t);if(n instanceof le)return n.set(e),!0;if(ro(this)){var r=so(this,{type:po,object:this.proxy_||this.target_,name:t,newValue:e});if(!r)return null;e=r.newValue}if((e=n.prepareNewValue_(e))!==Me.UNCHANGED){var i=ao(this),s="production"!==o&&Qe(),a=i||s?{type:po,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:t,newValue:e}:null;"production"!==o&&s&&tn(a),n.setNewValue_(e),i&&uo(this,a),"production"!==o&&s&&nn()}return!0},e.get_=function(t){return Me.trackingDerivation&&!D(this.target_,t)&&this.has_(t),this.target_[t]},e.set_=function(t,e,n){return void 0===n&&(n=!1),D(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,e):n?Reflect.set(this.target_,t,e):(this.target_[t]=e,!0):this.extend_(t,{value:e,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},e.has_=function(t){if(!Me.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var e=this.pendingKeys_.get(t);return e||(e=new se(t in this.target_,ot,"production"!==o?this.name_+"."+E(t)+"?":"ObservableObject.key?",!1),this.pendingKeys_.set(t,e)),e.get()},e.make_=function(t,e){if(!0===e&&(e=this.defaultAnnotation_),!1!==e){if(Ho(this,e,t),!(t in this.target_)){var n;if(null==(n=this.target_[q])?void 0:n[t])return;i(1,e.annotationType_,this.name_+"."+t.toString())}for(var o=this.target_;o&&o!==p;){var r=u(o,t);if(r){var s=e.make_(this,t,r,o);if(0===s)return;if(1===s)break}o=Object.getPrototypeOf(o)}Vo(this,e,t)}},e.extend_=function(t,e,n,o){if(void 0===o&&(o=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(t,e,o);Ho(this,n,t);var r=n.extend_(this,t,e,o);return r&&Vo(this,n,t),r},e.defineProperty_=function(t,e,n){void 0===n&&(n=!1);try{Le();var o=this.delete_(t);if(!o)return o;if(ro(this)){var r=so(this,{object:this.proxy_||this.target_,name:t,type:So,newValue:e.value});if(!r)return null;var i=r.newValue;e.value!==i&&(e=B({},e,{value:i}))}if(n){if(!Reflect.defineProperty(this.target_,t,e))return!1}else l(this.target_,t,e);this.notifyPropertyAddition_(t,e.value)}finally{Ne()}return!0},e.defineObservableProperty_=function(t,e,n,r){void 0===r&&(r=!1);try{Le();var i=this.delete_(t);if(!i)return i;if(ro(this)){var s=so(this,{object:this.proxy_||this.target_,name:t,type:So,newValue:e});if(!s)return null;e=s.newValue}var a=No(t),c={configurable:!Me.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,c))return!1}else l(this.target_,t,c);var u=new se(e,n,"production"!==o?this.name_+"."+t.toString():"ObservableObject.key",!1);this.values_.set(t,u),this.notifyPropertyAddition_(t,u.value_)}finally{Ne()}return!0},e.defineComputedProperty_=function(t,e,n){void 0===n&&(n=!1);try{Le();var r=this.delete_(t);if(!r)return r;if(ro(this)&&!so(this,{object:this.proxy_||this.target_,name:t,type:So,newValue:void 0}))return null;e.name||(e.name="production"!==o?this.name_+"."+t.toString():"ObservableObject.key"),e.context=this.proxy_||this.target_;var i=No(t),s={configurable:!Me.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,t,s))return!1}else l(this.target_,t,s);this.values_.set(t,new le(e)),this.notifyPropertyAddition_(t,void 0)}finally{Ne()}return!0},e.delete_=function(t,e){if(void 0===e&&(e=!1),!D(this.target_,t))return!0;if(ro(this)&&!so(this,{object:this.proxy_||this.target_,name:t,type:"remove"}))return null;try{var n,r;Le();var i,s=ao(this),a="production"!==o&&Qe(),c=this.values_.get(t),l=void 0;if(c||!s&&!a||(l=null==(i=u(this.target_,t))?void 0:i.value),e){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if("production"!==o&&delete this.appliedAnnotations_[t],c&&(this.values_.delete(t),c instanceof se&&(l=c.value_),Ve(c)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(t))||r.set(t in this.target_),s||a){var p={type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:l,name:t};"production"!==o&&a&&tn(p),s&&uo(this,p),"production"!==o&&a&&nn()}}finally{Ne()}return!0},e.observe_=function(t,e){return"production"!==o&&!0===e&&i("`observe` doesn't support the fire immediately property for observable objects."),co(this,t)},e.intercept_=function(t){return io(this,t)},e.notifyPropertyAddition_=function(t,e){var n,r,i=ao(this),s="production"!==o&&Qe();if(i||s){var a=i||s?{type:So,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:e}:null;"production"!==o&&s&&tn(a),i&&uo(this,a),"production"!==o&&s&&nn()}null==(n=this.pendingKeys_)||null==(r=n.get(t))||r.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),A(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function ko(t,e){var n;if("production"!==o&&e&&Bo(t)&&i("Options can't be provided for already observable objects."),D(t,Z))return"production"===o||$o(t)instanceof Do||i("Cannot convert '"+tr(t)+"' into observable object:\nThe target is already observable of different type.\nExtending builtins is not supported."),t;"production"===o||Object.isExtensible(t)||i("Cannot make the designated object observable; it is not extensible");var r=null!=(n=null==e?void 0:e.name)?n:"production"!==o?(P(t)?"ObservableObject":t.constructor.name)+"@"+g():"ObservableObject",s=new Do(t,new Map,String(r),Lt(e));return S(t,Z,s),t}var Lo=R("ObservableObjectAdministration",Do);function No(t){return jo[t]||(jo[t]={get:function(){return this[Z].getObservablePropValue_(t)},set:function(e){return this[Z].setObservablePropValue_(t,e)}})}function Bo(t){return!!O(t)&&Lo(t[Z])}function Vo(t,e,n){var r;"production"!==o&&(t.appliedAnnotations_[n]=e),null==(r=t.target_[q])||delete r[n]}function Ho(t,e,n){if("production"===o||ar(e)||i("Cannot annotate '"+t.name_+"."+n.toString()+"': Invalid annotation."),"production"!==o&&!st(e)&&D(t.appliedAnnotations_,n)){var r=t.name_+"."+n.toString(),s=t.appliedAnnotations_[n].annotationType_;i("Cannot apply '"+e.annotationType_+"' to '"+r+"':\nThe field is already annotated with '"+s+"'.\nRe-annotating fields is not allowed.\nUse 'override' annotation for methods overriden by subclass.")}}var Go,Wo,zo=0,qo=function(){};Go=qo,Wo=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Go.prototype,Wo):void 0!==Go.prototype.__proto__?Go.prototype.__proto__=Wo:Go.prototype=Wo;var Yo=function(t){function e(e,n,r,i){var s;void 0===r&&(r="production"!==o?"ObservableArray@"+g():"ObservableArray"),void 0===i&&(i=!1),s=t.call(this)||this;var a=new ho(r,n,i,!0);if(a.proxy_=H(s),T(H(s),Z,a),e&&e.length){var c=ne(!0);s.spliceWithArray(0,0,e),oe(c)}return s}V(e,t);var n=e.prototype;return n.concat=function(){this[Z].atom_.reportObserved();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),e.map(function(t){return Po(t)?t.slice():t}))},n[Symbol.iterator]=function(){var t=this,e=0;return ir({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})},N(e,[{key:"length",get:function(){return this[Z].getArrayLength_()},set:function(t){this[Z].setArrayLength_(t)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),e}(qo);function Xo(t){return{enumerable:!1,configurable:!0,get:function(){return this[Z].get_(t)},set:function(e){this[Z].set_(t,e)}}}function Ko(t){l(Yo.prototype,""+t,Xo(t))}function Jo(t){if(t>zo){for(var e=zo;e<t+100;e++)Ko(e);zo=t}}function Zo(t,e,n){return new Yo(t,e,n)}function Qo(t,e){if("object"==typeof t&&null!==t){if(Po(t))return void 0!==e&&i(23),t[Z].atom_;if(Eo(t))return t[Z];if(Uo(t)){if(void 0===e)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||i(25,e,tr(t)),n}if(Bo(t)){if(!e)return i(26);var o=t[Z].values_.get(e);return o||i(27,e,tr(t)),o}if($(t)||pe(t)||Ze(t))return t}else if(w(t)&&Ze(t[Z]))return t[Z];i(28)}function $o(t,e){return t||i(29),void 0!==e?$o(Qo(t,e)):$(t)||pe(t)||Ze(t)?t:Uo(t)||Eo(t)?t:t[Z]?t[Z]:void i(24,t)}function tr(t,e){var n;if(void 0!==e)n=Qo(t,e);else{if(_n(t))return t.name;n=Bo(t)||Uo(t)||Eo(t)?$o(t):Qo(t)}return n.name_}Object.entries(yo).forEach(function(t){var e=t[0],n=t[1];"concat"!==e&&S(Yo.prototype,e,n)}),Jo(1e3);var er=p.toString;function nr(t,e,n){return void 0===n&&(n=-1),or(t,e,n)}function or(t,e,n,o,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;if(!w(i)&&"object"!==i&&"object"!=typeof e)return!1;var s=er.call(t);if(s!==er.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=rr(t),e=rr(e);var a="[object Array]"===s;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,u=e.constructor;if(c!==u&&!(w(c)&&c instanceof c&&w(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[];for(var l=(o=o||[]).length;l--;)if(o[l]===t)return r[l]===e;if(o.push(t),r.push(e),a){if((l=t.length)!==e.length)return!1;for(;l--;)if(!or(t[l],e[l],n-1,o,r))return!1}else{var p,f=Object.keys(t);if(l=f.length,Object.keys(e).length!==l)return!1;for(;l--;)if(!D(e,p=f[l])||!or(t[p],e[p],n-1,o,r))return!1}return o.pop(),r.pop(),!0}function rr(t){return Po(t)?t.slice():I(t)||Uo(t)?Array.from(t.entries()):U(t)||Eo(t)?Array.from(t.entries()):t}function ir(t){return t[Symbol.iterator]=sr,t}function sr(){return this}function ar(t){return t instanceof Object&&"string"==typeof t.annotationType_&&w(t.make_)&&w(t.extend_)}["Symbol","Map","Set","Symbol"].forEach(function(t){void 0===a()[t]&&i("MobX requires global '"+t+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:on,extras:{getDebugName:tr},$mobx:Z}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},["UIAbout_Auto","UICapture_Auto","UIDungeon_Auto","UIECSView_Auto","UIFunction_Auto","UIGame_Auto","UIHome_Auto","UILevel_Auto","UILight_Auto","UILoading_Auto","UILogin_Auto","UIMap_Auto","UIMobx_Auto","UINavigator_Auto","UIPop_Auto","UISetting_Auto","UISkills_Auto","UISplitTexture_Auto","UITips_Auto","BaseAssembler","BatchAssembler","MeshAssembler","TextureAssembler","BroadcastCenter","BatchComponent","ButtonPlus","CacheUtils","CameraCapture","DrawBorad","GridScrollList","MaskPlus","MeshTexture","PropController","PropSelector","QuadTree","ScrollViewHelper","Shake","SpinePlus","TexturePlus","TouchPlus","GameConfig","Light","LightStruct","LightUtils","Obstacle","mobx","StateMachine","BigNumUtils","BroadCast","CommonUtils","DebugWindowUtils","DrawingBoard","Dungeon","EnumUtils","GlobalHelper","LRUCache","MatchUtils","Measure","PolygonUtil","Pool","PriorityQueue","PriorityStack","PropBind","Queue","TaskMgr","Game","BaseMgr","ConfigMgr","PlayerMgr","Main","Scene","UIConfig","AdapterMgr","CocosHelper","EventCenter","EventType","FixedMgr","FormMgr","ModalMgr","ResMgr","SceneMgr","SoundMgr","Struct","TipsMgr","ToastMgr","UIBase","UIForm","UIManager","UIModalScript","UIToast","WindowMgr","SysConfig","SysDefine","UIAbout","UICapture","UIDungeon","UIECSView","UIFunction","UIGame","UIHome","UILight","UILoading","UIMap","UIMeshTexture","UIMobx","UINavigator","UIPop","UIScrollPlus","UIScrollTexture","UISetting","UISkills","UISound","UISplitTexture","UITips","UIWave","GuideConfig","Item"]);